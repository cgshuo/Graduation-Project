 } @research.att.com
With the fast development of mobility network technol-ogy, the network traffic has increased significantly. To im-prove the mobility network performance, service providers have invested lots of resources to improve the coverage, enhance the quality, and increase the capacity. AT&amp;T, one of the largest U. S. wireless carriers has invested more than $1 . 5 billion in California from 2007 to 2009 . And in addition to the last year X  X  $290 million capital investments in the New York metro area [1], AT&amp;T also plans to upgrade 70 cell sites, and add nearly 40 new sites in New York City in 2010 . Verizon Wireless, another large wireless carrier, has invested nearly $485 million on the network in California in 2009 [2]. Teaming with Alcatel-Lucent, etc., Verizon-led investment group commits to invest $1 . 3 billion in wireless LTE development [3]. All these investments have been driven by the current network performance and the future capacity plan. Service providers put more resources in the areas with poor quality and low capacity. Differentiated from wireline network, wireless network quality is relative dynamic. It is not only impacted by static reasons, such as population density and geographic information, but also impacted by interference margin (cell coverage area becomes smaller and noise level becomes higher with increased cell load), download amount, and retransmit rate.

Besides these physical characteristics of wireless network, the dynamics of human activity increases the instability of network traffic. The easy-to-carry mobile phones are engaged with human activities, and hence the network traffic is influenced by social events. For large special events, cell phone users gather together in a small area, which overflows the network capability. For example, Super Bowl XLIV was held at Sun Life Stadium, Miami Garden, Florida. The overall population for Miami Garden is around 108 , 000 [4] and the estimated attendance for Super Bowl is 75 , 000 [5]. These temporal and spatial specified events cause network traffic burst in local area. To meet the increased requirements of capacity and provide guarantees on reliability, Sprint invested $2 . 3 million, to deploy five cell sites on wheels (COWs) near Sun Life Stadium and Miami Beach area for additional network coverage and capacity [6]. Verizon installed a permanent in-building  X  X uper system X  at Sun Life Stadium, along with other network upgrades to ensure 3G wireless services throughout South Florida during the game and throughout the year[7]. AT&amp;T deployed three COWs in the stadium parking lot, as well as the new distributed antenna system (DAS) inside the stadium, and also expanded capacity and coverage around Tampa International Airport, downtown hotels, and the convention center area[8].
Being in the competition incentive, fast-paced and con-stantly innovating industry, to deal with the event driven dynamics of mobility network, business planners need to answer following questions before making any market deci-sions:  X  1: How good is the coverage and what is the real vs.  X  2: Which events impact network heavily and where to  X  3: Which areas are event prone and need enhanced net- X  1 involves other measurements that can not be fully answered by network traffic count data, and is out of the scope of this paper. This paper focuses on answering  X  2 and  X  3 by assessing the event influence according to event location, temporal duration and spatial impact. In this paper, we propose a systematic method to detect localized events from global view, which could help in prioritizing the large events in market decision. The data is hourly network traffic count collected at a number of cell sites. Fig. 1 illustrates such network traffic time series at one cell site. In (a), normal hourly traffic data for 16 days, starting from Saturday, are shown. It is noticeable that there are multiple periodic patterns even for this normal traffic data. Weekends have lower traffic volume than weekdays, and the hourly volumes are different even over a single day. In (b), traffic data for 16 days with an event at the 7 th day are shown.

Identifying events in such network traffic data is accom-plished by learning the normal traffic pattern and special event pattern. However, this problem is challenging due to unknown baseline for normal traffic as well as unknown event information (i.e., event location, event duration). An-other challenge is the fact that not only the temporal infor-mation, but also the spatial information has to be taken into account. To accurately assess event influence to network, it is necessary to consider multiple neighbor towers together. However, this is complicated since the spatial impact of event is various due to dynamics of event, complication of geographical features, and variation of cell tower config-urations. In addition, different from traditional time series clustering, the neighbor time series might have different patterns driven by different events, which is illustrated in Fig. 2. In (a),  X  1 and  X  2 are two different events,  X  1 and  X  2 are the locations where the two events originate from. The dashed circles around  X  1 and  X  2 indicate the regions impacted by  X  1 and  X  2 , respectively.  X  1 and  X  2 are two neighbor cells. As the time series illustrated in (b), even though  X  1 and  X  2 are neighbors, their traffic patterns are different. In fact,  X  1 is only impacted by  X  1 ,but  X  2 is impacted by both  X  1 and  X  2 . In particular, such a situation makes it nearly impossible to correctly cluster the time series by traditional methods. The large scale is another difficulty in the network traffic event detection. For a large scale data set, the computing might be unfeasible even though it is only linear increase. The data we are dealing with has the range from ten thousand to few hundred thousand base on aggregation level. Due to the sensitivity of the data, all scales are removed from the figures that involve real data in this paper. The spatial figures illustrate the relative spatial relations and temporal figures show the pattern of time series.

Markov Modulated Poisson Process(MMPP) is a popular traffic model for capturing the characteristic of actual net-work load by describing varying rate parameters at irregular intervals according to Markov process as in [9]. Scott[10] extends the MMPP from homogeneous Poisson process to nonhomogeneous Poisson process by embedding multiple periodic rates in Poisson process and applies it to network intrusion detection [11] and web traffic data[12]. Ihler [13] utilizes the similar framework on freeway traffic and building entrance event detection. All the proposed methods focus on univariate time series. This paper expands temporal domain work from [12][13] to spatiotemporal domain. We examine the use of additive property of Poisson process to aggregate spatially neighboring time series, and illus-trate how to iteratively refine the event center, locate the origin of events and estimate the spatial impact radius for different events base on Markov Modulated Nonhomoge-neous Poisson Process(MMNHPP) probabilistic framework. The contribution of the paper is that we integrate spatial information into temporal MMNHPP model to systematic estimate spatiotemporal event for large scale data set.
The rest of the paper is organized as follows. Section II reviews the current research on special event detection in spatial domain and temporal domain. Section III proposes the additive MMNHPP probabilistic model in event detec-tion. Section IV illustrates the implementation of our frame-work using synthetic data. Section V applies the proposed method on a case study of real network traffic data. Section VI concludes the paper with ongoing research.

Event detection is an important research topic spread in numerous application domains and attracts researchers from various disciplines such as statistics, data mining, machine leaning, information theory, and geographic information science. Event is defined differently in different domains, but the essence is that the event observations are different from those of their spatial or temporal neighbors. Event detection is the technique to identify, localize and measure such differences. From a statistical point of view, event has some similarity with outlier and change point, but more focuses on sequential data. This section provides a brief review of event detection.

In general, there are three types of event detection meth-ods. outlier/change point based, pattern based and model based. Most event detection methods root on outlier or change point detection methods. One type of method in Wireless Sensor Network is to detect the abnormal behavior for each individual sensor based on some threshold, and conclude the event jointly judged by neighbor sensors X  behaviors [14]. [15] applies change point techniques on time series data to detect events. Pattern based methods assume the event pattern is known. The observations are different from predefined patterns are considered as event. In fMRI activation detection, the time series for all voxels are compared with the predefined paradigm to detect the active region in brain. The most popular tool in fMRI Statistical Parametric Mapping (SPM) [16] uses the General Linear Model (GLM) to describe the data in terms of experimen-tal paradigm, confounding effects, and residual variability. Same as in wireless sensor network, contour maps [17], isolines [18], and gradient maps [19] are employed to match with sensor data to detect events. The limitation for this type of event detection is that the prior knowledge is required to define the patterns. Model based event detection is domain driven. Different models have been built according to the data characteristics. Dynamic Bayesian Networks (DBNs) are applied to detect abnormal events in underground coal mines[20], Markov random fields (MRFs) are adopted to model spatial relationship at neighboring sensor nodes[21]. Hidden Markov Model has been used on fMRI to detect activation areas [22]. [13] utilizes MMNHPP to detect the event on highway traffic data. Most of the papers tend to focus on either spatial or temporal domain separately.
In recent years, scan statistics have been a hot topic in spatial study since Kulldorff [23][24] extends Naus X  X  [25] one dimension scan statistics into two or more dimensions. In fact, it is the most popular and effective  X  X otspots X  detection method nowadays. The scan statistics are used to test a point process to see if it is purely random, or if any clusters of events present. There are numerous variations of spatial scan statistics, but they share the three basic properties: the geometry of the scanned area, the probability distributions generating events under null hypothesis, and the shapes and sizes of the scanning window. The spatial scan statistics measure the log-likelihood ratio for a particular region to test spatial randomness. The region with the largest spatial scan statistic is the most likely to be generated by a different distribution. By extending the scan window from circular to cylindrical, the scan statistic extends from spatial domain to spatiotemporal domain. Scan statistics assumes that the null hypothesis is known or can be estimated through Monte Carlo simulation, which is either too strong or computationally expensive.

In this paper, we address an event detection algorithm by incorporating both spatial and temporal information in large scale network traffic count data. By taking the advantage of additive property of Poisson process, the proposed method integrates spatial neighbor information by aggregating tem-poral data under various areas, and iteratively estimate the event location and the radius of event impact by examining the posterior probability base on the aggregated data.
In this section, we describe the proposed method for event detection in spatiotemporal data. In Section III-A, Markov Modulated Nonhomogeneous Poisson Process (MMNHPP) for modeling temporal data is reviewed. In Section III-B, Spatial Markov Modulated Nonhomogeneous Poisson Pro-cess is proposed for modeling spatiotemporal data. A. Markov Modulated Nonhomogeneous Poisson Process
Let  X   X  (  X  ) denote the observed traffic count at location  X  (  X   X  X  X  ) and time  X  , where  X  denote the considered region and  X  =(  X  1 , X  2 ) , where  X  1 and  X  2 denote the latitude and longitude, respectively. We assume that  X   X  (  X  ) can be represented as where  X   X  0 (  X  ) is the normal traffic count, and  X   X   X  (  X  ) is the increased traffic count due to the presence of events. It is sufficient to model  X   X  0 and  X   X   X  instead of modeling  X   X  directly. To model  X   X  0 , we adopt a nonhomogeneous Poisson process with the rate  X   X  (  X  ) . Here, to incorporate the multiple periodic temporal patterns in network traffic,  X   X  (  X  ) is assumed to be decomposed as in [10], i.e., where  X   X  0 is the average rate of the Poisson process over a effect (  X  (  X  ) indicates the hour-of-day,  X   X  X  0 , 1 ,  X  X  X  X  , 23 } ). Given a sequence of data, we assume that  X  0 follows Gamma Now we consider the modeling of  X   X   X  . In this paper, we only consider the case that events increase the network traffic (In some applications, it may be more reasonable to consider the case that events decrease the observations) during a short consistent period. To indicate the presence of an event at time  X  , we use a binary process  X  (  X  ) as in [13]: The probability distribution of  X  (  X  ) is defined to be two-state Markov process with transition matrix: In the above, the expected value for the time between events is 1 / X  0 and the expected value for event duration is 1 / X  1 . Using  X  (  X  ) , the event count  X   X   X  can be modeled as Poisson with the rate  X   X  (  X  ) : The unknown parameters in the models for  X   X  0 and  X   X   X  can be estimated in the Bayesian framework. Essentially, Markov Chain Monte Carlo (MCMC) sampling is used to estimate the posterior probability  X  (  X  (  X  )=1  X   X  (  X  )) as described in [13].
 B. Spatial Markov Modulated Nonhomogeneous Poisson Process
Note that the model discussed in section III-A is for a time series at a single location  X  , and the spatial relations among multiple time series are not considered. In this section, we discuss how to take spatial information into account. According to Tobler X  X  first law of geography,  X  X verything is related to everything else, but near things are more related than distant things X  [26]. Our strategy is to aggregate a set of closely located time series of similar pattern. Specifically, we define a neighborhood region around the location  X  with the radius  X  as  X   X   X  = {  X  ;  X  X  X   X   X   X   X  X  X  &lt; X  } , where  X  X  X   X   X   X   X  X  X  represents the geographic distance between locations  X  and  X  . Then the observations in  X   X   X  can be represented as where  X  observations for all time series in area  X   X   X  , respectively. Similarly,  X   X  0 (  X  )= respectively. According to the additivity property of nonho-mogeneous Poisson process,  X  neous Poisson process given that all time series in  X   X   X  are independent Poisson random variables. Then the count rate for the neighborhood region  X   X   X  can be expressed as We assume that if an event happens at a particular time, it affects the neighboring cells roughly simultaneously, i.e., the starting and ending points of the increased traffic for the affected cells are assumed to be similar enough. Then the temporal Markov process transition matrices for the neighboring cells are also assumed to be the same. We also utilize the fact that driven by the propagation of cellular radio signal, the farther the distance from the signal source, the weaker the signal strength. It is known that if the signal originates from the location  X  , then the strength of the signal at location  X  can be expressed as  X   X  X  X   X   X   X   X  X  X   X  , where  X  is the value between 2 and 4 depending on the geography condition, and  X  is a constant [27]. In addition to the cellular radio propagation property, from engineering design view, the closer the cell site to the signal, the higher the priority it has. The signal will be picked by farther cell only if the closer one is overflow. Driven by the above assumption, property and engineering design, the spatial impact of an event can be modeled as binary function that relates the current location and the distance from where the event happens. Assume that an event happens at location  X  , where the signal originates, to indicate the presence of the event at location  X  , we use a binary process  X   X   X  as follows: where  X   X  is the radius of event impact. Combining (1) and (4), in spatiotemporal domain, the presence of an event can be indicated by the product of  X  (  X  ) and  X   X   X  .Thatis,ifwe let  X  X  X   X   X  X  X  =  X  (  X  )  X   X   X   X  ,  X  X  X   X   X  X  X  is represented as (5) implies that the event originates from  X  only impacts the cells in the area  X   X   X   X  while  X  (  X  )=1 . Using (5), the increased observations due to the event can be modeled as Poisson:  X   X  (  X  )  X  From (5) and (6), it is obvious that an event impact is explained by its temporal duration, event location, and the impact radius. As discussed above, the temporal durations are assumed to be the same for all cells in the impacted area  X   X  , and hence the duration can be estimated by Markov process using any of time series in the area  X   X   X   X  .
Now we discuss the estimation procedure of the event location and impact radius. Suppose that the area to detect is around the location  X  with the radius  X  , i.e.,  X   X   X  . According to the relation between  X   X   X  and  X   X   X   X  ,wehavethethree situations as follows: The above three situations are illustrated in Fig. 2 (a). (i) is the case where  X   X   X  =  X  1 and  X   X   X  is the dashed circle with the center  X  1 . In this situation, all the cells under the area  X  1 have  X  X  X   X   X  X  X  =1 during the event time. (ii) is the case where  X   X  =  X  2 and  X   X  . In this case,  X  observations due to an event. (iii) is the case where  X   X   X  =  X  3 and  X   X   X  is the dashed circle with the center  X  2 . In this case, only a part of cells are impacted by the event. These three situations can be appropriately handled using our proposed algorithm.

Fig. 3 shows the essential steps of the algorithm for estimating the event location  X  and impact radius  X   X  . There are totally five major stages: Initialization, Aggregation, Estimation, Re-centralization, and Adaptation. The last four stages are iteratively repeated until the converge criteria is reached. The key tasks in each stage are presented in the following. 1) Initialization : Usually network traffic data are large 2) Aggregation : For each seed time series identified in 3) Estimation : By fitting the aggregated time series 4) Re-centralization : For each detected event cluster, 5) Adaptation :Let  X  denote the computed center point The proposed method is described in more detail in Table I.
To validate the proposed method, we generate  X   X   X  data matrix, where  X  is the number of locations, and  X  is the length of time points. We set  X  =100 and  X  =3360 ( 140 days  X  24 hours on each day) in the experiment. As described in Section III-A, The observed time series are generated by adding event effects to the normal traffic patterns. To incorporate the time-varying behaviors in normal traffic, we assume that the normal traffic count follows NHPP with rate function  X  (  X  ) , and  X  (  X  ) can be rate  X  0 follows the Gamma distribution, the daily rate  X  and hourly rate  X  follow the Dirichlet distributions, similar as in [13]. To mimic the real network traffic pattern, specifically, we assume that  X  0  X  Gamma (200 , 0 . 003) , [  X  1 ,..., X  7 ]  X  Dirichlet (10 , 100 ,..., 100 , 10) , and [  X   X , 1 ,..., X   X , 24 ]  X  to simulate daily effect and hourly effect separately.
Three events are designed in different places at different times, with different durations. Fig.4 shows the spatial rela-tion of the experiment data. The x-axis and y-axis indicate the latitude and longitude. The empty circles represent the locations of cell sites. Three big  X  X  X  marks are where the events happen. We set the radius of event impact  X   X  to be  X  1 =3 miles,  X  2 =5 . 5 miles, and  X  3 =4 miles, and the duration of events  X  X  X   X  to be  X  X  X  1 =8 hours,  X  X  X  2 =5 hours, and  X  X  X  3 =4 hours. Based on (4) and (5), the locations and time points for events can be decided. Star, cross and triangle are three symbols for the cells that are impacted by Event 1, Event 2, and Event 3, respectively, and the seven filled circles are the cells that are impacted by both events 2 and 3 . Fig. 5 illustrates the simulated time series. (a) shows normal traffic pattern, and (b), (c), and (d) are for Event 1, Event 2, and Event 3, respectively. (d) shows the cells that are impacted by both events 2 and 3 .
The proposed method described in Table I is applied to the simulated data set. Fig. 6 and 7 illustrate the procedures to detect Event 1. In Fig. 6, (a) shows the initial seed, (b) and (c) show the intermediate steps, in which the radius are grad-ually increased and the event center is adjusted. (d) shows the finally detected event center and impacted cells. In each subfigure, the small empty circles represent the locations of cell sites, and the small crossed circles represent the detected cells with Event 1. The originally designed center point is marked by  X  X  X , while the estimated center point is marked by big filled circle. We can see that the estimated center point gradually converges to the target center point. For each step, the corresponding aggregated time series is presented in Fig. 7. With the increase of radius, the more cell sites impacted by the event are detected, and the event observations are increased too. In each subfigure, the bars displayed below the time series indicate the posterior probability of event being present, i.e.,  X  (  X  =1) . Fig. 8 shows our result for event detection. Comparing Fig. 4, we can see that the propose method successfully detects the three event clusters. Table II summarizes our event detection results. For each event, the number of cell towers impacted, the radius of the event cluster, the average of the event duration, and the total number of event counts are presented for designed and detected, respectively. The comparison of the designed and detected results confirms that the proposed method performs effectively.
 We now consider the real example discussed in section I. The data set is 20 , 000  X  2 , 160 , consisting of 30 days hourly network traffic counts collected at 20 , 000 cell sites covering 20 states in the US. The network traffic counts are considered as the times that cell phone users try to connect to network in an hour. The objective is to detect the events that have big impacts on network traffic during those 30 days.
Due to the confidentiality of the data, the detected event list will not be showed in this paper. We present only a part of the result, but more focus on the procedure to detect the events. Following the procedure in Table I, the first step is to find initial seed time series based on the ranks of the peak deviated from the 99% quartile. Here we implicitly assume that normal peak traffic can be estimated by 99% quartile. The threshold  X  1 is set to be 500 , which means that if the increment over the normal peak traffic is less than 500 , the corresponding event is considered to be not significant enough to affect network capacity. Fig. 9 shows our results for event detection. The detected three event clusters are spatially displayed. Empty circles represent the locations of cell sites, and the three detected event cluster are indicated by three different symbols X  X ross, star, and triangle. For each cluster, the estimated center point is marked by  X  X  X . The cluster for Event 1 contains the other two clusters, and the cluster for Event 2 contains the cluster for Event 3. Fig. 10 and 11 illustrate the detailed procedures to detect Event 1. In Fig. 10, (a) shows the initial seed, and (b) shows the finally converged event center and impacted cells. In (a), the initial seed location is marked by a filled circle. In (b), the finally estimated center point is marked by  X  X  X , along with the initial seed. The cells with the event are indicated by the cross symbol. For each step, the corresponding aggregated time series is presented in Fig. 11. In each subfigure, the bars displayed below the time series indicate the posterior probability of event being present, i.e.,  X  (  X  =1) . In (a), the initial seed time series is shown to have three events, among which the event with the longest duration corresponds to Event 1 in Fig. 9. In (b), the finally aggregated time series for Event 1 is shown. The quantitative results are summarized in Table III. For each detected event, the number of cell towers impacted, the radius of the event cluster, the average of the event duration, and the total number of estimated event counts are presented. Comparing the total number of increased traffic for each event, we can see that Event 1 has much more significant impact on network traffic than the other two.
The computing complexity arise when we implement the algorithm to the mobility network. In MCMC for estimating MMNHPP, the complexity is linear to the length of the time series for each iteration. Consider a  X   X   X  data matrix, where  X  and  X  indicate the number and length of time series, respectively. Let  X  denote the computation time to process one time series of length  X  with 30 iterations of MCMC sampling. If we estimate MMNHPP for each time series and cluster the time series by events based on the posterior probability, the computation time will be  X   X   X  . In reality,  X  can easily be hundreds of thousands,  X   X   X  is not tractable. In the proposed aggregation method, the computation time depends on the number of seed time series  X  , initial radius  X  , and the size of incremental radius  X  1 .The smaller the increment size is, the more accurate the estimated event radius is, however, the longer the computation time is. If the radius of event impact is  X   X  , the number of necessary iterations is approximately  X   X   X   X   X   X  , and the expected computation time to detect event is  X   X  (  X   X   X   X  )  X   X   X   X  . In our experiment on real data, an event has been detected at 5 th iteration on average and it took around 2 hours to rank the top events by running the MATLAB code on 2GHz Windows XP. Comparing with 13 hours on estimating 20 , 000 time series individually, the proposed method is much more efficient.

An approach for event detection in spatiotemporal data is proposed. Benefitted from the additivity property of Poisson process, the proposed method integrates spatial information by aggregating temporal data. By fitting the aggregated time series with MMNHPP, we spatially cluster the time series with the same event. The location where the event originates and the spatial impact of the event can be assessed from the center point of the detected cluster and the radius of the cluster, respectively. The temporal impact of the event can be assessed from both the estimated event count and the duration of the event. The proposed method not only performs effectively in detecting events, but is also computationally efficient. In this paper, the event occurrence is modeled as a product of temporal two-state Markov process and spatial binary process. In the future, we plan to extend the spatial binary process into a general probabilistic model of radius, which will be more practical in the cellular network.

