 For secure and efficient operation of engineering systems, such as industrial plants, vehicles and artificial satellites, it is of great importance to watch daily logs generated by them. Those logs are useful for various tasks including fault detection and isolation, maintenance prediction, and operation optimization. They mainly consist of multivariate time-series obtained with many sensors equipped to the system, and their amount keeps on increasing as the system goes on running. To deal with such sensor data with a machine learning approach, one can utilize a statistical model that represents their characteristic behavior. For example, state space models (SSM) have been widely used for multivari-ate time-series like the sensor data obtained from engineering systems (see e.g. [ 7 , 23 ]).
 poral unevenness and sparseness. Practically, observation grid of the sensor data is often unevenly and sparsely spaced as illustrated in Fig. 1 (a), and it makes the traditional models such as the SSM inappropriate. One of the challenges, the temporal unevenness, is often the case not only with the sensor data of the engineering systems but also with many kinds of scientific and industrial time-series. Many researchers have been studying on analyses of the unevenly spaced time-series (see e.g. [ 12 , 20 , 24 ]), though the range of application is lim-ited. With regard to another challenge, the temporal sparsity, the situation of practical analyses can be tragic; the sampling rate of each sensor may vary from a few seconds to several days, the measurements may be unsynchronized, and the sensors may be stopped for a long time and restarted by event-driven measure-ments. Moreover, data that contain faulty behaviors may not be utilized, which leads to further loss of data and their temporal sequentiality. Consequently it is quite difficult to model the whole sensor data as successive time-series. In the following, we will refer to such unevenly and sparsely spaced sequential data as intermittent multivariate time-series (IMT).
 One of our motivating examples of the IMT is telemetry data obtained from small artificial satellites. Generally, artificial satellites retrieve readings of hun-dreds of sensors such as voltmeters, thermometers, accelerometers, gyroscopes, and star sensors, as well as indicators of satellite X  X  status including on/off of equipment, error flags, and operating modes. Hence the telemetry data from the artificial satellites would be generated as multivariate time-series. With regard to some satellites, however, the retrieved sensor readings are not always recorded nor transmitted to the ground due to limitation of memory size and transmis-sion capability. Therefore the telemetry data that we finally obtain are often intermittent, that is, data series in interest are obtained at very low and uneven sampling rates. This is especially true for small satellites and microsatellites, and nanosatellites, which are expected to play a key role in space development. An instance of an observation grid of the telemetry data obtained from a small artificial satellite is shown in Fig. 2 , whose vertical axis corresponds to different sensor types and horizontal axis is along time. One can see that the white cells, where measurement is recorded, are unevenly and sparsely placed.
 An example of the IMT other than the sensor data is results of longitudinal studies or periodical surveys. These data generally have temporal sequentiality in some large scales such as years or decades, but observations in a single survey do not have any temporal ordering. This property suits the idea of the IMT, in the sense that there occurs certain amount of observations intermittently, as illustrated in Fig. 1 (b).
 time-series, which roughly captures temporal information of the data. The pro-posed method is a mixture model with dynamic hierarchical structure that con-siders dependency between temporally close batches of observations, instead of every single observation. Our approach can be a useful option in practical sensor data analyses, because it models correlation along time as well as correlation among multiple variables (sensors), without evenly spaced measurements nor interpolation of the data.
 posed model is explained in Sect. 3 , and experimental results are presented in Sect. 4 . This paper is concluded in Sect. 5 . 2.1 Discrete-Time Latent Variable Models With regard to evenly spaced multivariate time-series, one of the most widely accepted models would be discrete-time state space models (SSM), which are also referred to as linear dynamical system (LDS) or dynamic factor models (see e.g. [ 7 , 23 ]). State space models assume (often low-dimensional) continuous latent factors with temporal correlation behind observations, and every observation is conditionally independent given the latent factors. Another model often used is hidden Markov models (HMM) and their variants such as factorial hidden Markov models [ 9 ] and factor analyzed hidden Markov models [ 18 ], which assume discrete latent variables with temporal dependency.
 unevenly spaced time-series by skipping some measurement updates within fil-tering procedures [ 12 ]. However, skipping too many measurements can cause a significant bias on model estimation, especially when the sampling rate is very low or a large part of observations is missing. 2.2 Processing of Unevenly Spaced Time-Series Many researches have explicitly focused on the unevenly spaced time-series. For example, Zumbach and M  X  uller presented some basic operators such as the moving average [ 24 ], and Erdogan applied the autoregressive model [ 5 ]. Some other studies handled the unevenly spaced time-series with continuous-time mod-els (see e.g. [ 3 , 12 ]). In astronomy, periodicity analysis of the unevenly spaced time-series has been intensely discussed (see e.g. [ 6 , 20 ]). Note that most of those studies are on basic operators and models for univariate and stationary time-series, and do not aim to handle the sensor data of engineering systems, which are multivariate and possibly nonstationary as well as intermittent. Another major way to deal with the unevenly spaced time-series is interpola-tion. 1 However, it has been pointed out that interpolation of time-series generates a bias on statistic estimation (see e.g. [ 11 , 17 ]). Moreover, interpolation does not make much sense if an observation interval is too large. 2.3 Practical Alternative: Ignoring Temporal Dependencies Practically there is a powerful alternative to model the IMT: just ignore the tem-poral dependency and regard them as a set of i.i.d. observations! If we decided to adopt this i.i.d. assumption, possible modeling approaches would be to use latent variable models such as mixtures of Gaussian, the principal component analysis (PCA), almost equivalently the factor analysis (FA), their mixture ver-sions [ 8 , 22 ], the independent component analysis (ICA), the canonical correla-tion analysis (CCA), Gaussian process latent variable models (GPLVM) [ 14 ], restricted Boltzmann machines (RBM), and an autoencoder and its variants. One justification of this compromise is that important information of the sensor data lies in inter-variable (inter-sensor) relationships than in temporal relationships. For example, if usually correlated sensors lose the correlation, a failure of the system can be easily suspected. Moreover, learning the models that assume i.i.d. observations is usually faster and less likely to be trapped in local minima. Of course, such models will completely miss temporal information of the data, but this drawback can be mitigated to some extend by methods like moving average. Actually, the models with the i.i.d. assumption have been for example, though there would be numerous similar cases in practice. In the previous section, we briefly introduced some methods that can be used for the unevenly spaced time-series. These would be useful in many applications, but they mainly treat univariate time-series with a moderate range of observation intervals, which is not the case with the IMT sensor data. We also mentioned the practical compromise, that is, i.i.d. assumption. Although this is acceptable in many cases, it wastes temporal information that still remains in the IMT. In this section, we present a novel method that especially focuses on two important characteristics of the IMT sensor data of engineering systems. First, the IMT data maintain temporal information at some scale; while the time-dependency at the finest level cannot be traced due to the sparseness, it can be observed in a larger scale. For example, physical condition of satellites in orbits around the earth gradually changes according to the revolution of the earth, which can be observed with sensor data even if only a single measurement occurs a day. Second, the sensor data of engineering systems often behave non-linearly because of physical phenomena, control laws and changes of operational modes. The nonlinearity can be handled with nonlinear models or mixtures of linear models, and we adopt the latter in this work.
 presented below works with any types of mixture models, though we focus on mixtures of factor analyzers (MFA) [ 8 ] for their simplicity and good performance in this work. The MFA is a latent variable model with two types of latent vari-ables z and x as shown in Fig. 3 (a), where z denotes a cluster to which each data point y belongs, and x is a low-dimensional representation behind each data point y . For the details, see the literature [ 8 ]. 3.1 Data Grouping An essential procedure of the proposed method is grouping of the time-series. We propose to partition the IMT data into multiple batches of data points, on a scale where we would like to model the temporal correlation of the IMT data. This time-series grouping can be formulated as follows: an observation ( m =1 ,...,M ) is labeled with t ( t =1 ,...,T ) when the timestamp of within the range from  X  begin t to  X  end t , where  X  begin grouping interval is set evenly  X  end t =  X  begin t +  X  for a fixed value of  X  .Thus, the amount of observations within the t -th group, N t ( T for each t generally. A suitable granularity of the partition depends on nature of the data and should be tuned empirically or with validation. 3.2 Generative Model A data generation procedure of the proposed model for the t -th data-group can be described as follows: 1. Sample a prior of cluster assignment  X  t |  X  t  X  1  X  X   X  2. For n =1 ,...,N t : (a) Sample a cluster assignment z t,n |  X  t  X  Categorical ( (b) Sample a latent factor x t,n,k  X  X  ( 0 ,I ), where k = z (c) Sample a data point y t,n | z t,n , x t,n,k  X  X  ( L k The subscript n denotes the number of a data point within a group ( n = 1 ,...,N t ), and k is the number of clusters or mixture components ( k =1 ,...,K ). The parameter  X  controls temporal transition of the cluster assignment priors  X  , while the parameters { L k , b k , X  k } are a loading matrix, bias and residual variance of the k -th factor analyzer, respectively. Note that function whose k -th element is denoted by S k (  X  ). A graphical model for proba-bilistic variables of the proposed model is shown in Fig. 3 (b). In the following, we term this model dynamic grouped mixtures of factor analyzers (DGMFA). 3.3 EM Algorithm with Variational Approximation An objective function to learn the DGMFA is a incomplete-data likelihood: p y As analytical maximization of this function is intractable, we adopt EM algo-rithm with variational approximation closely related to one presented by [ 2 ], which computes variational posteriors of  X  by Kalman filtering and smooth-ing with variational pseudo observations. The most part of the algorithm is the same with one presented in the literatures [ 2 , 8 ]. Readers should be careful only about an update procedure of variational parameters for z with Gaussian likelihoods of observation given an expectation of other latent variables. We conducted three experiments with synthetic and real dataset: (1) Denoising of synthetic time-series and (2) visualization and (3) anomaly detection of the IMT sensor data of an artificial satellite. 4.1 Simulation: Denoising of Multivariate Time-Series To confirm validity of the proposed model quantitatively, we conducted denois-ing experiments with synthetically-generated time-series. We prepared noise free time-series {  X  y 1 ,...,  X  y M } and noised time-series for m =1 ,...,M . Now the task is to recover the noise free time-series {  X  y 1 ,...,  X  free time-series by a linear dynamical system as follows: where w i is a noise that follows N ( 0 , 0 . 1 2 I ), and A is an 8 whose elements were sampled randomly from N (0 ,I ) independently. Therefore the time-series were in 8 dimension, and the noised version was made following ( 2 ) with  X  =0 . 1. We generated the data for 5000 timestamps and used 3000 timestamps for training, 1000 for validation and another 1000 for testing. The intermittent situation was simulated by randomly subsampling the original time-series, and its rate was varied from 0 (no subsampling) to 0 . 8 (80% of observations was disposed). We showed a part of the generated time-series at Figs. 4 (a) and (b), with different subsampling rates.
 training set of data, model settings (the number of mixtures K and the number of observation groups T ) were selected by a grid-search with the validation set. Note that we do not need to select the latent dimension d we know d x = 2 originally.
 formances in terms of root mean squared errors are shown in Table 1 for different models and different subsampling rates. As baseline, we tried some methods that are widely used in practice: the hidden Markov model (HMM), the linear dynam-ical system (LDS), the mixture of factor analyzers (MFA). The HMM and LDS are learned skipping missing observations. One can confirm that the proposed model, DGMFA, performed well even for high subsampling rates, while the LDS, with which the original data were generated, failed with the high subsampling rates. In Fig. 5 , a part of denoising results and the ground truth are plotted for the LDS, MFA, and DGMFA. The simple MFA produced large errors at some timestamps, while the DGMFA achieved the compatible result with the LDS. 4.2 Application: Visualization of Sensor Data The task addressed in this section is to visualize sensor data of an artificial for secure operation, though it is a tremendous task for human operators since the amount of the data is getting huge. Thus visualizing those data will be a great help to see the picture of satellite X  X  behaviors. We adopted two unsupervised learning techniques, clustering and dimensionality reduction, and tried to use the MFA and the proposed model DGMFA.
 The telemetry sensor data visualized here are obtained from SDS-4 [ 15 ], which is an working small satellite operated by Japan Aerospace Exploration Agency. The data contain sensor readings such as equipment X  X  voltage, current, temperature. Their sampling rate varies approximately from one second to five minutes and differs by sensors. Moreover, the observations are often missing for a long period, approximately from 3 to 12 h. The asynchrony was slightly compensated by a zero-order hold that lasted up to only 10 s. We used 92 types of sensor readings that took continuous values in this experiment, i.e., the data were 92-dimensional intermittent time-series. Remember the fact that satellite X  X  operation consists of a nominal mode and five types of experimental modes, since it is emphasized in the following.
 aim of this experiment is just to show visualization capability of the proposed model qualitatively. The data were partitioned into groups by days and the period of the data is from 1 January 2015 to 30 June 2015, hence T = 183. Consequently, the number of data points within a day was from 300 to 1300 approximately. The intrinsic dimensionality was set d x = 6 with an intrinsic dimensionality estimator [ 10 ], and the number of the mixture components was chosen empirically K = 10 just for visualization clarity.
 the simple MFA and the right is by its extension, DGMFA. Figure 6 was drawn as follows. First, we calculated a cluster assignment rate of each group (day) from t =1to t = 183. It is a 10-dimensional quantity since the number of clusters K was set to 10. Second, we further reduced the dimensionality of these quantities with Sammon mapping [ 19 ] into two dimensions. Finally, we plotted the results of the Sammon mapping with two types of coloring scheme. The plots in the upper row of Fig. 6 are colored according to the six types of operational modes of the satellite, and ones in the lower row are colored according to the chronological order. Note that each point in these figures corresponds to each day of satellite X  X  operation, because the data were partitioned by days. In Fig. 6 (d), the points along the horizontal axis are arranged by the color gradation, i.e. approximately ordered by date. On the other hand, the points in Fig. 6 (c) are not ordered geometrically by the color (date) at all. This means that the proposed model was more successful at learning the dynamical behavior of the satellite than the classical MFA was. Since the horizontal axis in Figs. 6 (b) and (d) would denote chronological order (left to right) and the vertical axis would correspond to operational modes of the satellite, it can be anticipated that one of the experimental operation (denoted by orange points, referred to as  X  X xp.1 X ) was not conducted after the end of March. 4.3 Application: Anomaly Detection Another experiment was conducted with the telemetry sensor data obtained from the satellite to quantitatively confirm availability of the proposed model. We focused on semi-supervised anomaly detection, where models were trained using data without anomalous behaviors, and another range of data that may contain anomalies were tested by the trained models. We used the telemetry sensor data during three months: a month for training, another month for validation, and still another month for testing. It has been known that two anomalous (novel) events occurred within the test range: one is an unexpected change of satellite X  X  attitude, and another is a first-ever type of operation of the satellite. We expected to detect these events with as few false alarms as possible.
 The proposed model were compared with two practical baselines: one-class SVM [ 21 ] and the MFA. The parameters of MFA and DGMFA were tuned using the validation data that contain no anomalies, while this is suboptimal for the detection task. On the other hand, the parameter of the one-class SVM was tuned with cheating, that is, one with the best detection performance for the test data was adopted. We investigated negative log likelihoods by the one-class SVM and an absolute value of reconstruction errors by the MFA and DGMFA, and a part of the data whose scores exceed a threshold was reported as an anomaly. each curve is 0.8998 for the one-class SVM, 0.8307 for the MFA, and 0.9105 for the DGMFA. Note that the proposed model was compatible with the one-class SVM that is cheating in parameter tuning. In this paper, we introduced a novel way to handle the multivariate intermittent time-series (IMT), where observations were unevenly and sparsely spaced. The proposed method consists of partitioning the time-series into multiple batches of observations, and a model that roughly captures the temporal information of the batches of observations. The partition is done on a scale in which the temporal dependency can be observed even if finer-level information is lost. The proposed model performed better than simple time-series models such as HMM and LDS on a denoising task with the IMT data. Also, it successfully visualized the sensor data obtained from an small artificial satellite, which are difficult to model appropriately with standard time-series models or simple i.i.d. models. is automatic partition of the data. The constant interval was adopted in this work, though an optimal granularity of the partition is usually unknown and may change in different parts of time-series.
 ment of batches of observations is widely known because it was introduced in the work on dynamic topic models (DTM) [ 2 ]. In the DTM, each word in a document follows a mixture of multinomials and each document has a prior over mixture component assignment, with the priors having temporal sequentiality. It shall be interesting to combine the proposed model with the DTM, which would enable us to analyze the IMT sensor data and text simultaneously.
