 We propose a new photo search method that uses three-dimensional (3D) viewpoints as queries. 3D viewpoint-based image retrieval is especially useful for searching collections of archaeological photographs, which contain many different images of the same object. Our method is designed to enable users to retrieve images that contain the same object but show a different view, and to browse groups of images taken from a similar viewpoint. We also propose using 3D scenes to query by example, which means that users do not have the problem of trying to formulate appropriate queries. This combination gives users an easy way of accessing not only photographs but also archived information.
 H.3.3 [ Information Storage and Retrieval ] Design, Experimentation viewpoint-based image retrieval, information browsing, dig-ital archives, 3D models
Although numerous image retrieval techniques have been proposed, there are still application areas where users have difficulty in searching and browsing photographs. In the archaeological domain, a collection of photographs stored in a digital archive is one such example. Our research therefore focuses on archaeological digital archives.

A notable feature of these archives that sets them apart from other kinds of digital archive is that they contain many different images of the same object. Often, excavation of a particular site takes place over several years or even several decades. The appearance of uncovered objects changes as the excavation proceeds. This is one reason for the existence of different images of the same object. The other reason is that to record objects and the site in as much detail as pos-sible, photographs are taken from as many different view-points as possible. Recording the work done at the site is also important. As a result, there are many images of the site or objects featuring researchers in a variety of situations such as surveying, drawing, and so on. Figure 1 shows ex-amples of images in which the main subject is the same but the appearance, viewpoint, or situation is different.
Keyword-based searching of images in archaeological dig-ital archives is often unsatisfactory. Users may have diffi-culty in combining several keywords to formulate a query that can distinguish between images that are very similar to each other. More importantly, a keyword-based search requires users to have some knowledge about the content so they can make an appropriate query. However, this assump-tion is too restrictive in real use. Another retrieval method, called Content-Based Image Retrieval (CBIR), uses image features such as color, shape, and texture that are automat-ically extracted from images. However, due to the special characteristics of the images contained in archaeological dig-ital archives, as mentioned above, CBIR is also unsuitable.
We therefore propose a system of 3D viewpoint-based im-age retrieval that is easy to use and that maximizes users X  chances of finding relevant photographs. We also propose an information-browsing technique that exploits 3D viewpoint-based image retrieval to provide users with easier access to the contents of digital archives. Note that we assume the digital archive contains a 3D model of the archaeological site that is available for browsing, and also a walk-through application [1]. This is a reasonable assumption because 3D digitizing of cultural heritage has become increasingly common due to advances in digitizing equipment and infor-mation technology.
Our method is based on the idea of using viewpoints as queries rather than using keywords or image features. We define the viewpoint of an image as  X  X he position and orien-tation of the camera from which the image was taken. X  As the real world is three-dimensional, the camera position and orientation serve to provide 3D coordinates. The viewpoint can be calculated from the extrinsic camera parameters, Ro-tation (Rx, Ry, Rz) and Translation (Tx, Ty, Tz), which are obtained by applying a self-calibration method [2]. The viewpoint is given to the image as metadata and stored in Figure 1: Example of photographs of the same sub-ject showing different appearance (top right), view-point (bottom left), or situation (bottom right). Figure 2: Screenshot of system. Upper left shows the 3D model viewer and lower left shows accumu-lated information from the 5 highest ranked images. A collection viewer is available on the right. the digital archive. Image search is carried out based on the similarity of the viewpoint.

The second idea behind our method is the use of a 3D model of the archaeological site stored in the digital archive when formulating queries. It is not intuitive to specify the 3D coordinates of the viewpoint such as  X  X osition (12.345, 2.468, 9.753) and orientation (-1.111, 2.222, -3.333). X  In-stead, 3D scenes that the user encounters on a virtual 3D tour of the archaeological site are used to form queries. When rendering a 3D scene on the computer screen, a vir-tual camera in a virtual 3D space is used. In other words, the scene from the virtual camera is displayed on the screen. We can therefore regard the position and orientation of the virtual camera as the viewpoint of the specified 3D scene. Note that our method is not CBIR although it uses the  X  X uery by example X  technique, which is common in CBIR systems. The viewpoint of the scene is used as a query but the specified 3D scene is not.

The search algorithm is as follows. First, the inner prod-uct of the position vectors of the virtual camera rendering the 3D scene and that of the photographs is calculated, and then the result is multiplied by a weight set by the user. This is the position score. The orientation score is calculated sim-ilarly. The matching score is the sum of the position and orientation scores. The search result is a list of thumbnail photographs ranked in descending order according to the matching score.

The main advantages of our 3D viewpoint-based photo search are summarized as follows: It is very easy and intu-itive for users to search and browse photographs since the query is automatically formed by the system when users specify the 3D scene of interest, and this does not depend on the users X  level of knowledge of the contents or their skill in drawing example images. In addition, our method can retrieve images of the same object with a different appear-ance. This helps users search and browse photographs that were taken at different stages of the excavation process.
We have implemented a prototype system that contains 302 photographs as test data. The system interface is web-based and Cortona VRML Client is used to tour the 3D virtual space. Figure 2 shows a screen shot of an example of a search result. At the top, there are buttons and dialog boxes for user interactions, and a 3D model viewer that lets a user walk through the 3D space. On the right is a collection viewer showing the most relevant images with information attached to each image. Below is a summary viewer show-ing only information attached to the most relevant images selected. These viewers help users not only to search and browse photographs but also to access information stored in the digital archive. A window listing thumbnail images ranked according to the matching score is also available but is not shown in the figure.
An increasing number of digital archives of cultural her-itage, including both 3D CG models and photographs, are likely to be created, and hence there is a need for an easy-to-use interface for searching and browsing the content. We believe that our 3D viewpoint-based image retrieval method provides a powerful and easy-to-use interface for searching and browsing cultural heritage archives. [1] R. Kadobayashi, R. Furukawa, Y. Kawai, D. Kanjo, [2] R. Tsai. An Efficient and Accurate Camera Calibration
