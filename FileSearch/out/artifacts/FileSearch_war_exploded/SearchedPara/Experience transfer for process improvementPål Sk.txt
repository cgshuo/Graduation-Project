 1. Introduction
A majority of the remaining oil and gas reserves are located inside the continental shelves. Offshore drilling operations are very expensive, and numbers of wells are kept as low as possible.
For this reason offshore wells tend to be long and complex. This is also the explanation of why the number of process failures does not diminish much over time. In spite of technology evolution, complexity also increases.

A failure during drilling operations is de fi ned as the state of a process when non-productive time (NPT) is occurring. NPT is typically in the range of 15% of total rig time, but can become much higher during drilling of dif fi cult wells ( Halliburton Solving
Challenge, 2012 ). The motivation behind the work presented here is to advance computerized methods for helping the petroleum industry in reducing unwanted downtime.

Another worry in the industry which supports our motivation is the knowledge gap created by  X  The Great Crew Change  X  exists in most companies (e.g. ( McCormack, 2010 )). The problem is not one of just fi lling the gaps. There are suf fi cient numbers of people entering the workforce to do that. The problem is one of  X  experience attrition  X  . The immediate challenge is therefore how to transmit the soft and hard skills necessary to quickly bridge the
We have studied a novel combination of two technologies that have proved to work well in other industries: Case-based reason-ing ( Cheetham and Watson, 2005 ) and Ontologies ( Obrst et al., 2003 ). This combination has also been applied to other problems in the oil and gas domain ( Kravis and Irrgang, 2005 ).
Case-based reasoning is a method and a technology for solving new problems in complex processes by comparing a new problem to previous situations, and reusing the experience from the most similar situations in solving the new problem ( Aamodt and Plaza, 1994 ). CBR can be described as adoption of common human problem-solving behavior for computer use ( Popa et al., 2008 ).
In practical systems, the technology incorporates different types of information, which empower the system to learn and adapt from an ever-growing case base of new experiences. In order to set our method in a wider perspective, in Section 2 we discuss existing approaches to experience transfer.

In Section 3 follows a description of how the case knowledge and general knowledge are represented, and the various sources of information and knowledge are described. The quality of the CBR systems, in terms of fi nding relevant past cases, has been tested on fi eld data in a small scale, and the results are presented in Section 4 , including two applications. A discussion of the results and future plans concludes the paper. 2. Related research
Technology itself is advancing at an impressive rate, introdu-cing methods to solve new and old problems more ef fi ciently. To learn from mistakes while applying new or old technology brings technology faster forward. To take advantage of this proven fact the industry has turned to AI-engineers, realizing that experience transfer is an AI challenge.

The transfer of knowledge according to the CBR paradigm involves three main processes: observing and interpreting a situation, identifying and capturing interesting information in the situation for integration into the knowledge base (i.e. the case base), and fi nally searching for and re-using past cases as knowl-edge in new situations. In general, episodic experience from drilling operations is either stored in writing, e.g. as different types of drilling reports, or as human experience in the heads of the people involved in the operations. Experiences typically contain the drilling operators  X  understanding of the process; how they handled the situation; their ability to point at root causes, etc.
In-depth studies to identify and share successful drilling prac-tices across companies ( Brett et al., 1998 ) have shown measured bene fi ts in the order of 10%. Thorsvoll and Grotmol (1999) reported a similar approach; joint business development between operator and service companies  X  added value to both parties after a systema-tic approach to improve quality and communication (experience transfer). Integrated operations represent a recent method of experience transfer ( Milter et al., 2006 ). Real-time data transferred from offshore to land enable support of drilling operations in an ef fi cient manner. Support from onshore results in a much better utilization of engineering resources and experience.

A more recent example is the blow out in the Gulf of Mexico from Deepwater Horizon ( BP, 2010 ). A thorough investigation made it rather clear that both the cement operation and cement-ing equipment failed due to poor design and risk assessment.
A particular challenge in computerized experience transfer systems is the knowledge representation issue, i.e. how to repre-sent the symbol structures that stand for human experience in formal data structures in a computer. CBR applications are still at its beginning in the oil industry, although CBR itself is a well-established technology. Previous work within the oil industry related to how experience is organized and represented to make
In CBR, a speci fi c situation that is occurring or has occurred before is referred to as a case . The parameter data and other information that constitutes a case need to be represented in an appropriate case structure. The set of cases contained in a system is called its case base . In some CBR systems all the knowledge possessed by a system is contained in the case base. In the method presented here additional knowledge in the form of general domain relationships between signi fi cant oil drilling concepts constitutes an additional type of knowledge in the system. This part of the knowledge base may be viewed as an ontology , and principles of  X  ontology engineering  X  ( Staab and Studer, 2009 )have been adopted, through which the knowledge has been structured and interrelated in a logical manner. 3.1. Storing of experience
The problem type we have selected to exemplify experience is restrictions in the wellbore . Fig. 1 demonstrates a drilling situation and de fi nes the engineering terms. It is experienced during tripping operations (hoisting or lowering the drill string) and may escalate to failures. Persistent reoccurrence of such problems calls for a reaming (enlarging wellbore diameter) activity to hinder the restriction to escalate into stuck pipe and lost circulation.
Wellbore restrictions represent a suf fi ciently complex problem and were selected as the test application.

We learned in Section 2 that there are a large variety of ways to organize and transfer experience; through well plans ( Bhushan and Hopkinson, 2002 ), mathematical models ( Khajotia et al., 2007 ), etc. Our approach has been to build structured cases in order to describe the problem in a purposeful manner. A case contains several types of experience, and it is structured to help facilitate the knowledge and the experience that stem from users.
Fig. 2 illustrates the structure of a case, divided into three sections, three sections which are dictated by three corresponding requirements: composed of items shown in Fig. 2 , upper section. The data contain indicators and statistics of the real time drilling parameters, including interpreted events and type of activity on the rig. These are needed as symptoms of the state of the drilling process.
After the situation is repaired and restored, the completed case contains additional description of the problem and how the case was triggered and resolved. The middle case section contains direct experience or information. It describes how the involved personnel handled the episode and what was learned. It contains statistics on time spent on well cleaning, repair actions, outcome of the repair, groups of classes (classes are used to evaluate matching ability) and lesson learned.

Outcome is a measure of what effect the recommended repair action had. Was it successful, or could the recommended repair job be even better performed? E.g.: After completing the speci section, a steel casing is routinely installed and cemented in place.
Loss of time during casing installment and cementing operations caused by wellbore cleaning related problems is a poor outcome.
In this case, one could state that the repair action, hole cleaning, which was done poorly, was far from optimal, as it lead to loss of time during casing and cementing.

A very useful property of a CBR system is its ability to capture and store a problem just solved as a new case. Case building is a process which utilizes principles of knowledge engineering. Fig. 3 exempli fi es the process of identifying case elements through the identi fi cation of relevant information that describes an episode. 3.2. Knowledge modeling; a means of support during re-use of experience
The purpose of the ontology is to serve as a knowledge model for model-based reasoning to assist the CBR process. The ontology can be viewed as a semantic network, where each node in the network corresponds to a concept in the knowledge model, and each link corresponds to a relation between concepts. A concept may be a general de fi nitional or prototypical concept, and may describe knowledge of domain objects as well as problem solving concept Thing stands for anything in the world worth naming or characterizing. Everything we want to talk about is a subclass or instance of Thing. Thing has basically two subclasses; Entity (objects in the real world), and Relation (bi-directional relations between entities). In addition a third subclass is introduced,
Descriptive Thing, which is a syntactical or structural description of the entities. An example is Case Structure. Fig. 5 illustrates a part of the ontology. Only class-subclass relations are shown in the fi gure. For example, the leftmost concept State is a subclass of
Entity. Our approach is based on the Creek System ( Aamodt, 1992 , 1993 ) and later re-implementation and extensions of that system ( Aamodt, 2004 ).

Over the last years an extensive ontology of oil and gas terms has been developed within the international community, and also made into a standard, the ISO 15926 ( http://15926.org/ ). Our model set out to de fi ne drilling engineering terms in accordance with the international standard ISO 15926 whenever practically feasible. Unfortunately that turned out to be quite dif fi because drilling terms are not well developed in ISO15926. The result is that our current ontology differs substantially from that standard. In our ontology ' s middle layer all petroleum related information used in the reasoning process are formally de entities, e.g. the activity of pulling the drill string up the well is given the entity name Tripping Out.
 (2) Experience stored in documents . A case needs context data 4. Testing of method
In this chapter we demonstrate fi rst the number and type of cases which were generated from a large amount of historical data, then how useful knowledge was retrieved from the cases.
Wellbore restriction is our initial target problem. The problem is experienced during tripping operations and may escalate to failures if the wellbore is not being properly cleared of obstacles.
Insuf fi cient smoothness of the wellbore path can become evident in the form of error signs like Pack Off (drilled pit material is being piled up and pack off the fl ow path), Took Weight (wellbore restrictions take part of the drill sting weight), High Torque or
High Drag. Reoccurrence of such signs calls for reaming activity to hinder the restriction to escalate into Stuck Pipe and Lost
Circulation. 4.1. Collecting fi led data
Seven different wellbore sections drilled in an offshore oil during 2004  X  2006 were studied, resulting in 62 cases of wellbore cleaning episodes. Most of the problem cases were located in the bottom part of the wells since this part is more horizontal than the very upper part. This is demonstrated in Table 1 .

We grouped the cases into different classes for the purpose of testing our method against potential target classes: Failure Type Repair Time Consequence
The test was performed in a stepwise fashion. First, all 62 cases were tested against manually analyzed and tagged events, then against automatically generated triggering events, and fi against completely new logs. Manual tests implied that cases were de fi ned and tagged (marked) manually in the real-time log.
Testing of the 62 cases against manually tagged triggering events resulted in acceptable and close to excellent test results. However, many of the 62 triggering events were not  X  seen  X  by the auto-matically performed test. We introduced several modi fi cations in the preparation of the next test round:
We allowed only cases which could be automatically detected through on-line interpretation.

Due to a low number of cases, they were grouped into only two classes; Class A contained Insigni fi cant and Short Repair Time, Class B Long Repair Time and Gave Up Well.

Cases which had repair time shorter than 0.1 h (6 min) were excluded.

These requirements reduced the number of cases to 22. The matching-test gave as a result that class A cases were retrieved correctly in 82% and class B in 73% of the time. The baseline percentage, representing the probabilities of wild guesses accord-ing to the data distribution, was approximately 50% for each class.
All together the test clearly indicates the feasibility of the method, but not as well as hoped for. 4.3. Identifying the failure cause by means of the knowledge model
Due to unsatisfactory results in the CBR test above, an alter-native test was designed, trying to reveal the failure cause through the knowledge model.

In step 1 the observations in the selected failure case were embedded into the knowledge model as discussed in Section 3.1 .
Observations, error and failure causes are related in the ontology through intermediate concepts, along cause  X  effect chains. Fig. 7 illustrates all the potential errors in the wellbore. From Fig. 7 we picked out the two error types which most often are related to the failure Improperly Cleaned Well, and summarized their error subclasses in Table 2 . This statement will be demonstrated below.
In this paper we have speci fi ed failure causes through the name of the failure. By pointing out the failure/error subclasses the failure 5. Discussion
Given that a past case stored in the case base was found to contain valuable knowledge, this matching case can be used to inform the user about; How the well should be repaired Time needed to clean (the most) similar wells Can repair be performed alternatively?
Potential future problems, for example during the later casing operations
Correct diagnosis of the problem will lead to treatment that is appropriate and will result in ef fi cient repair actions, leading to signi fi cant cost reductions.

The assumption is that treatment of historical cases of best matching classes also is suitable for new cases of this class. We claim this is a fair assumption since 82% of all the selected cases, when later evaluated, were classi fi ed as suf fi ciently similar to this class.

However, since the downhole cause of the problem is normally not 100% known, the repair action is not necessarily directly related to the cause. It is for this reason dif fi cult to improve the a suf fi cient amount of data of suf fi ciently good quality and sampling rate has been problematic. More data will be needed in order to perform a more elaborate evaluation. The more paths and the better we can differentiate between errors/failures. All improvements will allow similar episodes to become more similar. They will open for formal and reliable prediction of failure cause.
In the real process, up to now, good engineering judgment determines failure cause. The correct cause will improve quality of advises. Research is continuing on re fi ning the system in response to industry feedback.

After the results reported here, Verdande Technology has  X  earlier mentioned  X  developed and extensively tested a commer-cial and customer-targeted CBR system that utilizes many of the design principles of the reported system. That system, named
DrillEdge, has a stronger focus on combined data analysis and case-based reasoning than the experiment reported here. It has shown excellent accuracy and performance properties in real drilling settings as reported by several of their customers ( www. verdandetechnology.com ). The system received the 2011 Special
Meritorious Awards for Engineering Innovation, category Intelli-gent Systems and Components ( http://www.epmag.com/mea/ mea.winners.php ). 6. Conclusion
An on-line software tool has been developed and evaluated on the basis of historical real-time drilling data. The results are promising. The system has the capability of recognizing episodes and relating them to situations that have occurred before. The episodes are stored as cases consisting of three separate parts: circumstantial information and gained experience, explanation of why the situation arose and how it was handled, and the outcome of the action taken.

Experience embedded in a case is retrieved not only from data streams and documents, but also from the user and other experts during case generation, ontology building, and case evaluation.
Cases representing complex domains like oil well drilling opera-tions need to be related to a rich ontology since the case space is small. Concept expressing experience is translated into a symbolic language and then stored in the ontology as interrelated entities.
Initial real-time runs have proven the tool ' s functionality and pointed out potential user support. Tests have showed that the
CBR system matched and retrieved cases of the correct class to an acceptable degree, even with the sparse data available for the experiments. Applying the knowledge model is an alternative method of revealing the correct failure cause. This will improve the CBR-method and enhance the quality of advises given. Acknowledgments
The authors would like to acknowledge Statoil ASA for allowing us to use their fi eld data and especially their real-time drilling data. We would like to thank Verdande Technology and especially Frode S X rmo (Chief Technology Of fi cer) and Sigve Hovda (Lead Research Engineer) for supporting this research.
 References
