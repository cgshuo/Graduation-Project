 Privacy is an increasingly important aspect of data publishing. Rea-soning about privacy, however, is fraught with pitfalls. One of the most significant is the auxiliary information (also called exter-nal knowledge, background knowledge, or side information) that an adversary gleans from other channels such as the web, public records, or domain knowledge. This paper explores how one can reason about privacy in the face of rich, realistic sources of auxil-iary information. Specifically, we investigate the effectiveness of current anonymization schemes in preserving privacy when mul-tiple organizations independently release anonymized data about overlapping populations. 1. We investigate composition attacks , in which an adversary uses 2. On a more positive note, certain randomization-based notions H.2.0 [ Database Management ]: General Supported by National Science Foundation grant #0729171. Copyright 2008 ACM 978-1-60558-193-4/08/08 ... $ 5.00.
 Management, Security, Theory Privacy, Anonymization, Adversarial Attacks Privacy is an increasingly important aspect of data publishing. The potential social benefits of analyzing large collections of per-sonal information (census data, medical records, social networks) are significant. At the same time, the release of information from such repositories can be devastating to the privacy of individuals or organizations [5]. The challenge is therefore to discover and release the global characteristics of these databases without compromising the privacy of the individuals whose data they contain.
Reasoning about privacy, however, is fraught with pitfalls. One of the most significant difficulties is the auxiliary information (also called external knowledge, background knowledge, or side infor-mation) that an adversary gleans from other channels such as the web or public records. For example, simply removing obviously identifying information such as names and address does not suf-fice to protect privacy since the remaining information (such as zip code, gender and date of birth [33]) may still identify a per-son uniquely when combined with auxiliary information (such as voter registration records). Schemes that resist such linkage have been the focus of extensive investigation, starting with work on publishing contingency tables [1], and more recently, in a line of techniques based on  X  k -anonymity X  [33].

This paper explores how one can reason about privacy in the face of rich, realistic sources of auxiliary information. This follows lines of work in both the data mining [28, 29, 10] and cryptography [11, 13] communitie s that have sought principl ed ways to incorporate unknown auxiliary information into anonymization schemes.
Specifically, we investigate the effectiveness of current anonymiza-tion schemes in preserving privacy when multiple organizations independently release anonymized data about overlapping popula-tions. We show new attacks on some schemes and also deepen the current understanding of schemes known to resist such attacks. Our results and their relation to previous work are discussed below.
Schemes that retain privacy guarantees in the presence of inde-pendent releases are said to compose securely . The terminology, borrowed from cryptography (which borrowed, in turn, from soft-ware engineering), stems from the fact that schemes which com-pose securely can be designed in a stand-alone fashion without explicitly taking other releases into account. Thus, understanding independent releases is essential for enabling modular design. In fact, one would like schemes that compose securely not only with independent instances of themselves, but with arbitrary external knowledge . We discuss both types of composition in this paper.
The dual problem to designing schemes with good composition properties is the design of attacks that exploit independent releases. We call these composition attacks . A simple example of such an attack, in which two hospitals with overlapping patient populations publish anonymized medical data, is presented below. Composition attacks highlight a realistic and important class of vulnerabilities. As privacy preserving data publishing becomes more commonly deployed, it is increasingly difficult to keep track of all the organi-zations that publish anonymized summaries involving a given indi-vidual or entity. Schemes that are vulnerable to composition attacks will be consequently difficult to use safely.
Our contributions are summarized briefly in the abstract, above, and discussed in more detail in the following subsections.
We introduce composition attacks and study their effect on a popular class of partitioni ng-based anonymization schemes. Very roughly, computer scientists have worked on two broad classes of anonymization techniques. Randomization-based schemes intro-duce uncertainty either by randomly perturbing the raw data (a technique called input perturbation , randomized response , e.g., [37, 2, 17]), or post-randomization , e.g., [35]), or by injecting random-ness into the algorithm used to analyze the data (e.g., [6, 30]). Partition-based schemes cluster the individuals in the database into disjoint groups satisfying certain criteria (for example, in k -anony-mity [33], each group must have size at least k ). For each group, certain exact statistics are calculated and published. Partition-based schemes include k -anonymity [33] as well as several recent vari-ants, e.g., [28, 39, 40, 25, 41, 29, 10, 23].

Because they release exact information, partition-based schemes seem especially vulnerable to composition attacks. In the first part of this paper we study a simple instance of a composition attack called an intersection attack . We observe that the specific proper-ties of current anonymization schemes make this attack possible, and we evaluate its success empirically.
 Example. Suppose two hospitals H 1 and H 2 in the same city re-lease anonymized patient-discharge information. Because they are in the same city, some patients may visit both hospitals with sim-ilar ailments. Tables 1(a) and 1(b) represent (hypothetical) inde-pendent k -anonymizations of the discharge data from H 1 and H using k =4 and k =6 , respectively. The sensitive attribute here is the patient X  X  medical condition. It is left untouched. The other attributes, deemed non-sensitive, are generalized (that is, replaced with aggregate values), so that within each group of rows, the vec-tors of non-sensitive attributes are identical. If Alice X  X  employer knows that she is 28 years old, lives in zip code 13012 and re-cently visited both hospitals, then he can attempt to locate her in both anonymized tables. Alice matches four potential records in H  X  X  data, and six potential records in H 2  X  X . However, the only disease that appears in both matching lists is AIDS, and so Alice X  X  employer learns the reason for her visit.
 Intersection Attacks. The above example relies on two proper-ties of the partition-based anonymization schemes: (i) Exact sensi-tive value disclosure: the  X  X ensitive X  value corresponding to each member of the group is published exactly; and (ii) Locatability: given any individual X  X  non-sensitive values (non-sensitive values are exactly those that are assumed to be obtainable from other, pub-lic information sources) one can locate the group in which individ-ual has been put in. Based on these properties, an adversary can narrow down the set of possible sensitive values for an individual by intersecting the sets of sensitive values present in his/her groups from multiple anonymized releases.

Properties (i) and (ii) turn out to be widespread. The exact dis-closure of sensitive value lists is a design feature common to all the schemes based on k -anonymity: preserving the exact distribu-tion of sensitive values is important, and so no recoding is usually applied. Locatability is less universal, since it depends on the ex-act choice of partitioni ng algorithm (used to form groups) and the recoding applied to the non-sensitive attributes. However, some schemes always satisfy locatability by virtue of their structure (e.g., schemes that recursively partition the data set along the lines of a hierarchy that is subsequently used for generalization [23, 24], or schemes that release the exact set of non-sensitive attribute vectors for each group [39]). For other schemes, locatability is not perfect but our experiments suggest that using simple heuristics one can locate a individual X  X  group with high probability.

Even with these properties, it is difficult to come up with a theo-retical model for intersection attacks because the partitioning tech-niques generally create dependencies that are hard to model ana-lytically. (If the sensitive values of the members of a group could be assumed to be statistically independent of their non-sensitive attribute values, then an analytic solution would be tractable; how-ever, the assumption is does not fit the data we considered). Experimental Results. Instead, we evaluated the success of in-tersection attacks empirically. We ran the intersection attack on two popular census databases anon ymized using partition-based schemes. We evaluated the severity of the attack by measuring the number of individuals who had their sensitive value revealed. Our experimental results confirm that partitioning-based anonymization schemes including k -anonymity and its recent variants, -diversity and t -closeness, are indeed vulnerable to intersection attacks. Sec-tion 3 elaborates our methodology and results. Related Work on Modeling Background Knowledge. It is im-portant to point out that the partition-based schemes in the litera-ture were not designed to be used in contexts where independent releases are available. Thus, we do not view our results as pointing out a flaw in these schemes, but rather as directing the community X  X  attention to an important direction for future work.

It is equally important to highlight the progress that has already been made on modeling sophisticated background knowledge in partition-based schemes. One line has focused on taking into ac-count other, known releases, such as previous publications by the same organization (called  X  X equential X  or  X  X ncremental X  releases, [36, 8, 41, 19, 32]) and multiple views of the same data set [42]. In this paper, we deal with the case when the publisher is not aware of other anonymized releases. Another line has considered incorpo-rating knowledge of the partitioning algorithm used to group indi-viduals [38]. Most relevant to this paper are works that have sought to model unknown background knowledge. Martin et al. [29] and Chen et al. [10] provide complexity measures for an adversary X  X  side information (roughly, they measure the size of the smallest formula within a CNF-like class that can encode the side informa-tion). Both works design schemes that provably resist attacks based on side information whose complexity is below a given threshold.
Independent releases (and hence composition attacks) fall out-side the models proposed by these works. The sequential release models do not fit because they assume that other releases are known to the anonymization algorithm. The complexity-based measures do not fit because independent releases appear to have complexity that is linear in the size of the data set.
Composition attacks appear to be difficult to reason about, and it is not initially clear whether it is possible at all to design schemes that resist such attacks. Even defining composition properties pre-cisely is tricky in the presence of malicious behavior (for example, see [26] for a recent survey about composab ility of cryptographic protocols). Nevertheless, a significant family of anonymization definitions do provide guarantees against composition attacks, nam-ely schemes that satisfy differential privacy [15]. Recent work has greatly expanded the applicability of differential privacy and its re-laxations, both in the theoretical [16, 6, 15, 4, 30, 7] and applied [18, 3, 27] literature. However, certain recently developed tech-niques such as sampling [9], instance-based noise addition [31] and data synthesis [27] appear to require relaxations of the definition.
Both the strict and relaxed variants of differential privacy com-pose well (see Lemma 12). Less trivially, however, one can prove that strictly differentially-private algorithms also provide meaning-ful privacy in the presence of arbitrary side information (Dwork and McSherry, [13]). In particular, these schemes compose well even with completely different anonymization schemes.

It is natural to ask if there are weaker definitions which provide similar guarantees. Certainly not all of them do: one natural re-laxation of differential privacy, which replaces the multiplicative distance used in differential privacy with total variation distance, fails completely to protect privacy (see example 2 in [15]).
In this paper, we prove that two important relaxations of differ-ential privacy do, indeed, resist arbitrary side information. First, we provide a Bayesian formulation of differential privacy which makes its resistance to arbitrary side information explicit. Second, we prove that the relaxed definitions of [14, 27] still imply the Bayesian formulation. The proof is non-trivial, and relies on the  X  X ontinuity X  of Bayes X  rule with respect to certain distance mea-sures on probability distributions. Our result means that the re-cent techniques mentioned above [14, 9, 31, 27] can be used mod-ularly with the same sort of assurances as in the case of strictly differentially-private algorithms.

In this paper, we won X  X  be dealing with the utility aspects of differential privacy. Interested readers are referred to recent pa-pers [16, 6, 15, 4, 30, 31, 7, 27] that explore the relation between utility and differential privacy.
Let D be a multiset of tuples wher e each tuple corresponds to an individual in the database. Let R be an anonymized version of D . From this point on, we use the terms tuple and individual interchangeably, unless the context leads to ambiguity. Let A = A ,A 2 ,...,A r be a collection of attributes and t be a tuple in R ; we use the notation t [ A ] to denote ( t [ A 1 ] ,...,t [ A t [ A i ] denotes the value of attribute A i in table R for t .
In partitioning-based anonymization approaches, there exists a division of data attributes into two classes, sensitive attributes and non-sensitive attributes . A sensitive attribute is one whose value and an individual X  X  association with that value should not be dis-closed. All attributes other than the sensitive attributes are non-sensitive attributes.

D EFINITION 1(Q UASI -IDENTIFIER ). A set of non-sensitive attributes { Q 1 ,...,Q r } is called a quasi-identifier if there is at least one individual in the o riginal sensitive database D who can be uniquely identified by linking these attributes with auxiliary data.
Previous work in this line typically assumed that all the attributes in the database other than the sensitive attribute form the quasi-identifier.

D EFINITION 2(E QUIVALENCE C LASS ). An equivalence cla-ss for a table R with respect to attributes in A is the set of all tuples t ,t 2 ,...,t i  X  R for which the projection of each tuple onto at-tributes in A is the same, i.e., t 1 [ A ]= t 2 [ A ] ... = t
Partition-based schemes cluste r individuals into groups, and then recode ( i.e., generalize or change) the non-sensitive values so that each group forms an equivalence class with respect to the quasi-identifiers. Sensitive values are not recoded. Different criteria are used to decide how, exactly, the groups should be structured. The most common rule is k -anonymity, which requires that each equiv-alence class contain at least k individuals.

D EFINITION 3( k -ANONYMITY [33]). A release R is k -an-onymous if for every tuple t  X  R ,thereexistatleast k  X  1 other tu-ples t 1 ,t 2 ,...,t k  X  1  X  R such that t [ A ]= t 1 [ A ]= ... = t for every collection A of attributes in quasi-identifier. In our experiments we also consider two extensions to k -anonymity. alence class E ,let S denote the domain of the sensitive attributes, and p ( E,s ) is the fraction of records in E that have sensitive value s ,then E is -diverse if: A table is -diverse if all its equivalence classes are -diverse.
D EFINITION 5( t -CLOSENESS [25]). An equivalence class E is t -close if the distance between the distribution of a sensitive at-tribute in this class and distribution of the attribute in the whole equivalence classes are t -close. Locatability. As mentioned in the introduction, many anonymiza-tion algorithms satisfy locatability , that is, they output tables in which one can locate an individual X  X  group based only on his or her non-sensitive values.

D EFINITION 6( LOCATABILITY ). Let Q be the set of quasi-identifier values of an individual in the original database D . Given the k -anonymized release R of D , the locatability property allows an adversary to identify the set of tuples { t 1 ,...,t K K  X  k ) that correspond to Q .

Locatability does not necessarily hold for all partition-based sche-mes, since it depends on the exact choice of partitioning algorithm (used to form groups) and the recoding applied to the non-sensitive attributes. However it is widespread. Some schemes always satisfy locatability by virtue of their structure ( e.g. , schemes that recur-sively partition the data set along the lines of a hierarchy always provide locatability if the attributes are then generalized using the same hierarchy, or if (min,max) summaries are used [23, 24]). For other schemes, locatability is not perfect but our experiments sug-gest that using simple heuristics can locate a person X  X  group with good probab ility. For example, microaggreg ation [12] clusters indi-viduals based on Euclidean distance. The vectors of non-sensitive values in each group are replaced by the centroid (i.e., average) of the vectors. The simplest heuristic for locating an individual X  X  group is to choose the group with the closest centroid vector. In experiments on census data, this correctly located approximately 70% of individuals. In our attacks, we always assume locatability. This assumption was also made in previous studies [33, 29].
Armed with these basic definitions, we now proceed to formalize the intersection attack (Algorithm 1).
 Algorithm 1 Intersection attack 1: R 1 ,...,R n  X  n independent anonymized releases 2: P  X  set of overlapping population 3: for each individual i in P do 4: for j =1 to n do 5: e ij  X  Get equivalence class ( R j ,i ) 6: s ij  X  Sensitive value set ( e ij ) 7: end for 9: end for 10: return S 1 ,...,S | P |
Let R 1 ,...,R n be n independent anonymized releases with min-imum partition-sizes of k 1 ,...,k n , respectively. Let P be the overlapping population occurring in all the releases. The function Get equivalence class returns the equivalence class into which an individual falls in a given anonymized release. The function Sen-sitive value set returns the set of (distinct) sensitive values for the members in a given equivalence class.

D EFINITION 7(A NONYMITY ). For each individual i in P , the anonymity factor promised by each release R j is equal to the corresponding mini mum partition-size k j .

However, as pointed out in [28], the actual anonymity offered is less than this ideal value and is equal to number of distinct values in each equivalence class. We call this as the effective anonymity i in P , the effective anonymity offered by a release R j the number of distinct sensitive values of the partition into which the individual falls into. Let e ij be the equivalence class or parti-tionintowhich i falls into with respect to the release R j s ij denote the sensitive value set for e ij . The effective anonymity for i with respect to the release R j is: EA ij = | s ij |
For each target individual i , EA ij is the effective prior anonymity with respect to R j (anonymity before the intersection attack). In the intersection attack, the list of possible sensitive values associated to the target is equal to intersection of all sensitive value sets s j =1 ,...,n .Sothe effective posterior anonymity ( c EA i
The difference between the effective prior anonymity and effec-tive posterior anonymity quantifies the drop in effective anonymity.
The vulnerable population ( VP ) is the number of individuals (among the overlapping population) for whom the intersection at-tack leads to a positive drop in the effective anonymity.
After performing the sensitive value set intersection, the adver-sary knows only a possible set of values that each individual X  X  sen-sitive attribute can take. So, the adversary deduces that with equal probability ( under the assumption that the adversary does not have any further auxiliary information) the individual X  X  actual sensitive value is one of the values in the set { X  s ij } ,j =1 ,...,n .So,the adversaries confidence level for an individual i can be defined as: ual i , the confidence level C i of the adversary in identifying the individual X  X  true sensitive value through the intersection attack is defined as C i = 1 d EA Now, given some confidence level C , we denote by VP C and PVP C the set and the percentage of overlapping individuals for whom the adversary can deduce the sensitive attribute value with a confidence level of at least C .

In this section we describe our experimental study 1 . The pri-mary goal is to quantify the severity of such an attack on exist-ing schemes. Although the earlier works address problems with k -anonymization and adversarial background knowledge, to the best of our knowledge, none of these studies deal with attacks result-ing from auxiliary independent rel eases. Furthermore, none of the studies so far have quantified the severity of such an attack.
We use three different partitioning-based anonymization tech-niques to demonstrate the intersection attack: k -anonymity, -diver-sity, and t -closeness. For k -anonymity, we use the Mondrian mul-tidimensional approach proposed in [23] and the microaggregation
A more comprehensive experimental evaluation is available in [20]. The code, parameter settings, and complete results are made available at: http://www.cse.psu.edu/  X  ranjit/ kdd08 . technique proposed in [12]. For -diversity and t -closeness, we use the definitions of entropy -diversity and t -closeness proposed in [28] and [25], respectively.

We use two census-based databases from the UCI Machine Learn-ing repository [34]. The first one is the Adult database that has been used extensively in the k -anonymity based studies. The database was prepared in a similar manner to previous studies [23, 28] (also explained in Table 2). The resulting database contained individual records corresponding to 30162 people. The second database is the IPUMS database that contains individual information from the 1997 census studies. We only use a subset of the attributes that are similar to the attributes present in the Adult database to maintain uniformity and to maintain quasi-identifiers. The IPUMS database contains individual records corresponding to a total of 70187 peo-ple. This data set was prepared as explained in Table 3.
From both Adult and IPUMS databases, we generate two over-lapping subsets (Subset 1 and Subset 2) by randomly sampling in-dividuals without replacement from the total population. We fixed the overlap size to P = 5000 . For each of the databases, the two subsets are anonymized independently and the intersection attack is run on the anonymization results. All the experiments were run on a Pentium 4 system running Windows XP with 1GB RAM.
Our first goal is to quantify the extent of damage possible through the intersection attack. For this, we consider two possible situa-tions: (i) Perfect breach and (ii) Partial breach.
A perfect breach occurs when the adversary can deduce the exact sensitive value of an individual. In other words, a perfect breach is when the adversary has a confidence level of 100% about the individual X  X  sensitive data. To estimate the probability of a perfect breach, we compute the percentage of overlapping population for whom the intersection attack leads to a final sensitive value set of size 1 . Figure 1 ((a) and (b)) plots this result.

We consider three scenarios for anonymizing the two overlap-ping subsets: (i) Mondrian on both the data subsets, (ii) Microag-gregation on both the data subsets, and (iii) Mondrian on the first subset and microaggregation on the second subset. ( k 1 ,k sents the pair of k values used to anonymize the first and the second subset, respectively. In the experiments, we use the same k values for both the subsets ( k 1 = k 2 ) . Note that for simplicity, from now on we will be defining confidence level in terms of percentages.
In the case of Adult database we found that around 12% of the population is vulnerable to a perfect breach for k 1 = k 2 the IPUMS database, this value is much more severe around 60%. As the degree of anonymization increases or in other words, as the value of k increases, the percentage of vulnerable population goes down. The reason for that is that as the value of k increases, the partition sizes in each subset increases. This leads to a larger inter-section set and thus lesser probability of obtaining an intersection set of size 1 .
Our next experiment aims to compute a more practical quan-tification of the severity of the intersection attack. In most cases, to inflict a privacy breach, all that the adversary needs to do is to boil down the possible sensitive values to a few values which it-self could reveal a lot of information. For example, for a hospi-tal discharge database, by boiling down the sensitive values of the disease/diagnosis to a few values, say,  X  X lu X ,  X  X ever X , or  X  X old X , it could be concluded that the individual is suffering from a viral infection. In this case, the adversary X  X  confidence level is 1 / 3= 33% . Figure 1 ((c) and (d)) plots the percentage of vulnerable pop-ulation for whom the intersection attack leads to a partial breach for the Adult and IPUMS databases.

Here, we only use the first anonymization scenario described earlier in which both the overlapping subsets of the database are anonymized using Mondrian multid imensional technique. Observe that the severity of the attack increases alarmingly for slight relax-ation on the required confidence level. For example, in the case of IPUMS database, around 95% of the population was vulnerable for a confidence level of 25% for k 1 = k 2 =5 . For the Adult database, although this value is not as alarming, more than 60% of the population was affected.
Our next goal is to measure the drop in anonymity occurring due to the intersection attack. To achieve this, we first take a closer look at the way these schemes work. As described in the earlier sections, the basic paradigm in partitioning-based anonymization schemes is to partition the data such that each partition size is at least k . The methodology behind par titioning and then summariz-ing varies from scheme to scheme. The minimum partition-size ( k ) is thus used as a measure of the anonymity offered by these solutions. However, the effective (or true) anonymity supported by these solutions is far less than the presumed anonymity k (refer to the discussion in Section 2.1).

Figure 2 plots the average partition sizes and the average effec-tive anonymities for the overla pping population. Here again, we only consider the scenario where both the overlapping subsets are anonymized using Mondrian multid imensional technique. Observe that the effective anonymity is much less than the partition size for both the data subsets. Also, note that these techniques result in partition sizes that are much larger than the minimum required of k . For example, the average partition size observed in the IPUMS database for k =5 is close to 40 . To satisfy the k -anonymity def-inition, there is no need for any partition to be larger than 2 k +1 . The reasoning for this is straightforward as splitting the partition of size greater than 2 k +1 into two we get partitions of size at least k . Additionally, splitting any partition of size 2 k +1 or more only results in preserving more information. The culprit behind the larger average partition sizes is generalization-based on user-defined hierarchies. Since gener alization-base d partitioning cannot be controlled at finer levels, the resulting partition sizes tend to be much larger than the minimum required value.

For each individual in the overlapping population, the effective prior anonymity is equal to the effective anonymity. We define the average effective prior anonymity with respect to a release as effective prior anonymities averaged over the individuals in the overlapping population. Similarly, the average effective posterior anonymity is the effective posterior anonymities averaged over the individuals in the overlapping population. The difference between the average effective prior anonymity and average effective poste-rior anonymity gives the average drop in effective anonymity occur-ring due to the intersection attack. Figure 3 plots the average effec-tive prior anonymities and the average effective posterior anonymi-ties for the overlapping population. Observe that the average ef-fective posterior anonymity is much less than the average effective prior anonymity for both subsets. Also note that we measure drop in anonymities by using effective anonymities instead of presumed anonymities. The situation only gets worse (drops get larger) when presumed anonymities are used.
We now consider the -diversity and t -closeness extensions to the original k -anonymity definition. The goal again is to quan-tify the severity of the intersection attack by measuring the extent to which a partial breach occurs with varying levels of adversary confidence levels. Figure 4 plots the percentage of vulnerable pop-ulation for whom the intersection attack leads to a partial breach for the IPUMS databases. Here, we anonymize both the subsets of the database with the same definition of privacy. We use the mondrian multidimensional k -anonymity with the additional con-straints as defined by -diversity and t -closeness. Figure 4(a) plots the result for the -diversity using the same value for both the subsets ( 1 = 2 ) and with k =10 . Figure 4(b) plots the same for t -closeness. Even though these extended definitions seem to per-form better than the original k -anonymity definition, they still lead to considerable breach in case of an i ntersection attack. This result is fairly intuitive in the case of -diversity. Consider the definition of -diversity: the sensitive value set corresponding to each parti-tion should be  X  X ell X  ( ) diverse. However, there is no guarantee that the intersection of two well diverse sets leads to a well diverse set. t -closeness fares similarly. Also, both these definitions tend to force larger partition sizes, thus resulting in heavy information loss. Figure 4(c) plots the average partition sizes of the individuals corresponding to the overlapping population. It compares the par-tition sizes observed for k -anonymity, -diversity, and t -closeness. For the IPUMS database, with a value of k =10 , k -anonymity pro-duces partitions with an average partition size of 45 . While, for the same value of k =10 , with a value of l =5 , the average partition size obtained was close to 450 . The partition sizes for t -closeness get even worse, where a combination of k =10 and t =0 . 4 yield partitions of average size close to 1300 .
In this section we give a precise formulation of  X  X esistance to ar-bitrary side information X  and show that several relaxations of dif-ferential privacy imply it. The formulation follows the ideas origi-nally due to Dwork and McSherry, stated implicitly in [13]. This is, to our knowledge, the first place such a formulation appears explic-itly. The proof that relaxed definitions (and hence the schemes of [14, 31, 27]) satisfy the Bayesian formulation is new. These results are explained in a greater detail in a separate technical report [22]. In this paper we just reproduce the relevant parts from [22].
We represent databases as vectors in D n for some domain D (for example, in the case of the relational databases above, product of the attribute domains). There is no distinction between  X  X ensitive X  and  X  X nsensitive X  information. Given a randomized al-gorithm A ,welet A ( D ) be the random variab le (or, probability distribution on outputs) corresponding to input D .
 ized algorithm A is -differentially private if for all databases D ,D 2  X  X  n that differ in one individual, and for all subsets S of outputs, Pr[ A ( D 1 )  X  S ]  X  e Pr[ A ( D 2 )  X  S ] .

This definition states that changing a single individual X  X  data in the database leads to a small change in the distribution on outputs. Unlike more standard measures of distance such as total variation (also called statistical difference) or Kullback-Leibler divergence, the metric here is multiplicative and so even very unlikely events must have approximately the sam e probability under the distribu-tions A ( D 1 ) and A ( D 2 ) . This condition was relaxed somewhat in other papers [11, 16, 6, 14, 9, 31, 27]. The schemes in all those papers, however, satisfy the following relaxation: ndomized algorithm A is ( ,  X  ) -differentially private if for all data-bases D 1 ,D 2  X  X  n that differ in one individual, and for all subsets S of outputs, Pr[ A ( D 1 )  X  S ]  X  e Pr[ A ( D 2
The relaxations used in [16, 6, 27] were in fact stronger (i.e., less relaxed) than Definition 11. One consequence of the results below is that all the definitions are equivalent up to polynomial changes in the parameters, and so given the space constraints we work only with the simplest notion of Definition Definition 11. 2
That said, some of the other relaxations, such as probabilistic dif-
The following well-known lemma shows that ( ,  X  ) -differential privacy composes well (cf. [14, 31, 30]).

L EMMA 12 (C OMPOSITION ). If a randomized algorithm A runs k algorithms A 1 , ..., A k ,where A i ( i , X  i ) -differentially pri-vate, and outputs a function of the results (that is, A ( x )= g ( A ( x ) , ..., A k ( x )) for some probabilistic algorithm g ), then ( Here, we are interested in stronger guarantees. In the remainder of ferential privacy of [27], could lead to better parameters in Theo-rem 16. this section, we show differential privacy resists arbitrary amount of side information (a stronge r property than composition).
There is a crisp, semantically-flavored interpretation of differen-tial privacy, due to Dwork and McSherry, and explained in [13]: Regardless of external knowledge, an adversary with access to the sanitized database draws the same conclusions whether or not my data is included in the original data. (the use of the term  X  X eman-tic X  for such definitions dates back to semantic security of encryp-tion [21]).

We require a mathematical formulation of  X  X rbitrary external knowledge X , and of  X  X rawing conclusions X . The first is captured via a prior probability distribution b on D n ( b is a mnemonic for  X  X eliefs X ). Conclusions are modeled by the corresponding poste-rior distribution: given a transcript t , the adversary updates his be-lief about the database D using Bayes X  rule to obtain a posterior In an interactive scheme, the definition of A depends on the ad-versary X  X  choices; for simplicity we omit the dependence on the adversary in the notation. Also, for simplicity, we discuss only dis-crete probability distributions. Our results extend directly to the interactive, continuous case.

For a database D ,define D  X  i to be the vector obtained by replac-ing position i by some default value in D (any value in D will do). This corresponds to  X  X emoving X  person i  X  X  data. We consider n +1 related scenarios ( X  X ames X , in the language of cryptography), num-bered 0 through n . In Game 0, the adversary interacts with This is the interaction that takes place in the real world. In Game i (for 1  X  i  X  n ), the adversary interacts with A ( D  X  i i describes the hypothetical scenario where person i  X  X  data is not included.

For a particular belief distribution b and transcript t , we consider the n +1 corresponding posterior distributions b b 0 ,..., posterior b b 0 is the same as b b (defined in Eq. (1)). For larger i ,the i -th posterior distribution b b i represents the conclusions drawn in Game i ,thatis
Given a particular transcript t , privacy has been breached if there exists an index i such that the adversary would draw different con-clusions depending on whether or not i  X  X  data was used. It turns out that the exact measure of  X  X ifferent X  here does not matter much. We chose the weakest notion that applies, namely statistical difference. If
P and Q are probability measures on the set X , the statistical difference between P and Q is defined as:
D EFINITION 13. An algorithm A is -semantically private if for all prior distributions b on D n , for all databases D all possible transcripts t , and for all i =1 ,...,n , This can be relaxed to allow a probability  X  of failure.
D EFINITION 14. An algorithm is ( ,  X  ) -semantically private if, for all prior distributions b , with probability at least 1 pairs ( D, t ) , where the database D  X  b ( D is drawn according to b ) and the transcript t  X  X  ( D )( t is drawn according to for all i =1 ,...,n : SD
Dwork and McSherry proposed the notion of semantic privacy, informally, and observed that it is equivalent to differential privacy.
P ROPOSITION 15 (D WORK -M C S HERRY ). -differential pri-vacy implies b -semantic privacy, where b = e  X  1 .
 We show that this implication holds much more generally:
T HEOREM 16 (M AIN R ESULT ). ( ,  X  )-differential privacy im-plies ( , X  ) -semantic privacy where = e 3  X  1+2  X  = O ( n
Theorem 16 states that the relaxations notions of differential pri-vacy used in some previous work still imply privacy in the face of arbitrary side information. This is not the case for all possible re-laxations, even very natural ones. For example, if one replaced the multiplicative notion of distance used in differential privacy with total variation distance, then the following  X  X anitizer X  would be deemed private: choose an index i  X  X  1 ,...,n } uniformly at ran-dom and publish the entire record of individual i together with his or her identity (example 2 in [15]). Such a  X  X anitizer X  would not be meaningful at all, regardless of side information.

Finally, the techniques used to prove Theorem 16 can also be used to analyze schemes which do not provide privacy for all pairs of neighboring databases D 1 and D 2 , but rather only for most such pairs (neighboring databases are the ones that differ in one indi-vidual). Specifically, it is sufficient that those databases where the  X  X ndistinguishability X  c ondition fails occur with small probability. om variables X, Y taking values in a set X are ( ,  X  ) -indistingui-shable if for all sets S  X  X  , Pr[ X  X  S ]  X  e Pr[ Y  X  S ]+  X  and Pr[ Y  X  S ]  X  e Pr[ X  X  S ]+  X .

T HEOREM 18. Let A be a randomized algorithm. Let E = {
D 1  X  X  n :  X  neighbors D 2 of D 1 , A ( D 1 ) and A ( D 2 ( ,  X  ) -indistinguishable } . Then A satisfies ( , X  ) -semantic pri-vacy for any prior distribution b such that b [ E ]=Pr D 3 E ]  X  1  X   X  with = e 3  X  1+2
The complete proofs are described in [22]. Here we sketch the main ideas behind both the proofs. Let Y | X = a denote the condi-tional distribution of Y given that X = a for jointly distributed random variables X and Y . The following lemma (proof omitted) plays an important role in our proofs.

L EMMA 19 (M AIN L EMMA ). Suppose two pairs of random variables ( X, A ( X )) and ( Y, A ( Y )) are ( ,  X  ) -indistinguishable (for some randomized algorithms A and A ). Then with probability at least 1  X   X  over t  X  X  ( X ) (equivalently t  X  X  ( Y ) ), the ran-able with  X  =3 ,  X   X  =2 Let A be a randomized algorithm (in the setting of Theorem 16, A is a ( ,  X  ) -differentially private algorithm). Let b be a belief dis-tribution (in the se tting of Proposition 18, b is a belief with b ( 1  X   X  ). The main idea behind both the proofs is to use Lemma 19 to show that with probability at least 1  X  O ( where D  X  b and t  X  X  ( D ) , SD Taking a union bound over all coordinates i , implies that with prob-ability at least 1  X  O ( n A ( D ) ,forall i =1 ,...,n ,wehave SD  X  . For Propositio n 18, it shows that A satisfies ( , X  ) -semantic privacy for b . In the Theorem 16 setting where A is ( ,  X  ) -different-ially private and b is arbitrary, it shows that ( ,  X  ) -differential pri-vacy implies ( , X  ) -semantic privacy.
 We would like to thank Kristen Lefevre for sharing the Mondrian multidimensional anonymity code. We would also like to thank Patrick McDaniel and Daniel Kifer for valuable comments. [1] J. Official Statistics , special issue on disclosure limitation [2] R. Agrawal and R. Srikant. Privacy-preserving data mining. [3] S. Agrawal and J. R. Haritsa. A framework for high-accuracy [4] B. Barak, K. Chaudhuri, C. Dwork, S. Kale, F. McSherry, [5] M. Barbaro and T. Zeller. A face is exposed for AOL [6] A. Blum, C. Dwork, F. McSherry, and K. Nissim. Practical [7] A. Blum, K. Ligett, and A. Roth. A learning theory approach [8] J.-W. Byun, Y. Sohn, E. Bertino, and N. Li. Secure [9] K. Chaudhuri and N. Mishra. When random sampling [10] B.-C. Chen, R. Ramakrishnan, and K. LeFevre. Privacy [11] I. Dinur and K. Nissim. Revealing information while [12] J. Domingo-Ferrer and J. M. Mateo-Sanz. Practical [13] C. Dwork. Differential privacy. In ICALP , pages 1 X 12. [14] C. Dwork, K. Kenthapadi, F. McSherry, I. Mironov, and [15] C. Dwork, F. McSherry, K. Nissim, and A. Smith.
 [16] C. Dwork and K. Nissim. Privacy-preserving datamining on [17] A. Evfimievski, R. Srikant, R. Agrawal, and J. Gehrke. [18] A. V. Evfimievski, J. Gehrke, and R. Srikant. Limiting [19] B. C. M. Fung, K. Wang, A. W.-C. Fu, and J. Pei. Anonymity [20] S. R. Ganta, S. P. Kasiviswanathan, and A. Smith.
 [21] S. Goldwasser and S. Micali. Probabilistic encryption. [22] S. P. Kasiviswanathan and A. Smith. A note on differential [23] K. LeFevre, D. J. DeWitt, and R. Ramakrishnan. Mondrian [24] K. LeFevre, D. J. DeWitt, and R. Ramakrishnan.
 [25] N. Li, T. Li, and S. Venkatasubramanian. t -closeness: [26] Y. Lindell. Composition of Secure Multi-Party Protocols: A [27] A. Machanavajjhala, D. Kifer, J. Abowd, J. Gehrke, and [28] A. Machanavajjhala, D. Kifer, J. Gehrke, and [29] D. J. Martin, D. Kifer, A. Machanavajjhala, J. Gehrke, and [30] F. McSherry and K. Talwar. Differential privacy in [31] K. Nissim, S. Raskhodnikova, and A. Smith. Smooth [32] J. Pei, J. Xu, Z. Wang, W. Wang, and K. Wang. Maintaining [33] L. Sweeney. k -anonymity: A model for protecting privacy. [34] UCI machine learning repository, [35] A. van den Hout and P. van der Heijden. Randomized [36] K. Wang and B. C. M. Fung. Anonymizing sequential [37] S. L. Warner. Randomized response: A survey technique for [38] R. C.-W. Wong, A. W.-C. Fu, K. Wang, and J. Pei.
 [39] X. Xiao and Y. Tao. Anatomy: Simple and effective privacy [40] X. Xiao and Y. Tao. Personalized Privacy Preservation In [41] X. Xiao and Y. Tao. M-invariance: towards privacy [42] C. Yao, X. S. Wang, and S. Jajodia. Checking for
