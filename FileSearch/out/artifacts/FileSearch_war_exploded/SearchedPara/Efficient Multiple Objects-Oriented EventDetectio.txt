 Rad io F reque n c yID e n t i ficat ion( R FID) i sa n aut o mat i c in f o rmat ion c oll ect ion tech nolo g y that i s wi de ly used in areas such as supp ly cha in ma n ageme n t [1], l e v e lin f o rmat ion fr o m low er l e v e l e v e n ts . CE Pov er R FID streams faces cha l-l e n gessuchash i gh speed a n dhugeR FID read in gs , rea l t i me pr o cess a n dre -database [5]. E xi st in gCE Pwo rks [6, 7 , 8 ,9] ma inly f o cus on patter n defi ni t ion, atte n t ion t o re l at ion sh i ps bet w ee n e v e n ts o fthesamee v e n tt y pes .In fact , there e xi st ma ny e v e n tquer i es that involv ec o rre l ated e v e n ts o fthesamee v e n tt y pe in app li cat ion ssuchasassettrack in g , task a li g n me n ta n daut o mat i caut o assemb l e , etc .H ere w etake IT asset track in gf o re x amp l e .

IT asset tracking. IT assets such as l apt o pc o mputers , b l ade ser v ers , d i sks are vi ta l f o re n terpr i se . R FID tags ca n be attached t oIT assets a n dpers onn e l f o r IT asset track in gtasks .An e v e n tquer yinIT asset track in gapp li cat ion ca n be defi n ed as Quer y1: PATT ER NS EQ ( A 2 ; B 2 ; C 2 ; D 2 ; F 2 ) WH ERE A 1 2 . id = B 1 2 . id = C 1 2 . id = D 1 2 . id = F 1 2 . id AND A 2 A 2 . id = B 2 2 . id = C 2 2 . id = D 2 2 . id = F 2 2 . id AND | A 1 2 . time  X  A 2 2 . time | X   X  1 AND | B 1 2 . time  X  B 2 2 . time | X   X  2 AND | C 1 2 . time  X  C 2 2 . time | X   X  3 AND | D 1 2 . time  X  D 2 2 . time | X   X  4 AND | F 1 2 . time  X  F 2 2 . time | X   X  5 WITHIN 2 0 m in utes In a n R FID-e n ab l ed o ffice , pers onn e l ca n carr y authe n t i cated o b j ects m ovin g fr o m on eR FID read in gp oin tt o a no ther R FID read in gp oin t . Quer y1 fi n ds pat -ter no f on eR FID-e n ab l ed asset wi th authe n t i cated pers onn e l that ha v e passed thr o ugh fi v eR FID read in gp oin ts A, B, C ,D a n d Fwi th in 2 0 m in utes .
In th i spaper ,w ef o cus on e v a l uat ion sa n d o pt i m i zat ion s o fe v e n tquer i es w h i ch involv emu l t i p l ec o rre l ated R FID tagged o b j ects ,o ur wo rks in c l ude :(1)w e the pr o p o sed a l g o r i thms .T he rest o f the paper i s o rga ni zed as f ollow s :S ect ion 2 in tr o duces re l ated wo rk o fCE P. S ect ion 3 in tr o duces e v e n tpre li m in ar i es a n d mu l t i p l ec o rre l ated -o b j ect e v e n tquer i es .In sect ion 5, w eprese n tperf o rma n ce stud i es o f the pr o p o sed a l g o r i thms .W ec on c l ude th i spaper in sect ion 6. CE P has bee n e x te n s iv e ly stud i ed in act iv e database [5]. T hese wo rks f o cused on e v a l uat ion o fc o mp l e x patter n s in trad i t ion a l databases w h i ch ca nno tac -c o mm o date rea l t i me a n dstream in grequ i reme n ts o f curre n tapp li cat ion s .In[6], adec l arat iv ee v e n t l a n guage  X  X AS E i spr o p o sed t o defi n e , fi l ter , aggregate a n d c o rre l ate e v e n ts fr o mstreamdata .How e v er ,NFA(non-determ ini st i cfi ni te au -t o mata )i mp l eme n tat ion o f SAS Ee v e n tquer i es ca nno t wo rk effic i e n t ly w he n d o ma in s i ze in e v e n tdefi ni t ion i s l arge a n de v e n t o b j ects o fthesamet y pe are c on s i dered . Ca y uga [9] i saCE P s y stem de v e lo ped fr o m a pub / sub s y stem w h i ch i sf o cused on c o mm on sub -e x press ion ssearch in gam on gst mu l t i p l e patter n s .In Ca y uga , a S Q L-st yl ee v e n tdefi ni t ion l a n guage i spr o p o sed . Ob j ects involv ed in Ca y uga e v e n tquer i es are s in g l e o b j ect -o r i e n ted .SAM O S[10]i sapetr iN ets -based s y stems w h i ch are ab l et o supp o rt c on curre n c y but are v er y c o mp l e x t o e x press a n de v a l uate . CE D R [11] i sa n e v e n tstream in gs y stem wi th a dec l arat iv e Primitive event i s o ccurre n ce o f in terest at a p oin t in t i me w h i ch i s in sta n ta -a nin sta n ce o fa n event type .In th i spaper ,w euse E n t o represe n te v e n tt y pe o f o f E n . Composite event i sc o mb in at ion o f primitive(composite) events b y a start-timestamp a n da n end-timestamp .A spr i m i t iv ee v e n t o ccurs in sta n ta -mu l t i p l ee v e n t o b j ectsasf ollowin g : te
B ,..., te = ma x { te 1 A ,..., te n A , te 1 B ,..., te m B } ).
 te
B ,..., te  X  ts = m in { ts 1 B ,..., ts m B } X  te = ma x { te 1 B ,..., te m B } ).
 te
B ,..., te  X  ( ma x { te 1 A ,..., te n A } &lt; m in { ts 1 B ,..., ts m B } )).
 ini t ion l a n guages used in o ther CE P s y stems a n d research wo rks [6, 8 ,1 2 ]. O v era ll structure o fe v e n tdefi ni t ion l a n guage i s :
T he EVENT c l ause c on ta in sa n e v e n tseque n ce c on struct .T he WHERE c l ause spec -i fies c on stra in ts f o re v e n tmatch in g .T he WITHIN c l ause app li es a s li d in g win d ow t o the e v e n tstream .No te that c on stra in ts spec i ficat ion sa n ds li d in g win d ow are o pt ion a l. In th i spaper ,w eut ili ze the NFA-based represe n tat ion t o tra n sf o rm a n de v a l u -d i rect ly tra n sf o rm a n e v e n tquer yin t o a nNFAo rtreem o de li sd i fficu l tt o e v a l-uate .W ec l ass i f y the c o mp l e x patter nin t o lin ear patter n a n d non-lin ear patter n a n dtake lin ear patter n as bas i ce v a l uat ion structure  X  X in ear patter ni stra n sf o rmed in t o lin ear patter n sa n d NFA-based e v a l uat ion i scarr i ed on these lin ear patter n s . T he c o mp l e x patter ni sc o mp o sed o f o utput resu l ts o fthese lin ear patter n s . 4.1 Sequence Join Algorithm, SEJA A stheree xi sts s o me c on stra in ts bet w ee n e v e n tt y pes a n de v e n ts o fthesamet y pe , these c on stra in ts must be kept a n de v a l uated after detect ion o fthetra n sf o rmed F 2 ) a n d E 2 =S EQ ( A the n e v a l uate E 1 a n d E 2 ov er R FID data streams respect iv e ly a n dcheckt i me a n d o utput detected c o mp o s i te patter n s .
 Push check point validation down. W e o bser v ed that in a n R FID app li ca -t ion, there e xi sts R FID read in gp oin ts w h i ch w eca ll check points that at s o me m o me n ts re l at ion sh i pbet w ee no b j ects pass in gthr o ugh these read in gp oin ts are certa in, f o re x amp l e ,in a n asset m oni t o r in gp l ace ,only auth o r i zed pe o p l eca n take assets m ovin gthr o ugh check p oin ts .T hese checkp oin ts ca n be used t o re -duce e v a l uat ion in termed i ate resu l ts .So a ni mpr ov ed S E JA(IS E JA) i st o push check points v a li dat ion d own w he non e o b j ect patter n saree v a l uated .IS E JA reduce s o me e v e n tpa i rs v a li dat ion espec i a lly w he n c o mp l e x patter ni s lon ga n d detected pr i m i t iv e patter n sare n umer o us .In fact ,n umber o fpr i m i t iv e patter n s I ft i me c on stra in ts are l arge , there e xi sts ma ny pr i m i t iv eseque n ces in R FID data stream ,IS E JA reduces n umber o fpr i m i t iv eseque n ces bef o reha n da n d i sm o re effic i e n ttha nS E JA. 4.2 Stream Join Algorithm, STJA Ano ther e v a l uat ion meth o d o fac o mp l e x patter ni sstream join a l g o r i thm .T ake quer y1. C o mp l e x patter no fquer y1i s E =S EQ ( A 2 ; B 2 ; C 2 ; D 2 ; F 2 ). B as i c stream join e v a l uat ion fu n ct ion sas : take a n e v e n tpa i rfr o mstream A that sat i s -fies the t i me c on stra in ts o fthequer y, check w hether th i se v e n tpa i rappearsat B, C ,D a n d F respect iv e ly a n d v er i f y the t i me c on stra in ts o fthequer y. STJA n eeds t o keep ma ny part i a l matches o fthee v e n tquer y due t o patter n match character -up e v a l uat ion o fac o mp l e x patter n. Fi rst w e push d own e v e n tpa i r v a li dat ion rema inin ge v e n tt y pes , e l se st o ps a n dbeg in sa no ther e v e n t detect ion pr o cess . P ush d own e v e n tpa i r v a li dat ion at check p oin ts great ly reduces e v e n t attr i bute c o mpar i s on sthus o pt i m i zes C PU a n dmem o r y usages . W eha v e i mp l eme n ted o ur pr o p o sed a l g o r i thms in apr o t o t y pe s y stem us in g C ++. E x per i me n ts are ru non a P e n t i um 2 . 8G H zmach in e wi th 1 G B R AM on Windows XP. Because there is no public RFID test data, we generated RFID data sets of an RFID asset tracking scenario with a simulator. Number of event types in the simulator is 10. The generat ed event stream contains a percentage of noisy events. Events generated follow uniform distribution.
 Memory Comparison. To evaluate sequence join algorithms, we use hash table to store state information of primitive events. For SJA evaluation, be-cause time interval comparisons between primitive events are needed, so we use B+tree(event timestamp as key) to stor e and retrieve events. Memory compar-isons of SEJA and SJA are shown in Fig. 1. As we can see from Fig. 1, with different selectivity, SJA outperform SEJA up to 5 times in memory usage.
 CPU time. To evaluation CPU performances of the proposed algorithms, we generate RFID data sets with different parameters such as  X  , selectivity, window size. CPU comparisons are shown in Fig. 2. As we can see from Fig. 2, when selectivity changes from 0.2/0.4 to 0.2/0.6,  X  varies from 600 to 800, window size changes from 10 4 to 4  X  10 4 , ISEJA consumes less CPU time than SEJA because less intermediate results generation. SJA pushes event pair checking down at check points which generates fewer redundant results. From Fig. 2 we can see SJA o utperf o rms IS E JA t wo X  fi v et i mes ;SJA st ill o utperf o rms IS E JA a l th o ugh no ts o appare n ttha nS E JA. In th i spaper ,w estud y e v e n t detect ion pr o b l ems ov er R FID streams w h i ch involv emu l t i p l ec o rre l ated o b j ects .W epr o p o se a l g o r i thms SJA a n d S E JA t o e v a l uate these c o mp l e x patter n s w h i ch are ab l et o reduce in termed i ate resu l ts ni ques such as state pr o pagat ion a n d push in gt i me c on stra in ts d own at s o me o ur a l g o r i thms .
 Acknowledgments. T h i s wo rk i ssp on s o red b y the NSF C -JST M a jo r In ter -n at ion a l( Reg ion a l) Join t Research P r oj ect u n der Gra n t No. 60 72 0106001, N a -t ion a lN atura lS c i e n ce Fo u n dat ion o fCh in au n der Gra n t No. 60 8 030 4 3, N at ion a l N atura lS c i e n ce Fo u n dat ion o fCh in au n der Gra n t No. 60 87 3196 a n dthe N a -t ion a lHi gh -T ech Research a n d D e v e lo pme n t Pl a no fCh in au n der Gra n t No. 2 009AA1 Z 13 4 .

