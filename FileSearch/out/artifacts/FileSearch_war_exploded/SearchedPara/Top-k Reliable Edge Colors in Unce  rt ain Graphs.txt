 We study the fund amental prob lem of find ing the set of top -k edg e colors that maximize s the reli abilit y b etwee n a sou rce nod e a nd a desti nati on nod e in an un ce rtain and edg e-colored g raph . Our top -k reli able c olor set prob lem naturall y arises in a variety o f rea l-w orld app li ca ti on s includ ing p athway find ing in b iolog ica l net-works, top ic-aware influence maximiza ti on , and tea m formati on in social networks, among many o thers. In add iti on to the # P -completeness of the c lass ica l reli abilit y find ing p rob lem betwee n a sou rce a nd a desti nati on nod e ov er an un ce rtain g raph , we prov e that ou r prob lem is also NP -hard, and n eit her sub -modu lar, no r sup er-modu lar. To this end , we a im at design ing eff ec ti ve a nd sca l-able soluti on s for the top -k reli able c olor set prob lem. We first introdu ce two b aseli nes foll owing the idea of r epetiti ve inclusion of the next best edg e c olors, and we later develop a more e ffi-cient and eff ec ti ve a lgo rit hm that direc tl y find s the high ly-r eli able paths whil e maintaining the budg et on the nu mber of edg e-colors. An extensive e mpirica l evaluati on on v ariou s large-sca le a nd rea l-world g raph d atasets ill ustrates that ou r propo sed tec hn iqu es are bo th sca lable a nd h igh ly acc urate.
 H.3.3 [ Inform ation S earc h and Retrieva l ]: Sea rch p roce ss ; H.2.8 [ Database App li cations ]: Unce rtain n etworks Algo rit hms , Perf ormance Unce rtain Gr aph s; Reli abilit y; Edg e Colors; Top -K
Unce rtainty is inh erent i n g raph d ata du e to a variety o f r ea son s, such as no isy mea surements, inference a nd p redicti on mod els, or exp li cit manipu lati on , e.g., for privac y pu rpo ses. In these ca ses, data is represented as an un ce rtain g raph , that i s, a graph who se arcs are acc ompanied wit h a prob abilit y o f existence . A f und amen-tal prob lem in un ce rtain g raph s is reli ab ilit y qu ery , which asks to esti mate the prob abilit y that a given d esti nati on nod e is reac hable fr om a given sou rce nod e. Th e reli abilit y esti mati on p rob lem has bee n widely stud ied in d evice networks [1], social networks [9], as well as in b iolog ica l networks [10 ].

Nevertheless , most of these reli abilit y qu eries ov er un ce rt ain g raph s are perf ormed wit hou t con sidering any edg e a tt ribu tes, which we simply refer to as edg e c olors. Since c omplex n etworks, such as bi-olog ica l, social, and informati on n etworks usuall y exh ibit diverse typ es of r elati on ships among the e ntiti es, it i s often mea ning ful t o define reli abilit y v ia a c on strained set of edg e c olors [3]. To this end , we study the foll owing nov el and criti ca l prob lem: give n a sou rce and a d esti na ti on nod e in an edg e-colored, un ce rtain g raph and a small po siti ve integer k , find the e dg e-color-set of size k tha t maximizes the reli ab ilit y from the sou rce to the desti na ti on . App li cation. Th e top -k reli able c olor set prob lem naturall y arises in a variety o f r ea l-w orld sce narios as foll ows.
 Pa thway Fo rmati on in B iolog ical Networks: In o rder to und erstand the metabo li c c hain reac ti on s in ce ll ular systems , biolog ists utili ze metabo li c networks, where eac h v ertex represents a c ompound , and a direc ted edg e betwee n two compound s ind ica tes that on e c om-pound ca n b e transformed into ano ther through a ce rtain chemica l reac ti on [8]. Th e e dg e c olors rec ord the e nzymes which con tro l these reac ti on s. In add iti on , un ce rtainty arises in metabo li c net-work edg es du e to no isy mea surements, exp erimental err ors, in-ference , and p redicti on mod els. One of the basic qu esti on s on such networks is find ing the top -k set of enzymes which crea te pathways of very h igh p rob abiliti es betwee n two g iven compound s. Top ic-Aware Informati on Cascad e: Marketi ng companies are grad-uall y turning to social networks s uch as Face book , Twitt er, and Link edIn for ca mpaign ing o f their produ cts. However, the influ-ence of an ind ividu al ov er ano ther in a social network o ften chang es drasti ca ll y b ased on adv erti sement con tents [2]. Th erefore , on e ca n formulate the top ic-aware informati on ca sca de prob lem wit h an un ce rtain g raph mod el, where the prob abiliti es on the e dg es vary based on adv erti sement fea tures. In this s etti ng , it i s criti ca l for the marketi ng companies to identi fy the top -k adv erti sement fea tures such that t he informati on ca sca de fr om an ea rly adop ter to a group of target customers cou ld b e maximize d.
 Chall enges. Our top -k reli able c olor set prob lem is a non -trivial on e  X  in fac t, the simplest reli abilit y compu tati on p rob lem ov er un ce rtain g raph s is a # P -complete prob lem [1]. Due to the large size of networks, most work in this regard h as resorted to Mon te-Carl o ( MC ) sampli ng method s [6], as well as other sampli ng tec h-niqu es improv ing upon the e fficiency o f MC method s (e.g., RH T -sampli ng [9]) . Th ese sampli ng -based app roac hes, in rea lit y, esti -mate the reli abilit y b etwee n two nod es very well , and they u suall y requ ire on ly po lyno mial ti me in the size of the network.
However, even co nsidering po lyno mial-ti me sampli ng tec hn iqu es to esti mate reli abilit y, the top -k reli able c olor set prob lem remains NP -hard. More impo rtantl y, un li ke the c lass ica l max-k cov er prob -lem, ou r prob lem is neit her sub -modu lar, no r sup er-modu lar. Th ere-fore, an it erati ve hill -cli mbing algo rit hm that maximall y increa ses the marginal gain at every it erati on , and which h as bee n widely used for solving the max-k cov er prob lem, ca n no long er be e m-ploy ed in ou r ca se for deriving simil ar app rox imati on gu arantee s. Our c ontribu tion. We propo se two b aseli nes to solve ou r top -k re-li able c olor set prob lem, and we a lso d esign a more e fficient and ef-fec ti ve a lgo rit hm that direc tl y find s the high ly-r eli able paths whil e maintaining the budg et on the nu mber of edg e-colors. Our exp eri-mental result s ov er three rea l-w orld large-sca le graph d atasets att est the e ff ec ti veness and efficiency o f ou r app roac h.
An edg e-labeled, un ce rtain g raph G is a qu adrup le ( V, E, C, P ) , where V is a set of n nod es, E  X  V  X  V is a set of m direc ted edg es, C is the set of all edg e-colors in G , wherea s C ( e )  X  C is a set of edg e-colors ass ign ed to the e dg e e  X  E . Finall y, P : E  X  C  X  (0 , 1) ass ign s a c ond iti on al prob abilit y on an edg e given a spec ific c olor, i.e., P ( e | c )  X  (0 , 1) .
 Ed ge Existence Probabili ty. In this work, we a ss ume that t he cond iti on al prob abilit y o f an edg e e  X  E given some c olor c  X  C ( e ) , that i s, P ( e | c ) is ind epend ent [3] of the other colors in C ( e ) . Thu s, the e dg e-existence prob abilit y o f e given the e dg e-colors c , c 2 , . . . , c r  X  C is: P ( e | c 1 c 2 . . . c r ) = 1  X  Given a predefined edg e-color set C 1  X  C , on e ca n compu te a ll the e dg e-existence prob abiliti es in the un ce rtain g raph G . If the edg e-color set C 1 is predefined, we simply wr it e the e dg e-existence prob abiliti es as P ( e | C 1 ) .
 Po ss ible Wo rld S em antics. Th e bu lk o f the lit erature on un ce r-tain g raph s and d evice -network-r eli abilit y ass umes the e xistence of the e dg es in the graph ind epend ent fr om on e a no ther and interp rets un ce rtain g raph s acc ording to the well -kno wn po ss ible-w orl d se-manti cs [6, 8, 9]. More prec isely, given a pre-defined edg e-color set C 1 , a po ss ible graph G  X  hG , C 1 i is a pair ( V, E E G  X  E , and it s s ampli ng p rob abilit y is:
For a po ss ible deterministi c graph G  X  hG , C 1 i , we define a n ind ica tor f un cti on I G ( s, t ) to b e 1 if there is a path in G fr om a sou rce nod e s  X  V to a target nod e t  X  V , and 0 otherw ise. Finall y, the prob abilit y that t is reac hable fr om s in the un ce rtain g raph G and v ia a pre-defined edg e-color set C 1 is defined as the edg e-color-con strained reli ab ilit y fr om s to t , and it i s deno ted by R Th e e dg e-color-con strained reli abilit y is compu ted as foll ows.
Th e nu mber of po ss ible worlds G  X  hG , C 1 i is expon enti al i n the nu mber of edg es, which makes the e xac t reli abilit y compu ta-ti on a # P -complete prob lem; and h ence , almost i nfea sible e ven for mod erately-size d g raph s.
 Problem Stateme nt. We a re no w r ea dy to d efine ou r prob lem statement.

P ROBLE M 1 (T OP -k R EL IABLE C OLOR S ET ). Give n a sou rce nod e s  X  V and a d esti na ti on nod e t  X  V in an edg e-colored, un -ce rtain g raph G = ( V, E, C, P ) , and a small po siti ve integer k , Fig ure 1: Example for Non -Sub -Modu larit y and Non -Sup er-Modu larit y find the e dg e-color-set C 1 of size k tha t maximizes the e dg e-color-con strained reli ab ilit y R C 1 ( s, t ) from s to t . Fo rmall y,
Intuiti vely, the top -k reli able e dg e-colors crea te multi ple paths of high p rob abiliti es fr om s ou rce to d esti nati on nod e. Our prob lem, ho wever, is non -trivial. Th eorem 1 sho ws that Prob lem 1 is NP -hard, even when on e c on siders po lyno mial-ti me reli abilit y esti mati on app roac hes (e.g., MC sampli ng ).
 T HEOREM 1. The top -k reli ab le c olor s et prob lem is NP -ha rd.
P ROO F . We prov e NP -hardn ess by a redu cti on fr om the max-k cov er prob lem. In max-k cov er prob lem, we a re given a un iverse U , and a set of h sub sets of U , i.e., S = { S 1 , S 2 S i  X  U for all i  X  [1 . . . h ] . Th e ob jec ti ve is to find a sub set S of S of size k such that t he nu mber of elements cov ered by S maximize d, i.e., so as to maximize |  X  S  X  X   X  S | . Given an instance of the max-k cov er prob lem, we c on struct i n po lyno mial ti me a n instance of ou r top -k reli able c olor set prob lem.

We pu t i n ou r edg e-colored, un ce rtain g raph G a sou rce nod e s and a desti nati on nod e t . Next, we includ e a set of nod es u u , on e for eac h element i n U ( Z = | U | ) , and conn ec t eac h o f these nod es u to the desti nati on nod e t wit h a direc ted edg e ( u, t ) . Eac h such edg e ( u, t ) has color c , and we a ss ign a prob abilit y P (( u, t ) | c ) = p , wit h p &lt; 1 . We then add a set of nod es x x , on e for eac h element i n U ( Z = | U | ) , and conn ec t eac h o f these nod es x to the sou rce nod e t wit h a direc ted edg e ( s, x ) . Eac h such edg e ( s, x ) also h as color c , and we a ss ign a prob abilit y P (( s, x ) | c ) = p , wit h p &lt; 1 . Finall y, if some e lement u is cov ered by at l ea st on e of the sub sets in S , we a dd a direc ted edg e ( x i , u i ) in G . For eac h o f S j  X  S that cov ers the it em u ass ign a c olor c j on the e dg e ( x i , u i ) , and then, we a lso ass ign a prob abilit y P (( x i , u i ) | c j ) = 1 .

Now, we a sk for a soluti on o f ou r prob lem on the graph con -structed this way by u sing k + 1 colors. One may ob serve that every soluti on to ou r prob lem nece ss aril y takes color c , beca use otherw ise there wou ld b e no way to conn ec t s to t . Also, the re-li abilit y is m aximize d by p rop erly selec ti ng colors that make eac h of the e dg es ( x i , u i ) exist wit h p rob abilit y 1 . However, in o rder for eac h edg es ( x i , u i ) to exist wit h a prob abilit y 1 , it suffice s to have selec ted on ly on e of the c olors betwee n such a pair of nod es. Thu s, we ca n see that maximizing reli abilit y wit h k + 1 colors cor-respond s to maximizing cov erage of elements in U wit h k sets in S . Hence , the theorem.

In this paper, we le ave the foll owing qu esti on op en whether Prob -lem 1 ca n b e a pp rox imately solved wit hin a c on stant fac tor in po ly-no mial ti me or no t. However, we sho w that un li ke the max-k cov er prob lem, ou r top -k reli able c olor set prob lem is neit her sub -modu lar, no r sup er-modu lar; t herefore, making it difficult t o d esign an app rox imate soluti on wit h p rov able perf ormance gu arantee s. C LAIM 1. The to p-k reli ab le c olor s et prob lem is no t sub -m odu lar. A f un cti on f () is s ub -modu lar if it sati sfies the foll owing p rop -erty: f ( A  X  x )  X  f ( A )  X  f ( B  X  x )  X  f ( B ) , for all elements x and all pairs of sets A  X  B . We sho w non -sub -modu larit y o f ou r prob lem wit h an example in Figu re 1(a). More spec ifica ll y, let C 1 = { c 2 } , C 2 = { c 1 , c 2 } . It i s ea sy to v erify that R 0 , R C Clea rly, the sub -modu larit y p rop erty do es no t ho ld in this example.
C LAIM 2. The top -k reli ab le c olor s et prob lem is no t sup er-modu lar.
 A f un cti on f () is s up er-modu lar if it sati sfies the foll owing p rop -erty: f ( A  X  x )  X  f ( A )  X  f ( B  X  x )  X  f ( B ) , for all elements x and all pairs of sets A  X  B . We sho w non -sup er-modu larit y o f ou r prob lem wit h an example in Figu re 1(b). Let C 1 = { c { c 1 , c 3 } . One may v erify that R C 1 ( s, t ) = 0 . 25 , R 0 . 438 , R C 2 ( s, t ) = 0 . 438 , and R C sup er-modu larit y p rop erty do es no t ho ld in this example.
As the top -k reli able c olor set prob lem is NP -hard, we develop two g ree dy b aseli nes, as well as a more e ff ec ti ve a nd efficient heuris-ti c soluti on that prov ides a good app rox imati on to ou r prob lem.
Our ind ividu al t op -k algo rit hm esti mates the reli abilit y b etwee n the sou rce a nd the desti nati on nod es att ained by eac h edg e-color in-dividu all y. In o ther w ords, we c ompu te R { c } ( s, t ) for every edg e-color c  X  L . We repo rt t he top -k edg e c olors that ac hieve the high est reli abilit y ind ividu all y.
 Time Complexity. For eac h color, we ca n esti mate reli abilit y by app lying the MC sampli ng tec hn iqu e. If w e requ ire total K it era-ti on s of MC sampli ng in o rder to g et a good esti mate, then the ti me complexit y to compu te the reli abilit y for eac h color is given by : O ( K ( n + e )) . Here, n and e are the nu mber of nod es and edg es in the un ce rtain g raph , respec ti vely. Th erefore, the ov erall complex-it y o f ou r ind ividu al t op -k baseli ne a lgo rit hm is O ( | C | K ( n + e ) + | C | log k ) , the last t erm is du e to find ing the top -k colors based on ind ividu al reli abilit y v alues.
 Difficulties. Th e ind ividu al t op -k algo rit hm s uff ers fr om s everal sho rtcoming s, which are bo th acc urac y and efficiency-driven.
Our it erati ve hill -cli mbing b aseli ne a pp roac h att empts at solving the acc urac y bo ttl enec k o f the ind ividu al t op -k algo rit hm. At eac h it erati on o f ou r hill -cli mbing algo rit hm, we a dd the c olor c that maximize s the marginal gain in terms of r eli abilit y g iven the parti al set C 1 , which was alrea dy compu ted in the previou s it era-ti on s. Formall y, We perf orm k it erati on s to identi fy the top -k reli able c olor set. Time Complexity. Th e ti me c omplexit y o f eac h it erati on o f ou r hill -cli mbing algo rit hm is O ( | C | K ( n + e )) . Since , we requ ire to-tal k it erati on s, the ov erall complexit y o f ou r sec ond b aseli ne is O ( | C | kK ( n + e )) .
 Difficulties. Th e it erati ve hill -cli mbing method also suff ers fr om bo th acc urac y and efficiency iss ues.
We finall y introdu ce ou r most-r eli able-path b ased h euristi c a p-proac h that eli minates the e fficiency bo ttl enec k o f the two b ase-li nes. We foll ow a two-step app roac h as discuss ed b elow. Most R eli able Pa ths Selec tion. Given an un ce rtain, edg e-colored graph G = ( V, E, L, P ) , a sou rce s  X  V , and a desti nati on t  X  V , we first conv ert G into an edg e-colored, un ce rtain, multi -graph G  X  as foll ows. For eac h edg e ( u, v ) in G , if the e dg e-color set C ( u, v ) = { c 1 , c 2 , . . . , c i } has total i colors, we a dd i edg es { e in the multi -graph G  X  . Eac h n ewly con structed edg e e prob abilit y: P ( e i ) = P (( u, v ) | c i ) . One may no te that G and G equ ivalent i n terms of ou r prob lem. Next, we selec t t he top -r most reli able paths fr om s ou rce s to d esti nati on t in G abilit y o f a path is defined as the produ ct of the e dg e-prob abiliti es along that path. Th e main intuiti on b ehind selec ti ng the top -r most reli able paths is that t he reli abilit y b etwee n two nod es ca n o ften b e app rox imated well by a c oll ec ti on o f the top -r most-r eli able paths betwee n tho se two nod es [4]. Th e value of the parameter r is de-termined empirica ll y, such that t he inclusion o f the top -( r + 1) -th reli able path do es no t sign ifica ntl y increa se the reli abilit y fr om s to t that was alrea dy ac hieved v ia the subg raph indu ce d by the top -r most reli able paths.

Th e top -r most reli able paths fr om s to t ca n b e ob tained by first conv erti ng the un ce rtain, multi -graph G  X  into an edg e-w eigh ted, multi -graph G  X  X  as foll ows. Eac h edg e e wit h p rob abilit y P ( e ) in G is ass ign ed a weigh t { X  log P ( e ) } in G  X  X  . Th erefore, the top -r sho rtest paths in G  X  X  will be the top -r most reli able paths in G next app ly the fastest kno wn algo rit hm by Epp stein et. al. [5] in order to find the top -r sho rtest paths (w it h cycles) in G ti me c omplexit y O ( | C | e + nlogn + r ) . Here, | C | e deno tes the maximum po ss ible nu mber of edg es in the multi -graph G Iter ative Pa th Inclusion. We formall y d efine ou r it erati ve path inclusion p rob lem as foll ows.
 of t he top -r most reli ab le pa ths from s to t in G  X  P 1  X  P , such tha t t he reli ab ilit y Rel P 1 ( s, t ) from s to t , via the Alg o rithm 1 Iterati ve Path Inclusion Algo rit hm 2: whil e total no . of edg e-colors in P 1 less than k do 5: end whil e 6: ou tpu t P 1 Table 1: Grap h Dataset Charac teristi cs Table 2: Av g. Reli abilit y and Efficiency ov er Datasets; Top -k= 5 su bg raph indu ce d b y the pa ths in P 1 , is maximized; whil e the total nu mber of colors on the e dg es of pa ths in P 1 do es no t excee d k . Unfortun ately, ou r it erati ve path inclusion p rob lem is NP -hard; and it i s neit her sub -modu lar, no r sup er-modu lar w it h respec t t o the inclusion o f paths. We omit t he detail s of the proo f du e to li mit ati on o f space . Next, we design an efficient heuristi c a lgo rit hm (A lgo rit hm 1) f or the it erati ve path inclusion p rob lem.
Our heuristi c proce du re works in succe ss ive it erati on s. At eac h it erati on , we a dd the path P  X  to P 1 that maximize s the marginal gain in terms of r eli abilit y g iven the parti al set P compu ted in the previou s it erati on s. Whil e selec ti ng the path P in the c urr ent it erati on , we a lso ensure that t he total nu mber of col-ors used in the paths P 1  X  { P  X  } is no more than k . Finall y, we terminate ou r algo rit hm eit her w hen there is no p ath left i n the top -r most reli able path set P , or w e ca nno t i nclud e a ny more paths wit hou t violati ng the ov erall edg e-color budg et k . We repo rt t he edg e-colors present i n P 1 as ou r final soluti on . Also, if the total nu mber of edg e-colors present i n P 1 is k  X  &lt; k , then we selec t un i-formly at rando m add iti on al k  X  k  X  colors that are no t i n P repo rt all of them, along wit h the e dg e-colors in P for the top -k reli able c olor set prob lem.
 Time Complexity. Let us deno te by n  X  and e  X  the nu mber of nod es and edg es in the subg raph indu ce d by the top -r most-r eli able path set P . Our it erati ve path selec ti on algo rit hm ca n h ave a t most r it erati on s. At eac h it erati on , we perf orm MC sampli ng for O ( r ) ti mes ov er the subg raph indu ce d by the selec ted p aths. If K is the nu mber of samples used in eac h MC sampli ng , the ov erall ti me-complexit y o f ou r it erati ve path selec ti on algo rit hm is O ( r e ) K ) . We here e mph asize that t he subg raph indu ce d by the top -r most reli able paths is m uch sm all er than the inpu t un ce rtain g raph G . Thu s, ou r it erati ve path selec ti on tec hn iqu e is m ore e fficient than the two b aseli nes introdu ce d ea rli er. Datasets: We summ arize ou r data sets in T able 1. Whil e BioMine [10 ] and Fli xter [2] have bo th edg e-prob abiliti es and edg e-colors, Free ba se [7] con tains on ly edg e-colors. Thu s, we a ss ign edg e-prob abiliti es in Free ba se wit h un iform distribu ti on fr om (0 , 1) . Acc uracy a nd E fficiency: We c ompare the acc urac y and efficiency of ou r r eli able-path b ased h euristi c wit h two b aseli nes in T ables 2, 3, and 4 . Eac h result i s repo rted as an average ov er 500 un iformly selec ted sou rce -desti nati on p airs. Th e nu mber of top -r paths for ou r r eli able-path b ased h euristi c is s et as 20 , as increa sing it more than that value do es no t sign ifica ntl y increa se the reli abilit y b e-twee n the sou rce -desti nati on p air. Th e nu mber of Mon te Carl o samples is fixed as 1000 [9]. In all ou r exp eriments, we find that the reli able-path b ased method is s everal orders of magn it ud e faster compared to the sec ond b aseli ne, whil e it still ac hieves s imil ar r eli -abilit y fr om the sou rce to the desti nati on nod e. Also, the reli abilit y ac hieved by reli abilit y-path b ased method and by the sec ond b ase-li ne is m uch h igh er than that of the first baseli ne.
 Table 3: Avg . Reli abilit y and Efficiency wit h Varying Top -k, Free ba se Table 4: Av g. Reli abilit y and Efficiency wit h Varying Distance fr om
We study the nov el prob lem of find ing the top -k edg e-colors s et that maximize s the reli abilit y fr om a sou rce to a desti nati on nod e in an un ce rtain g raph . Our propo sed reli able-path b ased h euristi c is s everal orders of magn it ud e faster than v ariou s na X ve baseli nes, whil e it also ac hieves comparable acc urac y to that of ou r most ef-fec ti ve baseli ne method . In future work, we shall con sider the prob -lem wit h a set of sou rce a nd d esti nati on nod es.
