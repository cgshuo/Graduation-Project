 Abstract Anchor texts complement Web page content and have been used extensively in commercial Web search engines. Existing methods for anchor text weighting rely on the hyperlink information which is created by page content editors. Since anchor texts are created to help user browse the Web, browsing behavior of Web users may also provide useful or complementary information for anchor text weighting. In this paper, we discuss the possibility and effectiveness of incorporating browsing activities of Web users into anchor texts for Web search. We first make an analysis on the effectiveness of anchor texts with browsing activities. And then we propose two new anchor models which incorporate browsing activities. To deal with the data sparseness problem of user-clicked anchor texts, two features of user X  X  browsing behavior are explored and analyzed. Based on these features, a smoothing method for the new anchor models is proposed. Experimental results show that by incorporating browsing activities the new anchor models outperform the state-of-art anchor models which use only the hyperlink information. This study demon-strates the benefits of Web browsing activities to affect anchor text weighting. Keywords Anchor text Document representation Web browsing behavior Web search 1 Introduction Since anchor texts are initially created to help users navigate from one Web page to another, they usually provide short complementary descriptions to their destination Web pages. On the other hand, anchor texts resemble real-world user queries in terms of vocabulary distribution and length (Eiron and McCurley 2003 ), for example, they are both short and descriptive, which makes anchor texts have a better chance to match user queries than the content words of a Web page. These two reasons have motivated the extensive application of anchor texts in commercial search engines (Brin and Page 1998 ). Experi-ments have also shown their capability of improving Web search effectiveness (Craswell et al. 2001 ; Dou et al. 2009 ; Eiron and McCurley 2003 ).

Although many methods have been proposed to use (weight) anchor texts in Web search, these methods usually exploit the hyperlink information, i.e., the information provided by Web page editors. For example, the number of an anchor text from different Web pages is considered as a relevance signal of the destination page with respect to a query matching the anchor text (Dou et al. 2009 ). Since anchor data are initially created to help users browse the Web, user X  X  browsing activities may provide useful or complementary information for anchor text weighting. For instance, the number of visits on an anchor text by different Web users may also be assumed as a relevance signal of the destination page with respect to a query matching the anchor text. This is based on the fact that user X  X  browsing behavior is affected by anchor texts. Users tend to click anchor texts able to navigate them to ideal destination pages during Web browsing. Misleading anchor texts may attract clicks from few users but are not likely to attract clicks from majority of Web users. Even if a misleading anchor text has been clicked by a Web user, the user is not likely to click it again.
 In this paper, we attempt to address the possibility and effectiveness of incorporating Web browsing activities into anchor texts for Web search. To the best of our knowledge, this is the first such effort. We first make an analysis on the effectiveness of anchor texts with Web browsing activities. Next we propose two new anchor models incorporating browsing activities, i.e., the anchor model aggregating browsing activities from different pages and the anchor model which aggregates browsing activities from different sites. Similar to other anchor models, the new anchor models also suffer from the anchor text sparseness problem (Metzler et al. 2009 ). To deal with it, we explore and analyze two features of user X  X  Web browsing behavior on a Web page, i.e., the entropy of browsing users and the entropy of browsing anchors. Based on these features, a smoothing method for the new anchor models is proposed. In experiments, we compare the new anchor models with the state-of-art anchor models (Craswell et al. 2001 ; Dou et al. 2009 ; Metzler et al. 2009 ). Experimental results show that by incorporating browsing information the new anchor models outperform the baseline models using only the hyperlink information. This paper demonstrates the value of Web browsing activities to affect anchor texts weighting. The rest of this paper is organized as follows. Section 2 introduces related work. Section 3 describes some basic knowledge on the data used in this paper. In Sect. 4 ,we propose the new anchor models and the smoothing method. We report experimental results in Sect. 5 and conclude our work in Sect. 6 . 2 Related work Anchor text has been extensively explored and used in the area of Information Retrieval. Craswell et al. ( 2001 ) first propose the method of using anchor text for site finding. All anchor texts pointing to a destination Web page are collected as a descriptive anchor document. They discover that anchor document is especially useful for navigational queries. Eiron and McCurley ( 2003 ) make a statistical analysis on anchor texts by com-paring anchor texts of a Web page with its title and content. They find that anchor texts are Westerveld et al. ( 2001 ) use a similar anchor document like Craswell et al. ( 2001 ) but they use language model (Ponte and Croft 1998 ) for anchor document retrieval instead of Okapi BM25 Model (Robertson et al. 1996 ). In these work, weight of each anchor text is defined as its frequency in an anchor document. Dou et al. ( 2009 ) define the weight of anchor text in an anchor document in a different way. They consider relationship between hyperlinks from different websites, which make use of the hyperlink structure. Metzler et al. ( 2009 ) build enriched anchor documents with anchor texts that have been aggregated across the hyperlink graph. Following these studies, we also use anchor documents for anchor text retrieval. Different from previous studies, Web browsing activities have been incorporated into anchor documents.

Anchor text has been used in other Web search related areas. In cross-language IR, anchor texts are considered as parallel texts for hyperlinks to the same Web page (Lu et al. 2004 ). For query classification, a method of using link distribution of anchor texts across destination pages is proposed in (Lee et al. 2005 ) to discriminate navigational queries from informational queries. This approach is further improved in (Fujii 2008 ) by using the distribution of query terms to deal with the situation in which the queries do not match the whole anchor texts. Anchor text has also been mined for query refinement in (Kraft and Zien 2004 ). They also find that anchor text can augment query refinement result produced by query log. Amitay and Paris ( 2000 ) utilize the structure of hypertext and the way people describe information in it to summarize websites automatically.

Browsing activities of Web users have been collected initially for user behavior analysis and prediction (Sarukkai 2000 ), and it has been used further in recommender algorithms for e-commerce (Sarwar et al. 2000 ). Recently, there are several studies on the utilization of browsing activities in Web search. Bilenko and White ( 2008 ) identify relevant infor-mation sources from the history of combined searching and browsing behavior of many Web users. Liu et al. ( 2008a , b ) show that BrowseRank algorithm based on browsing information works better than hyperlink analysis algorithm such as PageRank. Although these studies use browsing behavior to improve retrieval, (Bilenko and White 2008 ) focus on combining post-search browsing behavior with user X  X  interaction with search engines, and Liu et al. ( 2008a , b ) use Web browsing behavior to estimate Web page importance.
However, all these studies above haven X  X  taken browsing activities into account when using associated anchor texts to improve Web search. When users browse the Web by clicking anchor texts, they tend to click  X  X  X etter X  X  anchor texts able to navigate them to ideal destination pages. This makes anchor texts with browsing activities differ from anchor texts with only the hyperlink information. The latter is easy to be influenced by websites functions and commercial intentions (Dou et al. 2009 ; Gyo  X  ngyi and Garcia-Molina 2005 ). In this paper, we propose methods to incorporate browsing activities into anchor text weighting for Web search. 3 The data In this section, we introduce some basic knowledge and details about the data used in this paper. 3.1 Anchor data A hyperlink is a relationship between two Web pages or two parts of the same Web page. The source Web page is the one containing the link. For instance, the source Web page www.google.com would contain text such as: in its HTML script. The destination Web page is the one referred to by the link, in this case http://www.image.google.com . The link X  X  anchor appears to the user in the source page destination page. A source page usually links to one or more different destination pages using different anchor texts and a destination page can also be linked by several source pages using different anchor texts. If a Web page links to a destination page with the same anchor text more than once, it counts only once in this paper.

The anchor data are obtained from a large scale of Web page collection, which contains 135.4 million Web pages from 5.3 million Chinese Web sites, and the total storage size is 5.0 TBytes. This Web page collection is large enough for us to study the problem in a more realistic setting and to make our experimental result applicable for practical Web search. This Web page collection is completely open online. 1
We obtain 6.9 billion anchors from the Web page collection. Since there exists a large amount of noise such as  X  X  X he previous one X  X   X  X  X ext X  X ,  X  X  X nd more X  X  etc. in original anchor texts, we ran a preprocessing process to filter out these less informative anchor texts. After preprocessing, we obtain 6.7 million distinct and more informative anchor texts. Note that one distinct anchor text usually links to many different destination pages. 3.2 Web browsing data With the development of search engines, Web browser toolbars become more and more popular recently. In order to provide value-added services to users, most toolbar services collect anonymous click-through information from users X  browsing behavior. Previous work such as (Bilenko and White 2008 ) adopted this kind of click-through information to improve ranking performance. Our previous work (Liu et al. 2008a ; Yiqun and Liyun 2006 ) proposed a Web spam identification algorithm based on this kind of user behavior data. In this paper, we also adopt Web browsing logs collected by search toolbar because this kind of data sources collect user behavior information at low cost without interrupting users X  browsing behavior. A browsing event recorded in these logs is shown in Table 1 .
If a user directly input a destination URL instead of clicking an anchor text on a source page, the  X  X  X ource URL X  X  item is set as  X  X  X ULL X  X . From Table 1 we can see that no privacy information is included in the log data. The information shown can be easily recorded using browser toolbars by commercial search engine systems. Therefore it is practical and feasible to obtain these types of information.

In this paper we define a user session as a logical unit of user X  X  Web browsing. We use two common rules to segment user sessions (White et al. 2007 ; Liu et al. 2008a , b ). First, if the time of the current event is 30 min behind that of the previous event, then the current event is regarded as the start of a new user session; otherwise, if the  X  X  X ource URL X  X  of the record is  X  X  X ULL X  X , then we regard the current event as the start of a new user session.
With the help of a widely-used commercial Chinese search engine, Web browsing logs of 1 year were collected from the year 2008. Over 9.4 billion browsing events on 12.5 million Web sites were recorded in these logs. 3.3 Query logs Query logs of search engines usually record not only users X  queries to search engines but also user X  X  interactions with search engines (e.g. URL clicked by users in search results). In this paper, we need query logs to analyze the effectiveness of anchor texts with browsing activities in Sect. 4.2 .

We use query logs of a widely used Chinese commercial search engine. The query logs of 9 months from Jan. 1st, 2008 to Sep. 30th, 2008 are used in this paper. In total, we use over 4.3 million unique queries and over 45 million individual interactions with the search engine. 4 Anchor models When anchor texts are used for Web search, building an anchor document 2 for the target Web page is reported to be effective (Craswell et al. 2001 ; Westerveld et al. 2001 ; Dou et al. 2009 ). We follow these studies to construct an anchor document for the target Web page. In this section, we first present general anchor document representation. Next we propose new anchor models incorporating Web browsing activities. Finally the smoothing method for the proposed anchor models is proposed. 4.1 General anchor document representation We formalize anchor texts and their target Web pages as a weighted matrix shown in Fig. 1 , in which, a i represents an anchor text and d j represents a target page ( m and n equal to the total number of distinct anchor texts and Web pages respectively). w ( a i , d j ) repre-d ) [ in the matrix is regarded as the anchor document (representation) of the page d j .
The definition of w ( a i , d j ) is important. Different anchor models have different defini-tions for w ( a i , d j ), which correspond to different types of anchor document representations. source pages containing hyperlinks to the destination page http://www.acm.org with the anchor text  X  X  X CM X  X , weight assigned to http://www.acm.org and  X  X  X CM X  X  pair is 1,000. definition has taken account of the relationship among different sites. Two kinds of anchor document representations both make use of the hyperlink information. In order to improve ranking accuracy of anchor document representation, in this paper, we try to define a different kind of anchor document representation which makes a better estimation of w ( a i , d ) by incorporating Web browsing activities. The anchor document representations pro-models.

After an anchor document is constructed for its target page, different ranking methods, such as BM25 model (Robertson et al. 1996 ) and the language model (Ponte and Croft 1998 ), can be used to retrieve the anchor documents and to evaluate the relevance between user queries and anchor documents. In this paper, we use the same BM25 model as in (Craswell et al. 2001 ; Dou et al. 2009 ) to rank anchor documents.

Dou et al. ( 2009 ) has reported another effective ranking method for anchor document representations. When a search query q exactly matches an anchor text a i , the transition probability matches an anchor text, both the transition probability and BM25 score are used to evaluate relevance of a query to an anchor document; otherwise, only BM25 score is used. 4.2 Analysis on anchor texts with browsing activities Eiron and McCurley ( 2003 ) conclude that the main reason for the effectiveness of anchor texts in Web search is that they resemble real-world search queries in terms of term distribution and length. Thus, if we can validate that anchor texts with browsing activities are more similar to search queries than other anchor texts, it X  X  reasonable to expect that incorporating browsing activities is able to provide better anchor texts weighting mecha-nism for Web search.

We first construct two kinds of anchor document for each Web page, i.e., an anchor document constructed using raw anchor data (all hyperlinks and associated anchor texts, RawAncDoc in short), and an anchor document constructed using anchor texts with browsing activities, ClkAncDoc in short ( ClkAncDoc is RawAncDoc after eliminating those anchors without clicks). Next, we construct a query document for each Web page, which consists of search queries Web users submit to search engines and then click the Web page, QueryDoc in short (the search query and Web page pair are extracted from query logs described in Sect. 3.3 ). If the term frequency distribution of ClkAncDoc is more similar to the distribution of QueryDoc than RawAncDoc , we have reason to believe incorporating browsing activities is able to provide better anchor texts weighting. In this paper, we use Kullback X  X eibler (KL) divergence with Laplace smoothing method to measure similarity between two term frequency distributions. The formula for the KL divergence is: where p q and p a are the relative frequencies of term x in the query and anchor document distributions respectively. V q represents the vocabulary set of query document. In this ordering, the query distribution is considered to be the  X  X  X rue X  X  distribution and the anchor document distribution is seen as an approximation to it. The relative frequency is calcu-lated as follows: where tf q ( x ) is the number of occurrences of term x in the query document for a particular URL. Since the KL divergence becomes infinite whenever any term in the query document vocabulary but not in the anchor document vocabulary, we replace the relative frequency by a Laplace smoothed estimate p a 0 ( x ). By performing Laplace smoothing over all terms in the union of the vocabularies we guarantee that the KL divergence will be finite: This smoothing method introduces no additional smoothing coefficient parameters.
Figure 2 shows the KL divergence between queries and anchor texts for 1,000 randomly sampled URLs; The URLs have been ordered from most similar to least. KL( p q || p ra ) represents KL divergence between queries and raw anchor texts; KL( p q || p ca ) represents KL divergence between queries and anchor texts with user clicks. This plot tells us how well the smoothed anchor document term distributions do at describing the term frequencies observed in the query data. Higher values on this graph indicate lower similarity between indicates that anchor texts with user clicks are more similar to search queries. Based on this fact, it X  X  reasonable to expect that incorporating browsing activities is able to provide better anchor texts weighting mechanism for Web search. 4.3 Incorporating browsing activities In this section, we propose two new anchor models incorporating browsing activities. The first model aggregates user X  X  browsing activities from different pages and is abbreviated as UPM (U: User, P: Page, and M: Model); the second one aggregates browsing activities from different sites and is abbreviated as USM (S: Site). Two models have different definitions for w ( a , d t ) in the general anchor document representation described in Sect. For convenience, some basic definitions and symbols used in the remaining sections are pre-defined in Table 2 . 4.3.1 Page-level aggregation (UPM) To describe the anchor model incorporating browsing activities, we first build the Web browsing graph G u ( N , E u ) using Web browsing data mentioned in Sect. 3.2 . The Web browsing graph is constructed according to the definition of G u ( N , E u ) in Table 2 .
The weight w up ( a , d t ) in UPM between anchor text a and target page d t is defined as follows.
 browsing events from different source pages to target page d t with anchor text a. p ( d t | a ) can be obtained accordingly based on the definition of (Eq. 1 ) described in Sect. 4.1 .

Figure 3 a illustrates an example of Web browsing data; five Web browsing events are listed in tetrads. For ease of explanation, only one distinct anchor text a is involved in this example. In Fig. 3 b, each inverse triangle represents anchor text a on a source page; each circle node represents a target page. Meanwhile an arrow represents a hyperlink associated with anchor text a . The number (weight) associated with an arrow represents the count of text a on source page d s 1 and navigated to target page d 1 ; and hence the weight of arrow \ d s 1 ,d 1 [ equals to 2. Meanwhile, there is no user visit on the anchor text a on source page d 2/5 = 0.4; p up ( d 2 | a ) = 3/5 = 0.6.

Note that, in this model, multiple Web browsing events initiated in one user session from the same source page to the same target page with the same anchor text are calculated importance for its target page.

UPM based anchor documents 3 can be regarded as being constructed by a double election process. The page authors first make a list of target page candidates for an anchor text, and then Web users vote for them unconsciously during Web browsing. Thus, to a certain extent, UPM based anchor documents reflect both the recommendation of page content editors and the preference of Web users. 4.3.2 Site-level aggregation (USM) In UPM, w up ( a, d t ) is defined as the number of Web browsing events from different source pages to target page d t with anchor text a . UPM doesn X  X  consider whether the browsing events are from source pages of only one website or from source pages of many websites. We assume that browsing events with source pages from more sites are better than those from fewer sites. Thus, in this section, we propose USM, which takes account of browsing events at site level. The weight w us ( a , d t ) in USM between anchor text a and target page d t is defined as follows. where, from source pages of site i to target page d t with anchor text a ; E h represents the edge set of the hyperlink graph G h ( N , E h ) defined in Table 2 ; number of web pages in site i with anchor text a to target d t .
 equals to the average number of browsing events from site i to target d t with anchor text a . We have tried various methods for aggregating browsing events from different pages of the same site, such as maximum, minimum etc. Mean is finally adopted for its simplicity and effectiveness. S * represents all websites. w us ( a , d t ) actually counts the average number of browsing events from different websites to the target page d t with the anchor text a .
In Fig. 3 , page d s 1 and page d s 2 are from the same web site 1 , meanwhile d s 3 and d s 4 3/4 = 0.75. 4.4 Smoothing 4.4.1 The smoothing method Similar to other anchor models (Metzler et al. 2009 ), UPM and USM also suffer from the data sparseness problem. According to our statistics, 25.3% web pages have empty UPM/ USM based anchor documents. For many other pages, UPM/USM based anchor documents are very short. We refer to this as the sparseness problem of user -clicked anchor texts . The major cause of this sparseness problem is the fact that not all anchor texts are clicked by users. Many anchor texts on Web pages receive no user click. Some of these non-clicked anchor texts are irrelevant to their target pages, while some of them are with high quality and relevance to the target page.

In UPM and USM, we assume that anchor texts with user clicks may be useful, and we only take account of these anchor texts. However, anchor texts with clicks are sparse. To deal with the problem, we introduce another assumption that anchor texts on qualified Web pages (explained later) are also useful. Thus, in our smoothing method, we consider both anchor texts with user clicks and anchor texts on qualified pages.

Our smoothing method is to enrich UPM/USM based anchor documents with anchor texts on qualified pages. Pages are qualified and selected into the heuristic page set N H if they satisfy a certain condition.
 where, Criterion ( d ) is the criterion function; d is the smoothing parameter which controls the number of pages included in N H , i.e., the size of N H . All anchor texts on pages in N H are added into UPM/USM based anchor documents of their target pages. The weight for an anchor text on a page in N H is set as 1. In this way, the UPM/USM based anchor documents are expanded with useful anchor texts.

This smoothing method can be regarded as the process: due to various factors, the votes of Web users are incomplete; we use some strategies to select some page content editors to make up for the missing votes.
 follows.
 follows.
 d ) = 2 ? (0 ? 1) ? (0 ? 1) = 4, w up 0 ( a , d 2 ) = 3 ? 1 = 4; w us 0 ( a , d 1 ) = (2 ? (0 ? 1))/ 2 ? (0 ? 1)/1 = 2.5; w us 0 ( a , d 2 ) = (3 ? 1)/1 = 4.

Now the problem becomes how to define the criterion function Criterion ( d ). Since we UPM/USM based anchor documents enriched with highly effective anchor texts), the criterion function should score the effectiveness of anchor texts on a Web page. We explore two features which correlate with the effectiveness of anchor texts. Based on these features, we define the criterion function. 4.4.2 Entropy of browsing users (BUE) The first feature is called as Entropy of Browsing Users (BUE): visited by user session u .
 BUE measures the degree to which a page is prone to be visited by different users. As we will show next, BUE correlates with the effectiveness of anchor texts.

To investigate the relation between BUE and effectiveness of anchor texts, we first BUE (d i ) [ BUE (d j ) . Then we use anchor texts on pages of S 1 and S 2 to construct anchor documents BUEGtDoc and BUELtDoc respectively. Again we compare the KL divergence between BUEDoc and QueryDoc for every page. The formula for KL divergence and the smoothing method are the same as those described in Sect. 4.2 . Figure 4 shows the dis-tribution of KL Divergence: KL( p q || p buegt ) of 76% pages are smaller than 1.5, meanwhile averagely smaller than KL( p q || p buelt ), which indicates that anchor texts on pages with more different visiting users are more similar to search queries. In other words, anchor texts on pages with higher BUE value are more effective for Web search than other anchor texts. 4.4.3 Entropy of browsing anchors (BAE) A Web page usually contains many anchors on it. But not every anchor is clicked by Web users, such as  X  X  X opyright X  X ,  X  X  X ontact Us X  X , and some advertising anchors etc. Although BUE score reflects whether a page is prone to be visited by different users, it can X  X  reflect all the anchor texts on this page are preferable. For example, the pages containing only 1 or 2 useful anchors and a large number of anchors with commercial intentions often get high BUE value because many different users visit the useful anchors. If we use BUE directly as the criterion function and choose it, a large number of commercial intentional anchors will also be added into UPM/USM based anchor documents. These pages are very common in practice.

The criterion function is expected to select pages which are not only visited by many Entropy of Browsing Anchors (BAE), to reflect how user clicks scatter on different anchors of a page. The definition of BAE is as follows.
 in which, A represents all anchor texts; P ( a | d s ) represents the probability that anchor text a on source page d s is clicked by different user sessions.
 BAE measures the degree to which user clicks on a source page are scattered on different outgoing anchors of this source page. It focuses on links from a page rather than links to a page.

BAE also correlates with the effectiveness of anchor texts. The approach for BAE analysis is similar to the one for BUE described in Sect. 4.4.2 . Figure 5 shows that with higher BAE value are more effective for Web search than other anchor texts. 4.4.4 Criterion functions As mentioned in Sects. 4.4.3 and 4.4.4 , both BUE and BAE reflect the effectiveness of anchor texts on a page and they measure different aspects of user X  X  browsing behavior. In this section, based on BUE and BAE we define different criterion functions, which are shown in Table 3 .

CF1 and CF2 directly use BUE and BAE respectively. Since BUE and BAE reflect different aspects of user X  X  browsing behavior, the combination of them is expected to gain complementary effectiveness. In this paper, we use two common strategies for their combination, i.e., linear combination (CF3) and multiplication (CF4). Comparative experimental results are shown in Fig. 10 of Sect. 5.2.4 (CF4 is shown to be quite effective in practice). Since the focus of this paper is incorporating browsing activities, we leave the exploration of other features and criterion functions as future work. 5 Experiments 5.1 Settings and methodology 5.1.1 Anchor models Our goal is to investigate the performance of different anchor models for Web search. To compare new anchor models with previous studies, we adopt some existing anchor models as baselines. The anchor models examined in our experiments are categorized into two types, i.e., the page-level models and the site-level models. The page-level models are as follows.  X  Baseline1: HPM (H: Hyperlink). This page-level hyperlink model has been adopted in  X  Baseline2: HPAAM (AA: Aggregated Anchor). This model has been proposed in  X  UPM : UPM aggregates browsing activities from different pages, which is described in  X  UPM ? SMTH : (SMTH: Smoothing). In this model, the UPM based document
The site-level anchor models are as follows.  X  Baseline3: SRM: (R: Relationship). The site relationship model has been proposed by  X  USM : UPM aggregates browsing activities from different sites, which is described in  X  USM ? SMTH : In this model, the USM based document representations are smoothed
In our experiments, anchor data are obtained from the Web page collection mentioned in Sect. 3.1 . This Web page collection contains 135.4 million Web pages from 5.3 million Chinese Web sites. We obtain 6.9 billion anchors from this Web page collection. Since there exists a large amount of noise such as  X  X  X he previous one X  X   X  X  X ext X  X ,  X  X  X nd more X  X  etc. in anchor texts. After preprocessing, we obtain 6.7 million distinct anchor texts. Note that one distinct anchor text usually links to many different destination pages.

For each page in this collection, different types of anchor documents are constructed respectively using different anchor models mentioned above. We index different types of anchor documents and ranking experiments are performed on them using different ranking methods. Besides, we also test the ranking performance of page content and the combi-nation effectiveness of page content and anchor texts. 5.1.2 Ranking methods We use the following ranking methods.  X  BM25 ( and BM25F ): Okapi BM25 model (Robertson et al. 1996 ) is one ranking model  X  QAMatch ? BM25 : When a search query exactly matches an anchor text, the transition 5.1.3 Evaluation methodology To evaluate the ranking performance, we need a dataset containing queries and their relevant answers. Our experiments make use of a dataset which contains 3,000 randomly sampled real search queries from query logs of a widely used commercial search engine. These queries are uniformly sampled from all unique queries received during Jan. 1st, 2008 to Sep. 30th, 2008. (In total, there are over 4.3 million unique queries. Also described in Sect. 3.3 ) For each query, we collect together top 20 search results produced by different anchor models and ranking methods. Each document has been judged by a human anno-tator and given a rating as to how relevant it is for the corresponding query. This rating is one of Perfect, Good, or Bad (both Perfect and Good are called  X  X  X elevant X  X  in our experiments). Furthermore, each query is manually labeled by a human annotator as one of the three types, i.e., navigational queries, informational queries, and transactional queries (Broder 2002 ). In the dataset, there are 1,152 (38.4%) navigational queries, 568 (18.9%) informational queries, and 1,280 (42.3%) transactional queries, and the proportions for each type of queries are in accordance with the statistics reported in (Broder 2002 ). The human annotators are all from a professional annotation team of the commercial search engine company.
We evaluate the ranking performance over a range of accepted information retrieval metrics as follows.  X  Precision at N ( P@N ): reports the fraction of Perfect and Good documents ranked in  X  Mean Average Precision ( MAP ): Average precision emphasizes ranking relevant  X  NDCG at N (NDCG@N): NDCG is a measure devised specifically for Web search 5.2 Results whether our models can generate better weights. Next, we investigate the performance of different anchor models for different types of queries. And then, we evaluate the retrieval performance when page content and anchor text are combined together. Finally the analysis on the smoothing method is carried out to compare performance of different criterion functions and to tune the settings of the smoothing parameter. 5.2.1 Performance of different anchor models with different ranking methods Table 4 shows the document ranking performance of different anchor models with dif-ferent ranking methods. The results are divided into two parts, i.e., the upper part (from Row 1 to Row 8) and the bottom part (from Row 9 to Row 14). The results of the page-level anchor models are shown in the upper part; the results of the site-level anchor models are listed in the bottom part. The relative improvements of the new anchor models versus the baseline anchor models are also shown in this table. Both HPM (B1) and HPAAM (B2) are the page-level baseline models; meanwhile SRM (B3) is the site-level baseline model. The results of two-tailed t test are reflected by the up marks or the down marks. The best result among different anchor models with a certain ranking method is shown in bold. We can make the following observations: 1. When the ranking method BM25 is used with the page-level anchor models (Row 2. When the ranking method QAMatch ? BM25 is used with the page-level anchor 3. When BM25 is used with the site-level anchor models (Row 9 X 11), similar 4. When QAMatch ? BM25 is used with the site-level anchor models (Row 12 X 14), 5. By comparing the performance of the new anchor models at page-level with the new 6. By comparing the performance of different ranking methods (Row1 vs. Row5; Row 2
From Table 4 , we know that the site-level anchor models the corresponding page-level models. To further illustrate the performance of the site-level anchor models, P@1 X 10 for different site-level anchor models are shown in Fig. 6 . Similarly, when BM25 is used with the site-level models, USM ? SMTH USM SRM (all at p \ 0.001). When BM25 ? QAMatch is used, USM only outperform SRM on top 2 results and USM ? SMTH achieves the best performance.

To sum up, USM ? SMTH with QAMatch ? BM25 consistently and significantly outperforms the baselines (B1, B2, and B3) and achieves the best performance. In addition, the results in Table 4 are consistent with the results of comparative analysis in Sect. 4.2 (although QueryDoc contains some bias such as URL X  X  ranking position etc.). 5.2.2 Performance of different anchor models for different types of queries As (Craswell et al. 2001 ; Dou et al. 2009 ) mentioned in their studies, anchor models may experiment to examine the performance of the anchor models for different types of queries mentioned in Sect. 5.1.3 . To compare with the anchor models, we also experiment with the page content. Figure 7 shows the performance of the site-level anchor models with the ranking method QAMatch ? BM25 for different types of queries. From this figure, we can observe the following facts: 1. When the search queries are navigational, we find that the new models (USM and 2. When the search queries are informational, the performance of USM improves the top 3. When the search queries are transactional, the performance of the new anchor models
To illustrate how browsing activities of users reflect the quality of transactional services provided by target pages, we compare the transition probabilities of UPM and HPM when denotes the transition probability in UPM. The target pages have been ordered from most to least according to p hp (d | a) . For the transactional Web service X  X ap online, in Chinese market map.google.com and map.sogou.com provide very good user experience and ser-vice quality. They are so popular that users often want to find them in the search results when they submit the query  X  X  X ap online X  X  to search engines. However, Fig. 8 a shows that they have very low p hp ( d | a ) value. Meanwhile the pages ( http://www.51ditu.com and http://www.52maps.com ), which have high p hp ( d | a ) value, provide worse user experience and service quality. According to our investigation, the pages http://www.51ditu.com and http://www.52maps.com have high p hp (d | a) value mainly because they are linked by many different websites for the purpose of advertisement. By contrast, map.google.com and map.sogou.com have higher p up ( d | a ) value than http://www.51ditu.com and http:// www.52maps.com , which more objectively reflects the actual user experience and service www.jipiaotaobao.com , http://www.qunar.com ,and http://www.ctrip.com ) are highly ranked by UPM, but get lower ranks in HPM. Meanwhile, the pages with more commercial incoming links ( http://www.airtofly.com and fly.piao.com.cn ) are highly ranked by HPM. 5.2.3 Combining page content and anchor text Since page content and anchor texts may reflect different aspects of a document, they are usually combined together in modern search engines. We also test the approach combining page content and anchor texts. Robertson et al. ( 2004 ) pointed out that a linear combination of BM25 scores is problematic and proposed a linear combination of term frequencies (BM25F). In this paper, we use the same term frequency combination method as in term t in page content and anchor text fields of page d . The BM25 score is calculated based on the aggregated term frequency W bm 25 f ( t , d ) over page content and anchor text fields as follows: where a is a combination parameter that decides the weight of page content and anchor text in the aggregated BM25 score. The combined document length is also calculated using the same method.

Since Table 4 shows that QAMatch is effective for ranking anchor document repre-sentations, we also incorporate the QAMatch score when page content and anchor texts are combined together. To incorporate the QAMatch score into BM25F score, we use the method proposed in (Agichtein et al. 2006 ). I d represents the rank of page d obtained from the QAMatch score, and O d is the rank of page d obtained from the BM25F score. The merged score is calculated as follows.
 where x I represents the importance of QAMatch and equals to 2 in our experiments. From ( Eq. 5 ) , we know that QAMatch score actually reorders the rank produced by the BM25F score. Figure 9 shows the experimental results with different settings of the combination parameter a in ( Eq. 4 ) . From this figure, we can observe the following facts: 1. Figure 9 a shows that USM outperforms SRM on NDCG@1 and USM ? SMTH 2. Figure 9 b shows that USM fail to obtain statistically significant improvement versus 5.2.4 Analysis on the smoothing method In this section, we provide deeper analysis on the smoothing method. We compare the performance of different criterion functions (shown in Table 3 ) with different settings of the smoothing parameter. We compare the performance of different anchor documents produced by USM ? SMTH with different criterion functions and different settings of the smoothing parameter. Meanwhile the ranking method QAMatch ? BM25 is used in the experiments. In order to make the tuning process convenient, the smoothing parameter d is normalized between 0 and 1. When the Norm( d ) equals to 0, anchor texts on all source pages are aggregated into the USM based anchor documents of their target pages. When the Norm( d ) equals to 1, no anchor text is added into the USM based anchor documents; As a result, USM ? SMTH construct anchor documents equal to USM.

Figure 10 a shows AveNDCG results of different criterion functions with different settings of the smoothing parameter. CF1 and CF2 achieve the best performance when the smoothing parameter equals to 0.8, while CF3 and CF4 achieve the best performance at d = 0.9. Figure 10 b shows NDCG@1/5/10 results of different criterion functions (the smoothing parameter equals to 0.8 for CF1 and CF2 and equals to 0.9 for CF3 and CF4). Both CF3 and CF4 outperform CF1 and CF2, which implies that combining BUE and BAE together is better than using them respectively. Moreover, CF4 consistently outperforms CF3 (all at p \ 0.001). That X  X  why the results of CF4 are shown in all experiments in previous sections. According to our investigation, USM ? SMTH consistently outperforms UPM ? SMTH for different criterion functions. Thus, for clarity of Fig. 10 , we only show the experimental results of USM ? SMTH with different criterion functions. The results of UPM ? SMTH with different criterion functions are similar to USM ? SMTH, i.e., CF4 consistently achieves the best performance. 6 Conclusions Existing methods of anchor text weighting mainly focus on using the hyperlink based information, which to some extent reflects the recommendation of page content editors. Browsing behavior of Web users reflects the crowd wisdom and provides complementary information for anchor text weighting. However, this information has not been taken into account when associated anchor texts are used to improve Web search.

In this paper, we discuss the possibility and effectiveness of incorporating browsing activities into anchor texts for Web search. We first discuss the effectiveness of anchor text with browsing activities. We find that anchor texts with browsing activities are more effective for Web search than other anchor texts. Then, we propose two new anchor models (UPM and USM) which aggregate browsing activities at page-level and at site-level. UPM/ USM based anchor documents can be regarded as being constructed by a double election process. The page authors first make a list of target page candidates for an anchor text, and then Web users vote for them unconsciously during Web browsing. Thus, to a certain extent, UPM/USM based anchor documents reflect both the recommendation of page content editors and the preference of Web users. To further tackle the data sparseness problem of user-clicked anchor texts, the smoothing method has been proposed. This smoothing method is based on two features (BUE and BAE) reflecting user X  X  browsing behavior on a Web page.

In experiments, we compare the new anchor models incorporating browsing activities with existing anchor models. We find that the new anchor models after smoothing con-sistently and significantly outperforms the state-of-art anchor models which use only the hyperlink based information. This paper demonstrates the value of Web browsing activities to affect anchor text weighting.
 References
