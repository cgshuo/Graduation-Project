 Smartphones, equipped with low-cost and short-range communication devices (e.g., Wi-Fi and Bluetooth), high-cost and long-range communication devices (e.g., 3G and 4G devices), powerful processors, and rich operating systems have become widely available. As consumers depend on smartphones for phone calls and entertainment, merchants rely on them for capturing markets, including the ad market. FORTUNE 1 magazine reports that Facebook, one of the well-known social networks, had revenues of $1.3 billion from mobile ads, amounting to almost 60 percent of the company's overall revenue in 2013 and the global mobile ad market will reach $31 billion in 2014. Acknowledging such enormous business opportunities, multiple ad systems for mobile networks have been developed (e.g., B-MAD [1], SNMART [2] and Concierge [3]). Recently, significant effort has been expended on constructing ad dissemination systems for ephemeral networks (e.g., SID[4], P 3 -Coupon [5] and SSD[6]) .
An ephemeral network has two basic features: (1) Nodes in the network have high mobility . (2) Mobile nodes often use short-range communication services such as Wi-Fi and Bluetooth (because these services are frequently free). Consequently, interactions between nodes are often short and ephemeral. Hence, the network is called an ephemeral network . In recent years, information dissemination for ephemeral networks has attracted widespread attention from academia to industry [7] X  X 14]. Motivation. Although many solutions have been proposed in the literature for ad dissemination in ephemeral networks, the selfness for ad dissemination remains is a challenging problem. In an ephemeral network, nodes are frequently selfish and reluctant to participate in forwarding an ad for the following reasons: (1) Resource Limitation . Smartphones X  resources are typically limited. Disseminating ads tends to consume energy and reduce a node X  X  overall lifespan. (2) Privacy Leakage . Smartphones record significant private information, e.g., user X  contacts, photos, and call records, and most users are concerned with this information being leaked when disseminating ads. Nodes may be unwilling to disseminate an ad if they do not receive sufficient incentive. Some existing incentive strategies are based on the assumption of complete information [23]] [41] (i.e., that a node knows all the information of the other parties). This assumption, however, is unrealistic in ephemeral networks because of the transient and short-lived nature of the networks. Contribution. In this paper, we investigate the robustness of ad dissemination in ephemeral networks. In contrast to existing approaches, we consider individual ra-tional nodes that can decide themselves to forward an ad. We begin by analyzing the factors that could affect a node X  X  decision and encourage the node to cooperate. Based on a realistic incomplete information assumption, we propose a bargaining-based dissemination game to assist nodes in making their decision whether to forward an ad. It is shown that there exists at least one Bayesian Nash equilibrium in G D . Sim-ulation results confirm that our approach provides appropriate incentive and efficient-ly trades-off the utility between disseminators and ad providers and encourages nodes to disseminate ads. The proposed scheme has also higher dissemination accuracy: the majority of the ads are disseminated to the interested nodes. Information Dissemination in Ephemeral Networks. The early research landscape on ephemeral networks predominantly focused on routing. In 2005, Motani et al. [7] began to study information dissemination in delay tolerant networking (DTN) and proposed a simple, scalable and low-cost architecture for information searches. Be-cause their approach is based on epidemic dissemination, it is inefficient under non-uniform mobility pattern. Since 2005, significantly more effort has been directed towards information dissemination in ephemeral networks. Drabkin et al. [8] re-viewed the work in this field from 2005 to 2011. In our paper, we will only survey the related work of the past three years (i.e., from 2012 to today). In 2012, based on the concept of acknowledgment, Ros et al. [9] proposed a broadcast protocol for reliable and efficient data dissemination in vehicular networks. Their approach resolves prop-agation at road intersections and does not require intersection recognition. Its coding overhead, however, was a bottleneck. Exploiting the concurrency potential of sensor nodes to resolve the coding overhead, Gao et al. [10] extended the Deluge (a popular protocol for bulk data dissemination) and proposed a multithreaded data dissemina-tion protocol. At the same time, based on random linear network coding, Tang et al.[11] proposed a one-sided protocol and Zeng et al. [12] proposed a segmented net-work coding scheme. These two approaches minimize the time that a node requires to receive a copy of an entire message and can efficiently exploit the transmission op-posed data broadcasting schemes for vehicular ad hoc networks and for mobile social systems for ephemeral networks. They focused on privacy protection and cash with-drawal, respectively. 
Although significant effort has been dir ected towards designing efficient schemes for disseminating information in ephemeral networks, almost all of the proposals require that nodes in the network are cooperative, and it is assumed that these nodes are willing to cooperate. Such an assumption is unrealistic in ephemeral networks. A its resources are limited. Incentive in Ephemeral Networks. To encourage selfish nodes to cooperate, multi-ple strategies have been proposed, primarily in two categories: credit-based [4], [5], [15] X  X 17] and reputation-based [18] approaches. 
Zhang et al. [15] used controlled coded packets as a virtual commodity currency to induce cooperative behavior and to reduce overhead. Teng et al. [5] designed the probabilistic one-ownership forwarding algorithm to disseminate large-scale coupons in ephemeral networks. Based on a time slot, Ning et al. [4] proposed a self-interest-driven scheme to motivate cooperation among selfish nodes for ad dissemination in social networks. Refaei et al.[18] proposed a reputation-based incentive scheme to monitor the changes of node behavior quickly and accurately. 
In the literature, game theory is often used to model and analyze incentive behav-ior. For example, Chen et al. [19] used a coalitional game to stimulate cooperation in vehicular ad hoc networks. Li et al. [20] analyzed the cooperation incentives in both the price-based mechanism and reputation-based mechanism. We [17] built a game model for cooperative authentication to assist nodes in making decisions. Raya et al. [21] and Reidt et al. [22] presented novel key-revocation game schemes for ephemeral and ad hoc networks, respectively. Manshaei et al. presented an overview of applying game-theory to solve security and privacy problems in networks. Although many schemes have been proposed in the literature for encouraging the cooperation of nodes, none of them provides solutions for encouraging nodes to forward ads to the interested nodes in ephemeral networks. In this paper, we study robust ad dissemination in ephemeral networks formed by mobile smartphones (throughout this paper, we refer to smartphones as nodes or dis-seminators). The proposed model includes two parts: Ad providers (e.g., C2C stores) and mobile nodes. 
Ad providers (i.e. merchants) are responsible for broadcasting ads to potential dis-disseminators. Our goal is to encourage nodes to disseminate ads to potential and interested consumers. Mobile Nodes. Each node is a potential disseminator in the proposed model. Assump-tions regarding disseminators are as follows: (1) The node X  X  computing capability is powerful and their energy is strong but limited; thus, they can run a watch-like mech-anism to receive, verify and forward ads fr om neighboring nodes. (2) Interactions among neighboring nodes do not rely on network infrastructures, rather, on device-to-device communications (e.g., Wi-Fi or Bluetooth) because of their low cost. Howev-er, nodes access the Internet through network infrastructures using long-range radio (e.g., 3G or 4G network) or shot-range communications (e.g., Wi-Fi connected to the Internet). (3) To prevent location or identity from being monitored, we adopt pseudo-nyms that are widely adopted in both industry and academia. In generally, pseudo-nyms are scarce resources, that is, the number of pseudonyms is often limited, and if frequently changed, they will be quickly exhausted. After exhaustion, nodes must purchase new pseudonyms from certification authorization (which is responsible for managing pseudonyms). (4) A node X  X  digital cash is its private property and only its owner can make withdrawals using online payment services, such as PayPal and Zhifubao 2 . Once receiving ads from an ad service provider or a neighboring node, disseminators can choose one of the following actions: (1) Forward the ads to their neighboring nodes. (2) Do nothing. We propose a bargaining-based game, called the dissemination game, to model the dissemination behaviors between ad providers and mobile nodes and to incent addi-tional nodes to disseminate ads. 
Before a mobile node forwards an ad to its neighbor, a bargain is first executed be-tween the node and the ad provider. In this bargain, the mobile node who provides the dissemination service behaves as a seller. An ad provider, who requests a node to disseminate his ad, acts as a buyer. Before bargaining with a node, an ad provider determines the value of its ad and offers a bidding price. A node calculates its cost for equal to the bidding price, the bargain is es tablished at their agreed upon price. Upon completion of the dissemination, the node will obtain the digital cash from the ad provider, with possible delay, and the bargain ends. Note: although the dissemination of the ad may pass through multiple hops of relay nodes, each bargain is only performed between a disseminator and an ad provider. Therefore, when an ad is forwarded from one node to another, a new bargain is re-quired. This means that for each ad, the number of successful bargains equals the number of disseminations. Next, we discuss the factors influencing the cost of dis-seminating an ad. Costs. Two factors influence the cost of disseminating an ad: the consumed resource for dissemination, the reputation of the node and the interest. In general, resource consumption directly determines the cost; reputation and interest indirectly affect the cost. We call the three factors resource cost and interest weight . Resource Cost . As described in Section 0, we use pseudonyms to prevent the node X  X  identity or location from being leaked. In general, pseudonyms are not free and are a scarce resource. Once pseudonyms become exhausted, the node must purchase re-placements with digital cash. The energy consumed for dissemination also affects the cost. A lengthier ad will lead to a higher key cost and a higher energy cost. Therefore, the resource cost for the monotonically increases with the length of . For simplicity, we define , where and is the length of . this ad with others; thus, having a lower asking price. For example, a football fan might be willing to share a football ad with other fans. Consequently, this fan may ask a lower price. For an ad , we use and to the interest index of the current disseminator and its receiver, respectively. is used to repre-sent the interest weight that the current disseminator forwards the towards the receiver. In general, the interest weight should satisfy the two properties: (1) increases. (2) If the receiver X  X  interest indices are the same, decreases as the disseminator X  X  level increases. The rationale of the two properties is that it is easier to persuade interested nodes to receive an ad and the interested nodes are more willing to persuade others. Essentially, the above properties can be generalized as follows: 
All interest levels are denoted by a set ( ), for example, = {disgust, dislike, statistics and data mining [25] are efficient methods to determine the interest level. 
Similar to a reputation weight , there are several methods to calculate the interest weight. In our model, a simple but useful one is adopted: We can prove that formula (3) satisfies (1), (2)and . Cost for node to disseminate an ad depends on the cost of the resources and the interest weight and is defined as Values. It is difficult for an ad provider to ev aluate the value of forwarding an ad. In therefore, we can evaluate the value by analyzing its highest bidding price. The bid-ding price includes two parts: (1) an ad provider rewards an average bonus to each node for its contribution to forward the ad (called dissemination bonus , denoted by purchases goods, then the ad provider rewards this disseminator a special bonus (called purchase bonus , denoted by ). The majority of the existing schemes (e.g., [5] [26]) assume that both dissemination bonus for each dissemination and pur-chase bonus for each purchase are fixed. In our paper, we also obey these assump-tions. Next, we discuss the value of forwarding an ad for a provider. Many purchasers exist on an ad dissemination path 3 (Figure 1 gives an example regarding a dissemina-tion path, where the circle with blue filling indicates a disseminator and a circle with red filling represents a purchaser). Assume that the number of purchasers in the dis-bonus with + . However, in practice, for some reasons (e.g., the limitation of the ad budget), an ad provider prefers to limit the number of obtaining a purchase bonus for a disseminator [4]. For simplicity, M is used to denote the maxi-mum number of purchase bonuses that the ad provider intends to reward a dissemina-tor. Thus, the value (i.e., the highest bidding price that an ad provider would like to offer) of forwarding an ad can be calculated, as follows. Note: in formula (5) is the highest price that an ad provider wishes to pay for each forwarding and is unknown to the disseminators (because a disseminator does not known the value of M ). Bargaining Procedure and Utility: Generally, depends on resource cost and price with and the rational ad provider offers the bidding price with negotiate the final price, as follows. Case 1 . If , then the bargain is struck at the agreed-upon price P : where . After bargain ends, node i forwards the ad to its neighbors. In formula (6), the agreed-upon price P is the weighted average of the bidding price and the asking price. When =1, formula (6) grants the ad provider the right to make only one offer that the disseminator can accept or reject. When =0, Similarly, formula (6) grants the disseminator the right to make only one offer that the disseminator can accept or reject. After forwarding this ad, node i earns digital cash (of value P ) from the ad provider. Case 2. If &gt; , the bargain fails. In the above two cases, it is important for the disseminator and ad provider to offer a suitable asking/bidding price. To address this problem, several methods have been proposed, one of which is the assumption of linear functions for the asking (bidding) price. This assumption has an established tradition [27] X  X 30] in the bargain process, price should be directly proportional to the cost (value). In our work, this assumption is adopted. In detail, we define and as follows: ( )= + and ( )= + , where , , , 0. 
Upon obtaining the agreed-upon price, we can evaluate the utility of the dissemina-In this section, we study the dissemination game with incomplete information. If cost and value are common knowledge to both node and the ad provider, this is the complete information assumption. However, this assumption may be overly stringent, because:(1) Although a disseminator can know and in formula (5)may be the confidence of an ad provider and is not provided to dissemi-nators. (2) Although an ad provider can obtain the resource cost (i.e., the in for-mula (4)) by simulating the behavior of a disseminator, it cannot calculate the in formula (4) because it cannot know the interest level iw of the disseminator. 
Therefore, the assumption of complete information does not apply to the proposed model. To address this problem, the assumption of incomplete information is adopted in our paper. That is, although a disseminator/ad provider does not know the val-ue/cost of the other party, probability density functions of the value/cost are the com-mon knowledge (this assumption has been widely used in the bargaining-based game for ephemeral networks [17], [22], [23], [31]). We assume that: (1) Value is uniformly distributed over the interval ( , ), where and (2) Cost is uniformly distributed over the interval ( , ), where and Note: The assumption of uniform distribution with respect to the value from a seller X  X  perspective and the cost from a buyer X  X  perspective is simple, however, was widely [39]. Because uniform distribution can model the behaviors of both buyers and sellers [37], [38], it is adopted in our work. Given these two density functions, we re-define the utility of an ad provider, as follows: the case that the bidding price is greater than or equal to the asking price. Similarly, the utility of node i is: that the bidding price is greater than or equal to the asking price. Proposition: In game , there exists at least one Bayesian Nash equilibrium. Proof. We can prove this Proposition by maximizing formula (7) and (8), as follows. From formula (9) and (10), we can obtain: The first order condition of for its maximum is . By solving this order condition, we can obtain: 
Similarly, by solving the order condition of for its maximum, we can obtain 
According to (11) and (12), we can obtain Bayesian Nash equilibriums for game 
In the sequel, we assume that the average of the bidding price and asking price is used as the agreed-upon price [33][41] (i.e., ). Following this assumption, we can obtain its Bayesian Nash equilibriums, consistent with [42], as follows: 
According to the bargaining procedure gi ven in section 5 and the Bayesian Nash equilibriums, we can design the game algorithm. For the limitation of space, we omit it, and refer the reader to our previous work [17] for details of designing the bargain-game-based algorithm. In our simulation, we adopt a city scenario including the GPS traces of all taxis in the Tiananmen area, in Beijing, gathered from 12:00 AM to 11:59 PM on November 30, 2012. Our scenario has an area of 12.988 km  X  8.537 km in a Cartesian coordinate system. Moreover, the GPS points span from 39.8846 N to 39.9307 N in latitude and from 116.3518 E to 116.4441 E in longitude. We assume that (1) each passen-ger in a taxi owns a smartphone equipped with Wi-Fi over a communication range of 200 m, which is 80 percent of the range specified by the IEEE 802.11n standard4; (2) the time for each bargain (including the Wi-Fi connection time and ad forwarding time) is not more than 60 s. Assumption (2) is realistic because 802.11n can operate at a maximum net data rate from 54 Mbit/s to 600 Mbit/s. Based on these two assump-tions, we define the logical encounter between two taxis as follows: two taxis logical-ly encounter if (1) the distance between the two taxis is less than 200 m, and (2) the retention time of these two taxis, the distance of which is less than 200 m, is greater strike a bargain. In our experiments, we gathered the GPS traces of 10,084 taxis, where 9,804 taxis encountered each other at least once. Each taxi is a disseminator. For simplicity, the resource cost for each dissemination or reporting is set to 0.1, that is, =0.1. We compared four strategies: the selfish strategy (i.e., nodes without forward ads until their resources are exhausted), 30% selfless (i.e., 30 percent of nodes are selfless) and our dissemination game. 
Figure 2 presents the a verage n umber of f orwards ( ANF ) for an ad. We can see that the selfless strategy and the 30%-selfless strategy, the ANF linearly increases with respect to the initial resource. The reason is that every disseminator consumes a fixed number of resources that cannot be effectively replenished. As a result, once the initial resource (e.g., pseudonyms) is exhausted, nodes cannot forward any ad. In game , however, nodes can purchase resources by digital cash if their resource is exhausted. This means that the resource owned the node in G D is unlimited and therefore, their ANF s are constant. 
Figure 3 presents the dissemination accuracy, which denotes the level that an ad is forwarded to an interested node. As shown in TABLE 1, interest index 1, 2, 3, 4 and 5 denote interest level  X  X isgust X ,  X  X islike X ,  X  X eutrality X ,  X  X ike X , and  X  X ascination X . From ads are forwarded to  X  X ascination X ,  X  X ike X  and  X  X eutrality X  nodes, respectively and 6.7 percent is disseminated to the  X  X isgust X  or  X  X islike X  nodes. This means that game G D has a higher accuracy and almost no ads are regards as SPAM. The reason is that in node with a higher interest level will have a lower cost and a higher incentive. Conse-quently, the bargain with a higher interest level is more likely to succeed. In both the selfless strategy and the 30%-selfless strategy, a node forwards an ad to a random receiver and does not consider the receiver X  X  interest. Thus, nodes in the network will under varying some parameters in the different kinds of scenarios is not included in this paper due to the limitation of space. We will present it in our future paper. In this paper, we focused on ad dissemination in ephemeral networks and proposed a bargaining-based dissemination game to assist nodes in deciding whether to forward an ad. We obtain a Bayesian Nash equilibrium for this game. Based on this equilibri-um, the proposed approach encouraged additional nodes to disseminate ads. 
In the future, more performance metrics should be studied, e.g. communication disseminated and bring serious threats to our daily life. Preventing false advertise-ments and trace their origin has become an urgent and critical task in the future. Acknowledgements. This work was supported by the National High Technology Research and Development Program of China (2013AA014002) and  X  X trategic Priori-ty Research Program X  of the Chinese Academy of Sciences (XDA06030200), Guang-xi Natural Science Fundation (2014GXNSFAA118365, 2014GXNSFDA118036), the High Level of Innovation Team of Colleges and Universities in Guangxi and Out-standing Scholars Program Funding, and Program for Innovative Research Team of Guilin University of Electronic Technology. 
