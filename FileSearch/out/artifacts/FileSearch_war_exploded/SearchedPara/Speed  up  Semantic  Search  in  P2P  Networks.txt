 Peer-to-peer architectures become popular in modern mas-sively distributed systems, which are often in very large scale and contain a huge volume of heterogeneous data. To fa-cilitate the information retrieval process in P2P networks, we consider semantic search approach, where syntax-based queries are shipped to peers based on semantic correlations. Motivated by an interesting experience in Web information retrieval, we propose a novel ontology-based scheme to mea-sure similarity of peer interests accurately and consistently in a decentralized way, and group peers under a scalable hier-archical overlay network. Given queries, our approach either floods them within local peer groups or guides them towards remote groups based on the similarity of interests. Our work overcome sthelimi tationsoftheexis tingP2 Phybrid-sear ch approaches by avoiding costly data popularity measurement. Performance evaluation and comparison against baseline al-gorithms show that our approach provides a better solution for information retrieval in large-scale P2P networks. H.3.3 [Information Search and Retrieval]: Search process; C.2.4 [Computer-Communication Networks]: Distributed ap-plications Algorithms, Design, Experimentation Hierarchical Overlay, Information Retrieval, Ontology, Peer-to-peer, Similarity-based Clustering
In recent years, semantic search has become increasingly important in Web information retrieval. In addition to syntax-based information ( e.g., keywords), queries may also include semantic information, such that the search is constrained within related categories that may result in more precise results.

To support semantic search, both queries and data need to be captured under the same conceptual framework, such that the similarity between them can be measured at a com-mon  X  X emantic X  level. We consider the widely studied ontol-ogy as the conceptual framework in this work, which has been proven effective in categorizing real-world data and widely used in Semantic Web applications.

In P2P networks, data are distributed across a large num-ber of peers. Thus queries are shipped to those peers that hold result data. It has been demonstrated that, a hybrid ar-chitecture that integrates both structured and unstructured overlay networks is efficient with respect to communication cost [1]. In this work, we also develop a hybrid P2P archi-tecture that supports semantic search. Briefly, peers with similar interests are clustered into groups and arranged in a balanced-tree-based overlay network. A query is first prop-agated among peers within the local group (of common in-terests) based on the query semantics. Since peers often ask for information that they are interested in, the local group most likely can provide results ( e.g., satisfying the syntax query component), incurring little communication cost. If the local group does not contain satisfying results, queries will be routed via the hierarchical overlay to locate other groups with relevant interests for subsequent search.
Our contributions in this paper consist of the following: (1) the proposed approach is the first to exploit the ontology-based classification of peer interests in a hybrid search ar-chitecture for P2P semantic search. (2) by clustering peers based on the similarity of interests, we build an effective hierarchical overlay network, and introduce efficient hybrid search algorithms; and (3) through simulations we show that our approach performs better than baseline algorithms in large-scale P2P information retrieval.
Since ontology is an effective tool to categorize real-world concepts, we choose it to model both queries and peer in-terests in the system. Since most well-known Web portal sites ( e.g., Yahoo! Directory and Open Directory) provide freely accessible ontology structures to Internet users, it is straightforward that each peer, when joining the P2P over-lay network, downloads and keeps a copy of the ontology structure from a specific Web portal. It is meaningful to assign weights to each path so as to capture peer prefer-ences at a finer granularity. For the viability of similarity measurement among weighted ontology paths, we normal-ize the weights of all ontology paths ( i.e., peer interests) at each peer and require the sum of the weights to be equal to 1. Since each profile consists of multiple weighted ontology paths, we employ the well-established Earth Mover Distance (EMD) function [3] to measure the pairwise profile distance.
We propose a light-weight decentralized clustering algo-rithm to build a hierarchical overlay network that groups peers according to the similarity of profiles, which only re-quires a specified number of peers to propagate their infor-mation in two phases over the whole network. The algorithm executes in multiple phases. In the initial phase, we ran-domly choose S pivot peers and all other peers affiliate with one of the pivots that has the most similar profile (based on EMD function), resulting in S groups with high probability. In the second and subsequent phases, groups with similar interests are recursively clustered together at higher levels. The algorithm completes when no more clustering can be achieved.

Given a syntax-based query ( e.g., a set of keywords), its corresponding ontology paths can be specified based on the ontology. Users can manually specify weights to reflect their preferences. A query is issued by an arbitrary peer p . Firstly, p propagates the query within the local leaf-level group through uniform gossip protocol. With high probability, the local leaf-level group contains the query results. Instead, when the query profile is not related to p  X  X  interests, but the data to be retrieved are well replicated in the entire overlay net-work, the results very probably are available within the lo-cal group. Otherwise, when the queries can not be satisfied within the local group, they will be recursively routed to-wards remote groups via the hierarchical overlay network. The number of routing hops to forward a query to leaf-level groups is bounded by the height of the hierarchical overlay network ( i.e., O ( log 2 S )).
We employ PeerSim 1 as the network simulator. In this simulation, we consider networks with up to 5000 peers. We use a subset of the Yahoo! Directory as the global ontology, which consists of 18,151 ontology paths that are sufficient to capture daily interests. We also keep the top-ranked URLs attached to each ontology path (altogether 152,171 URLs) that are provided by Yahoo! Directory at the download time.

We define a category to be a distinct ontology path with length 2 from the ontology root. For each N S randomly cho-sen distinct peers, we choose x distinct categories. Here N is the network size, S is the number of leaf-group number, and x follows Poisson distribution (with mean 10). Then the URLs corresponding to the categories are randomly dis-tributed among peers such that each peer obtains 10 URLs on average. We uniform randomly choose n peers, each issu-ing one query, with 80% of the keyword queries correspond to l = 4 ontology paths under the distribution of the weights, while the remaining 20% of the queries correspond to l ran-domly chosen ontology paths.

We compare the recall per query of our approach against the baseline algorithms in Figure 1, where  X  X MD X ,  X  X ac-card X , and  X  X W X  represent our EMD-based approach, the Jaccard-distance-based strategy [2], and the random-walk-based strategy respectively. Our approach achieves a higher recall than the Jaccard-distance-based strategy and the random-walk-based strategy. We vary the TTL from 3 to 7 for prac-tical reason.

As shown in Table 1, when the network size is 5000, the http://peersim.sourceforge.net/ average number of messages (including both the messages for query forwarding and for result returning purposes) con-sumed by the random-walk-based strategy is about three to seven times higher than the worst-case of our approach, which is costly. The number of messages consumed by the random-walk-based strategy may go beyond the network size since random-walk is stateless and can revisit the same peers in separate walks. Moreover, the reply messages to query is-suers are included in the evaluation, such that the number of messages are now affected by the number of peers that contain query results. In this simulation, query processing completes when all the URLs corresponding to the ontol-ogy paths contained in the query are retrieved. We expect much fewer messages in practical scenarios, because users may terminate the query processing interactively once the satisfactory results with respect to their criteria have been retrieved.

Information retrieval over P2P distributed systems is im-portant and challenging. Due to the large volume of data, syntax-based queries ( e.g., keywords) usually return data that are irrelevant to user needs. By adding semantic in-formation in queries, search experience may be improved, as demonstrated by semantic search in Web information re-trieval. To capture the semantic relationship between queries and peer interests, we explore a novel idea that employs a Web ontology to model the semantics of both peer interests and queries, and develop a purely decentralized hierarchical overlay network to categorize peers based on the similar-ity of their interests. Through rigorous analysis and simu-lation experiments, we show that our approach provides a better solution for information retrieval in large-scale P2P networks. [1] B.T.Loo,J.M.Hellerstein,R.Huebsch,S.Shenker, [2] J. P. Nouvelles recherches sur la distribution florale (in [3] Y. Rubner, C. Tomasi, and L. J. Guibas. The earth
