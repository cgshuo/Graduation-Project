 The internet provides great potential for customers to locate and purchase songs that they remember from years earlier. It is a frequent occurrence that the title of a song is not known, but a portion of lyrics is remembered. To locate the songs a web search may be carried out using portions of the lyrics as the query. We aim here to investigate methods for imp roving retrieval effectiveness where the portions of the lyrics used are misre membered or misheard. Misheard lyrics can stick surprisingly persistently in people X  X  minds as will be very apparent to those who have witnessed somebody unashamedly singing  X  X ucy in disguise with lions X  along to the well-known Beatles song.

An appealing approach to solving this problem would be to conduct a Google search using either an exact quoted query made up of a portion of the lyric, or a handful of unique words remembered from the lyric. This approach has a good chance of success if the lyric has been re membered correctly . In the case where the lyric has been misheard, success is les s likely. As a successful quoted query requires an exact portion of the lyric, this approach is inappropriate for solving the misheard lyric problem. A query made up of a handful of words is susceptible to the same problem, words from the misheard lyric that do not appear in the actual lyric will produce results not related to the desired lyric.

The approaches used here were selected ba sed on their effectiveness at approx-imate pattern matching in related fields where they are often used when exact matching fails to produce useful results. We compared three techniques config-ured for local rather than global matching: edit distance, Editex, and Syllable Alignment Pattern Searching -Local (SAPS-L). The aim was to determine which technique would provide the most relevant results, where relevance is judged by a small panel of assessors and relevance ca ndidates are selected using the pooling method favoured by the Text Retrieval Conference, TREC[4]. Due to the nature of the data, the query string (the pattern ) is significantly shorter than the entire lyric (the text ). An approximate alignment betw een the text and pattern is likely to occur at some location within the text, but not necessarily commencing at the beginning. For this reason it is appropriate to search for a local alignment rather than a global alignment.

All techniques were successful in retrieving relevant answers to queries. Local edit distance and Editex performed comp arably in both measures of retrieval effectiveness. The t-test did not confirm t hat there was a statistically significant difference between the effectiveness of t hese techniques. SAPS-L performed bet-ter on the binary measure, mean reciprocal rank, than on mean average precision (MAP). To our knowledge there is no previous work published on the specific problem of lyric matching for misheard lyrics, so we discuss related textual pattern matching problems, and other work involving lyric retrieval.

Zobel and Dart[18] assessed the retriev al effectiveness of a series of edit dis-tance techniques, phonetic techniques, and combinations of the two on personal name matching. Editex was found to be very effective for phonetic matching in this area. Edit distance was also among the leading techniques in this study.
Kondrak and Dorr[8] investigated the problem of ensuring that new drugs are not marketed with names that sound like existing drugs for the purpose of avoiding mistakes in a hospital setting. A variety of matching techniques, including some mentioned above, were used to search for global alignments of single word patterns in single word texts. They found Editex to be one of two superior techniques.

Knees et al. [7] sought an answer to the problem of retrieving lyrics of arbitrary songs from online sources. In the process of doing this they detailed issues related to ensuring the reliability and accuracy of lyrics retrieval. On comparing versions of lyrics from multiple sources it was found that they differed in: the spellings of words; semantic content due to misunderstandings; multiple versions and covers containing altered content; annotations detailing background vocals, spoken text and sounds; annotations detailing song meta-data; and abbreviations. Each of these differences could result in a reduction of retrieval effectiveness when present and require careful consideration when building a collection data set for lyric information retrieval. While it might seem that the same techniques that are used for multiple lyric alignment could be applied to misheard lyric matching, the problems differ in that a lyric quer y is likely to be short compared to the song length, leading to a larger number of mismatching characters between the strings.

Kleedorfer et al. [6] applied various clustering techniques to identify clusters of songs with the same topic, whereas May er et al. [11] extracted features from lyrics to apply to musical genre classification. Logan et al. [9] also explored the use of lyrics for genre clustering, by applying Probabilistic Latent Semantic Analysis (PLSA). They found that using lyric data for genre prediction was better than random but not as good as using audio features. Building on their work, Neumayer and Rauber [14] achieved higher classification accuracy using lyric features than audio ones, and the combination of lyric and audio features gave the best results. In addition there is some work on aligning lyrics with audio [13] as well as extracting lyrics from singing in order to improve query by singing systems [5,12,16,17].

Similar problems to misheard lyric matching need to be solved for speech recognition, in that word disambiguation is required. The main difference be-tween the two domains is that for the misheard lyric matching problem ad-dressed here, a text-based representat ion is assumed to exist for both the query and answer text. In the speech recognition case speech signals are captured and compared in some form with representations of words. Word disambiguation is partly achieved with statistical models that predict how likely a particular word is given previous ones [10]. In terms of pattern matching research, the problem of matching misheard lyrics to actual song lyrics is new, and thus required the creation of a new collec-tion. Suitable data is available on the web, which became a source of both the collection and an abundant source of seemingly genuine queries. 3.1 Query Set The strings that make up the query set were obtained from a user-generated misheard lyrics website 1 . Contributors submit a pair of strings where the first is a portion of the correct lyric of a song and the second is what they misheard the first string as, in sometimes comical fashion. The site is maintained and junk submissions are periodically removed. The site yielded 4124 portions of misheard lyrics of which every 82nd was used, for a total of 50. The average query length was 8 . 27 words in the full set and 7 . 42 in the set of 50. Each query represents a potential search query where exact matching would not produce relevant results. 3.2 Collection The collection was made up of unabridged lyrics obtained from a web lyrics database 2 . The base collection is a subset of the lyrics available from that source. Where not already present, the lyrics corresponding to each of the songs referred to by the queries were added to the collection.
The lyrics required some filtering before use in the experiment. To avoid ex-cessive and error-prone hand-editing, ly rics containing an excess of noise (in the form of annotations, metadata, etc.) were removed from the set. The lyrics that remained were converted to lower case . Hyphenated compound words were bro-ken into two words separated by a single space. All punctuation characters were stripped and whitespace was substituted for a single space. Digits were substi-tuted for their written form. For example  X 3 X  was replaced with  X  X hree X , likewise  X 911 X  was replaced with  X  X ine one one X . As a result of these changes, each lyric occupied a single line of space-delimited lower-case words. This process was for the most part successful although it was l ater noted that there remained items in the lyrics which did not correspond to their pronunciation. Abbreviations and acronyms proved problematic as a reliable method of removing them was not found in time. Many abbreviations and acronyms differ in spelling from their pronunciation. The phonetic techniques may have been disadvantaged by their presence in the collection. It is also possible that pronunciation may be different in sung versions compared to rendered versions where numbers exist. Consider the number 4500, which could be prono unced  X  X orty-five hundred X  (as in the Status Quo song),  X  X our five oh oh X ,  X  X our five zero zero X , or  X  X our thousand five hundred X .

The process described above resulted in a data set containing the lyrics for 2359 songs, being approximately 2.3MB and made up of almost half a million words. 3.3 Relevance Judgements The relevance set was created using the methods introduced by the TREC conference[4] although on a much smaller scale. The set is made up of items selected by a panel of four assessors from a pool of candidates and ranged in number between 1 per query up to 6 per quer y. The relevance candidates for each of the 50 queries were created by pooling together the most relevant 15 results from each of the three techniques. Each query-candidate pair was judged by four assessors. All possible results that were not included in the pool of candidates were considered not relevant. The candidates and the corresponding query were read aloud by the first author to the assessors, who were instructed to select all of the candidates they believed were relevant. A candidate could be consid-ered relevant if the assessor believed that it could be misheard as the query. For example, the candidate  X  X ude looks like a lady X  could be considered relevant if the assessor believed that it could be misheard as  X  X oodoos like a lady X . Only those items that were selected by two or more of the assessors were used in the relevance set for measuring the average precision of the results. This resulted in an average of 2 . 5 relevant answers per query. Three techniques for determining approximate pattern matches on text were compared, each being configured for local matching: edit distance, Editex, and SAPS-L.

Techniques not present for the construction of the candidates were not con-sidered for comparison due to the effect discussed by B  X  uttcher, et al. [2], that an evaluation scheme based on the pooling method will discriminate against any technique that did not contribute to the pool.

The edit distance measure[15] is the simplest of the three techniques and uses dynamic programming to process its input. It quantifies the similarity between two strings with the number of insertions, deletions, and substitutions required to transform the first string into the second. As it is the most general of the three it provides good results on a wide variety of data and does not rely on the characteristics of any one language. For our experiments we used equal penalties for substitutions, insertions and deletions, with matches not contributing to the score.

Editex[18] combines edit distance with character groups similar to those found in phonetic matching techniques like Phonix and Soundex (both discussed in Zo-bel and Dart [18]). The recurrence relation that lies at the heart of the algorithm combines some of the characteristics of the phonetic searching techniques with the dynamic programming edit distance technique. Editex takes into considera-tion that repeated letters often have a single sound. For example,  X  X l X  results in a single  X  X  X  sound when pronounced. The Editex algorithm was demonstrated by Zobel and Dart[18] on data sets made up of personal names. For data of this type it was preferable to seek to match t he pattern over the entire text because both were of similar size. For the data used here, where the text is many times longer than the patterns, it is more appropriate to seek a local match, that is, a region occurring anywhere within the text that matches the pattern. The orig-inal Editex is shown in Figure 1 and the local alignment modification is shown in Figure 2. The local alignment variation alters one of the initial conditions of the table. Alignments are not penalised for beginning any number of characters into the text. The weights used for our experiments are identical to those used byZobelandDart[18],thatis: r ( a, b ) has a score of 0 if a and b are identical, 1 if they are in the same letter group, and 2 otherwise; and d ( a, b )isalmost the same as r ( a, b ) except when a = b and a is equal to the letter h or w ,then d ( a, b ) = 1. The Editex letter groups are shown in Figure 3.
SAPS-L was derived from Syllable Alignment Pattern Matching[3] (SAPS) which combines edit distance with a unique three phase process for both text and pattern which breaks them down to a series of phonetic syllables. The first phase uses Phonix transformation rules to produce the phonetic form of the data. The second segments the data into syllables. The third performs a dy-namic programming algorithm to determine the level of similarity between pat-tern and text, favouring letter matches and corresponding syllables. In including this technique we had hoped to retrieve results that while not letter-by-letter matches, had similar sound and rhythm to the query.

Phonetic transformations, like Phonix, work by performing a series of sub-string substitutions on a source text with the aim of producing phonetically spelled output text. This process is of great utility to phonetic matching tech-niques as the English language features many heterographic homonyms, word pairings with the same pronunciation but different spelling. With an edit dis-tance algorithm the words  X  X ough X  and  X  X uff X  are unlikely to be considered similar despite identical pronunciation. Phonetic transformations correct this issue by attempting to give homophones a common spelling.

SAPS-L was derived and used rather than SAPS due to the singular focus on personal names present in the original SAPS technique. SAPS-L differs from SAPS in the phonetic transformation rules used in phase 1, in the syllable seg-mentation rules used in phase 2, and an alteration to the initial conditions of the recurrence relation used in phase 3 much like the one made to Editex. Rubin and Gong trialled SAPS on personal names[3] and was able to use the Phonix trans-formation rules in the first phase of processing. The Phonix rules are tailored to suit the characteristics of personal names and were inappropriate for the data used here as many of the transformations do not occur in English words. An ex-ample is the substitution of  X  X skie X  for all instances of  X  X sk X . This is appropriate for personal names of some nationalities, but not for the English language, and particularly not the subset of English that can be found in lyrics from popular music. The altered rules can be found in Table 1. The changes made to the syllable segmentation rules added awareness of multiple words, ensuring that the first character of each word was the start of a new syllable. The following demonstrates a SAPS-L transformation.  X  X ancin with the chicken slats X  becomes  X  X anSin With The ChiKen Slats X . A capital letter indicates the start of a sylla-ble. The weights used for the SAPS-L matching algorithm were: 6 for matching capitals,  X  2 for mismatching capitals, 1 for matching lower case and white space,  X  1 for mismatching lower case and white space,  X  4 for a mismatch of both case and letter. Penalties for insertions and deletions were  X  3 for capitals and  X  1for other characters. The query set was processed to retrieve the 100 most relevant results for each query using each of the three techniques in turn. All candidates selected by two or more assessors were used in the relevance set to determine the effectiveness of the results. The average precision of the results was computed and the mean of these values is shown in Table 2.

While the MAP of edit distance is marginally better than that of Editex, it was not found to be statistically signifi cant and cannot be interpreted as evi-dence that edit distance provides better r esults than Editex. The t-test was used to determine if the average precision values were likely to have been drawn from different populations, indicating that the difference in the mean was significant. The p-value returned by the t-test was far too high to be conclusive. This in-dicates that further work is required to determine the benefits of one technique over the other.

SAPS-L X  X  slightly disappointing MAP was contributed to by a number of factors. The first was the presence of compound words in the text. Compound words are single words made up of two separate words. While these are sometimes hyphenated, the more common word pairs are usually written as a single word. When two words are put together as a compound word, it is difficult to generate a phonetic version of the word. This is because letters which can usually be expected to form a particular sound, no longer do so. An example of this is  X  X phill X ,  X  X h X  in almost all cases would normally form a  X  X  X  sound. But here it does not. These compound words do not react well to phonetic transformations. A second issue is that often SAPS-L would return results that appeared to have a similar rhythm to the query but did not sound similar. For longer queries it seems reasonable to expect that there wou ld not be many results available that would have both similar rhythm and sound to the query.

Reciprocal rank was computed without the use of the relevance judgements supplied by the assessors. It is a different method of evaluation that is suited to information retrieval tasks where there is assumed to be a single correct answer. For this task we used the data f rom the misheard lyrics website where the queries were sourced. Each of the mish eard lyrics that we have used as queries was submitted along with the correct lyric and that correct lyric was taken to be the single correct answer for this evaluation measure. The rank of a result is equal to the location of the correct answ er in the list of results. If the correct answer was returned first, that is the technique considered it the most relevant, the rank is 1 and the reciprocal rank is 1/1. Whereas if the correct answer had been returned 4th, the rank would be 4 and the reciprocal rank would be 1/4. The mean reciprocal rank found in Tabl e 3 is the mean taken over each of the 50 queries in the query set.

The greater effectiveness of SAPS-L on t his measure does not imply greater effectiveness, as the number of reciproc al ranks computed is below the recom-mended minimum for this measurement and the t-test showed no statistical sig-nificance in the results. However, further experimentation could indicate greater potential for this technique. The results from edit distance and Editex closely resemble those from the MAP evaluation.

We also examined whether the matching techniques were disproportionately successful for longer queries, indicating that the surrounding possibly correct words were responsible for successful re trieval. Table 4 shows the correlation coefficients for query lengths of each mat ching technique with each evaluation measure. While there is a weak correla tion with query length, it can be seen from the graphs that short queries are oft en successful. There is also no evidence that one technique is better than the others for short queries.

The phonetic transformation carried out in the first stage of SAPS-L process-ing had the effect of wiping out some of the nuance of the sound of the words. These nuances can, and often are, exploited by vocalists to produce phonetic sounds far removed from the expected phonetic sound of the written word. Em-phasis can be placed much more heavily and on unusual phonemes in the word. That emphasis can rarely be predicted by viewing the lyrics in written form. This suggests that this type of algorithm could be challenging to fine tune for better results. A related issue is that the phonetic substitutions used in SAPS-L appear to have been developed for British English (for example,  X  X ught X  being substi-tuted with  X  X rt X ), whereas the majority of pop songs are sung with American pronunciation regardless of the origin of the singer. We have investigated the effectiveness of s ome techniques for retrieving misheard lyrics in a music information retrieval system. The measures used to evaluate the effectiveness of the techniques did not reveal any one clear leader. However SAPS-L showed promise and it is hoped tha t greater effectiveness can be achieved by ironing out the issues hampering its e ffectiveness. Further experimentation will determine the gains that can be mad e in SAPS-L X  X  retrieval effectiveness.
The experiment indicated several areas o f importance for further exploration of this problem. Of primary importance is improving the quality of the collection set that contains the complete lyrics possibly by retrieving better data from multiple sources using the method outlined by Knees et al. [7] to produce the most correct form of the lyric. The aim would be to reduce noise and minimise phonetic-unfriendly elements such as abbreviations, acronyms, unhyphenated compound words, and spelling errors. Of secondary importance is an increase in the number of queries evaluated. The query data source used for this study yielded 4124 queries, an amount more than sufficient for statistically significant results. However, we have clearly shown that songs can be retrieved with queries consisting of misheard lyrics, and that some variation of approximate pattern matching can be used for this purpose.

