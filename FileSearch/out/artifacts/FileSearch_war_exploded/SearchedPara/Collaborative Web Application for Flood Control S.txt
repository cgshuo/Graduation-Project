 Flood control reservoirs provide an effective means of managing and controlling flood flows by the beneficial reduction of peak runoffs. They result in flood protection afforded at a strategic point on a stream via regulation of reservoir storages. However, a real-time flood control management for reservoirs is very complex due to the following reasons ( [1],[3],[5],[11],[18],[19],[20]): (1) Multiple participants and multiple purposes. In general, reservoir flood operation (2) Uncertainty and inaccuracies. These factors include the intrinsic uncertainties in (3) Distributed data storages. Reservoir flood control system involves a large amount (4) Experience and Knowledge. Flood control management incorporates the 
There have been many efforts devoted to establish the decision support system for ([8],[9],[10],[11],[12],[13],[15],[17]). However, most of the existing systems, where applications were developed as monolithic entities, are typically single executable program that does not rely on outside resources and cannot access or offer services to other applications in a dynamic and cooperative manner. Especially, they cannot incorporate the experiences and knowledge of experts distributed among the remote areas into the decision process ([2]). This limits rapid decisions where communication and discussions among the multiple agencies are necessary before a final decision will be made. There is an increasing demand for collaborative decision to support geographically dispensed participants in order to allow participants free and fast exchange of data and information. As such, exploiting the Web as the infrastructure for running distributed flood control applications for reservoirs is in time and important. 
The objective of this study is to develop a collaborative simulation environment over the Internet and WEB so that participants can share data, models and analysis tools and communicate with each other in different places to server the same flood control problems at the same time. The work presented here is part of a large project to develop a comprehensive management framework that is capable of making flood control decisions for reservoirs by establishing a collaborative platform via Internet and World Wide Web. This paper describes a collaborative environment among multiple agencies and users that acts as an important step before a final decision is made. For the web-based application, J2EE of Sun Microsystems is chosen as the development solutions for the Web-based flood control system, Weblogic 6.0 of BEA as the container provider, and JBuilder 7.0 of Borland as the development tool. The Web technology is today a convenient and cost-effective tool for information storage, sharing, retrieval and modeling analysis. This new style of application development based on components has become increasingly popular. The proposed web-based application for flood control system of reservoirs is developed to support the entire decision-making process, including the dissemination of real-time data, the acquisition of flood predictions of reservoirs from different agencies and experts, and the generation of gate control strategies based on modeling analysis. It links with web-enabled database management system in order to determine management responses of different decision-makers and lead to an integrated assessment in a timely manner. It utilizes user-supplied data, user-supplied scenarios, and user-selected manners for on-line and real time web-based decision analysis. Several useful functions are integrated as shown in Fig. 1. 
The core of the framework provides dynamic and collaborative interactions among multiple governments, multiple agencies and interests groups as well as experts. Under the web-based form, the agreement discussions are not restricted by geographical location. Access to information about issues being discussed is available from any location that has Web access. The information is also available for the authorized users at any time. More importantly, elite experts from the entire nation will be capable of performing their works and joining in the consultation and discussion with one another to contribute their views. They can freely elicit more detail about issues and problems special situations, spatial and topological relationships between reservoirs and their downstream flood control points, and so on. The proposed conceptual framework evaluation of alternatives and (4) recommendation of alternative. 2.1 Login Flood control decisions for reservoirs were often made on an hourly or even shorter timescale based on real-time flood forecasts and hydrologic data readily available. The demand for rapid processing of information and selecting the alternatives of flood control under urgent constraints of reservoirs requires a dynamic operating environment for emergency planners or managers or experts who bear legal responsibility for the protection of life and property. This system is designed to assist specific users who are responsible for handing real-time large-scale flooding events and for simulating essential operational actions. Thus, authentication and authorization are provided in order to effectively manage the cooperative system. The cooperative partners include (1) governments who are responsible for the final decisions under the authority of the specific level flood events, (2) agencies who are responsible for bargaining the conflicts among the interests groups based on legal regulations, (3) interest groups who supply important flood events and located usually at remote locations. They will give their suggestions based on their experiences and knowledge at any time and anywhere. 2.2 Interactive Genera tion of Alternatives The goal of using web-based flood control system for reservoirs is to determine a set of happening and what results they can obtain in terms of the selected flood forecasting conditions and setting of possible flood control strategies. During the development of a modeling system for flood control operation, one of core aspects of the implementation is appropriate user interfaces where flood control decisions are highly dependent on| rapid response to the transient change of practical flood conditions and the capability of simulating intuitions and experience of operators. Simple and convenient interfaces for interactive generation of alternatives are gr eatly desired. A procedure for generation of a flood control operation alternative in an interactive manner is represented in Fig. 2. 
Simulating flood control alternatives first require accessing real-time and dynamic information about rainfalls, inflow, and current reservoir system conditions by the related agencies and personals. One obvious advantage over traditional monolithic entities is the capacity of accessing basic information related to flood control decision via web and Internet and therefore a great impact on the flood control management is produced. The system supplies three options of reservoir inflow, (1) forecasted floods based on rainfall-runoff modeling analysis that come from experts and agencies, (2) design floods and (3) historical floods. Each option responds to a scenario and possible emphasis on simulating alternatives. The user can simulate different alternatives by picking design floods and historical floods for comparison with specific floods. After an inflow process has been selected, the next step is to set the observed status including the level, inflow and outflow at the current stage. For reservoir system, the observed values are a sheet table that considers the flow routing from upper reservoir to associated downstream ones. 
Dynamic simulation of flood operation requires building feasible and efficient interfaces in order to respond to changing flood conditions. The system supplies transient analysis function to respond to the users X  input of simulating flood operation strategies when control strategies are changed on screen. The system integrates multiple analysis modules in order to deal with the limiting capacity defined on storage-discharge relationships when a constant operation strategy input is entered, and to calculate the reservoir routing under a spillway gate status. A simulation alternative is constituted of a series of constant or gate regulation or their mixtures ([2]). The mass control storage at the reservoir. 
When the outflow is represented with a constant outflow, the mass balance equation is is usually neglected and is only consider ed for runoff calculation procedure during flooding events. t  X  is the time interval between time t and t+1, with unit in s. ([7]) is needed. Equation 2 is a simplified formulation developed here. 
It is noted that the resulting equation is obtained from Taylor X  X  expansion with fourth order (refers to[7]). The coefficients are time 1 + t and t; Z() is the functional relationship between storage t S and level t Z . When t S is given, t Z is obtained by using the interpolation method. R() is the obtained by using the interpolation method. 
For each alternative, equation (1) or equation (3) will be used and repeated at each time interval within the decision interval. Accordingly, some key flood control indexes such as the maximum level of reservoir, the maximum outflow and the maximum discharge of downstream flood control points will be listed and alerted when specific values are reached. The user can adjust a seri es of combinations at one or more time intervals during the exploration of solutions. After an interactive procedure, the on-line analysis results can be displayed at client side in tables and graphs or their mixtures. Furthermore, they can be saved as a new alternative if the user obtains an acceptable result. All users can implement the application over WEB and Internet. The interactive procedure is active and without any time and spatial constraints. Their results will become part of the simulation results. 2.3 Evaluation of Alternatives Generally, a large group of users result in complexity, potential conflicts and high transaction costs before a solution can be foun d that allows a consensus to be reached. It preferences through these alternatives that are generated by the aforementioned methods. Their results should include their knowledge and experiences. Based on these assumptions and considerations, this system unitizes the fuzzy iteration method of reservoir flood operation developed by Cheng and Chau ([4]) to evaluate the alternatives and to rank them. Two key equations are and where m and n are the total number of objectives and the total number of alternatives. membership degree of alternative j. i g and i b are the i th objective values corresponding to the ideal alternative G and the non-ideal alternative B. Only the fundamental principles of the methodology have been mentioned here. For more details, the reader may refer to Cheng and Chau ([4]). Equations (4) and (5) imply that experience and knowledge of users are duly in corporated in selected alternatives and the rank represents the group opinions. The system integrates the evaluation method for ranking alternatives provided by group users. 2.4 Recommendation of Alternative Evaluation provides the initial agreement results that concentrate the opinions of associating partners and experts. Criteria assessing alternatives and final results are transparent to the all users. From the assessment results, users can know the emphasis of flood control operation at the current interval based on the weight of each objective and the rank of alternatives determined by equations (4) and (5). For the evaluation results, users can submit their opinions and revise their alternatives with the additional information, such as BBS and memos included in the associated alternatives through the web-based interface. In addition, feedback and appeals routines will be provided to all authorized users to exchange opinions and comments in order to moderate the results of assessment. Final recommended alternative will be a bargaining solution among group users and it is real-timely updated and disseminated. 3.1 Toolkit Web-based flood control system for reservoirs is a complicated Web application. Large-scale databases and on-line modeling analysis are its two main characteristics. It is not a difficult task to develop the web-based application not only for a data-oriented but also a task-oriented under the latest information technologies, such as Java servlets, JSP, EJB. The system adopts J2EE as the development tool for this project and ORACLE databases as DBMS. The application system includes three basic server and (3) EJB at application server. On the front line of the Web site are the Web Servers that act as the presentation layer. Web Servers dynamically format content as HTML or JSP to be displayed by Web browsers. All the business logic of the system resides in the Application Server tier. App lication Servers receive requests from Web Servers, look up information in databases and process the requests. The processed information is then passed back to the Web Servers where it is formatted and displayed. Complicated middleware services such as resource pooling, networking, security, multithreading, clustering and distributed computing are provided in the Application Server. Examples of such Application Server products are BEA X  X  WebLogic, iPlanet X  X  iPlanet Application Server, IBM X  X  WebSphere. All these products can also act as Web Server at the same time. The relational database management system is the repository of the entire system. All input data, histori cal records, middle calculation procedure and results output are stored in the database. 3.2 Database Tables Design Flood control management data consist of a variety of data sets, each of which is used for specific purposes. These data can be categorized into: (1) real-time data, such as the observed levels of control points and rainfalls of rain gauges; (2) historical record data; (3) attribute data about the topography, imagery, infrastructure, environment, hydro-meteorology, and so on; and, (4) modeling analysis results. The first three types of data are generally unique and fixed so that no specific design is given. But for the last one, a specific layout is necessary to support the communication on web and Internet. 
The web-based application involves multiple users, whose modeling analysis is identified during discussion and evaluation. Fig. 3 depicts design tables of flood control operation alternatives. Figure 3(a) represents the simulating process determined by interactive interfaces, including the inflow, ou tflow, level, volume, and spillway status. Figure 3(b) shows the details of the simulation alternative, including the username, initial level, objective values for this simulation, memos such as judgment and analysis about future floods, decision emphasis explanation, and so on, which supply a discussion and communication outlet with other parties. The output is transferred to the flood control strategies and gather the opinions for flood control operation. 3.3 Interactive Interfaces Web technology is used by group members as a medium to share data, information, and knowledge. Java applets and JSP are used in this project for developing the client side user interfaces, servicing for data input, setting reservoirs initial conditions, selecting operation constraints, interactively generating alternatives, evaluating alternatives, displaying outflow by tables and graphs, querying modeling analysis results and recommending alternatives. All interfaces in the current project are developed in Chinese version and the version translation and readjustment takes a lot of time. Owing to limited space, interfaces are not included in this paper. Interested readers can refer to the Chinese site (http://202.118.74.192:7001/dalian), where a prototype system is supplied and has been applied to the flood control management system that consists of nine reservoirs in Dalian region, Liaoning Province, China. The flood control operation for reservoirs should be undertaken in a dynamic and cooperative manner in order to respond to the changing flood control conditions. There is an ever-increasing need for the continuous collaboration among geographically distributed agencies and personals with different backgrounds by sharing data, models and analysis tools in a user-friendly environment, thereby making analysis and evaluation more convenient. The web-based flood control system for reservoirs presented in this paper supports the entire decision-making process, including preprocessing the real-data observed data, se tting initial conditions, selecting reservoirs constraints, interactively generating alternatives, evaluating alternatives and querying modeling analysis results and recommending alternatives. The system has been implemented in a real flood control management system in China and run within an Internet-based environment, accessible by authorized users without geographical constraints. This research was supported by  X  X he Teaching and Research Award Program for Outstanding Young Teachers in Higher Education Institutions of Ministry of Education, P.R.C X  (No.200026), the National Natural Science Foundation of China (No. 50479055), and the Central Research Grant of Hong Kong Polytechnic University (G-T592). 
