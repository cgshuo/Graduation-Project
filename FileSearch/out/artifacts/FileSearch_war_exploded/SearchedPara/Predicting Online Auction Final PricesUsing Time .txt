 Online auctions allows users to sell and buy a variety of items and they have become one of the most important web services. Incresed activity on online auction web services has led to greate r research work on the online auctions. Online auction final price prediction would be desirable for users, because it would allow them to win an auction item at the best price. There has been a lot of research work on final price prediction. Previous research can be separated into two main types from the viewpoint of input sources in final price prediction: 1) prediction using muti-attributes and 2) prediction using time series data. Prediction using multi-attributes [1 X 4]. Final auction price dynamics can Prediction using time series data [5 X 11]. The auction history of an item In this paper, we present a novel prediction method for predicting final auction prices that belongs to the second class (Pr ediction using time series). It is assumed that only past auction histories are used for prediction of the final price of the cur-rent auction and the past auction histories used for a final price prediction of the current auction are selected before the final price prediction process. The reason for the first assumption is that we want to focus on the prediction accuracy based on price time series. However, the use of additional information such as auction parameters and item characteristics, such as Seller Rating, Last-minute Bidding and Item Condition, can contribute to a more accurate model. It is beneficial to produce higher accuracy by introducing additional information, in an time series prediction model. In the model presented i n this paper, prediction is performed us-ing only a subset of the vast amount of past auction histories. The time required for prediction can be greatly reduced by this pre-selection step. A subset of the auction histories can be extracted base d on some predefined conditions related to the product type or the item characteristics. It is assumed that the number of auction histories used for predictio n is determined by a user or a system man-ager. We do not discuss here an extraction method of the auction histories. Our method is based on splitting and clustering past auction histories. Before cluster-ing commences, splitting is conducted to ensure high auction accuracy even when the small number of past histories is available for prediction.

The paper is organized as follows. First, we describe our motivation for the splitting and clustering method with a brief introduction. We then propose our novel final auction price prediction method, where we present a splitting and clustering based model in a formal manner, This is followed by an evaluation of the method. We conclude by discussing possible extensions to the model in the final section. 2.1 Motivation Figure 1, we consider an auction time series from the starting time until the current time. An auction user is eager to know the final auction price at the closing time. However, it is difficult to predict this because the future auction price is uncertain and it can increase depending on specific circumstances. If the price increases sharply, then the future price is very likely to be high, i.e., X. If there are no more bids in the auction, the price will be the same as the current price, i.e., Z. If the price increases steadily, the price will be the value Y. Therefore, it is difficult to predict the final price unless additional information is available. To more accurately estimate the possible future price in an auction, it is useful to refer to past auction histories of the same product. Figure 2 shows some past auction histories. Note that the price curves are based on the past auction histories of the same product on an actual auction site. Each auction price curve shown has been normalized for both p rice and time. As shown in the figure, there are many dynamic variations in auction prices. Thus, it is possible that a curve fitting method would produce inaccurate estimation of the auction final price. In this paper, we propose a novel method for predicting final prices using a time series splitting and clustering method which produces highly accurate predictions. 2.2 Basic Concepts The basic concepts of our proposed pre diction method are described here. Clustering. The role of clustering in the prediction of final prices is shown in Splitting and normalization. A second problem when predicting a final auc-In this section, we formally describe our proposed method. Table 1 defines the notations usded in this paper. 3.1 General Process Given a time series qdata , we assume that we have a set of auction histories A containing past auction items for the same product. In our proposed method, the general prediction process is conducted as follows: Step1: Splitting. Weextractasetofsplittimeseries A from A .
 Step2: Normalization. We produce normalized time series D , which is ob-Step3: Clustering. Both D = { d k } and d q ) are combined then segregated into Step4: Prediction of the final price. The average final price is calculated 3.2 Time Series Splitting The first step in predicting a final price is to split the auction time series into the same categories of query time series data qdata that we need to predict. Note that the query time series qdata dows not need to be split.

Assume that the number of biddings in a time series a i to be split is NB i and it is split into NI sub sequences. To do this, we split the integer intervals [1 ,NB i ] End i ( k )= S k / 100  X  NB i . Note that the starting value for each interval is 1. Then, the split time series a k of the original time series a i is a sequence of pairs ( T i ( j ) ,p i ( j )), j
Forexample,supposewehaveatimeseries a = &lt; (0 , 4) , (3 , 30) , (5 , 34) , (6 , 40) , (7 , 60) &gt; , NI =2and S = { 60 , 100 } . Then we obtain the following two split time series a 1 and a 2 because END (1) = 3 and END (2) = 5: a 1 =(0 , 4) , (3 , 30) , that the NB value should carefully determined If NI is large in this example, we may have many duplicate split time series. 3.3 Time Series Normalization After splitting a time series, the obtained data A = { a k } and the query time series qdata are normalized in terms of time and price.

When normalizing the price of a time series, we produce a price-normalized time series based on the maximum price of all the final prices in the auction time series in the same category as qdata . For an element of ( T k ( j ) ,p k ( j )) of { a Then, we construct the tim e normalized time series d k from a k ,where d k is is a sequence of ( T k ( j ) ,p k ( j ) /maxprice ).

A time series is also normalized based on its closing time. We introduce an interpolation function f ( t s ,d k ). The function is a function that estimates an interpolation value at a intermediate time point of a time series d k . A time point t s is in [0 . 0 , 1 . 0] Using this function, we transform a sequence d k to d k with time-normalized time series as follows. We have the number of time points in [0 . 0 , 1 . 0] and a set of time points T = { t s =( s  X  1)  X   X  | s =1 , .., NT } ,where is calculated and set to d k ( s ). Any interpolation function such as B-spline and Bezier, can be used as the function f .
 ized such that maxprice = 100. The price-normalized time series d is &lt; interval and the interval is common to all the normalized time series, the nor-malized time series data obtained d can be represented &lt;f (0 . 0 ,d ) , f (0 . 2 ,d ) ,f (0 . 4 ,d ) ,f (0 . 6 ,d ) ,f (0 . 8 ,d ) ,f (1 . 0 ,d ) &gt; . 3.4 Clustering The clustering produces a set of clusters C = { c m | m =1 , .., NC } from a set of normalized time series including qdata . Any clustering method can be applied for the clustering of the time series and any distance calculation method between two time series data can be used, but the typical non-hierarchical clustering method known as k-means and the conven tional Euclidean are used to obtain the clusters in this method. The number of the clusters, NC , needs to be given when using k-means. Based on our preliminary evaluations, we set NC to a value from 5 to 10. After clustering, the cluster c q  X  C containing qdata is identified and checked. The final price estimation is achieved by calculating average ( P i ), is no other auction time series other than qdata in c q , the average of the previous final prices cannot be calculated. In this case, the average of the final prices of all the auction time series A related to the qdata ,iscalculated. 4.1 Test Data We used two kinds of test dataset for our evaluations: Yahoo! auction and eBay dataset. The first of the test dataset is extracted from Yahoo! auction 1 ,themost popular auction web service in Japan. The auction items used as test data are selected to meet the following conditions:  X  The number of previous auctions of a product was more than 60.  X  The standard deviation of the final price of a product ranged from 2.0 to  X  No considerations on auction paramet ers and product characteristics were Based on these conditions, five products were selected as test data. We selected a subset of test data from the past auction s at random while the rest were selected as a query auction data set to predict their final prices. We cut the query time series from the auction starting time up to the current time T current before the auction closing time . T current was set 70% of the auction closing time. The details of the test data are shown in Table 2.
 The other test dataset is the complete bidding records for 149 auctions on Palm M515 PDAs ion eBay 2 . All the auctions in this dataset is 7-day auctions and transacted between March and June in 2003. A set of only time series extracted from randomly selected 80% of the eBay dataset was used as past auction histories. Prediction experiments were conducted for the remaining 20%. 4.2 Evaluation Results Using Yahoo! Dataset We performed three experiments for Yahoo! data set as follows.  X  Accuracy experiment. Our proposed methodwascomparedwithanactual  X  Splitting effect experiment. We made some experiments to check S effects  X  Prediction time effect experiment. We changed the time T current when the Accuracy Comparison. Table 3 shows the result of the accuracy comparison in the first experiment and also shows the standard deviations for the accuracy results.
We made the following observations.  X  Our proposed method was superior to the other three methods in terms of  X  Our method produced the lowest standard deviation for the accuracy, 7.32%.  X  Rakuboz, the actual price prediction web site, produced the worst accuracy Splitting Effect. In the case when a split time series is mixed with the original time series, the result is shown in Table 4. As shown in this table, the aver-age accuracy for { 70,100 } was 87.11%, which was 0.49% higher than the method without splitting. The average standard deviation for { 70,100 } was 6.67%, which was 0.65% lower than 7.32%, achieved with the method without splitting. There-fore, we conclude that the method with splitting can produce more accurate and stable predictions, compared with the method without splitting.

However, it should be noted that the number of clusters (NC) for { 70,100 } was necessary to be larger than NC for { 100 } , because the splitting produces more data to be clustered, which was twice in this case. We should remark that NC needs to be chosen carefully. It is because a wrong NC setting may produce a worse result, observed from the result of the case S= { 100 } in Table 4. The optimal NC determination is an issue to be remained. The optimal splitting is another issue to be solved. Further splittings, such as { 60, 70,100 } and { 70, 80,100 } , will also be necessary to be evaluated in future.
 T current Effect. Fig.5 shows the result of the experiment, where we observed the effect of T current on predictions. The horizontal axis represents the percent-age of prediction time. from the start until the closing time. The percentage was varied from 40% to 90% in the experiment. The vertical axis represents the per-centage where the current au ction time series data was clustered into the correct cluster. The bold line in this figure is the average of five product results while the other thin lines are the individual product results. At 70%, the percentage of correct cluster constructions was d etermined about 84%, showing that the clustering was performed appropriately. Based on this figure, it was shown that the 70% time-point was reasonable for accurately estimating the auction final price. 4.3 Results Using eBay Dataset We conducted an accuracy experiment using eBay dataset. The result is shown in Table 5. As shown here, our method with S= { 70,100 } was better than the curve fitting method and Na  X   X ve method. Moreover, it was obtained that our method with splitting was better than the method without splitting, on the eBay dataset.
 There are many previous studies of online auctions, which are mainly segregated into auction analysis and auction final price prediction. Research on the latter is briefly summarized below due to space limitations. Methods used for final price prediction include Grey system theory [5], Functional data analysis [4], Para-metric growth curves [6], Regression trees [1], Autoregressive (AR) [7], Curve clustering [11], Beta model [8], Bayesian networks [2], K-nearest neighbor [9] [10] and Neural networks [3]. No previous m ethods have combined the splitting of auction histories with clustering. Ple ase refer to an excellent survey on online auction final price prediction from a statistical modeling viewpoint for further information [13]. In this paper, we propose a novel auction final price prediction method using splitting and clustering to realize mor e accurate estimation of final prices. The important points of the method are 1) the use of clustering and 2) the splitting of auction histories. Clustering allows us to segregate a set of past auction histories for the same product. All the auction time series in a cluster including the current auction which are obtained by clustering of the time series, are much similar to the current auction time series. Ther efore, the prediction is more accurate because it is based on aggregation of the similar time series rather than all the related time series. Splitting a time series causes more time series to be clustered. Thus, more time series patterns can be co nsidered in the final price prediction. Our experiments showed that the proposed method was superior to an actual price estimation web service and some existing prediction methods.

There are several ways of extending our proposed method. First, we need to obtain more accurate prediction in the early stage of auctions. In this paper, we predicted the final price with 86 . 62% accuracy, at a time-point when the 70% after the starting time. We need to improve the accuracy in predicting at an early time-point. Moreover, we need to evaluate our method in more detail and to compare our method with other final price prediction methods. Finally, we intend to develop a new auction final price prediction web service.
 Acknowledgments. This work was partly supported by Kayamori Foundation of Information Science Advancement, Japan.
