 It is an important research problem to evaluate object importance or popular-ity, which can be used in many data mining tasks. Many methods have been developed to evaluate object importance, such as PageRank [9], HITS [1], and SimRank [3]. In these literatures, objects ranking is done in a homogeneous network in which objects or relations are same-typed. However, in many real network data, there are many different types of objects and relations, which can be organized as heterogeneous network. Formally, Heterogeneous Information Networks (HIN) are the logical networks involving multiple types of objects as well as multiple types of links denoting different relations [2]. It is clear that het-erogeneous information networks are ubiquitous and form a critical component of modern information infrastructure [2].

Fig. 1(a) shows a HIN example in bibliographic data and Fig. 1(b) illustrates its network schema. In this example, it contains four types of objects: papers connecting them. The link types are defined by the relations between two object types. For example, links exist between authors and papers denoting the writing or written-by relations. In this network, several interesting, yet seldom exploited, ranking problems can be proposed.  X  One may pay attention to the importance of multiple types of objects simul- X  Furthermore, one may wonder which factor mostly affects the importance of
The ranking analysis in HIN faces the following research challenges. (1) There are different types of objects and links in HI N. If we simply treat all objects equally and apply the random walk as PageRank does in homogeneous network, the rank-ing result will mix different types of objects together. (2) Different types of objects and links in heterogeneous networks carry different semantic meanings. The ran-dom walk along different meta paths has different semantics, which may lead to different ranking results. Here the meta path [4] means a sequence of relations be-tween object types. So a desirable ranking m ethod in HIN should be path-dependent. The study of related work can be seen on [10], which is the extension of this paper.
In this paper, we study the ranking problem in HIN and propose a novel rank-ing method, HRank, to evaluate the importance of multiple types of objects and meta paths in HIN. For Q. 1 , a meta path based random walk model is proposed to evaluate the importance of single or multiple types of objects. Although meta path has been widely used to capture the semantics in HIN [6,4], it coarsely de-picts object relations. By employing t he meta path, we can only answer the Q. 1.1 . In order to overcome the shortcoming existing in meta path, we propose the constrained meta path concept, which can effectively describe subtle semantics. The constrained meta path sets constraint conditions on meta path. Adopting the constrained meta path, we can further answer the Q. 1.2 . Moreover, in HIN, based on different paths, the objects hav e different ranking values. The compre-hensive importance of objects should consider all kinds of factors (the factors can be embodied by constrained meta paths), which have different contribution to the importance of objects. In order to evaluate the importance of objects and meta paths simultaneously (i.e., answer Q. 2 ), we further propose a co-ranking method which organizes the relation mat rices of objects on different constrained meta paths as a tensor. A random walk process is designed on this tensor to co-rank importance of objects and paths simultaneously. That is, random walkers surf in the tensor, where the stationary visiting probability of objects and meta paths is considered as the HRank score of objects and paths. In this section, we describe notations used in this paper and present some pre-liminary knowledge.

In heterogeneous information networks, there are multiple object types and relation types. We use the network schema S =( A , R ) to depict the object types and relations existing among object types, where A = { A } is a set of object types and R = { R } is a set of relations. A relation R existing from type S to type T is denoted as S R  X  X  X  T . Fig. 1(b) shows a network schema of bibliographic information network.

Different from homogeneous networks, two objects in a heterogeneous network can be connected via different paths an d these paths have different meanings. These paths are called meta paths which can be defined as follows.
 Definition 1 Meta path [4]. A meta path P isapathdefinedonaschema S = (
A A
A 2 ...A l +1 ), which defines a composite relation R = R 1  X  R 2  X  ...  X  R l between type A 1 and A l +1 ,where  X  denotes the composition operator on relations. It is obvious that semantics underneath these paths are different. The  X  Author-Paper-Author  X ( APA ) path means authors collaborating on the same papers, while the  X  Author-Paper-Conference-Paper-Author  X ( APCPA )pathmeansthe authors X  papers publishing on the same conferences. Based on different meta paths, there are different relation networks, which may result in different im-portance of objects. However, meta path fails to capture some subtle semantics. Taking Fig. 1(b) as an example, the APA cannot reveal the co-author relations in Data Mining (DM) field. In order to overcome the shortcomings in meta path, we propose the concept of constrained meta path, defined as follows. Definition 2 Constrained meta path. A constrained meta path is a meta path based on a certain constraint which is denoted as CP = P|C . P =( A 1 A 2 ... A ) isametapath,while C represents the constraint on the objects in the meta path.
Note that the C can be one or multiple constraint conditions on objects. Tak-ing Fig. 1(b) as an example, the constrained meta path APA | P.L = X  DM  X  represents the co-author relations of authors in data mining field through con-straining the label of papers with DM. Similarly, the constrained meta path APCPA | P.L = X  DM  X &amp;&amp; C = X  CIKM  X  represents the co-author relations of authors in CIKM conference and the papers of authors are in data mining field. Obviously, compared to meta path, the constrained meta path conveys richer semantics by subdividing meta paths under distinct conditions.

For a relation A R  X  X  X  B , we can obtain its constrained transition probability matrix as follows.
 Definition 3 Constrained transition probability matrix. W AB is an ad-jacent matrix between type A and B on relation A R  X  X  X  B . U AB is the normalized matrix of W AB along the row vector, which is the transition probability matrix of A R  X  X  X  B . Suppose there is a constraint C on object type A. The constrained transition probability matrix U AB of constrained relation R |C is U AB = M C U AB , where M C is the constraint matrix generated by the constraint condition C .
The constraint matrix M C is usually a diagonal matrix whose dimension is the number of objects in object type A . The element in the diagonal is 1 if the corresponding object satisfies the constraint, else the element is 0. Similarly, we can confine the constraint on object type B or both types.

Given a network following a network schema S =( A , R ), we can define the constrained meta path based reachable probability matrix as follows. Definition 4 Constrained meta path based reachable probability ma-trix . For a constrained meta path CP =( A 1 A 2  X  X  X  A l +1 |C ) , the constrained meta path based reachable probability matrix is defined as PM CP = U A U
A l A l +1 . PM CP ( i, j ) represents the probability of object i j  X  A
When there is a constraint on the object s, we only consider the objects that satisfy the constraint. For simplicity, we use the reachable probability matrix and the M P to represent the constrained meta path based reachable probability matrix in the following section. In order to answer the two ranking problems proposed in Section 1, we design two versions of HRank, respectively. 3.1 Ranking Based on Constrained Meta Paths For the question Q. 1 , we propose the HRank-CMP method based on a con-strained meta path P =( A 1 A 2 ...A l |C ).

HRank-CMP is based on a random walk process that random walkers wander between A 1 and A l along the path. The ranks of A 1 and A l can be seen as the visiting probability of walkers, which are defined as follows: where M P and M P  X  1 are the reachable probability matrix of path P and P  X  1 . E A 1 and E A l are the restart probability of A 1 and A l . Note that the path either symmetric ( P = P  X  1 ) or asymmetric ( P = P  X  1 ).
 3.2 Co-ranking for Objects and Relations in HIN There are many constrained meta paths in heterogeneous networks. It is an im-portant issue to automatically determine the importance of paths [4,5], since it is usually hard for us to identify which relation is more important in real appli-cations. To solve this problem (i.e., Q. 2 ), we propose the HRank-CO to co-rank the importance of objects and relations. The basic idea is based on an intuition that important objects are connected to many other objects through a number of important relations and important relations connect many important objects. So we organize the multiple relation networks with a tensor and a random walk process is designed on this tensor. Th e method not only can comprehensively evaluate the importance of objects by considering all constrained meta paths, but also can rank the contribution of d ifferent constrained meta paths.
In Fig. 2(a), we show an example of multiple relations among objects. There are three objects of type A , three objects of type B and three types of relations among them. These relations are generated by three constrained meta paths with type A as the source type and type B as the target type. To describe the multiple relations among objects, we use the representation of tensor which is a multidimensional array. We call X =( x i,j,k ) a 3rd order tensor, where x i,j,k  X  R , for i =1 ,  X  X  X  ,m , j =1 ,  X  X  X  ,l , k =1 ,  X  X  X  ,n . m and n are the number of objects of type A and type B , respectively, and there are l types of relations among them. x i,j,k represents the times that object i is related to object k through the j th constrained meta path. For example, Fig . 2(b) is a three-way array, where each two dimensional slice represents an adjacency matrix for a single relation. So the data can be represented as a tensor of size 3  X  3  X  3. In the multi-relational network, we define the transition probability tensor to present the transition probability among objects and relations.
 Definition 5 Transition probability tensor. In a multi-relational network, X is the tensor representing the network. F is the normalized tensor of X along the column vector. R is the normalized tensor of X along the tube vector. T is the normalized tensor of X along the row vector. F , R ,and T are called the transition probability tensor which can be denoted as follows: f i,j,k can be interpreted as the probability of object i (of type A )beingthe visiting object when relation j is used and the current object being visited is object k (of type B ), r i,j,k represents the probability of using relation j given that object k is visited from object i ,and t i,j,k can be interpreted as the probability of object k being visited, given that object i is currently the visiting object and relation j is used. The meaning of these three tensors can be defined formally as follows: in which X t , Z t and Y t are three random variables representing visiting at certain object of type A or type B and using certain relation respectively at the time t .
Now, we define the stationary distributions of objects and relations as follows in which From the above equations, we can get: where Prob ( Y t = j, Z t = k ) is the joint probability distribution of Y t and Z t , Prob ( X t = i, Z t = k ) is the joint probability distribution of X t and Z t ,and Prob ( X t = i, Y t = j ) is the joint probability distribution of X t and Y t .To obtain x i , y j and z k , we assume that X t , Y t and Z t are all independent from each other which can be denoted as below:
Consequently, combining the equations with the assumptions above, we get
The equations above can be written in a tensor format:
According to the analysis above, we can design the following algorithm to co-rank the importance of objects and relations.
 Algorithm 1. HRank-CO Algorithm In this section, we do experiments to va lidate the effectiveness of two versions of HRank on three real datasets, respectively. 4.1 Datasets We use three heterogeneous information networks for our experiments. They are summarized as follows: DBLP Dataset [6,4]: The DBLP dataset is a sub-network collected from DBLP website 1 involving major conferences in two research areas: database (DB) and information retrieval (IR), which naturally form two labels. The dataset contains 9682 authors, 20 conferences and 22185 papers which are all labeled with one of the two research areas. The network schema is shown in Fig. 3(a).
ACM Dataset [6]: The ACM dataset was downloaded from ACM digital library 2 in June 2010. The ACM dataset comes from 14 representative com-puter science conferences. These conferences include 196 corresponding venue proceedings. The dataset has 12499 papers, 17431 authors, 1903 terms and 1804 author affiliations. The network also includes 73 labels of these papers in ACM category. The network schema of ACM dataset is shown in Fig. 3(b).
 IMDB Dataset [7]: We crawled movie information from The Internet Movie Database 3 to construct the network. The related objects include movies, actors, directors and movie types, which are organized as a star schema shown in Fig. 3(c). Movie information includes 5324 actors, 1591 movies, 551 directors and 112 movie types. 4.2 Ranking of Heterogeneous Objects Here, the experiments validate the effect iveness of HRank-CMP on constrained meta paths.
 Experiment Study on Constrained Meta Paths. The experiments are done on the DBLP dataset. We evaluate the importance of authors and conferences simultaneously based on the meta path APC , which means authors publish papers on conferences. Two constrained meta paths ( APC | P.L = X  DB  X  X nd APC | P.L = X  IR  X ) are also included, which means authors publish DB(IR)-field papers on conferences. We employ HRank-CMP to rank the importance of authors and conferences based on these three paths. As the baseline methods, we use PageRank and the degree of authors and conferences (called Degree method). We directly run PageRank on the whole DBLP network by ignoring the heterogeneity of objects. Since the results of PageRank mix all types of objects, we select the author and conference type from the ranking list as the final results.

The top ten authors and conferences returned by these five methods are shown in Tables 1 and 2, respectively. As shown in Table 1, the ranking results of these methods on authors all are reasonable, however, the constrained meta paths can find the most influential authors in a certain field. For example, the top three authors of APC | P.L = X  DB  X  are Surajit Chaudhuri, Hector Garcia-Molina and H. V. Jagadish, and all of them are very influential researchers in the database field. Similarly, as we can see in Table 2, HRank with constrained meta paths can clearly find the important conferences in DB and IR fields, while other methods mingle these conferences. For example, the most important conferences in the DB field are ICDE, VLDB and SIGMOD, wh ile the most impor tant conferences in the IR field are SIGIR, WWW and CIKM. Observing Tables 1 and 2, we can also find the mutual effect of authors and conferences.
 Quantitative Comparison Experiments. Based on the results returned by five methods, we can obtain five candidate ranking lists of authors in DBLP dataset. To evaluate the results quantitatively, we use the author ranks from Microsoft Academic Search 4 as ground truth. Specifically, we crawled two stan-dard ranking lists of authors in two academic fields: DB and IR. Then we use the Distance criterion [8] to compare the difference between our candidate rank-ing lists and the standard ranking lists. The criterion not only measures the number of mismatches between these two lists, but also considers the position of these mismatches. The smaller Distance means the smaller difference (i.e., better performance). Fig. 4 shows the differences of author ranking lists. We can observe that HRank with constrained meta paths achieve the best performances on their corresponding field, while they have the worst performances on other fields. In addition, compared to that of PageRank and Degree, the mediocre performances of HRank with meta path APC further demonstrate the impor-tance of constrained meta path to capture the subtle semantics contained in heterogeneous networks. 4.3 Co-ranking of Objects and Paths Experiment Study on Co-ranking on Symmetric Constrained Meta Paths. In this experiment, we will validate the effectiveness of HRank-CO to rank objects and symmetric constrained meta paths simultaneously. The experi-ment is done on ACM dataset. First we construct a (2, 1)th order tensor X based on 73 constrained meta paths (i.e., APA | P.L = L j ,j =1  X  X  X  73). When the i th and the k th authors co-publish a paper together, of which the label is the j th label, we add one to the entries x i,j,k and x k,j,i of X . By considering all the pub-lications, x i,j,k (or x k,j,i ) refers to the number of collaborations by the i th and the k th author under the j th paper label. In addition, we do not consider any self-collaboration, i.e., x i,j,i = 0 for all 1  X  i  X  17431 and 1  X  j  X  73. The size of X is 17431  X  73  X  17431 and the percentage of nonzero entries is 4 . 126  X  10  X  4 %. In this dataset, we will evaluate the importance of authors through the co-author relations, meanwhile we will analyze the importance of paths.
 Table 3 shows the top ten authors (left) and paths (right) based on their HRank values. We can find that the top ten authors are all influential researchers in DM/IR fields, which conforms to our common senses. Similarly, the most im-portant paths are related to DM/IR fields, such as APA | P.L = X  H. 3 X  (Infor-mation Storage and Retrieval) and APA | P.L = X  H. 2 X  (Database Management). Although the conferences in ACM dataset are from multiple fields, there are more papers from the DM/DB fields, which makes the authors and paths in DM/DB fields ranked higher. We can also find that the influence of authors and paths can be promoted by each other. In order to observe this point more clearly, we show the number of co-authors of the top ten authors based on the top ten paths in Table 4. We can observe that there are more collaborations for top authors in influential fields. For example, although Zheng Chen (rank 6) has more number of co-authors than Jiawei Han (rank 1), the collaborations of Jiawei Han focus on ranked higher fields (i.e., H.3 and H.2), so Jiawei Han has higher HRank score. Similarly, the top paths contain many collaborations of influential authors.
 Experiment Study on Co-ranking on Asymmetric Constrained Meta Paths. The experiments on the Movie dataset aim to show the effectiveness of HRank-CO to rank heterogeneous objects and asymmetric constrained meta paths simultaneously. In this case, we construct a 3rd order tensor X based on the constrained meta paths AMD | M.T = T j ,j =1  X  X  X  112. That is, the tensor represents the actor-direct or collaboration relations on different types of movies. When the i th actor and the k th director cooperate in a movie of the j th type, we add one to the entries x i,j,k of X . By considering all the cooperations, x i,j,k refers to the number of collaborations by the i th actor and the k th director under the j thtypeofmovie.Thesizeof X is 5324  X  112  X  551 and the percentage of nonzero entries is 7 . 827  X  10  X  4 %.

Table 5 shows the top ten actors, directors and constrained meta paths (i.e., movie type). Basically, the results comply with our common senses. The top ten actors are well known, such as Eddie Murphy, Harrison Ford. Similarly, these directors are also famous in filmdom due to their works. These movie types obtained are the most popular movie subjects as well. In addition, we observe the mutual enhancements of the importance of objects and meta paths again. As we know, Eddie Murphy and Drew Barrymore (rank 1, 4 in actors) are famous comedy and drama (rank 1, 2 in paths) actors. Higher ranked directors also prefer popular movie subjects. 4.4 Convergence Experiments In Fig. 5, we show the convergence of HRank on the previous experiments. The results illustrate that the two versions of HRank both quickly converge after no more than 20 iterations. In addition, we can also observe that HRank has different convergence speed in thes e two conditions. HRank-CMP almost converges on 9 iterations (see Fig. 5(a)). However, HRank-CO for co-ranking converges on 16 iterations (see Fig. 5(b)). We think it is reasonable, since it is more difficult to converge for more objects in HRank-CO. The time and space complexity is analyzed, and three fast computation strategies are designed to fasten the matrix multiplication process in [10]. In this paper, we first study the ranking problem in heterogeneous information network and propose the HRank method, which is a path based random walk method. In this method, we introduce the constrained meta path concept to capture the more subtle and refined semantics contained in HIN. In addition, we further put forward a method to co-rank the paths and objects, since the paths effect the importance of objects. Ex periments validate the effectiveness and efficiency of HRank on three real datasets.
 Acknowledgments. This work is supported by the National Basic Research Program of China (2013CB329603). It is also supported by the National Natural Science Foundation of China ( No. 61375058, 61074128, 71231002) and Ministry of Education of China and China Mobile Research Fund (MCM20123021).

