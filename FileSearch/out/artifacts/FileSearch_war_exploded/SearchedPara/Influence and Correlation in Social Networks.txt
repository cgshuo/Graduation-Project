 In many online social systems, social ties between users play an important role in dictating their behavior. One of the ways this can happen is through social influence , the phe-nomenon that the actions of a user can induce his/her friends to behave in a similar way. In systems where social influence exists, ideas, modes of behavior, or new technologies can dif-fuse through the network like an epidemic. Therefore, iden-tifying and understanding social influence is of tremendous interest from both analysis and design points of view.
This is a difficult task in general, since there are fac-tors such as homophily or unobserved confounding variables that can induce statistical correlation between the actions of friends in a social network. Distinguishing influence from these is essentially the problem of distinguishing correlation from causality, a notoriously hard statistical problem.
In this paper we study this problem systematically. We define fairly general models that replicate the aforemen-tioned sources of social correlation. We then propose two simple tests that can identify influence as a source of social correlation when the time series of user actions is available.
We give a theoretical justification of one of the tests by proving that with high probability it succeeds in ruling out influence in a rather general model of social correlation. We also simulate our tests on a number of examples designed by randomly generating actions of nodes on a real social network (from Flickr) according to one of several models. Simulation results confirm that our test performs well on these data. Finally, we apply them to real tagging data on Flickr, exhibiting that while there is significant social cor-relation in tagging behavior on this system, this correlation cannot be attributed to social influence.
 Categories and Subject Descriptors: J.4 [Computer Applications] :Social and Behavioral Sciences X  Sociology General Terms: Economics, Human Factors Keywords: Social influence, Social networks, Correlation, Tagging
Online social networks are playing an ever-important role in shaping the behavior of users on the web. Popular social sites such as Facebook, MySpace, Flickr, and del.icio.us, are enjoying increasing traffic and are turning into community spaces, where users interact with their friends and acquain-tances. The availability of such rich data at never-before X  seen scales makes it possible to analyze user actions at an in-dividual level in order to understand user behavior at large. In particular, questions interpreting a user X  X  action in the context of his/her online friends and correlating the actions of socially connected users, become highly interesting.
There has been some theoretical and empirical work on how a user X  X  actions can be correlated to his/her social af-filiations. Backstrom et al. [1] examined the membership problem in an online community. They observed correlation between the action of a user joining an online community and the number of friends who are already members of that community. Marlow et al. [5] considered the tag usage prob-lem in Flickr and studied the set of tags placed by a user and those placed by the friends of the user. They exhibited a correlation between social connectivity and tag vocabulary.
While these studies have established the existence of cor-relation between user actions and social affiliations, they do not address the source of the correlation. Causes of cor-relation in social networks can be categorized into roughly three types. The first is influence (also known as induction ), where the action of a user is triggered by one of his/her friend X  X  recent actions. An example of this scenario is when a user buys a product because one of his/her friends has re-cently bought the same product. The second is homophily , which means that individuals often befriend others who are similar to them, and hence perform similar actions. For ex-ample, two individuals who own Xboxes are more likely to become friends due to the common interest. The third is environment (also known as confounding factors or external influence ), where external factors are correlated both with the event that two individuals become friends and also with their actions. For example, two friends are likely to live in the same city, and therefore to post pictures of the same landmarks in an online photo sharing system.

From a practical point of view, identifying situations where social influence is the source of correlation is important. In the presence of social influence, an idea, norm of behav-ior, or a product diffuses through the social network like an epidemic. A marketing firm, for example, can use this in-formation to design viral marketing campaigns or give out coupons to influential nodes in the network, or a system designer can take advantage of this information in order to induce the users to follow a desired mode of behavior. There has already been significant research on methods for design-ing strategies to leverage social influence in such systems [3] and on the effect of influence on the growth pattern of new products [8]. The main idea in all viral marketing strategies is essentially that in cases that influence between users is prevalent, careful targeting can have a cascading effect on the adoption of a product/technology. Therefore, being able to identify in which cases influence prevails is an important step to strategy design.
 Our contributions. Given the significance of social influ-ence, it is important to be able to test if a given social system exhibits signs of social influence. This is a particularly dif-ficult problem in online settings where individuals are often anonymous and therefore it is impossible to control for all potential confounding factors. We overcome this problem by taking advantage of the availability of data about the timing of actions in online settings. We propose a statistical test (called the shuffle test ) based on the intuition that if influ-ence is not a likely source of correlation in a system, timing of actions should not matter, and therefore reshuffling the time stamps of the actions should not significantly change the amount of correlation. We prove that in a rather general model of homophily and confounding, this test succeeds in ruling out influence as the source of social correlation.
We also show the effectiveness of our test using simula-tions. Our test cases are based on a large social network from Flickr. We generate the action data randomly from a model with or without social influence, and run our test on this data set to decide whether the correlation is caused by influence. Our results show that in nearly all cases our algo-rithm succeeds in identifying the source of correlation. We also present results for another test (called the edge-reversal test) inspired by a recent study on the spread of obesity in real-world social networks [2].
 Finally, we apply our algorithms on real tagging data in Flickr. Our results show that even though tagging behav-ior in this system exhibits a considerable degree of social correlation, this cannot be attributed to social influence. Organization. In Section 2 we detail the different forms of social correlation. In Section 3 we describe our methodology, and present a theoretical analysis in a model of homophily and confounding. We describe our data generation mod-els and present the results of simulations in Section 4. We describe our experiments on Flickr tags in Section 5.
We study a setting where a group of individuals (also called agents or users) are nodes of a social network G . In general, G is a directed graph and is generated from an unknown probability distribution. We are concerned with individuals performing a certain action for the first time, e.g., purchasing a product, visiting a web-page, or tagging a photo with a particular tag. 1 After an agent performs the action, we say that the agent has become active . We observe
In many cases, e.g., purchasing certain products or using certain tags, an individual might perform the action multiple times. We focus on the first time the action is performed by each individual, since subsequent occurrences of the same action by the same individual is often more dependent on the first occurrence than on the social network. the system for a certain time period [0 ,T ]. Let W denote the set of agents that are active at the end of this time period.
Social correlation, i.e., correlation between the behavior of affiliated agents in a social network is a well-known phe-nomenon. Formally, this means that for two nodes u and v that are adjacent in G , the events that u becomes active is correlated with v becoming active. There are three primary explanations for this phenomenon: homophily , the environ-ment (or confounding factors), and social influence . Homophily. Homophily is the tendency of individuals to choose friends with similar characteristics [4, 6]. This is a pervasive phenomenon, and not surprisingly, leads to corre-lation between the actions of adjacent nodes in a social net-work. For example, one plausible hypothesis for why there is social correlation in membership in an online community is that individuals might know each other and become friends after joining the community. Mathematically, in a pure ho-mophily model, the set W of active nodes is first selected according to some distribution, and then the graph G is picked from a distribution that depends on W .
 Confounding. The second explanation for correlation be-tween actions of adjacent agents in a social network is exter-nal influence from elements in the environment (also referred to as confounding factors), which are more likely to affect individuals that are located close to each other in the social network. Mathematically, this means that there is a con-founding variable X , and both the network G and the set of active individuals W come from distributions correlated with X . For example, two individuals who live in the same city are more likely to become friends than two random in-dividuals, and they are also more likely to take pictures of similar scenery and post them on Flickr with the same tag.
Note that there is a fine distinction between this explana-tion and homophily: homophily refers to situations where the set W affects individuals X  choices to become friends, while in confounding, both the choices of individuals to be-come friends and their choice to become active are affected by the same unobserved variable. It is possible to distinguish between these models by looking at the time where the edges of G are established. The focus of this paper, however, is on distinguishing social influence from other types of social correlation. Therefore, we study a common generalization of the confounding and the homophily model as follows: first, the pair ( G,W ) is selected according to a joint probability distribution, and then the time of activation for individuals in W is picked i.i.d. according to a distribution T on [0 ,T ]. We call this model the correlation model . The main assump-tion here is that the probability that an individual is active can be affected by whether their friends become active, but not by when they become active. This is in contrast with the influence model, as defined below.
 Influence. The third, and perhaps the most consequential explanation for social correlation is social influence. This refers to the phenomenon that the action of individuals can induce their friends to act in a similar way. This can be through setting an example for their friends (as in the case of fashion), informing them about the action (as in the case of viral marketing), or increasing the value of an action for them (as in the case of adoption of a technology). Mathe-matically, this can be modeled as follows: first, the graph G is drawn according to some distribution. Then, in each of the time steps 1 ,...,T , each non-active agent decides whether to become active. The probability of becoming active for each agent u is a function p ( x ) of the number x of other agents v that have an edge to u and are already active. Here, p (  X  ) can be any increasing function, although later in the paper we consider a special class of functions that pro-vides a good fit with the real data and also corresponds to a commonly used statistical model for estimating the prob-ability of binary events, namely the logistic regression.
In this section we present the methodology that we use to measure social correlation and test whether influence is a source of such correlation. We start in Section 3.1 by explaining how logistic regression can be used to quantify the extent of social correlation. In Section 3.2 we define the shuffle test for deciding if influence is a likely source of correlation, and prove that this test successfully rules out influence as the source of correlation in the correlation (con-founding/homophily) model defined in Section 2. Finally, in Section 3.3 we define another test called the edge-reversal test, which we evaluate experimentally.
The first step in our analysis is to obtain a measure of so-cial correlation between the actions of an individual and that of her friends in the network. This measure is designed to recover the activation probability, assuming that the agents follow the influence model defined in Section 2.

Recall that in the influence model, each individual flips an independent coin in every time step to decide whether or not to become active. In principle, the probability of this coin can vary from agent to agent and from time to time; in the simplest model, which is the focus of most of this paper, we measure this probability as a function of only one variable: the number of already-active friends the agent has. 3 Note that the parameter we use is the number of friends that have become active at any earlier time step, as opposed to friends who have become active immediately before. This is because in online systems like Flickr actions are stored, and might be observed by others much later.

As it turns out, for most tags in the Flickr data set, a logistic function with the logarithm of the number of friends as the explanatory variable provides a good fit for the proba-bility. Therefore, for simplicity and to reduce the possibility of overfitting, we use the logistic function with this variable, that is, we estimate the probability p ( a ) of activation for an agent with a already-active friends as follows: 4 This model assumes that time progresses in discrete steps. A similar model with continuous time can be defined using the Poisson distribution.
We also considered using the fraction of the total popu-lation that is active as another explanatory variable in our estimation on the Flickr data set, but the results indicated that this parameter is of no value: the corresponding coeffi-cient is insignificant for almost all tags.
We have also duplicated some of our experiments using a as the explanatory variable. The results are not qualitatively different, and almost always the likelihood of the fit is better with the logarithmic variable. where  X  and  X  are coefficients. Equivalently,
The coefficient  X  measures social correlation: a large value of  X  indicates a large degree of correlation. We estimate  X , X  using maximum likelihood logistic regression. More pre-cisely, let Y a,t be the number of users who at the beginning of time t had a active friends and started using the tag at time t . Similarly, let N a,t be those users who at time t were inactive, had a active friends, but did not start using the tag (at time t ). Finally, let Y a = P t Y a,t , and N a = P Then we compute the values of  X  and  X  that maximize the expression where p ( a ) is defined in (1). Typically, the values of Y N a decrease quickly and lose their statistical significance as a grows. Therefore, for practical reasons, we may restrict the likelihood expression (3) to only all a  X  R , for a care-fully chosen value of R , while we accumulate all the values corresponding to a &gt; R to Y R +1 and N R +1 . While in gen-eral there is no closed form solution, there are many software packages that can solve such a problem quite efficiently; we used Matlab X  X  statistics toolbox in our experiments.
In this section we introduce the shuffle test for identify-ing social influence. It is based on the idea that if influence does not play a role, even though an agent X  X  probability of activation could depend on her friends, the timing of such ac-tivation should be independent of the timing of other agents.
Let G be the social network, and W = { w 1 ,...,w ` } be the set of users that are activated during the period [0 ,T ]. Recall that in the correlation model, ( G,W ) is drawn from an arbitrary joint distribution. Assume that user w i is first activated at time t i . Using the method in Section 3.1, we compute Y a and N a , for a  X  R , where R is a constant, and use the maximum likelihood method to estimate  X  .

Next, we create a second problem instance with the same graph G and the same set W of active nodes, by picking a random permutation  X  of { 1 ,...,` } , and setting the time of activation of node w i to t 0 i := t  X  ( i ) . Again we use the method in Section 3.1 to compute Y 0 a and N 0 a for a  X  R , and the social correlation coefficient  X  0 . The shuffle test declares that the model exhibits no social influence if the values of  X  and  X  0 are close to each other.

Intuitively, the reason that the shuffle test correctly rules out social influence in instances generated according to the correlation model is the following: in an instance generated from this model, the time stamps t i are independent, iden-tically distributed (i.i.d.) from a distribution T over [0 ,T ]. The second instance constructed above only permutes all time stamps, and hence the new t 0 i  X  X  are still i.i.d. from the same distribution T . Therefore, the two instances come from the exact same distribution, and hence they should lead to the same expected social correlation coefficient  X  . The only thing that remains to be proven is that this coefficient is concentrated around its expectation (where the expecta-tion is taken over the random choice of the time stamps, conditioning on a fixed choice of G and W ). In the next section, we formalize this intuition, leading to Theorem 1.
To aid our analysis, we make three simplifying assump-tions. First, we assume that the distribution T of the acti-vation times is uniform over [0 ,T ]. Second, we modify the test to pick each t 0 i independently from T , instead of us-ing a permutation of the original time stamps. Neither of these assumptions is necessary, but it simplifies the argu-ments without substantively changing the techniques.
The third set of assumptions ensures that there are enough data to gather statistics. Let d  X  i ( d + i ) be the indegree (out-degree) of node w i , and let d W  X  i ( d W + i ) be the indegree (outdegree) of node w i in the subgraph induced by W (re-call that W is the set of users that became active). Also, let W 0 = { w 1 ,...,w ` 0 } , where ` 0  X  ` be the set of nodes in W and their neighbors (note that the first ` nodes are those in W ). Then we make the following assumptions: 1. ` =  X ( n ). 2. d  X  i ,d + i  X  d max , for i  X  ` 0 and for some constant d 3. { i : d W  X  i  X  R + 1 } =  X ( n ).
 These assumptions are not the strictest possible for our re-sults to hold, but they are nevertheless quite natural and simple to state. In particular, we make the first assumption only to simplify the notation (otherwise the results hold with probabilities that depend on ` and ` 0 instead of n ).
Theorem 1. Let G = ( V,E ) be a directed graph on n nodes and let W = { w 1 ,...,w ` } X  V be the set of nodes that become active during the time period [0 ,T ] . Assume that the activation time t i of the node w i is picked i.i.d. from the uniform distribution over { 1 ,...,T } , and assume that the three assumptions hold. Let  X  denote the social correlation coefficient computed using the method in Section 3.1. Then, with high probability 5 the value of  X  is close to its expecta-tion, where the probabilities are over random choices of the activation times.

Proof. The main part of the proof is Lemma 2 where we show that the values of Y a and N a are concentrated. This is proved using concentration inequalities for martingales. We can then show (details deferred for the full version of the work) that when we apply logistic regression with inputs that are close to each other, the social correlation values  X  recovered are also close to each other. Therefore, with high probability the value of  X  recovered is close to its expectation whp.

Lemma 2. Assume the conditions of Theorem 1, and let Y a and N a , a  X  R + 1 , defined as in Section 3.1. Then we have that Y a and N a are close to their expectations whp.
Proof. First we calculate E[ Y a ], for a fixed a . We in-troduce some notation. Let Y i a = 1 if when node w i used the tag had a active neighbors and 0 otherwise. Notice that we have Y a = P r i =1 Y i a . The probability that exactly a of the d W  X  i neighbors are active when node w i used a tag is 0 if d W  X  i &lt; a . Otherwise, if a  X  R , this probability is 1 / ( d W  X  i + 1), since node w i and its neighbors have the same probability to be the a th node among them that used the
The term  X  X ith high probability, X  abbreviated whp., refers to an event that holds with probability that tends to 1 as n  X  X  X  . tag. Finally, if a = R + 1 (recall that R + 1 corresponds to the ensemble of all the values greater than R ), then the probability is ( d W  X  i  X  R ) / ( d W  X  i + 1).
 Thus, we have for a  X  R , and for a = R + 1. One can verify that from our assumptions we have that both of these quantities are  X ( n ).

Note that the terms are not independent. Thus, to show concentration, we will employ Azuma X  X  inequality [7]. For a fixed a we define the (Doob X  X ) martingale We have that X 0 = E[ Y a ] and X ` = Y a . Note that we have that | X i  X  X i  X  1 | X  d W + i + 1, since a node affects only itself the nodes for which it is a contact. Then Azuma X  X  inequality implies that which is o (1) for  X  =  X  (
To compute the value of E[ N a ] we have to be a bit more careful, since a node can contribute multiple time periods to N . First, note that we have to count also the neighbors of the nodes in W . Recall that W 0 = { w 1 ,...,w ` 0 } , is the set of active nodes and their neighbors.

Let us write N a = P ` 0 i =1 N i a , where N i a counts the number of timesteps before node w i becoming active (if at all) and had exactly a active contacts. Let us compute E[ N i a ], first for i  X  ` . Of course, this equals 0 if d W  X  i &lt; a . Otherwise, the expected time until one of the d W  X  i + 1 nodes ( w i contacts) becomes activated is T/ ( d W  X  i + 2), thus E[ N T ( d W  X  i + 2). With probability d W  X  i / ( d W  X  i node is not w i , hence we have E[ N i 1 ] = d W  X  More generally we get that for a  X  R , and for a = R + 1. (The first fraction is the probability that w becomes activated after R + 1 neighbors, and then it is ex-pected to arrive in the middle of the leftover period.)
For i &gt; ` we can show with similar arguments that E[ N 0 if d W  X  i &lt; a , otherwise for a  X  R , and for a = R + 1. By our assumptions for the graph we have
Again we show concentration by using the Azuma inequal-ity. We define and notice that we have | Z i  X  Z i  X  1 |  X  T ( d + i + 1), with the same reasoning as previously. So we get that which is o (1) for  X  =  X  ( T
We showed that the values of  X  that we obtain with the correlation model are close to each other with high proba-bility with and without the timestep shuffle. Now we con-trast this with the influence model and we show that in the latter case the values of  X  that we compute with and without the timestep shuffle are in general different. We demonstrate this fact with a simple example. Consider a line graph with n + 1 nodes, v 0 ,v 1 ,v 2 ,...,v n , and edge set sume that that node v 0 is has initially used a tag; this does not change the nature of our example. For some p  X  [0 , 1], consider now the influence model with  X  = log 2 ( p/ (1  X  p )) and  X  = 0, and we observe the system for T time steps (with Tp being sufficiently small, say Tp &lt; n/ 2). During the T steps, the nodes will start to use the tags from left to right, and at each step, the probability that the leftmost inactive node will become active equals p . Then at the end of the T steps, if the number of new active nodes is denoted by L , we have E[ Y 1 ] = E[ L ] = Tp and E[ N 1 ] = T (1  X  p ).
Assume now that we perform the shuffle test. Then for i = 1 ,...,L , let Y i 1 be 1 if node v i became active after node v i  X  1 , and N i 1 the number of time steps that node v did not become active although node v i  X  1 was (0 if node v became active after node v i ). Then we have Y 1 = P L i =1 and E[ Y 1 ] = E[ L/ 2] = Tp/ 2, since the probability that node v i  X  1 becomes active before node v i is 1 / 2. Similarly, N This follows since node v i becomes active at time step i with probability 1 /T , the probability that node v i  X  1 before is i/Tp and in that case the arrival time is uniformly distributed in [0 ,i ] so the expected number of times that node v i does not become active is i/ 2  X  1. Therefore, and so, Hence we see that the input to the regression function is in general very different and as a result the values of  X  will in general be very different.
In this section we introduce the second test for distinguish-ing influence similar to the one used in the obesity study [2]: we reverse the direction of all the edges and run logistic re-gression on the data using the new graph (which we call the reverse graph ) as well 6 . Since other forms of social corre-lation (other than social influence) are only based on the fact that two friends often share common characteristics or are affected by the same external variables and are indepen-dent of which of these two individuals has named the other as a friend, we intuitively expect reversing the edges not to change our estimate of the social correlation significantly. On the other hand, social influence spreads in the direction specified by the edges of the graph, and hence reversing the edges should intuitively change the estimate of the corre-lation. We will test this hypothesis on several classes of instances generated using probabilistic models of different forms of social correlation.
To verify the validity of the techniques described in Sec-tion 3, we define three generative models one corresponding to a setting where there is no social correlation, one corre-sponding to a setting that there is only social influence and one that there is social correlation but not influence. In each model, we will try to keep other aspects of the model as close to Flickr X  X  data as possible. In particular, in all models the network (both number of users and connections) grows at the same rate as in the real Flickr data, and we will try to let the number of users that become active in each time step to follow the pattern corresponding to a tag in the real data.
The first model concerns a setting where there is no social correlation X  X nfluence or otherwise X  X n the pattern of acti-vations. The second model is for a setting where influence is the only form of social correlation; this model is defined to match the logistic regression model described earlier. The third model seeks to capture situations where agents that are close to each other in the network are affected by the same external factors (the environment) that make them more likely to be activated. We now describe the models. The no-correlation model. For every tag in the real data, we can generate a no-correlation instance as follows: the network grows exactly in the same way as in the real data. In each time step, we look at the real data to see how many new agents use the tag, and pick the same number of agents uniformly at random from the set of agents that have already joined the network and have not been picked yet.
 The influence model. This model is parameterized in terms of two parameters,  X  and  X  . The network, and the growth pattern of the network is kept as in the real data. In every time step, each node in the set of nodes that has joined the network but not activated yet flips a coin inde-pendently to decide if to become active in this time step. The probability of activation for this node is computed us-ing (2), where a is the number of friends of this node that have become active in one of the previous time steps.
Note that we are only able to use this test because in Flickr data set, a significant number of edges are directed. Figure 1: Distribution of  X  for the no-correlation model.
 The correlation (no-influence) model. Again, we keep the network and the pattern of growth of the population the same as in the real data. The model is parameterized in terms of one parameter L , and follows the pattern of a given tag in the real data. Before generating the action data, we select a set S of nodes by sequentially picking a number of centers at random, and adding a ball of radius 2 around each to S . 7 We stop this process as soon as the size of S reaches the prespecified number L . Then, we generate the set of agents that become active in each time step in a manner similar to the one in the no-correlation model, except that in each time step we pick the set of agents to become active uniformly at random from S .
Our first set of experiments focuses on the measurement of correlation in the network. In Figure 1 we display the results of the application of logistic regression to the no-correlation model. We can see that the distribution of the values of  X  is centered at zero and most of the mass is around there.
In Figure 2 we can see the application of the logistic re-gression to the influence model. Recall from Section 3 that this model is based on the logistic function, which we are trying to fit. Not surprisingly, we recover the values of  X  that we set in our model. Thus, Figure 2 essentially dis-plays those values of  X  .

Finally, in Figure 3 we see the results in the correlation model. Note that here as well the values of  X  that we recover are positive.
After establishing the presence of correlation in users X  be-havior, we turn to tests for the source of this correlation. First we apply the shuffle test and then we turn to the edge-reversal test.
Let us first observe the influence model, where the val-ues of  X  with the original tagging times are high. From the intuition gained in Section 3.2, we expect to see those val-ues to decrease, when we shuffle the tagging timesteps. In
We have chosen a radius of 2 here since because the network is highly connected, a ball of radius 3 can become very large, while a ball of radius 1 only consists of the neighbors of a node, which is often too small. Figure 2: Distribution of  X  for the influence model. Figure 3: Distribution of  X  for the correlation model. Figure 4(a) we can observe the results for some of the tags. Notice how the cumulative density function (CDF) is shifted to the left, which means that when we reverse the edges the value of  X  decreases. In Figure 4(b) we can see the values in absolute terms.

Now we switch to the correlation model. According to the analytical findings of Section 3.2, the values of  X  that we obtain with and without the shuffling should not differ with high probability. Figure 5 confirms our analytical findings and shows that for almost all tags the values of  X  retrieved are very close with and without the shuffle.
Now we present the results of our second influence-detection test, the edge reversal, confirming the results of the previous section. First we apply it to the influence model, depicting the results in Figure 6. Similarly to the previous test, there is a significant difference in the values of  X  in the forward and backward direction.

On the contrary, in the correlation model, as seen in Fig-ure 7, the values of  X  essentially coincide. In Figure 7(a) we can notice that the two CDFs essentially coincide. In Fig-ure 7(b) we see a more detailed picture. Here every point corresponds to a tag, and the graph shows the value of  X  in the network versus the value of  X  in the network with the edges reversed. Take notice of the proximity of the points to the line y = x . (a) Empirical probability den-sity. (a) Empirical probability den-sity.
Figure 5: Shuffle test for the correlation model. (a) Empirical probability den-sity. Figure 6: Edge-reversal test for the influence model. (a) Empirical probability den-sity. Figure 7: Edge-reversal test for the correlation model.
After verifying that our techniques are effective for the simulated data, we apply them on real-world data, namely on the Flickr social network. First we describe the data set. Then we show that there is positive correlation in the users X  behavior. Finally, we address the issue of the source of correlation. We apply the tests of Section 3, and we conclude that influence is not a likely source of the correlation.
We analyzed the tagging behavior of users for a period of 16 months. The final number of users was about 800K. Since the majority of users did not exhibit any tagging behavior at all, we restricted our attention to the set of users who have tagged any photo with any tag, which is about 340K users. Looking at this subgraph at the end of the 16-month period, the size of the giant component is 160K users, the second one has size 16, and there are 165K isolated users.
The number of directed edges between the users is 2.8M and, on the average, for a given user u , the proportion of u  X  X  contacts that do not have u as a contact is 28 . 5%. In Figure 8 we depict the size of the subgraph that we analyze as a function of time. (The growth rate of the entire network exhibits a very similar behavior.)
Out of a collection of about 10K tags that users had used, we selected a set of 1 , 700, and analyzed each of them in-dependently. We selected tags of various types (event, col-ors, objects, etc.), various numbers of users (most of them were used by more than 1 , 000 users), and various growth patterns: bursty (e.g.,  X  X alloween, X  X  X atrina X ), smooth (e.g.,  X  X hotos, X ) and periodic (e.g.,  X  X oon X ).
First we confirm the existence of correlation in the Flickr data set as expected. In Figure 9 we can see the distribution of  X  along the tags of Flickr. Note that for almost all the tags the value is higher than 1, suggesting that correlation is prevalent in users X  tagging activities for almost all the tags. This correlation is not necessarily due to social influence; we examine this issue next.
After establishing the presence of correlation in users X  be-havior, we turn to the test for the source of this correlation. Figure 9: Distribution of  X  for the Flickr social net-work. (a) Empirical probability den-sity. Figure 10: Shuffle test for the Flickr social network. (a) Empirical probability den-sity. Figure 11: Edge-reversal test for the Flickr social network.
 First we apply the shuffle test and then we turn to the edge-reversal test.

In Figure 10 we show the results of applying the shuffle test on the Flickr data set. In Figure 10(a), notice that the two cumulative distribution functions essentially coincide. It seems that the correlation that we observed in Section 5.2 cannot be attributed to influence. This indicates that either users do not tend to browse their contacts X  photos to a large extent, or even when they browse, they do not tend to start using the tags they see.

In Figure 10(b) we see more details. Once again, every point corresponds to a tag, and the graph shows the value of  X  in the Flickr network versus the value of  X  in the net-work with the edges reversed. As before, notice the striking proximity of the points to the line y = x .

Finally, in Figure 11 we observe the results of applying the edge-reversal test to the Flickr network, which once again confirms all our previous observations.
While it is true that influence does not play an important role in users X  tagging behavior in Flickr, we can actually discover that there is some limited effect by looking at the difference between similar tags. As a concrete example, con-sider the tag  X  X raffiti X ; the difference between the values of  X  in the two edge directions is essentially 0. A lot of users used the misspelled tag  X  X rafitti. X  Here the difference turns out to be slightly larger (still small though). It is easy to imagine that indeed there is some propagation of the misspelled ver-sion. (The analogy with the TA who grades two homeworks with the same mistakes should make this concept clear!) Fi-nally, with a third, even less common spelling ( X  X raffitti X ), the difference increased yet more.
In this paper we applied statistical analysis on the data from a large social system in order to identify and measure social influence as a source of correlation between the actions of individuals with social ties. This is an instance of the age-old problem of distinguishing correlation from causation. This problem is very difficult in general; however, in our case, we used the availability of data about the time-step of each action, as well as asymmetric social ties between the agents in order to study this problem.

There are still many interesting open directions left for future research. First, our techniques provide only a quali-tative indication of the existence of influence and not a quan-titative measure. Furthermore, we do not provide any for-mal verification of our results. For example, is it indeed the case that in Flickr users X  tagging behavior, influence has a limited role? Or, can we pinpoint social networks and be-haviors where influence is indeed prevalent and verify our tests? Also, what happens when different sources of social correlation are present, as is usually the case? All these im-portant questions might be tricky to answer and probably require the design of controlled user experiments. Further-more, it would be very interesting to extend our theoretical model for distinguishing between social influence and other forms of correlation in social networks. Under what condi-tions the information about the time step of events is enough to achieve this goal? How can the pattern of the  X  X pread X  of an action be used to identify social influence even in a setting where all social ties are symmetric? How can we find an  X  X nfluential X  node just by looking at the data about the spread of an action? Given the great potential of viral marketing technologies to shape the future of marketing on the Internet, this and many other related questions are of tremendous practical value.
 We thank Alex Jaffe, Malcolm Slaney, and Duncan Watts for invaluable discussions, as well as the anonymous reviewers for insightful comments. [1] L. Backstrom, D. Huttenlocher, J. Kleinberg, and [2] N. A. Christakis and J. H. Fowler. The spread of [3] D. Kempe, J. Kleinberg, and E. Tardos. Maximizing [4] P. Lazarsfeld and R. K. Merton. Friendship as a social [5] C. Marlow, M. Naaman, D. Boyd, and M. Davis. Ht06, [6] M. McPherson, L. Smith-Lovin1, and J. M. Cook.
 [7] M. Mitzenmacher and E. Upfal. Probability and [8] P. Young. The diffusion of innovations in social
