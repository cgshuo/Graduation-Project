 Religious belief plays an important role in how people be-have, influencing how they form preferences, interpret events around them, and develop relationships with others. Tradi-tionally, the religion labels of user population are obtained by conducting a large scale census study. Such an approach is both high cost and time consuming. In this paper, we study the problem of predicting users X  religion labels using their microblogging data. We formulate religion label pre-diction as a classification task, and identify content, struc-ture and aggregate features considering their self and social variants for representing a user. We introduce the notion of representative user to identify users who are important in the religious user community. We further define features us-ing representative users. We show that SVM classifiers using our proposed features can accurately assign Christian and Muslim labels to a set of Twitter users with known religion labels.
 H.2.8 [ Database Management ]: Database Applications X  Data mining Religion Prediction; User Profiling; Social Networks
Motivation. In many consumer and social applications, user attributes are required to suggest relevant and interest-ing products, content, services and social links. Among the many user attributes is religion which has proven to be very important in determining how users behave. Religion influ-ences how users form preferences, interpret events around them, and develop relationships with others. In the past, religion labels are obtained by large scale user surveys run by government agencies or large businesses with or without financial incentives (e.g., lucky draws, direct discounts, etc.). These survey efforts are generally effective but are intrusive and time consuming. On the other hand, online social media users have their religion attributes embedded in the content and interaction with other users. It is therefore interesting to recover these users X  religion labels from their social media data, and to do so accurately.

Objectives. In this paper, we attempt to predict users X  religions using their microblogging data. This task has not been addressed so far and datasets with religion labels are not publicly available. The task is particularly interesting for a user community that has a mixture of users with dif-ferent religious beliefs. Our research begins with gathering a dataset covering a set of 111,767 Twitter users located in Singapore, their follow relationships, and their tweets. This Twitter dataset allows us to explore both content and struc-ture features relevant to users X  religious beliefs. This also distinguishes our user label prediction research from previ-ous works which consider random sets of users, i.e., who are strangers to one another. We manually annotate the religion labels of over one thousand users who declare religion beliefs in their biographies. Using these labeled data, we are able to evaluate methods that predict user religion labels.
User religion prediction task is challenging. Most users do not reveal their religion labels explicitly. Out of the set of Singapore users we are able to identify only 1029 users, or &lt; 1%, who mention their religions clearly in their biographies. Vast majority of them do not. The sparsity of labeled data is even more severe for religions that have very few believ-ers. Label sparsity poses several challenges to the prediction problem. Firstly, there are few labeled users for training classifiers. Secondly, even with labeled users, we may also have insufficient content and interaction data generated by some of them to learn an accurate classifier.

Related Works. Despite no previous works on predict-ing user religion, there are other related works on mining online social media user attributes including political affil-iation, gender, ethnicity, and country. Bhargava and Kon-drak performed language classification of people names us-ing word and n -gram name features [3]. Pennacchiotti and Popescu proposed a classification method combining gradi-ent boosted decision tree and graph updating to perform classification of user political affiliations, ethnicity and fa-vorite businesses [6]. Their decision tree classifiers represent each user by their profile, tweeting behavior, linguistic con-tent and social network features. It was then observed that some user attributes are harder to classify than others. Al Zamal et al. [1] showed that using neighbors X  features only to predict age and political affiliation outperform using user features only. This can be attributed to attributes X  high as-sortativity. Rao et al. [7] proposed two sets of features to predict user gender, age, region origin and political affilia-tion. The first set of features are socio-linguistic words. The second set of features are unigrams and bigrams of the tweet text. Our work differs from the above works in several ways. First, we focus on user religion prediction which has not been studied earlier. Secondly, we approach the prediction task for a given user community as opposed to a random set of users who represent only sub-clusters of a larger community.
Contributions. We summarize our contributions as fol-lows:
Twitter user community. We crawled the Twitter data generated by about 110K users with Singapore specified as their profile location in July 2012. These users were identi-fied by first constructing a set of well known Singapore user accounts as seeds. We then found other Singapore user ac-counts connected to the seeds. The process was repeated several times before reaching the above user count. The dataset consists of users X  profiles, tweets, and follow links among the users. Table 1 shows the basic statistics of this dataset.
 User religion labeling. There are five main religions in Singapore, namely, Buddhism, Taoism, Christianity, Islam, and Hinduism. When we attempted to assign religion labels to Singapore users, we found very few self-declared Bud-dhists, Taoists and Hindu X  X  in our dataset. We therefore focus on labeling Christians and Muslims only. We manu-ally searched religion specific keywords in the biography of users as shown in Table 2. This was carried out by first Table 2: Selected keywords for assigning religion la-bels extracting users with biography fields containing any of the keywords, followed by manually judging the religion label for each extracted user based on their biographies. Only those who clearly state their religion were then assigned the Christian or Muslim label. As shown in Table 1, we man-aged to label 581 Christians and 448 Muslims. This composi-tion structure is quite different from religion composition re-ported in the 2010 Singapore population census which shows Christians, Muslim, Buddhists and Free-thinkers represent 18.3%, 33.3%, 14.7% and 17% respectively. This suggests that Christian and Muslim users have higher propensity to share their religious beliefs online. Buddhist and free-thinker users in contrast are more reserved.
In a social network, some users may appear to be more important than others for a given religion. We are inter-ested in determine these important users whose connections may help in the prediction of religion labels. The standard measures that characterize user importance in a network in-clude degree centrality and pagerank. These measures how-ever assume user importance is independent of their affilia-tion labels. For user religion prediction, we are interested in measures based on the user X  X  importance in each affiliation group. We define three new measures, called label-degree , label-indegree and representative indegree ratio , as follows.
The label-degree of user u for label r , deg ( u, r ), is de-fined as the number of neighbors (based on both in-links and out-links) of u from users with religion label r . The label-indegree of u for a religion label r , indeg( u, r ), is defined as the number of links to user u from users with religion label r . The representative indegree ratio of u , where r max ( u ) = argmax r indeg( u, r ), and r 0 max ( u ) = ing constant whose purpose is to prevent undefined values when indeg( u, r 0 max ( u )) = 0. In the experiment, we set  X  to 1.

The representative degree ratio RInDeg( u ) ( &gt; 1) mea-sures the dominance of a specific religion compared with other religions among u  X  X  followers. The larger RInDeg( u ), the more dominance is a specific religion among the fol-lowers. This suggests that u is very important among the followers with the specific religion affiliation. When u is followed by only users of a single religion, RInDeg( u ) = 1. When u is not followed by any users with religion label or when u is followed by equal largest groups of users with different religion labels, RInDeg( u ) = 1.

Due to the use of already labeled users, the three measures are also quite different from the standard degree measure. A high degree user may not have high indeg( u, r ) for some r (and also RInDeg( u )) if the user is not followed by any labeled users.
We apply the three proposed representativeness measures on all users in our Twitter dataset together with the set of labeled users shown in Table 1.

Table 3 lists the top ten users for each measure (with mea-sure values given in parentheses). We can see that there are overlapping top representative users across religions by indeg and they include STcom, mrbrown, SoSinga..., Channel... which are owned by popular bloggers, and news agencies in Singapore (and are shown in italic fonts). RInDeg did a great job recognizing the top representative users unique to each religion, and these user accounts include: JosephPrince, konghee, chcsg, nccsg which belong to popular church lead-ers and churches, FauzieLaily, Norfasarie, MediaCo... are popular Muslim celebrities and news agencies, all based in Singapore. This observation indicates the promising benefit of using our proposed measure.
We represent each user using a vector of features which in turn will be used in learning classifiers. We categorize all the features by their data type as well as by the user (s) from which the features are derived from. By considering different combinations of data types and users, we obtain a comprehensive feature set. By data type, we define: (a) Content features: which are derived from textual content of tweets; (b) Structural features: which are features de-rived from the connectivity of target user in relation with his neighbors; (c) Aggregated features: which are features derived from summarizing the content or structural features of the target user.

The features can also categorized by the user(s) from which the features are extracted. There are: (a) Self features which are extracted from the target user X  X  data only; and (b) Social features which are extracted from the neighborhood which includes the target user and other (possibly selected) users connected to him. Assuming that homophily exists, users in the neighborhood are expected to have similar fea-tures that enrich the target user representation. Table 4 shows the different combinations of feature categories.
Content Features We consider all original tweets writ-ten by the target user excluding the retweets. We call this the user X  X  tweet document . Each tweet document is then rep-resented as a bag of words and different content features are constructed from the bag of words. We have considered two types of content features for each word w , namely (a) TF  X  IDF, and (b) binary presence of w . TF is the frequency (in log form) of w in the tweet document d ( T F ( w, d ) = log (1 + f ( w, d )) where f ( w, d ) is the frequency of word w in d ). IDF denotes the inverse document frequency of w tweet documents. Because the results for TF  X  IDF consis-tently outperforms those for binary presence, only TF  X  IDF results are reported.

Social Content Features . Beside the content features from the user himself, content features of followees are also important for determining user class label. We define a Twitter user X  X  neighborhood to consist of himself and other important users he follows. When a user follows important religious accounts, the additional content features from these accounts will enrich the content of the target user especially for target user who is not actively tweeting.

In our dataset, a user can follow many followees ( min = 0, max = 16017, average = 290 for Christians, min = 0, max = 11219, average = 309 for Muslims). We there-fore chose for each user top k ( k = 20) most important followees. We can adopt several different ways of measuring user importance. To obtain social content features, we first combine the target user X  X  tweet document with those tweet Table 5: Social and Self Content Features (Preci-sion/Recall/F1) Table 6: All Features using RInDeg as User Impor-tance (Precision/Recall/F1) documents of his top k followees. The social content features are then extracted from the combined tweet document.
Social Structure Features . Intuitively, a user X  X  choice of followees may reveal her latent attribute. In particular, we assume that religious users tend to follow users impor-tant to the religious community and they could be famous pastors, preachers, and religious organizations. We there-fore define social link features to be derived in two steps: (1) find top k important followees in each religion (2) deter-mine the presence or absence of a follow link to each of the k important followees.
Evaluation on ground truth labels. In the first set of experiments, we evaluate the performance of our prediction method against the 1000+ ground truth labeled users. We use WEKA [5], a machine learning software for computing experiment metrics. Weka includes a wrapper of libSVM, an implementation of SVM by Chang and Lin [4]. Using 10-fold cross validation, we obtain the performance of the classifiers using different combinations of features metrics. Our performance metrics are the standard precision, recall and F1 scores for the Christian and Muslim classes.
Performance of using content features only comparing self content with content generated in the neighborhood is de-picted in Tables 5. The results show that social content from neighbors only is comparable to self content and social con-tent from neighborhood outperforms both self content and social content from neighbors only. This observation is con-sistent with Al Zamal and colleagues X  findings [1]. Different from their experiment, our proposed RInDeg outperforms degree in deriving social content for the target users. We shall therefore use RIndeg in the subsequent experiments.
The difference between social networks analysis and tra-ditional text analysis lies in the integration of additional so-cial information. Therefore, we are interested in investigate the effect of integrating additional structural and aggregated features. The results in Tables 6 show that combining both kinds of features indeed improves classification performance. The best F1 scores achieved for Christian and Muslim classes are 0.909 and 0.880 respectively.

As SVM output feature weights, Table 2 shows top 10 induced linguistic terms for two classes. The Christian words are indeed related to Christianity. The Muslim words are in Malay because most Singaporean Muslims are ethnically Malay and vice versa.

Evaluation on all users. We next evaluate our classi-fication method on all the 110K+ users who have not been assigned any religion labels. These users do not come with ground truth labels. We therefore manually judged the top 50 scored users under the Christian class, and those top 50 scored users under the Muslim class. The manual judgement was conducted by (1) examining religion related tweets gen-erated by the users, (2) checking their profile pages includ-ing biography, recent tweets, and (3) checking his followings and followers. The results show that these top scored users are indeed assigned with the correct religions,i.e., the pre-cision of the manual check is 100%. We also found some non-Malay users (e.g., sirxjcz) who are muslim. While these empirical results are encouraging, we shall conduct a larger scale evaluation on this results in the future work.
As users generate content and follow others on social net-works, they leave trace for inferring their latent attributes. Differ from previous works which rely on text features only, we use social links and neighbors to derive useful structure features and social content features. Our proposed classifi-cation model with multiple types of features yields F1-score larger than 0.8 for both Christian and Muslim using user provided ground truth data as well as manually judged la-beled users.
 This work is supported by the National Research Founda-tion under its International Research Centre @ Singapore Funding Initiative and administered by the IDM Programme Office. [1] F. Al Zamal, W. Liu, and D. Ruths. Homophily and [2] S. Bergsma, M. Dredze, B. Van Durme, T. Wilson, and [3] A. Bhargava and G. Kondrak. Language identification [4] C.-C. Chang and C.-J. Lin. Libsvm: a library for [5] M. Hall, E. Frank, G. Holmes, B. Pfahringer, [6] M. Pennacchiotti and A.-M. Popescu. Democrats, [7] D. Rao, D. Yarowsky, A. Shreevats, and M. Gupta.
