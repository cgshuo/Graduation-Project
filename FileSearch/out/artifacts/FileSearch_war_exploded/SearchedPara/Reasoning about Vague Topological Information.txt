 Topological information plays a fundamental role in the hu-man perception of spatial configurations and is thereby one of the most prominent geographical features in natural lan-guage. As vagueness abounds in geography, flexible for-malisms with the ability to capture vague topological infor-mation are often needed in practice. While such formalisms have already been introduced by various authors, complete reasoning procedures are usually not discussed. In this pa-per, we show how many interesting reasoning tasks, such as consistency checking and entailment checking, can be sup-ported in a generalization of the well-known RCC-8 calcu-lus. In particular, we present decision procedures based on linear programming, solving all reasoning tasks of interest. We furthermore show how deciding the consistency of vague topological information can be reduced to the consistency problem of the original RCC-8.
 I.2.4 [ Artificial Intelligence ]: Knowledge Representation Formalisms and Methods; I.2.3 [ Artificial Intelligence ]: Deduction and Theorem Proving X  Uncertainty, Fuzzy, and Probabilistic Reasoning Algorithms, Theory
More often than not, real-world spatial information is af-fected by vagueness: the boundaries of city neighborhoods or other geographic regions may be inherently ill-defined (e.g., downtown Lisbon, the Western Algarve, the Alps, etc.), information about the distance or relative orientation of two entities may only be vaguely known (e.g., the hotel  X 
Research Assistant of the Research Foundation  X  Flanders  X  Steven.Schockaert@UGent.be (corresponding author) Copyright 2007 ACM 978-1-59593-803-9/07/0011 ... $ 5.00. Figure 1: Vague regions A and B represented as fuzzy sets in R 2 is located within walking distance from Lisbon Cathedral, the old Moorish quarter lies east of the Baixa neighbor-hood), etc. This is particularly evident in contexts where geographic information is extracted from natural language texts. For example, geographic information retrieval (GIR) systems allow users to formulate geographically constrained queries such as museums in Lisbon X  X  Baixa neighborhood or restaurants near Lisbon Cathedral , and they use references to geographic entities in web documents to filter out irrele-vant information [9]. Both the geographic constraints in the queries and the geographic references in web documents are frequently vague.

Although vague spatial information can be modelled using a variety of formalisms, approaches based on fuzzy set the-ory [30] are predominantly used in practice (e.g., [4, 7, 11, 16, 17, 24]). In this case, fuzzy sets of locations, i.e., map-pings from locations to the unit interval [0 , 1], are used to represent vague regions. Whether or not a particular place is located in a particular region thus becomes a matter of degree. Figure 1 exemplifies the fuzzy sets corresponding to two vague regions A and B , assuming locations to be points of the real plane R 2 ;thepoint(0 . 9 , 0), for instance, belongs to vague region A to degree 0.66 and to vague region B to degree 0.16. Similarly, vague spatial relations tend to be modelled as fuzzy relations between geographic entities, i.e., mappings from pairs of geographic entities to [0 , 1]. In this way, we can model, for example, that places p and q are within walking distance from each other to degree 0.6, or that neighborhood A is contained in district B to degree 0.9. Figure 2: Intuitive meaning of some RCC-8 base relations
This paper focuses on (vague) topological information, such as A is a part of B , A is bordering on B ,etc.,us-ing the well-known RCC-8 calculus [2, 19] as a starting point. In RCC-8, topological information is expressed us-ing (unions of) eight jointly exhaustive and pairwise dis-joint base relations, viz. DC (disconnected), PO (partially overlapping), EC (externally connected), TPP (tangential proper part), NTPP (non-tangential proper part), TPP  X  1 , NTPP  X  1 and EQ (equals). The intuitive meaning of DC , PO , EC , TPP and NTPP is shown in Figure 2; TPP  X  1 and NTPP  X  1 are the inverses of TPP and NTPP , while EQ expresses equality. Although the RCC-8 framework has been adopted in a wide range of applications, it is not able to capture the vagueness that may exist in real-world topo-logical information, making it unsuitable for, for example, many GIR tasks.

Vagueness can arise in topological information because the regions involved are vague. For example, it is hard to say whether or not vague region A partially overlaps with vague region B in Figure 1. None of the points that fully belong to A also fully belong to B , and vice versa. Hence one would be inclined to say that A and B do not partially overlap. On the other hand, there are some common points that be-long to both regions but to a smaller degree. Although this does not justify to call A and B partially overlapping, it is intuitively more correct to call them partially overlapping to adegree , in other words to use a vague topological relation. Similarly, we may intuitively think of A and B as externally connected or disconnected to a certain degree. Vagueness can also be introduced in the definitions of the topological relations to obtain a cognitively more adequate framework. For example, two objects that are located very close to each other are often perceived as bordering even though they may not literally touch or share a border (e.g., the library is lo-cated next to the church, the cabinet is located against the wall, ...). Therefore, if we extract from a natural language description that some region A is adjacent to some region B ,both EC ( A, B )and DC ( A, B ) could hold when the stan-dard interpretations of EC and DC are used. Intuitively, however, we would expect that the concept of adjacent to only corresponds to EC . One solution, which we will adopt in this paper, is to define the interpretations of EC and DC such that EC ( A, B )holdsif A and B are touching, or close to each other, and DC ( A, B )if A and B are disconnected and not close to each other. Since closeness is an inherently vague feature, this results in topological relations that are vague as well, even when all regions involved are crisp.
While the modelling of vague topological relations has been studied by various authors, very little work has been done on deriving complete reasoning algorithms. Nonethe-less, such algorithms are paramount for GIR systems, and other geographic information systems, e.g., to ensure that a knowledge base extracted from the web is consistent, or to deduce new information from a given set of assertions. This paper aims to introduce such complete reasoning pro-cedures. The paper is structured as follows. In the next section, we review existing work on modelling and reason-ing about (vague) topological information. In Section 3, we discuss some preliminaries from fuzzy set theory, and show how vague topological information can be represented. A motivating example, clarifying the need for procedures to reason about vague topological information is given in Sec-tion 4. In Section 5, we define a notion of consistency, and show that, if the available vague topological information is consistent, a scenario in which regions are fuzzy sets in ( n  X  N \{ 0 } ) can always be found. As a corollary of this result, we obtain several interesting reasoning procedures based on linear programming, among others pertaining to consistency and entailment checking. Next, in Section 6, we show how deciding the consistency of vague topological information can be reduced to deciding the consistency of a set of RCC-8 formulas. In this way, existing tools and optimization techniques for efficient reasoning about RCC-8 relations can be reused.
Reasoning about topological information encoded in RCC-8 has been well studied. Since most reasoning tasks of in-terest are NP-complete, considerable work has been devoted to finding tractable subfragments of RCC-8, i.e., subsets of the 2 8 relations that can be expressed in RCC-8 for which reasoning is tractable [10, 18, 20, 22]. Of special interest are subsets of RCC-8 relations that are maximal in this re-spect, i.e., such that every proper superset of RCC-8 re-lations would result in NP-completeness. A first maximal tractable subfragment, containing 146 relations, was identi-fied in [22]. Two additional maximal tractable subfragments were identified in [20], containing 158 and 160 relations. In [20] it was shown that these three subfragments are the only maximal tractable subfragments of RCC-8 that contain all eight base relations.
 Usually, the notion of consistency (or satisfiability) in RCC-8 is defined in terms of a relational composition ta-ble. A consistent set of RCC-8 formulas can be realized by interpreting regions as regular closed subsets of some topo-logical space. In practice, however, it might be interesting to know whether a set of RCC-8 formulas can be realized by (regular closed) subsets of, for example, R 2 or Z 2 . In [21], it was shown that any consistent set of RCC-8 formulas can be realized in R n for every n  X  N \{ 0 } .Inotherwords, relational consistency and realizability in R n are equivalent. In [14], it was shown that this result still holds for subsets of Z 2 (i.e., the digital plane).

Several generalizations of RCC-8, or related formalisms to encode topological information like the 9-intersection model [5], have been defined with the aim of specifying vague topo-logical information. For example, in the egg-yolk calculus [3], a vague region is modelled as a pair of crisp regions, representing its lower and upper approximation. Topologi-cal relations between the vague regions ( a 1 ,a 2 )and( b are defined by specifying which topological relations hold between a 1 and b 1 , a 1 and b 2 , a 2 and b 1 ,and a 2 and b ilar approaches have been adopted in [1] and [25]. However, many geographic regions are more naturally represented as fuzzy sets, including regions that have inherently gradual boundaries such as Southern Portugal. Consequently, var-ious authors have already proposed definitions of topologi-cal relations between vague regions that are represented as fuzzy sets. In some of the resulting formalisms, topological relations are represented as fuzzy relations (e.g., [6, 26, 27, 31]), while other formalisms are based on crisp topological relations between fuzzy sets (e.g., [16, 17, 29]). Defining complete reasoning procedures for vague topological infor-mation has, until now, largely been ignored.
We will represent vague regions as fuzzy sets and topolog-ical relations as fuzzy relations, using the framework intro-duced in [27]. Before presenting the necessary background on this framework in Section 3.2, we briefly recall some pre-liminaries from fuzzy set theory.
In fuzzy logic, elements from the unit interval [0 , 1] rep-resent truth degrees. A large number of [0 , 1] 2  X  [0 , 1] map-pings could be used to generalize logical operators such as conjunction or implication to the unit interval. In practice, logical conjunction is usually generalized by a t-norm, i.e., a symmetric, associative, increasing [0 , 1] 2  X  [0 , 1] mapping T satisfying the boundary condition T ( a, 1) = a for every a in [0 , 1]. Logical implicaton can be generalized by the residual implicator I T of a t-norm T , defined for a and b in [0 , 1] as In particular, we will use the Lukasiewicz t-norm T W and its residual implicator I T W , defined for a and b in [0 , 1] as Other examples of t-norms are the minimum and product. It is possible to define an ordering  X  on t-norms, defined for t-norms T 1 and T 2 as T 1  X  T 2  X  (  X  x, y  X  [0 , 1])( T T ( x, y )).

A fuzzy set A in a universe X is a mapping from X to [0 , 1]. For x in X , A ( x ) is called the membership degree of x in A .Foreach  X  in ]0 , 1], A  X  is the crisp set defined as A  X  = { x | x  X  X  X  A ( x )  X   X  } . The support suppA of A is the crisp set defined as suppA = { x | x  X  X  X  A ( x ) &gt; 0 The fuzzy set A is called normalised if there exists an x in X for which A ( x ) = 1. In particular, we will use normalised fuzzy sets in R n ( n  X  N \{ 0 } ) to represent the spatial extent of vague regions throughout this paper. The complement coA of a fuzzy set A in X is the fuzzy set in X defined as coA ( x )=1  X  A ( x ) for all x in X . The degree of inclusion incl ( A, B )andthedegreeofoverlap overl ( A, B ) of two fuzzy sets A and B in X (w.r.t. a t-norm T ) are defined as A is called a fuzzy subset of B (or B a fuzzy superset of A ) iff A ( x )  X  B ( x ) for all x in X .
 A fuzzy set R in X  X  X is called a fuzzy relation in X . For x and y in X , R ( x, y ) expresses the degree to which x and y stand in some relation to each other (e.g., the degree to which x is located near y ). Let A be a fuzzy set in X , R a fuzzy relation in X ,and T a t-norm. The direct image R  X 
A and superdirect image R  X  A of A under R (w.r.t. T ) are defined for x in X as The fuzzy set R  X  ( R  X  A ) is called the R -closure of A , and will be abbreviated as R  X  X  X  A .
In the region connection calculus (RCC), topological re-lations are defined in terms of a primitive dyadic relation C in a universe U of regions. For a and b in U ,if C ( a, b ) holds, a and b are called connected. The specific interpre-tation of connection, and the specific representation of re-gions can vary from application to application. The only requirement is that the relation C is reflexive and sym-metric. Table 1 shows how other topological relations are defined in terms of C . The RCC, restricted to (unions) oftheeightRCC-8baserelations DC , PO , EC , TPP , NTPP , TPP  X  1 , NTPP  X  1 ,or EQ , is called RCC-8. Sim-ilarly, the restriction of the RCC to (unions of) the re-lations DR , PO , PP , PP  X  1 , EQ is called RCC-5. An RCC-8 formula (resp. RCC-5 formula) is an expression of the form R 1 ( a 1 ,b 1 )  X  R 2 ( a 2 ,b 2 )  X  X  X  X  X  R m ( a R i are (unions of) RCC-8 (resp. RCC-5) base relations and a ,b i  X  U (1  X  i  X  m ).

To generalize the RCC framework to make it suitable for vague topological information, it is proposed in [27] to define C as a reflexive and symmetric fuzzy relation (i.e., C ( a, a )=1and C ( a, b )= C ( b, a ) for all a and b in U ), and to define other fuzzy topological relations as shown in the right column of Table 1, where T is a left-continuous t-norm (i.e., a t-norm whose partial mappings are left-continuous). When C is a crisp relation, it can be shown that these gener-alized definitions coincide with the original definitions of the RCC. This generalization satisfies many interesting proper-ties, regarding reflexivity, symmetry, mutual exclusiveness, etc. (we refer to [27] for more details). Most important, however, generalized transitivity rules can be established, which are shown in Table 2. These transitivity rules take the form of inequalities. For example, the entry on the first row, third column, should be interpreted as for every a , b ,and c in U . Eq. (1) expresses that the degree to which a is connected to c is at least as high as the degree to which  X  a is connected to b and b is a part of c  X .
In practice, vague regions are usually defined as normalised fuzzy sets in R n with a bounded support ( n  X  N \{ 0 } ,typ-ically n =2or n = 3). One particularly interesting inter-pretation of connection is then given by the fuzzy relation C  X , X  ) defined for fuzzy sets in where the fuzzy relation R (  X , X  ) in R n expresses closeness. In other words, A is connected to B to the degree that some element of A is close to some element of B .For x and y in , the fuzzy relation R (  X , X  ) , modelling closeness, is defined as where d is the Euclidean distance. It can be shown that, when C is interpreted as C (  X , X  ) , the corresponding interpre-tations of the fuzzy topological relations P , O and NTP are given by the fuzzy relations P (  X , X  ) , O (  X , X  ) and NTP defined for fuzzy sets A and B in R n as Note that the corresponding interpretations of the other fuzzy topological relations can easily be derived from those NTP are the only fuzzy topological relations whose defi-nition explicitly involves infima or suprema.
Many applications, most notably GIR systems, can ben-efit from using topological information extracted from nat-ural language. However, in natural language, topological relations are used in a quite flexible way, often resulting in inconsistencies when statements about topological rela-tions are directly interpreted as RCC-8 or RCC-5 formulas. Consider, for example, the following statements about the location of the Chiado and Baixa neighborhoods in Lisbon: 1. The Elevador de Santa Justa is an impressive steel lift 2. Shops in the Baixa tend to be pricier than elsewhere, 3. Baixa, or downtown Lisbon, is the heart of the city. 3 4. Located in the heart of the historic Chiado quarter, in Extracting and interpreting topological relations from nat-ural language descriptions is outside the scope of this paper. Therefore, we simply assume that we can encode the topo-logical information from the four statements above as: http://www.telegraph.co.uk/travel/main.jhtml?xml= /travel/2006/03/01/etmykind01.xml , accessed April 13, 2007. http://www.thisistravel.co.uk/travel/guides/city. htmlLisbon-what-to-buy article.html?in article id= 17537&amp;in page id=1 , accessed April 20, 2007. http://www.golisbon.com/sight-seeing/baixa.html , accessed April 13, 2007 http://www.chiadoresidence.com/location.htm , accessed April 13, 2007.
 While all four statements are true to some extent, the result-ing description in the RCC is inconsistent. Since Baixa and Chiado are located very close to each other, but not actu-ally touching, both the relations DC and EC are intuitively justified to some extent. As can be seen from (2) and (3), natural language statements expressing EC ( Baixa, Chiado ) and DC ( Baixa, Chiado ) are indeed both found in web doc-uments. Another cause of the inconsistency of (2) X (5) is the fact that downtown Lisbon is a vague region.

At least two of the four statements have to be discarded to make the resulting description in the RCC consistent. As we will see below, using the fuzzy topological relations, none of the four statements has to be fully rejected. We only need to weaken our interpretation by expressing that some of the topological relations only hold to some extent.
When fuzzy topological relations are used to describe spa-tial configurations, we may want to reason about assertions such as thedegreetowhich EC ( a, b ) holds is at least 0.6 .In particular, we define fuzzy RCC formulas as (disjunctions of) upper or lower bounds of fuzzy topological relations.
Definition 1. An atomic fuzzy RCC formula is a for-mula of the form R ( a, b )  X   X  or R ( a, b )  X   X  ,where R is one of the fuzzy topological relations from Table 1 ( C , P , ..., NTPP ),  X ,  X   X  [0 , 1] ,and a and b are elements from the universe of regions U .If R corresponds to one of the RCC-8 (resp. RCC-5) base relations, the atomic fuzzy RCC formula is also called an atomic fuzzy RCC-8 (resp. RCC-5) formula.

Definition 2. A fuzzy RCC formula is a formula of the form f 1  X  f 2  X  X  X  X  X  f m ,where f i is an atomic fuzzy RCC formula ( 1  X  i  X  m ). If f 1 ,f 2 ,...,f m are atomic fuzzy RCC-5 formulas or atomic fuzzy RCC-8 formulas, the fuzzy RCC formula is also called a fuzzy RCC-5/8 formula. Regions (i.e., elements from U ) are abstract objects, and C can be any reflexive and symmetric fuzzy relation in U . In practice, however, regions and topological relations are usually interpreted in a specific way.

Definition 3. An interpretation I is a surjective map-ping from the universe of regions U to some interpretation domain D ,andfrom C to a reflexive and symmetric fuzzy relation C I in D .
 Since all fuzzy topological relations are defined in terms of C , we can extend the interpretation of C to interpretations of the other fuzzy topological relations; e.g., for all u and v in U , we define For example, let D be the universe of normalised fuzzy sets in
R n with a bounded support, and C I = C ( This particular interpretation is especially important for ge-ographical applications as it bears close similarity to the way topological relations are used in natural language. Below, we will refer to such interpretations as ( n ;  X ,  X  )-interpretations.
Definition 4. An interpretation I satisfies an atomic fuzzy RCC formula of the form R ( a, b )  X   X  (resp. R ( a, b )  X  )iff R I ( a I ,b I )  X   X  (resp. R I ( a I ,b I )  X   X  ) holds, where R is one of the fuzzy topological relations from Table 1. Fur-thermore, I satisfies a fuzzy RCC formula f 1  X  f 2  X  X  X  X  X  iff it satisfies at least one of the atomic fuzzy RCC formu-las f 1 , f 2 , ..., f m .Finally, I satisfies a set of fuzzy RCC formulas  X  , written I| = X  , iff it satisfies every fuzzy RCC formula in  X  . If such an interpretation satisfying  X  exists,  X  is called consistent (or satisfiable).

Definition 5. Let  X  be a set of fuzzy RCC formulas, and let V be the set of regions that are used in the formulas from  X  ( V  X  U ).  X  is called normalised iff 1. for each of the fuzzy topological relations C , P , O and 2.  X  contains no other formulas.
 The first condition in the definition above guarantees that the membership degree for each of the fuzzy topological re-lations from Table 1 is uniquely determined for each pair of regions in V , while the second condition prevents the inclu-sion of superfluous additional information.
A normalised set of fuzzy RCC-8 formulas is completely characterized by four matrices, containing the membership degrees corresponding to the fuzzy topological relations C , P , O and NTP for each pair of regions in V . For example ( V = { a, b, c } ):
C =
O = For a normalised set of fuzzy RCC formulas, we can imme-diately check whether the transitivity rules from Table 2 are violated. For example, according to the transitivity table, it must hold that From the matrices above, we find 0 . 4, hence (8) is satisfied. However, if T is the minimum, we find min( P ( c, a ) ,P ( a, b )) = 0 . 6 &gt; 0 . 4, violating (8).
It can be shown that for all regions a and b ,itmusthold that [27] These requirements can also be checked using the matrix representation of a normalised set of fuzzy RCC formulas. Clearly, if either one of these requirements or one of the transitivity rules is violated, the set of fuzzy RCC formulas is not consistent (w.r.t. a given t-norm T ). The following proposition gives a sufficient condition for the converse to hold as well.

Proposition 1. Let  X  be a normalised set of fuzzy RCC formulas, and assume that the Lukasiewicz t-norm is used in the definitions of the fuzzy topological relations (i.e., T = T
W ). Assume, moreover, that  X  does not contain fuzzy RCC formulas of the form NTP ( v, v )  X  1 .If  X  does not vio-late the transitivity rules from Table 2, nor the requirements (9)  X  (12) , there exists an ( n ; alpha, 0) -interpretation satisfies  X  ,forsome n  X  N \{ 0 } and an arbitrary  X &gt; 0 .
Corollary 1. Under the assumptions of Proposition 1, it holds that  X  is consistent iff neither the transitivity rules from Table 2 nor the requirements (9)  X  (12) are violated. The condition that  X  does not contain fuzzy RCC formulas of the form NTP ( v, v )  X  1 is quite natural, as such formu-las can only be satisfied by very counterintuitive interpreta-tions. Henceforth, we will always assume that T = T W .
Note that checking whether the transitivity rules from Ta-ble 2 or the requirements (9) X (12) are violated, can be done in polynomial time.
Arbitrary sets of fuzzy RCC formulas can usually be re-fined to normalised sets by removing disjuncts, by making the upper and lower bounds more restrictive, or by adding additional upper or lower bounds.

Definition 6. Let  X  1 and  X  2 be sets of fuzzy RCC for-mulas.  X  2 is called a refinement of  X  1 iff every interpre-tation that satisfies  X  2 , also satisfies  X  1 .Ifboth  X  1 refinement of  X  2 and  X  2 a refinement of  X  1 ,  X  1 and  X  called equivalent.
 Clearly, every consistent set of fuzzy RCC formulas  X  can be refined to a normalised set. Furthermore,  X  is consistent iff there exists such a refinement that is consistent. To de-cide the satisfiability of a set  X  of fuzzy RCC-5/8 formulas, we will therefore try to refine  X  to a consistent normalised set. To decide the consistency of this normalised set, we can use the criterion from Corollary 1, provided that it con-tainsnofuzzyRCCformulasoftheform NTP ( v, v )  X  1. The following proposition shows that whenever there exists a refinement of  X  to a consistent normalised set, there ex-ists such a refinement which does not contain fuzzy RCC formulas of the form NTP ( v, v )  X  1.

Proposition 2. Let T = T W and assume that  X  only contains fuzzy RCC-5/8 formulas. Moreover, assume that there exists a refinement of  X  to a normalised set  X  which does not violate the transitivity rules from Table 2 nor the requirements (9)  X  (12) . Then there exists a refinement of  X  to a normalised set  X  which does not violate the tran-sitivity rules from Table 2 nor the requirements (9)  X  (12) , and which does not contain fuzzy RCC formulas of the form NTP ( v, v )  X  1 .
 This proposition reveals that we can use the criterion from Corollary 1 regardless of whether NTP ( v, v )  X  1 occurs. We thus obtain the following characterization of consistency for sets of fuzzy RCC-5/8 formulas.

Corollary 2. Let T = T W in the definition of the fuzzy topological relations, and assume that  X  only contains fuzzy RCC-5/8 formulas.  X  is consistent iff there exists a refine-ment of  X  to a normalised set  X  which does not violate the transitivity rules from Table 2 nor the requirements (9)  X  (12) . From Corollory 1 and Corollary 2, we furthermore obtain the following corollary.

Corollary 3. Let T = T W . A set of fuzzy RCC-5/8 for-mulas is consistent iff there exists an ( n ;  X , 0) -interpretation I that satisfies it, for some n  X  N \{ 0 } and an arbitrary  X &gt; 0 .
 Because of Corollary 2, deciding whether a set  X  of fuzzy RCC-5/8 formulas is consistent boils down to searching a re-finement to a normalised set that does not violate the tran-sitivity rules or (9) X (12). Next, we present a procedure for deciding whether such a refinement exists. However, first note that each of the fuzzy RCC-5/8 formulas can equiva-lently be written as a set of (disjunctions of) atomic fuzzy RCC formulas of the form R ( a, b )  X   X  or R ( a, b )  X   X  ,where R is either C , P , O ,or NTP . For example, consider the fuzzy RCC formula EC ( a, b )  X  0 . 4  X  DC ( a, b )  X  0 . 3. We obtain
EC ( a, b )  X  0 . 4  X  DC ( a, b )  X  0 . 3  X  ( C ( a, b )  X  0 . 4  X  1  X  O ( a, b )  X  0 . 4)  X  1  X  C ( a, b )  X  ( C ( a, b )  X  0 . 4  X  O ( a, b )  X  0 . 6)  X  C ( a, b )  X  ( C ( a, b )  X  0 . 4  X  C ( a, b )  X  0 . 7)  X  C ( a, b )  X  0 . 4  X  ( O ( a, b )  X  0 . 6  X  C ( a, b )  X  Hence, if EC ( a, b )  X  0 . 4  X  DC ( a, b )  X  0 . 3 occurs in  X , we could replace it by { C ( a, b )  X  0 . 4 ,O ( a, b )  X  0 . 6 0 . 7 } .Let X  be the set of fuzzy RCC formulas that results from replacing all formulas in  X  by (disjunctions of) atomic fuzzy RCC formulas involving only C , P , O ,or NTP .As  X and X  are equivalent, any refinement of  X  is also a re-finement of  X .

First assume that  X  contains no disjunctions. Let V be the set of regions that occur in the fuzzy RCC formulas from  X  . We need to find membership degrees for C ( a, b ), P ( a, b ), O ( a, b ), and NTP ( a, b ), for each pair of regions ( a, b )in V such that the transitivity rules from Table 2 and the re-quirements (9) X (12) are satisfied, as well as the inequalities specified in  X  ; or show that no such membership degrees exist. These requirements for the membership degrees can be formulated as a system of linear inequalities  X , where both the number of variables and the number of inequalities is polynomial in the size of  X . In particular, for each pair of variables ( a, b )in V 2 ,if X  contains a fuzzy RCC formula of the form C ( a, b )  X   X  (resp. C ( a, b )  X   X  ), we add C ( a, b ) (resp. C ( a, b )  X   X  ) to  X ; otherwise, we add C ( a, b ) (resp. C ( a, b )  X  0). In the same way, we add two inequali-ties regarding the bounds of P ( a, b ), O ( a, b ), and NTP ( a, b ). This ensures that any solution of  X  corresponds to a refine-ment of  X  . Furthermore, we add to  X  the linear inequalities NTP ( a, b )  X  P ( a, b ), P ( a, b )  X  O ( a, b ), O ( a, b ) C ( a, b )  X  C ( b, a ), C ( b, a )  X  C ( a, b ), O ( a, b ) O ( b, a )  X  O ( a, b ). Moreover, for each a in V ,weaddthe inequality P ( a, a )  X  1to X ,ensuringthatanysolutionof X  will satisfy (9) X (12). Finally, to guarantee that solutions of  X  do not violate the transitivity rules, we add an additional inequality for each transitivity rule (i.e., for each entry in Table 2 which is different from 1) and each triplet ( a, b, c ) in V 3 . For example, for the transitivity rule corresponding tothefirstrowandsecondcolumnofTable2weaddthe inequality which is equivalent to the transitivity rule since coP ( a, c )=1  X  P ( a, c )  X  0. Whether  X  has a solution, and thus whether  X  is consistent, can be decided in polyno-mial time using a linear programming solver [13] (assuming thatthenumberofbitsrequiredtorepresenteachofthe lower and upper bounds in  X  is finite). For example, let  X  be defined as
 X  = { C ( b, c )  X  0 . 6 ,P ( c, a )  X  0 . 8 ,O ( a, c )  X  Solving the corresponding system of linear inequalities  X  us-ing the lp solve 5 linear programming solver yields the con-sistent, normalised set of fuzzy RCC formulas defined by (6) X (7).

In the general case, where  X  may contain disjunctions, we can use a backtracking algorithm to determine whether any choice of the disjuncts leads to a normalised refinement satisfying the transitivity rules and (9) X (12). Therefore, it holds that deciding the consistency of a set of fuzzy RCC formulas is in NP. From the following proposition, it follows that this problem is also NP-complete.
 Proposition 3. Deciding the consistency of a set of fuzzy RCC formulas is NP-hard ( T = T W ).
 Hence, the consistency problem for fuzzy RCC formulas is in the same complexity class as the consistency problem in the original RCC-5 and RCC-8.
In addition to deciding consistency, many other interest-ing reasoning tasks can be cast into systems of linear inequal-ities. We consider entailment, the best truth value bound, and inconsistency repairing.

Definition 7. Let  X  be a set of fuzzy RCC formulas, and  X  a fuzzy RCC formula.  X  is said to entail  X  , written  X  | =  X  , if every interpretation that satisfies  X  , also satisfies  X  . http://sourceforge.net/projects/lpsolve If  X  is a set of fuzzy RCC formulas, and  X , f 1 ,f 2 ,...,f fuzzy RCC formulas, then Let  X  be a set of fuzzy RCC-5/8 formulas, and let  X  be a fuzzy RCC-5/8 formula. To decide whether  X  | =  X  , we again convert  X  into an equivalent set  X  of fuzzy RCC relations, containing only (disjunctions of) atomic fuzzy RCC formu-las involving C , P , O ,or NTP . Without loss of generality, we can also assume that  X  is written in this form. Because of (14), we only need to consider the case where  X  contains no disjunctions. Let V be the set of regions occurring in  X  and  X . We construct a system of linear equations  X  which has no solution iff  X  | =  X  . First, we add inequalities to  X  corresponding to the transitivity rules, (9) X (12) and  X  ,as before. Each disjunct of  X  corresponds to a inequality of the form R ( a, b )  X   X  or R ( a, b )  X   X  (where R is C , P , O ,or NTP ). For each of these disjuncts, we add the negation of the corresponding inequality to  X , i.e., a strict inequality of the form R ( a, b ) &gt; X  or R ( a, b ) &lt; X  , respectively. Any so-lution of  X  corresponds to at least one interpretation which satisfies  X  and does not satisfy  X  . Therefore, if  X  has a so-lution, then  X  | =  X  cannot hold. Moreover, if there exists an interpretation which satisfies  X  and does not satisfy  X  ,  X  will have a solution.

However, as  X  contains strict inequalities, it cannot imme-diately be solved using a linear programming solver. How-ever, as shown in [12], deciding whether  X  has a solution can still be done in polynomial time.

The notion of the best truth value bound was originally introduced in [28] in the context of fuzzy description log-ics. Here it consists of finding the strongest possible lower and upper bound for the values of C ( a, b ), P ( a, b ), O ( a, b ), or NTP ( a, b ), given that a set of fuzzy RCC-5/8 formu-las is satisfied. Formally, we want to find the values of lub R ( a, b ; X )and glb R ( a, b ;  X ) for R either C , P , O ,or NTP :
Definition 8. Let R be one of the fuzzy topological re-lations C , P , O ,or NTP . Moreover, let  X  be a set of fuzzy RCC formulas. For regions a and b , lub R ( a, b ; X ) and glb
R ( a, b ; X ) are defined as To find, for example, the value of lub C ( a, b ;  X ), we can spec-ify a particular objective function to be minimized or maxi-mized in the linear program corresponding to  X . Let  X  be a set of fuzzy RCC-5/8 formulas. Moreover, let V , X  and  X  be defined as before, i.e.,  X  is a system of linear inequalities which has a solution iff  X  is consistent. If a/  X  V or b/ we immediately find that lub C ( a, b ;  X ) = 1, as the possible values of C ( a, b ) cannot be constrained by the formulas in  X . Therefore, we assume that a, b  X  V . A linear program-ming solver can then be used to find a solution of  X  that maximizes C ( a, b ). This maximal value of C ( a, b )isequalto lub C ( a, b ;  X ). In the same way, the solution of  X  which min-imizes C ( a, b ) yields the value of glb C ( a, b ; X ). The values of lub R ( a, b ; X ) and glb R ( a, b ;  X ) can be found analogously for R equal to P , O ,or NTP .

For example, for the set  X  defined by (13), it holds that lub C ( a, c ; X  )=0 . 9and glb C ( a, c ; X  )=0 . 8. Hence, for any interpretation I satisfying  X  , it holds that
In real-world applications, available topological informa-tion is often inconsistent. For example, consider again the assertions specified in (2) X (5). Although none of the four assertions is clearly wrong, the resulting set is inconsistent because some assertions are only partially true. To rem-edy such inconsistencies, we weaken the interpretation of the available topological information. For example, (2) X (5) could be interpreted as where  X  1 , X  2 , X  3 , X  4  X  [0 , 1]. Usually, we want the interpre-tation to be as strong as possible, i.e., we want to choose  X  , X  2 , X  3 , and  X  4 such that increasing one of these values leads to inconsistency. This can again be formulated as a linear programming problem. First, we rewrite (15) X (18) as aset X  of fuzzy RCC relations containing only (disjunctions of) atomic fuzzy RCC formulas involving C , P , O ,or NTP : We now consider a system of inequalities  X  corresponding to the transitivity rules and (9) X (12). Furthermore, we add the inequalities (19) X (24) to  X , where  X  1 , X  2 , X  3 and  X  treated as additional variables. Each solution of  X  will cor-respond to a consistent interpretation of (15) X (18). By spec-ifying  X  1 +  X  2 +  X  3 +  X  4 as the objective function (to be maxi-mized), we obtain an interpretation that cannot be strength-ened without introducing inconsistencies. Using lp solve, we find  X  1 =  X  2 =  X  3 =0 . 5and  X  4 =1.

If a priori information is available about the reliability of each of the statements, this idea can be further extended by using weights in the objective function. For example, if the first and last statement are assumed to be somewhat less reliable, 0 . 5  X  1 +0 . 8  X  2 +0 . 8  X  3 +0 . 5  X  4 couldbeusedasthe objective function, yielding  X  1 =  X  2 =  X  4 =0 . 5and  X  3
In Section 5, we solved the problem of deciding whether a set of fuzzy RCC-5/8 formulas is consistent using a lin-ear programming approach. As we will show in this section, it is also possible to solve this problem by reducing it to the consistency problem in RCC-8. This has the advantage that existing, highly optimized procedures for deciding con-sistency in RCC-8 could be used, e.g., optimizations based on large tractable subfragments of RCC-8 [23]. Moreover, there is an increasing interest in formalisms for reasoning about topological information, combined with information about other aspects of space, such as distance, orientation, size, shape, etc. (e.g., [8, 15]). By reducing reasoning about vague topological relations to reasoning in RCC-8, work in this direction can more easily be leveraged to fuzzy topolog-ical information.

The following proposition is of key importance for the reduction to RCC-8.

Proposition 4. Let  X  be a set of fuzzy RCC-5/8 formu-las, T = T W , and let L be the set of all lower and upper bounds in these formulas ( L  X  [0 , 1] ). Furthermore, assume that there exists a  X  in [0 , 1] such that for each  X  in L ,  X  = k  X   X  for some k in N (i.e., L  X  [0 , 1]  X  Q ). It holds that  X  is consistent iff there exists an ( n ;  X , 0) -interpretation satisfies  X  for some n  X  N \{ 0 } and an arbitrary  X &gt; 0 ,such that for each region u in U , the fuzzy set u I in R n only takes membership degrees from the set M  X  = { 0 ,  X  2 ,  X  , 3 X  2 A fuzzy set A that only takes membership degrees from M  X  is completely characterized by the crisp sets A  X  A . Thisobservationcanbeusedtoprovethefollowing
Proposition 5. Let A and B be fuzzy sets in R n which only take membership degrees from M  X  ,  X &gt; 0 ,  X   X  ]0 , 1] and  X   X  [0 , 1[ . It holds that where NTPP (  X , 0) is defined for X and Y fuzzy sets in R n NTPP (  X , 0) ( X, Y )=min( NTP (  X , 0) ( X, Y ) , 1  X  P ( Using this characterization, we construct a set  X  of RCC-8 formulas which is consistent iff  X  is consistent. As before, we first construct a set of fuzzy RCC formulas  X  which is equiv-alent to  X , and which contains only (disjunctions of) atomic fuzzy RCC formulas involving C , P , O ,or NTP . Next, for each fuzzy RCC formula in  X  , we add an RCC-8 formula to  X , based on the characterization in Proposition 5. For exam-ple, each disjunct of the form C ( a, b )  X   X  is replaced by the RCC-8 formula C ( a 1 ,b  X  )  X  C ( a 1  X   X  and similar for other types of disjuncts. For each region a in  X , the RCC-8 formulas in  X  will involve the regions a  X  a , ..., a 1 . To ensure that in every interpretation of  X , these regions can be used to define a normalised fuzzy set, we additionally add the following RCC-8 formulas to  X  for each region a occurring in  X : The following proposition expresses that we have indeed re-duced the consistency problem for fuzzy RCC-5/8 formulas to the consistency problem in RCC-8 (as defined in, e.g., [22]).

Proposition 6. Let  X  and  X  be defined as above. It holds that  X  is consistent iff  X  is consistent.
 Moreover, using Proposition 6, Corollary 3, and the equiva-lence between consistency and realizability in R n shown in [21], we can show the following result.
 Proposition 7. Let T = T W and let  X  be a set of fuzzy RCC-5/8 formulas. The following three statements are equiv-alent: 1.  X  is consistent. 2. There exists an ( n ;  X , 0) -interpretation I that satisfies 3. There exists an ( n ;  X , 0) -interpretation I that satisfies
We have discussed the problem of reasoning about vague topological information, encoded in a generalization of the region connection calculus. Of central importance is the ob-servation that checking the consistency of a set  X  of asser-tions in this generalization boils down to checking whether a number of linear inequalities, among others correspond-ing to transitivity rules, are violated. This result makes it possible to use linear programming techniques, in addi-tion to backtracking, to check the consistency of  X . As we have shown next, other important reasoning tasks, viz. en-tailment checking, finding the best truth value bound and inconsistency repairing, can be supported in a similar way. The time complexity of all reasoning tasks discussed is the same as that of their counterparts in the original RCC-8.
Furthermore, we have shown how checking the consis-tency of  X  can be reduced to checking the consistency of a set of RCC-8 formulas. Efficient reasoners, based on large tractable subfragments of RCC-8, can thus be used to rea-son about vague topological information. Moreover, using this reduction, important theoretical findings about RCC-8 can easily be leveraged to our generalization. In particular, it has allowed us to prove that the regions involved in  X  can be realized as normalised fuzzy sets in any dimension, pro-vided  X  is consistent. Moreover, we believe that the recent work on combining topological information with other as-pects of space (e.g., distance, size, orientation, shape, etc.), can be generalized to vague topological information in a sim-ilar way. [1] E. Clementini and P. Di Felice. Approximate [2] A. Cohn, J. Gooday, and B. Bennett. A comparison of [3] A. Cohn and N. Gotts. The  X  X gg-yolk X  representation [4] S. Dutta. Approximate spatial reasoning: integrating [5] M. Egenhofer and R. Franzosa. Point X  X et topological [6] A. Esterline, G. Dozier, and A. Homaifar. Fuzzy [7] P. Fisher. Sorites paradox and vague geographies. [8] A. Gerevini and J. Renz. Combining topological and [9] F. Gey, R. Larson, M. Sanderson, K. Bischoff, [10] M. Grigni, D. Papadias, and C. Papadimitriou. [11] H. Guesgen and J. Albrecht. Imprecise reasoning in [12] P. Jonsson and C. B  X  ackstr  X  om. A linear-programming [13] N. Karmarkar. A new polynomial-time algorithm for [14] S. Li. On topological consistency and realization. [15] S. Li. Combining topological and directional [16] Y. Li and S. Li. A fuzzy sets theoretic approach to [17] Y. Li and S. Li. Computing the fuzzy topological [18] B. Nebel. Computational properties of qualitative [19] D. Randell, Z. Cui, and A. Cohn. A spatial logic based [20] J. Renz. Maximal tractable fragments of the Region [21] J. Renz. A canonical model of the Region Connection [22] J. Renz and B. Nebel. On the complexity of [23] J. Renz and B. Nebel. Efficient methods for [24] V. Robinson. Individual and multipersonal fuzzy [25] A. Roy and J. Stell. Spatial relations between [26] M. Schneider. A design of topological predicates for [27] S. Schockaert, C. Cornelis, M. De Cock, and E. Kerre. [28] U. Straccia. Reasoning within fuzzy description logics. [29] X. Tang and W. Kainz. Analysis of topological [30] L. Zadeh. Fuzzy sets. Information and Control , [31] F. Zhan. Approximate analysis of binary topological
