 The communities of a social network are sets of vertices with more connections inside the set than outside. We theoreti-cally demonstrate that two commonly observed properties of social networks, heavy-tailed degree distributions and large clustering coefficients, imply the existence of vertex neigh-borhoods (also known as egonets) that are themselves good communities. We evaluate these neighborhood communities on a range of graphs. What we find is that the neighbor-hood communities can exhibit conductance scores that are as good as the Fiedler cut. Also, the conductance of neigh-borhood communities shows similar behavior as the network community profile computed with a personalized PageRank community detection method. Neighborhood communities give us a simple and powerful heuristic for speeding up lo-cal partitioning methods. Since finding good seeds for the PageRank clustering method is difficult, most approaches in-volve an expensive sweep over a great many starting vertices. We show how to use neighborhood communities to quickly generate a small set of seeds.
 I.5.3 [ Pattern Recognition ]: Clustering X  Algorithms Algorithms, Theory clustering coefficients, triangles, egonets, conductance
Supported by NSF CAREER award 1149756-CCF.
Supported by the Sandia LDRD program (project 158477) and the applied mathematics program at the Dept. of Energy.
Sandia National Laboratories is a multi-program labora-tory managed and operated by Sandia Corporation, a wholly owned subsidiary of Lockheed Martin Corporation, for the U.S. Department of Energy X  X  National Nuclear Security Ad-ministration under contract DE-AC04-94AL85000.
Community detection , loosely speaking, is any process that takes a graph or network and picks out sets of related nodes. An incredibly variety of techniques exist for this single task, which has a variety of names as well: community detection, graph clustering, and graph partitioning. Thus, we use community and cluster interchangeably. For more information about approaches for this problem, see the recent survey by Schaeffer [ 33]. In many techniques, a community is a set with a good score under a quality measure that reflects the connectivity between the set and the rest of the network. Common measures are based on density of local edges, deviance from a random null model, the behavior of random walks, or graph cuts. Mostly, these measures are NP-hard to optimize.

To keep this manuscript simple, we shall evaluate com-munities using their conductance score . Schaeffer identified this measure as one of the most important cut-based mea-sures and it has been studied extensively in a variety of disciplines [ 11 , 17 , 35 ]. Work by Leskovec et al. has recently demonstrated that, although different quality measures pro-duce differences in terms of specific communities, strong communities persist under a variety of measures [ 26 ].
A vertex neighborhood of a vertex v is the set of vertices directly connected to v via an edge and v itself. For example, see the green and black ver-tices at right. What we show here is that the presence of two commonly observed prop-erties of modern information networks  X  a large global clus-tering coefficient [ 38 ] and a heavy tailed degree distribution [ 5]  X  implies the existence of vertex neighborhoods with good conductance scores. We make this statement precise in Theorem 4.6 , and the discussion surrounding it in Section 4. These results can be seen as an extension of the simple observation that, in the extreme case when the global clustering coefficient of a network is 1, the network must be a union of cliques. Neighborhoods define ideal communities in this case. We mathematically show that this argument can be extended to the case when the graph has a heavy tailed degree distribution and a large clustering coefficient. The significance of this finding is that robust community detection need not employ complicated algorithms. Instead, a straightforward approach that just involves counting triangles  X  a function that is easy to im-plement in MapReduce [12 ] and easy to approximate [21 ], suffices to identify communities. It is intriguing that ar-guably the two most important measurable quantities of social networks imply that communities are very easy to find. This may lead to more mathematical work explaining the success of community detection algorithms, given that the problem is in general NP-hard. We note that unfortunately, our theoretical bounds reflect a worst case behavior and are weaker than required for practical use. Consequently, in the remainder of the paper we explore the utility of neigh-borhood communities empirically on 15 public real-world networks including collaboration networks, social networks, technological networks, and web networks  X  see Section 5 for a discussion.

Our empirical investigation of neighborhood clusters be-gins in Section 6 . We first exhibit the conductance scores for the set of neighborhood communities for a few graphs (e.g. Figure 2 ). We find that neighborhood communities reflect the shape of the network community plot observed by Leskovec et al. [ 24 , 25 ] at small size scales. We next com-pare the best neighborhood communities to those discovered by four other procedures: the Fiedler community, the best personalized PageRank community (  X  2.3 ), the best network whisker (  X  2.3 ), and the best clusters from metis [18 ]. In one third of the cases, a neighborhood community is as good as the best of any of the other algorithms.

Motivated by the success of the neighborhood communities at small size scales, we explore using the best vertex neigh-borhoods as seeds for the Andersen-Chung-Lang algorithm in Section 7 . Here, we find that these procedures, when seeded with an easy-to-identify set of neighborhood communities, produce larger clusters that decay as expected by the results in Leskovec et al. [ 24, 25 ]
The technical discussion of the manuscript begins next by introducing our notation and precisely defines the quantities we examine, such as clustering coefficients, due to variabil-ity in the definitions of these measures. We also discuss the Andersen-Chung-Lang personalized PageRank cluster-ing scheme [ 2] and the network whiskers from Leskovec et al. [ 24 , 25 ]. We utilize the latter two algorithms as reference points for the success of our community detection.
We make all of our algorithm and experimental code, the majority of the data for the experiments, and many extra figures that did not fit into the paper available: These codes are easy to use. Given the adjacency matrix of a network A , the single Matlab command &gt;&gt; ncpneighs(A) will produce a figure like those in this paper.
 n = | V | the number of vertices m = | E | the number of edges
E ( S,T ) the set of edges between S and T cut ( S ) the size of the cut around vertex set S vol ( S ) the sum of degrees (volume) of vertices in S edges ( S ) twice the number of edges among vertices in S
All of the key notation is summarized in Table 1 , and we briefly review it here. Let G = ( V,E ) be a loop-less, undirected, unweighted graph. We denote the number of vertices by n = | V | and the number of edges by m = | E | . In terms of the adjacency matrix, m is half the number of non-zeros entries. For a vertex v , let d v be the degree of v . For any positive integer d , let f d be the number of vertices of degree d , that is, the frequency of d in the degree distribution. The maximum degree is denoted by d max . Let D r ( v ) to be the distance r -neighborhood of v . This is the set of vertices whose shortest path distance from v is exactly r . Then, we define the ball of distance r around v , denoted by N r ( v ), as the set S i  X  r D r ( v ).
A wedge is an unordered pair of edges that share an end-point. The center of the wedge is the common vertex between the edges. A wedge { ( s,t ) , ( s,u ) } is closed if the edge ( t,u ) exists, and is open otherwise. We use W to denote the set of wedges in G , and W v for the set of wedges centered at V . Note that | W v | = d v 2 . We set p v = | W v | / | W | . Social networks often have large clustering coefficients [38]. Because of the varying definitions of this term that are used, we will denote by  X  the global clustering coefficient . This quantity is a normalized count of triangles that we interpret as the probability that a uniform random wedge w is closed: In terms of triangles,  X  = 3  X  number of triangles / | W | . For any vertex v , C v is the local clustering coefficient of v , or the probability that a uniform random wedge w from W v is closed. Formally,
C
Given a set of vertices S , the set  X  S is the complement set,  X  S = V \ S . For disjoint sets of vertices S,T , E ( S,T ) denotes the edges between S and T . For convenience, we denote the size of the cut induced by a set | E ( S, S ) | by cut ( S ).
The conductance of a cluster (a set of vertices) measures the probability that a one-step random walk starting in that cluster leaves that cluster. Let vol ( S ) denotes the sum of degrees of vertices in S and edges ( S ) denotes twice the number of edges among vertices in S so that Then the conductance of set S , denoted  X  ( S ), is Conductance is measured with respect to the set S or  X  S with smaller volume, and is the probability of picking an edge from the smaller set that crosses the cut. Because of this property, conductance is preserved on taking complements:  X  ( S ) =  X  (  X  S ). For this reason, when we refer to the number of vertices in a set of conductance  X  , we always use the smaller set min ( | S | , |  X  S | ). Figure 1 shows a few communities and their associated cuts and conductance scores from our methods and two points of comparison.
We briefly review three ways of identifying a community with a good conductance score.

Fiedler set. The well-known Cheeger inequality defines a bound between the second smallest eigenvalue of the nor-malized Laplacian matrix and the set of smallest conductance in a graph [ 11 ]. Formally, where  X  2 is the second smallest eigenvalue of the normalized Laplacian. The proof is constructive. It identifies a set of vertices that obeys the upper-bound using a sweep cut. This is the smallest conductance cut among all cuts induced by ordering vertices by increasing values of the component of the eigenvector associated with  X  2 . This is the same idea used in normalized cut procedures [ 35]. We refer to the set identified by this procedure as the Cheeger community or Fiedler community. The latter term is based on Fiedler X  X  work in using the second smallest eigenvalue of the combinatorial Laplacian matrix [14 ]. Figure 1b shows the Fiedler community for the Les Mis  X erables network.
Personalized PageRank communities. Another suc-cessful scheme for community detection based on conductance uses personalized PageRank vectors. A personalized Page-Rank vector is the stationary distribution of a random walk that follows an edge of the graph with probability  X  and  X  X eleports X  back to a fixed seed vertex with probability 1  X   X  . We use  X  = 0 . 99 in all experiments. The essence of the in-duced community is that an inexact personalized PageRank vector, computed via an algorithm that  X  X ushes X  rank round the graph, will identify good bottlenecks nearby a seed ver-tex. These bottlenecks can be formalized in a Cheeger-like bound [2 ]. The procedure to find a personalized PageRank community is: i) specify a value of  X  , a seed vertex v , and a desired cluster size  X  ; ii) solve the personalized PageRank problem using the algorithm from [2 ] until a degree-weighted tolerance of  X  = 1 / (10  X  ); and iii) sweep over all cuts induced by the ordering of the personalized PageRank vector (normal-ized by degrees) and choose the best. Personalized PageRank communities ( ppr communities, for short) were used to iden-tify an interesting empirical property of communities in large networks [ 24 , 25 ]. To generate these plots, those authors examined a range of values of  X  for a large number of vertices of the graph and summarized the best communities found at any size scale in a network community plot. Figure 1c shows the best personalized PageRank community for the network of character interactions in Les Mis  X erables.

Whisker communities. Perhaps the best point of com-parison with our approach are the whisker communities de-fined by Leskovec et al. [24 , 25]. These communities are small dense subgraphs connected by a single edge. They can be found by looking at any subgraph connected to the largest biconnected component by a single edge. Note that the largest biconnected component is not necessarily a 2-core of the graph. (Here, a graph k -core is a subset of vertices where all nodes have degree at least k [34].) Leskovec et al. ob-served that many of these subgraphs are rather dense. Each subgraph has a cut of exactly one, and consequently, a pro-ductive means of finding sets with low conductance is to sort these subgraphs by their volume. The best whisker cut is the single subgraph with largest volume.
Egonets, homophily, and structural holes. In the context of social networks, vertex neighborhoods are often called egonets because they reflect the the state of the network as perceived by a single vertex. Their analysis is a key component in the study of social networks [37 ], especially in terms of data collection. Studies of these networks often focus on the theory of structural holes, which is the notion that an individual can derive an advantage from serving as a bridge between disparate groups [ 9]. These bridge roles are interesting because they contradict homophily in social ties. Homophily, or the principle that similar individuals form ties, is the mechanism that is expected to produce networks with large local clustering coefficients [28 ]. These social theories have prompted the development of new methods to tease apart some of these effects in real-world networks [ 22 ], and to develop network models that capture structural holes [19 ].
Clustering and communities. Vertex neighborhoods often play a role in other techniques to find community or clus-tering structure in a network. Overlap in the neighborhood sets of vertices is a common vertex similarity metric used to guide graph clustering algorithms [33 ]. Other schemes utilize vertex neighborhoods as good seed sets for local techniques to grow communities [16 , 32 ]. We explore using a carefully chosen set of neighborhoods for this purpose in our final empirical discussion (  X  7). Perhaps the most closely related work is a recent idea to utilize the connected components of egonets, after their ego vertex is removed, to produce a good set of overlapping communities [ 31 ]. Our theoretical results establish that these ideas are highly likely to succeed in networks with local clustering and heavy tailed degree distributions.

Graph properties. Much of the modern work on net-works rests on surprising empirical observations about the structure of real world connections. For instance, information networks were found to have a heavy tailed in the degree distribution [ 5, 13]. These same networks were also found to have considerable local structure in the form of large clus-tering coefficients [ 38], but retained a small global diameter. Our theory shows that a third potential observation  X  the existence of vertex neighborhood with low conductance  X  is in fact implied by these other two properties. We formally show that heavy tailed degree distributions and high clustering coefficients imply the existence of large dense cores. (c) Best ppr community size=28, cut=31,  X  =0.12
Anomaly detection. Predictable behavior in the struc-ture of egonets makes them a useful tool for detecting anoma-lous patterns in the structure of the network. For instance, Akoglu et al. [1 ] compute a small collection of measures on each egonet, such as the average degree and largest eigen-values. Outliers in this space of vertices are often rather anomalous vertices. Our work is, in contrast, a precise state-ment about the regularity of the egonets, and says that we always expect a large egonet to be a good community.
Summary. Although we are not the first to study neigh-borhood based communities, the relationship between the local clustering, heavy tailed degree distributions, and large neighborhoods with small conductance does not appear to have been noticed before.
The aim of this section is to provide some mathematical justification for the success of neighborhood cuts. Our aim is to show that heavy tailed degree distributions and large clustering coefficients imply the existence of neighborhood cuts with low conductance and large dense cores. We stress that the exact bounds obtained are weak and only hold when the clustering coefficient is extremely large. Nonetheless, the proofs give significant intuition into why neighborhoods are good communities. The theory is truly tested with the experimental work in the next sections.

We begin with the extreme case when the value of  X  is 1, when every wedge is closed, for the following simple claim.
Claim 4.1. Suppose the global clustering coefficient of G is 1 . Then G is the union of disjoint cliques.
 Proof. Consider two vertices u and v that are connected. Suppose the shortest path distance between them is ` &gt; 1. Then the shortest path has at least 3 distinct vertices (including u and v ). Take the last three vertices on this path, v ,v 2 ,v . This forms a wedge at v 2 , and must be closed (since the clustering coefficient is 1). Hence, the edge ( v 1 ,v ) exists and there exists a path between u and v of length less than ` , contradicting the assumption. Hence, any two connected vertices have a shortest path distance of 1, i.e., are connected by an edge and the graph is a disjoint union of cliques.
Note that the neighborhood of any vertex in the above claim forms a clique disconnected from the rest of G . There-fore, all neighborhoods form perfect communities, in this extremely degenerate case. We prove this for more general settings.

Define p v = | W v | / | W | , and observe that it forms a dis-tribution over the set of vertices. We show a simple claim about these values. We remind the reader that  X  is the global clustering coefficient of G .
 Claim 4.2. P v p v C v =  X  Proof.

X
We come to an important lemma. This argues that, on average, neighborhood cuts must have low conductance. Lemma 4.3.

Proof. We express the sum of cut ( N 1 ( v )) as a double summation, and perform some algebraic manipulations.
X We complete the proof with the following simple observation:
So far, the discussion and proofs hold for any graph with clustering coefficient  X  . We now bring in the heavy-tailed degree distribution of G . Since we are performing an asymp-totic analysis, we will use o (1) to denote any quantity that becomes negligible as the graph size increases. We will choose  X  to be a constant less than 1. The asymptotics hold for any  X  , but from a practical standpoint, we think of  X  as a constant such that most edges are incident to a vertex of degree at least d  X  max , 2 / 3 is usually a reasonable value.
Let us formalize the notion that the degree distribution is heavy tailed. This is sometimes expressed as a power law, but that is a fairly contested assertion. Power laws often do not fit real-world degree distributions, but they nonetheless give a rough guide. So we will assume that there is a power law that approximately bounds the degree distribution. We formalize this as Condition (*).

Condition (*) (i) For all d , f d  X  [  X  1 n/d  X  , X  2 n/d  X  some  X  1 , X  2 , and  X  &lt; 3. (ii) The global clustering coefficient of G is  X  .

Claim 4.4. Suppose G satisfies Condition (*). Let S be the set of vertices with degrees more than d  X  P Proof. We can set p v = (2 | W v | ) / (2 | W | ). We have 2 | W | = P d&gt; 1 d ( d  X  1) f d and 2 | W S | := P v  X  S 2 | W v | = P Note that P v  X  S p v = 2 | W S | / 2 | W | . It suffices to show that 2 | W | X  2 | W S | = o ( | W | ). By the heavy tail condition, 2( | W | X  X  W S | ) = Note that 3  X   X  &gt; 0 and  X  &lt; 1. So the latter is asymptotically smaller than the former, i.e. 2 | W | X  2 | W S | = o ( | W | ).
We next state a cute result that can be derived from our calculations. It is not applied anywhere later, but shows that graphs with heavy tails and large clustering coefficients have large cores. See the online version for the proof.
Theorem 4.5. Consider a graph G satisfying Condition (*). There exists a k -core in G for k  X   X d  X  max / 2 .
We come to our main theorem that proves the existence of a neighborhood cut with low conductance. When  X  = 1, we get back the statement of Claim 4.1 , since we have a set of conductance 0. But this theorem also gives non-trivial bounds for (very) large values of  X  . As we mentioned earlier, when  X  becomes small, this bound is not useful any longer. Again, it is the intuition of this theorem that is important, not the exact constant that it provides.

Theorem 4.6. Consider a graph G satisfying Condition (*). There exists a neighborhood cut with conductance at most 4(1  X   X  ) / (3  X  2  X  ) .

Proof. The proof uses the probabilistic method, given the bounds of Lemma 4.3 and Claim 4.2 . Suppose we choose a vertex v according to the probability distribution given Table 2: Datasets for our experiments. The five types are: collaboration networks, social networks, technological networks, and web graphs.
 by p v . Let X denote the random variable cut ( N 1 ( v )) / | W so E [ X ] = 2(1  X   X  ) (Lemma 4.3). By Markov X  X  inequality, Pr[ X &gt; 4(1  X   X  )]  X  1 / 2.

Set  X  = 2  X   X  1, and set Pr [ C v &lt;  X  ] = p . Let S  X  the set { v | C v &lt;  X  } . (So P v  X  S Claim 4.2 , By the union bound, the probability that cut ( N 1 ( v )) / | W 4(1  X   X  ) or C v &lt;  X  is less than 1. Hence, there exists some vertex v such that cut ( N 1 ( v ))  X  4(1  X   X  ) | W v | and C (we can also show that d v  X  n  X  ). Let E be the set of edges in the subgraph induced on N 1 ( v ). Since C v  X   X  , | E | X   X  | W We can bound the conductance of N 1 ( v ), | E | + cut ( N 1 ( v ))
Data for our empirical investigation comes from a variety of sources. See Table 2 for a summary of the networks and their basic statistics. All networks are undirected and were symmetrized if the original data were directed. Also, any self-loops in the networks were discarded. We only look at the largest connected component of the network. There are four types of networks here. We investigate forest-fire models [23 ] in the online figures.

Collaboration networks. In these networks, the nodes represent people. The edges represent collaborations, ei-ther via a scientific publication (ca-AstroPh [23 ], cond-mat-2005 [30 ], arxiv [ 8], dblp [ 6, 7]), an email (email-Enron [25 ]), or a movie (hollywood-2009 [ 6, 7]). These networks have large global clustering coefficients and large mean clustering coefficients.

Social networks. The nodes are people again, and the edges are either explicit  X  X riend X  relationships (fb-Penn94 [36 ], fb-A [39 ], soc-LiveJournal [4 ]) or observed network activity over edges in a one-year span (fb-A-oneyear [39 ]).
Technological networks. The nodes act in a commu-nication network either as agents (p2p-Gnutella25 [ 27]) or as routers (oregon2 [ 23], as-22july06 [ 29], itdk0304 [10 ]). The edges are observed communications between the nodes.
Web graphs. The nodes are web-pages, and the edges are symmetrized links between the pages [ 25 ].
We first show that we can adapt any procedure to compute all local clustering coefficients to compute the conductance scores for each neighborhood in the graph. Most of the work to compute a local clustering coefficient is performed when finding the number of triangles at the vertex. We can express the number of triangles with v as: because each edge among v  X  X  neighbors produces a triangle (recall that the edges function double-counts). Note also that edges ( N 1 ( v ) \{ v } ) / 2 = edges ( N 1 ( v )) / 2  X  d cut ( N 1 ( v )) = vol ( N 1 ( v ))  X  edges ( N 1 ( v )). And so, given the number of triangles, we can compute the cut given the volume of the neighborhood as well. This is easy to do with any graph structure that explicitly stores the degrees.
We use Leskovec et al. X  X  [24 ] network community plot to show the information on all neighborhood communities si-multaneously. These plots will help us understand if the neighborhood communities are high quality (low conduc-tance), and how they compare to other community detection methods. Given the conductance scores from all the neigh-borhood communities and their size in terms of number of vertices, we first identify the best community at each size. The network community plot shows the relationship between best community conductance and community size on a log-log scale. In Leskovec et al., they found that these plots had a characteristic shape for modern information networks: an initial sharp decrease until the community size is between 100 and 1000, then a considerable rise in the conductance scores for larger communities. In our case, neighborhood communities cannot be any larger than the maximum degree plus one, and so we mark this point on the figures. We always look at the smaller side of the cut, so no community can be larger than half the vertices of the graph. We also mark this location on the plots. Each subsequent figure in this paper utilizes this size-vs-conductance plot, and we will con-tinually layer information from new methods above results from old methods. The result are information-dense plots that need slightly more study than would be ideal, however, we point out the salient features in each plot in the text. Note also that we deliberately attempt to preserve the axes limits across figures to promote comparisons. However, some figures have different axis limits to exhibit the range of data. Figure 2: The best neighborhood community con-ductance at each size (black) and the Fiedler com-munity (red). (Note the axis limits on ca-AstroPh).
First, we show these network community plots for six of the networks in Figure 2 . These figures are representative of the best and worst of our results. Plots for other graphs are available on the website given in the introduction.
The three graphs on the left show cases where a neighbor-hood community is or is nearby the best Fiedler community (the red circle). The three graphs on the right highlight instances where the Fiedler community is much better than any neighborhood community. We find it mildly surprising that these neighborhood communities can be as good as the Fiedler community. The structure of the plot for both fb-A-oneyear and soc-LiveJournal1 is instructive. Neighbor-hoods of the highest degree vertices are not community-like  X  suggesting that these nodes are somehow exceptional. In fact, by inspection of these communities, many of them are nearly a star graph. However, a few of the large degree nodes define strikingly good communities (these are sets with a few hundred vertices with conductance scores of around 10  X  2 This evidence concurs with the intuition from Theorem 4.6 .
Note that these plots show the same shape as observed by Leskovec et al. [24 ]. Consequently, in the next set of figures, and in the remainder of the empirical investigation, F igure 3: A comparison of neighborhood commu-nities (black) personalized PageRank communities (blue), and whiskers (green). we compare our neighborhood communities against those computed via the personalized PageRank community scheme employed in that work and described in Section 2.3 . Figure 3 compares the neighborhood communities to those computed by running the local personalized PageRank algorithm for all vertices as described by Leskovec et al. [ 24 ]. We also show the behavior of the whisker communities in this plot as well. The plot adopts the same style of figure. The PageRank communities are in a deep blue color, and the whisker communities are show in a shade of green. Here, we see that the neighborhood communities show similar behavior at small size scales (less than 20 vertices), but the personalized PageRank algorithm is able to find larger communities of smaller, or similar conductance. In these four cases (which are representative of the others), a personalized PageRank community was also the Fiedler community.
Based on this observation, we wanted to understand how the best community identified by a range of algorithms com-pares to the neighborhood communities. The results are shown in Table 3 . We computed a set of communities with metis by repeatedly calling the algorithm, asking it to use more partitions each time, and saved the best. See our on-line codes for the precise details of which partitions were used. The seeded community results are described in the next section.

By-and-large, all methods, except neighborhoods, tend to identify similar communities as the best. The Penn94 graph shows a large difference where the Fiedler community is much larger than the best PageRank community and it has better conductance. When a neighborhood has conductance that X  X  as good as the rest, then it is always a whisker as well. In the following full section, we explore using these neighborhood communities as seeds for the PageRank algorithms. These seeded communities are just as good as the other methods. F igure 4: The conductance of locally minimal com-munities in the itdk0304 graph (red). Note that these capture most of the local minima (downward spikes) in the profile.
Many of the theorems about extracting local communities from seed sets [2 , 3] require that the seed set itself be a good community. This is precisely what our theoretical results justify for neighborhood communities. Consequently, in this section, we look at growing the neighborhood communities using the local personalized PageRank community algorithm from a set of carefully chosen seeds.
 One of the key problems with using the personalized Page-Rank community algorithms is that finding a good set of seeds is not easy. Leskovec et al. [25 ] used exhaustive enu-meration over all seeds, and [15 ] describes a way to do this using the most popular videos on YouTube. Such a meaning-ful heuristic is not always available. We begin this section by empirically showing that there is an easy-to-identify set of neighborhood communities that are local extrema in the network community plot of the neighborhood communities.
First, some quick terminology: we say a neighborhood community is a local minima, or locally minimal, if the con-ductance of the neighborhood of a vertex is smaller than the conductance of any of the adjacency neighborhood commu-nities. Formally, is true for any locally minimal communities. These can be found by looking at each edge in the graph once. We find there are only a small set of locally minimal communities with more than 6 vertices. Shown in Figure 4 are the conductance and sizes of the roughly 7000 communities identified by this measure for the itdk0304 graph. Indeed, among all of the graphs with at least 85 , 000 vertices, this heuristic picks out about 3% of the vertices as local minima. In the worst case, it picked out 100 , 000 seeds for soc-LiveJournal1. Increasing the minimum size to 10 vertices reduces this down to 50 , 000 seeds. We then use these locally minimal neighborhoods as seed sets for the personalized PageRank community detection procedure. Each locally minimal neighborhoods is grown by up to 50-times its volume by solving for communities using values of  X  up to 50. In some experiments motivated by Theorem 4.5 , we also found interesting results by looking at graph k -cores, and so we also explore growing the k -cores of a graph by up to 5 times their volume.

Figure 5 shows the results. In these figures, we leave the baseline neighborhood communities in for comparison. Graph Neighborhood Fiedler PageRank Whisker Metis Seeded This leaves the figures rather noisy, but the key insight is that the dark black line (neighborhood seeded communities) closely tracks the the outline of the pure-PageRank based community profile (light blue). That profile was computed by using every vertex in the graph as a seed (although, some vertices were skipped after 10 other clusters had already visited that vertex). This effect is most clearly illustrated by the email-Enron dataset. The dark black line identifies almost all of the local minima from the full PageRank sweep (there are a few it misses). A weakness of these minimal seeds for PageRank is that they may not capture the largest communities. However, we found that growing communities from a k -core instead (red line with circles) of a vertex neighborhood do seem to capture this region of the profile (e.g. arxiv), although ca-AstroPh is an exception.
We recap. Community detection is the problem of finding cohesive collections of nodes in a network. We formalize this as finding vertex sets with small conductance. Mod-ern information networks have many distinctive properties, including a large clustering coefficient and a heavy-tailed de-gree distribution. We derive a set of theoretical results that show these properties imply that such networks will have vertex neighborhoods that are themselves sets of small con-ductance. Although our theoretical bounds are weak, they suggest measuring the conductance of vertex neighborhoods.
Algorithms to compute all such conductance scores are easy to implement by modifying a routine for computing local clustering coefficients. We evaluate these communities on a set of real-world networks. In summary, our results support the idea that there are many neighborhood communities which are good communities in a conductance sense. They may be smaller than desired, however.

We next investigate finding a set of locally minimal com-munities. These communities represent the best of the neigh-borhood . We find that these locally minimal communities, of which there are many fewer than vertices in the graph (usually around 3%), capture the local minimal in the net-work community profile plot. More importantly, they can F igure 5: Network community plots with neighbor-hood communities (gray), PageRank communities (light blue), whiskers (green), k-cores (purple), lo-cally minimal seed PageRank communities (black), and k-core seeded PageRank communities (red). be enlarged using a local personalized PageRank community detection procedure. Afterwards, the profile of these  X  X rown X  neighborhoods is strikingly close to the profile of the Page-Rank communities when seeded with all vertices individually. While we do not discuss timing due to the variability in the quality of implementations, this later procedure is much faster in our experiments.

These findings have implications for future studies in com-munity detection. One explanation for the results with the PageRank seeds is that vertex neighborhoods form the base of any good community in the network. This idea may guide future research into social network communities.
