 The vision of SOC is to build loose-coupled , platform-independent business pro-cesses which fulfill users demands agilely. As the major implementation of SOC, Web services has gain increasing attention from both industry and academics, for it facilitate developers and users to construct workflows which tackle their needs conveniently. Meanwhile, the growing number of deployed services, which have similar function but different quality, poses a new challenge for users how to distinguish and select appropriate service. Hence, many approaches of Web service Composition Selection (WCS) [14][3] are proposed in recent years.
In general, the approaches of WCS are categorized into two groups: local se-lection strategy and global one. Using bottom-up strategy, the local approaches, which choose the combination of a optimal single service, fail to capture users end-to-end quality requirement. On the contrary, the global methods confront another obstacle resulting from the exponential searching complexity of candi-date services. So, to address the above p roblem, we present a novel selection approach based on resource-directive decomposition. The main contributions of our work are threefold. Firstly, we build the mathematical model of service selection from QoS decomposition-ba sed perspective and convert it into La-grangian dual problem. Secondly, we use subgradient method to find optimal strategy for Lagrangian dual problem, i.e., QoS allocation in the entire work-flow. Finally, we conduct a series of experiments to illustrate the efficiency of our approach and compare it with other approaches. Since WCS is an important issue in SOA , extensive works have been concen-trated on this area. Zeng et al. [13][14] developed an approach using integrate linear programming and critical path. The approach is effective at most medium-size problem, but fail to cope with large scale system due to its poor scalability. Ardagna et al. [4] also proposed a selection approach based on mixed integer linear programming (MILP) and present a negotiation mechanism when lin-ear programming method cannot find the appropriate service. Similar to Zeng X  X  work, the work of [4] also suffer from poor scalability due to its exponential time complexity.

Yu [12] presented two approaches for QoS -based service selection problem. The first methods modeled it as a multi-dimension multi-choice 0-1 knapsack prob-lem, and then proposed WS-HEU algorithm to resolve it; the second method, based on graph approach, models the service selection problem as the constrained shortest path problem and applies heuristic algorithm to solve it. But the ex-ponential size of the searching space is unavoidable obstacle for the graph-base algorithm.

Alrifai [2] proposed a scalable select ion approach, which decomposes the orig-inal problem into small sub-problems. However, this approach is based on the di-rectional derivative, which do not guarante e the convergence of the result strictly. Similar to Alrifai X  X  work, our approach employs divide and conquer principle to deal with service selection problem; but we use the subgriadent method to coor-dinate the interaction between the original problem and subproblems. Moreover, our approach converts WCS problem into Lagrangian dual problem, which is the major difference between our work and [2]. Briefly, WCS problem can be stated as follows: Given a i represents a activ-ity (abstract service) and workflow w = &lt;a 1 ,...,a n &gt; under end-to-end QoS constraints, the purpose of selection approach is to maximize users utility func-tion U ( w ). By using SAW technique [11] and assuming constraints equation is a linear equation, we construct a mathem atical model of service selection by means of linear programming (LP) from the quality and activities perspective, respectively: subject to the constrains: q 1 i + q 2 i +  X  X  X  + q ni  X  b i ,  X  i  X  N . 3.1 Resource-Directive Decomposition Strategy Inspired by [2][9], we employ divide and con quer principle to tackle service selec-tion. In other words, our approach transforms LP into n subproblem and obtains the solution of whole system from the sum of subsystems X  solutions under the op-the original problem 1 is converted into a new form P as follows: Nevertheless, how to allocate the end-to-end QoS requirement to each activity optimally as so to maximize the overall utility is a NP-hard problem. Differs with other works [2][9], we utilize the resource-directive decomposition method to partition the overall QoS constraint s. However, it exists two crucial issues about resource-directive decompositio n. First, how to determine whether or not certain allocation plan q k is optimal plan? Second, if q k is not optimal, how to find more optimal allocation plan iteratively? Hence, we need a rigorous and iterative mechanism to find a near-to-optimal plan. For it is easy to implement and hold the rapid convergence feature, we employ the subgradient method [5][7], an iterative method for solving convex function optimization problems. In the first step, we convert equation 1 into its Lagrange-multiplier problem[6]: Where  X  j (  X  R n ,  X  j ) is the Lagrangian factor adjusted by the subgradient meth-ods [10]. We then solve the dual problem using subgradient method iteratively: Where s j is a positive step size and k is the iterative number. The subgradient d j is the searching direction of algorithm, our approach updates subgradient iteratively according to: When k&gt;K ,where K is a constant given by users in advance, or % d j % =0,the subgradient algorithm terminates and our method calculates final solution. In order to evaluate the performance of our method, we carried out a series of experiments and compare it with Zeng X  X  work [14], for short LP, and Alrifai X  X  work [2], for short DIST-HEU. We conducted two groups of simulations by vary-ing the controlled parameters, including the number of activities and the number candidate service per activity. Moreover, we analyze our approach and others in term of the computational complexity and the accurate degree of those selection algorithms [9]. One metric is running time to measure how long the CPU time an algorithm need to achieve a solution, while approximate ratio measures the ratio of the utility value between different algorithms. In the article, we set the utility value obtained by LP method as the baseline of approximate ratio in order to evaluate other approaches.

The purpose of the first group of simulation is to investigate the time com-plexity when different approach get solution. As shown in Figure 1 and 2, Our approach and DIST-HEU can obtain a feasible solution faster than LP meth-ods due to the former both employ QoS decomposition technique. The result in Figure 1 and 2 demonstrates our approach have better scalability for large scale LP problem. Compared to DIST-HEU, our approach consumes more at most 5 percent CPU time than DIST-HEU. We speculate the phenomenon is result from the computational complexity of subgradient method, because it needs to calculate Lagrangian dual problem U ( w ) D at each step.

In the second group of simulations, we measure approximate ratio of different approaches to evaluate the quality of returning solution. From Figure 3 and 4, we observe that our approach outperform than DIST-HEU in term of the quality of the result. Our approach can obtain average 92.5 per cent of the solution of LP, while DIST-HEU only acheive 86 per cent. Moreover, Figure 3 and 4 reflect the error of DIST-HEU increase with the growing of the dimension of problem, because DIST-HEU cannot guarantee the rapid convergence of the feasible solution.

As the discussion above, the experimental results demonstrate our solution outperforms LP in term of time and space complexity, and obtain better ap-proximate solution than [2] under the same iterative number.
 In the paper, we propose a service select ion based on resour ce-directive decom-position and the experimental results show that it can obtain a better tradeoff between the computational complexity and the quality of candidate services. In future work, we will use the real dataset such as QWS dataset v2 [1] to test our approach and plan to incorporate with trust model [8].
 Acknowledgments. This research was supported in part by the Major Inter-national Collaborative Research Project of National Natural Science Foundation of China (NO: 61020106009).

