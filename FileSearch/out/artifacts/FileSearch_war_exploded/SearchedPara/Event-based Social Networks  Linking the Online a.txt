 Newly emerged event-based online social services, such as Meetup and Plancast, have experienced increased popularity and rapid growth. From these services, we observed a new type of social network  X  event-based social network (EBSN). An EBSN does not only contain online social interactions as in other conventional online social networks, but also in-cludes valuable offline social interactions captured in offline activities. By analyzing real data collected from Meetup, we investigated EBSN properties and discovered many unique and interesting characteristics, such as heavy-tailed degree distributions and strong locality of social interactions.
We subsequently studied the heterogeneous nature (co-existence of both online and offline social interactions) of EBSNs on two challenging problems: community detection and information flow. We found that communities detected in EBSNs are more cohesive than those in other types of social networks (e.g. location-based social networks). In the context of information flow, we studied the event recom-mendation problem. By experimenting various information diffusion patterns, we found that a community-based diffu-sion model that takes into account of both online and offline interactions provides the best prediction power.

This paper is the first research to study EBSNs at scale and paves the way for future studies on this new type of social network. A sample dataset of this study can be down-loaded from http://www.largenetwork.org/ebsn .
 H.3.4 [ Information Storage and Retrieval ]: Systems and Software -Information networks Algorithms, Experimentation.
 Event based Social Networks, Social Network Analysis, So-cial Event Recommendation, Online and Offline Social Be-haviors, Heterogeneous Network Newly emerged event-based online social services, such as Meetup ( www.meetup.com ), Plancast ( www.plancast.com ), Yahoo! Upcoming ( upcoming.yahoo.com ) and Eventbrite ( www.eventbrite.com ) have provided convenient online plat-forms for people to create, distribute and organize social events. On these web services, people may propose so-cial events, ranging from informal get-togethers (e.g. movie night and dining out) to formal activities (e.g. technical conferences and business meetings). In addition to support-ing typical online social networking facilities (e.g. sharing comments and photos), these event-based services also pro-mote face-to-face offline social interactions. To date, many of these services have attracted a huge number of users and have been experiencing rapid business growth. For example, Meetup has 9 . 5 million active users, creating 280 , 000 social events every month; Plancast has over 100 , 000 registered users and over 230 , 000 visits per month.
 Figure 1: Event-based Social Network Examples
As these event-based services continue to expand, we iden-tify a new type of social network  X  event-based social net-work (EBSN)  X  emerging from them. Like conventional on-line social networks, EBSNs provide an online virtual world where users exchange thoughts and share experiences. But what distinguishes EBSNs from conventional social networks is that EBSNs also capture the face-to-face social interac-tions in participating events in the offline physical world. Fig. 1 depicts two example EBSNs from Meetup and Plan-cast. In Meetup, users may share comments, photos and event plans with members in the same online social groups (e.g.  X  X ay area photographers X ,  X  X evada county walkers X ). In Plancast, users may directly  X  X ollow X  others X  event calen-dars. Bi-directional co-memberships of online social groups in Meetup or uni-directional subscriptions in Plancast ulti-mately constitute an online social network represented as the dashed lines on the right side of Fig. 1. Meanwhile, in both cases, users X  co-participations of the same events derive their offline social connections. These connections collec-tively form an offline social network denoted as dotted lines in Fig. 1. The online and offline social interactions jointly define an EBSN.

Recent location-based online social networking services, such as Foursquare ( foursquare.com ) and Gowalla ( gowalla. com ), represent another type of popular social network, called a location-based social network (LBSN). They are somewhat similar to EBSNs, as they capture online social interactions as well as offline location checkins. However, unlike the of-fline social events that incur a group of people with social interactions, location checkins from LBSNs mostly represent individual behaviors, i.e. a particular user was at a specific location at a specific time. Although in [5], adjacent check-ins were treated as one kind of reason for social network tie creation. It is estimated that adjacent checkins have only a 24% chance to lead to a new social friendship in Gowalla. Therefore, in this paper, we only compare EBSNs against the online social networks in LBSNs.

To the best of our knowledge, this paper is the first work to identify an event-based social network as a co-existence of both online and offline social interactions, and compre-hensively study its properties. Our study revealed the many aspects of EBSNs that are significantly different from con-ventional social networks. As to be shown in our analysis, social events present very regular temporal and spatial pat-terns. In addition, both online and offline social interactions in EBSNs are extremely local. For example, we found that 70 . 65% of Meetup online friends and 84 . 61% of Meetup of-fline friends live within 10 miles of each other. To our sur-prise, the degree distributions of the Meetup EBSN do not follow the usual power law distribution, but are more heavy-tailed than power law. Furthermore, we found that the on-line and offline social interactions in an EBSN are positively correlated, implying a synergistic relationship between the two parts.

Community structure detection is a very useful approach for analyzing social networks. However, to correctly detect communities in an EBSN, one has to consider both online and offline social interactions. In this paper, we employ an extended Fiedler method to incorporate this heterogeneity during the community detection process. Through exper-iments, we demonstrate the advantage of this method to other approaches. We also observed that the detected com-munities in the Meetup EBSN are more cohesive than those of the Gowalla LBSN.

To further investigate information flow over EBSNs, we also study the problem of event participation recommenda-tion. Due to the short life time of an event, the event partic-ipation recommendation problem significantly differs from the usual recommendation problem for movies or places. Recommendation of an event is only valid after the event is created and before the event starts. This leads to a cold-start problem. In this paper, we design a number of diffusion patterns that capture the information flow over the heteroge-neous EBSNs. Through experiments we demonstrate that the diffusion pattern that takes the community structures into account yields the best prediction power.

The rest of this paper is organized as follows. We describe the related work in Section 2 and formally define EBSNs in Section 3 . We examine the properties of EBSNs in Sec-tion 4 and further investigate the community structures in Section 5. In Section 6, we tackle the event participation prediction problem to study the information flow over EB-SNs. Finally, we conclude the paper in Section 7.
Offline social interactions in the physical world have al-ways been important in sociology [9]. One line of work is to study the origin of social relationships. In [12], Feld pro-posed a focus theory in which individuals organize their so-cial interactions around foci, such as workplaces, families, etc; whereas [20, 16, 3] utilized affiliation to explain the con-struction of social connections. Chapter 4 of [11] provides a nice summary on these topics. Under the above theories, social events can be viewed as one type of focus or affiliation that creates the social interactions between participants.
Thanks to the popularity of event-based social network services, such as Meetup and Plancast, we are now able to get our hands on large scale social data with rich information on both online activities and offline social events. In [24], Sander and Seminar attended 40 social events in Meetup and concluded that participants in Meetup social events have social structures instead of just strangers meeting strangers.
Similar to event-based social networks, location-based so-cial networks also contains  X  X nline X  social interactions and  X  X ffline X  checkin information. Although adjacent location checkins may indicate implicit social interactions and social ties [5], checkins are usually sporadic [21] and largely rep-resent individual behaviors. The geographical features of users were also examined to infer social ties in [7, 26]. In comparison to these work, the  X  X ffline X  information (social events) studied in this paper does not only contain location, but also time and people involved.
In this section, motivated by popular event-based social services, we define event-based social networks and describe how to construct the networks from collected datasets.
As various online social networking services become preva-lent, a new type of event-based social service has emerged. These web services help users to create social event propos-als, disseminate the proposals to related people, and keep track of all participants. To foster efficient communication and sharing, these event-based services also provide online social networking platforms to connect users with others with similar interests. Below, we describe two examples of such event-based social services: Meetup and Plancast.
Meetup is an online social event service that helps people publish and participate in social events. On Meetup, a social event is created by a user by specifying when, where and what the event is. Then, the created social event is made available to selected users or public, controlled by the event creators. Other users may express their intent to join the event by RSVP ( X  X es X ,  X  X o X  or  X  X aybe X ) online. To facilitate online interactions, meetup.com also allows users to form social groups (e.g.  X  X ay area single moms X ,  X  X evada county walkers X ) to share comments, photos and event plans.
Similar to meetup.com, Plancast is another web service that helps users create and organize events online. Users also RSVP to express their intent to join social events. In contract to Meetup which adopts social groups to connect users online, Plancast allows users to  X  X ollow X  others X  social event calendars to establish online connections.
Based on the event-based social services described above, we formulate a new type of social network, called an event-based social network (EBSN).

Like any social network, EBSNs capture social interac-tions among users. However, different from others, ESBNs incorporate two forms of social interactions: online social interactions and offline social interactions .

Online social interactions. In EBSNs, users can in-teract with each other online without the need of physical contact. For example, people can share thoughts and ex-periences with those in the same social group in Meetup. In Plancast, user comments and event plans are pushed to those who  X  X ollow X  the user.

Offline social interactions. Social events play a ma-jor role in ESBNs. In a social event, people physically get together at a specific time and location, and do something together. Therefore, the social events in EBSNs represent the offline social interactions among event participants. Definition: Formally, we define an EBSN as a heteroge-neous network G =  X  U,A on ,A off  X  , where U represents the set of users (vertices) with | U | = n , A on stands for the set of on-line social interactions (arcs), and A off denotes the set of of-fline social interactions (arcs). The online social interactions of an EBSN form an online social network G on =  X  U,A on  X  , and the offline interactions of an EBSN compose an offline social network G off =  X  U,A off  X  .

Note that the online social network or the offline social network of a EBSN can be either directed or undirected. For simplicity, we only focus on undirected online and offline networks in this paper.

The online social network [1, 18] or the offline social net-work [2, 22] alone is not new and has been studied exten-sively before. But the co-existence of both is what makes EBSNs special. As shown later in this paper, these two forms of social networks in EBSNs are intertwined but also have their own distinct characteristics at the same time.
To effectively study EBSNs and explore the unique prop-erties against related LBSNs, we collected data from the popular event-based web services Meetup and the popular location-based social service Gowalla. In this section, we introduce the basic dataset statistics, as well as how EBSN and LBSN are established from these datasets.

Meetup EBSN. We crawled meetup.com from Oct 2011 to Jan 2012. The collected data statistics are shown in Ta-ble 1. With the Meetup dataset, the online EBSN is con-structed by capturing the co-membership of online social groups: users u i and u j are connected in the online social network G on if they are members of the same social group. Let g r denote a group with | g r | members, then ( u i ,u if and only if  X  g r such that u i  X  g r and u j  X  g r . We consider users of a smaller group more closely connected than those of a larger group. Therefore, we adopt a similar approach as in [19] to define the edge weights:
The offline social network of the EBSN, G off , is constructed in a similar way based on the co-participation of social events: user u i and u j are connected if they co-participated in the same social event. If we use e k to represent a social event with | e k | participants, and u i  X  e k to denote the fact that u i participated e k , then the weight of the offline social in-teraction between u i and u j is defined as
Gowalla LBSN. Gowalla is a popular online location-based social networking service that allows individual user to  X  X heckin X  their current locations (as well as comments/photos) and share with their friends. Gowalla requires users to ex-plicitly specify their friends. Users need to mutually accept each other as friends to establish an online social link.
We crawled Gowalla from Sep 2011 to Nov 2011 and col-lected a subset of the users X  online social networks and place checkins. The total numbers of users and locations are also summarized in Table 1. As discussed before, although this LBSN provides offline location checkins, these check-ins cannot directly form an offline social network. Thus, the Gowalla LBSN only has an online social network in this study.
In this section, we analyze the Meetup dataset to highlight the unique properties of EBSNs. As social events play a cen-tral role in EBSNs, we first study those properties specifi-cally associated with social events. Then, we examine the network properties of EBSNs.
Social events provide a platform for users to get-together physically. A social event is characterized by two major features: event time and event location . First, we observe Figure 2: Social event time histogram over every hour of one week. that social events exhibit regular temporal patterns. Fig. 2 depicts the social event time pattern on weekly scale. It is clear that in every weekday there is a small spike around 2pm in the afternoon, followed by a higher spike at 8pm in the evening. On weekends, events distribute relatively even throughout the day. Figure 3: Social event geographical histogram. Each bar represents the number of social events in 100 square miles.

We also observe that social events are mainly located in urban areas. Fig. 3 depicts a US event geographical his-togram with 100 square miles as a geographical unit. To understand the basic network properties of the Meetup EBSN, we need to first study the event participation and group membership in Meetup. As shown in Fig. 4(a), most of the events are small with just a few participants, but big events with a large number of participants (the heavy tail) do exist in a non-trivial quantity. Similarly, Fig. 4(b) shows that large groups do have significant presence. We examine how these two distributions fit the power law curve by Kolmogorov-Smirnov test [6]. This approach estimates the following 3 parameters: (a) # participants per event Figure 4: Histogram of the number of participants per event and number of members per group.

By estimating the above parameters, we find that only after xmin= 250 does the event size follow a power-law dis-tribution with a high statistical significance (with p -value 0.357). Similarly, the number of members per group follows a power-law distribution non-significantly with  X   X  = 3 . 28 only after the number of events is greater than 1045 (with p -value 0.088). These two results suggest that although most events and social groups are in small scale, large events and large groups do show significant presence in the Meetup dataset.
Now we study the network properties of the Meetup ESBN by comparing it against the Gowalla LBSN. Table 2 lists some network properties of the Meetup EBSN online social network G on , offline social network G off , combined network G as well as the Gowalla LBSN social network. First, it can be clearly seen that the EBSN online social network is much denser than the EBSN offline social network, (larger strongly connected component SCC, higher clustering co-efficient and lower average degree of separation). This is due to the fact that a user connects to more people online than in actual social events. Secondly, all three EBSN so-cial networks ( G on , G off and G ) are much denser than the Gowalla LBSN, because Meetup users interact with each other by co-joining social groups or co-participating social events whereas Gowalla users have to mutually establish friendships to get connected.
 Table 2: Network statistics comparison between EBSN and LBSN.

To dig deeper into the network properties of EBSN, we first study the degree distributions in Fig. 5. Again, we ap-ply the Kolmogorov-Smirnov statistic to examine whether these distributions fit the power law distribution. The es-timated parameters are listed in the bottom of Table 2. While the Gowalla LBSN conforms to the power law distri-bution, all three of the EBSN forms are more heavy-tailed than power law. This heavy tail phenomenon in the Meetup EBSN is correlated with the significant presence of big events and big social groups found in Section 4.2.
 Figure 5: Degree distribution comparison between EBSN and LBSN.

Next, we analyze the correlation between each user X  X  on-line interactions and offline interactions. By applying Pear-son correlation, we observe positive correlation between on-line and offline degrees (0 . 368) as well as between online and offline cluster coefficients (0 . 393). This implies that the online social network and the offline social network work to-gether synergistically in the Meetup EBSN  X  each have a positive effect on the other. Figure 6: Localities of Meetup EBSN and Gowalla LBSN.

In the following, we further analyze on the geographic as-pects of social interactions. In Fig. 6(a), we examine the distance of a Meetup event location and a Gowalla checkin location to the user X  X  home location [4, 5]. As illustrated by this figure, although both events and checkins tend to be local to users X  home locations, the possibility of an event participation in Meetup decreases more dramatically as the distance increases. As observed, 81 . 93% of events partici-pated in by a user are within 10 miles of his/her home loca-tion. This indicates that people X  X  social activities are much more location constrained than place checkins. This is be-cause people X  X  checkins are usually sporadic [21] and largely represent individual behaviors. Social events, which need all participants to meet at the same spot, must be located close to all the participants in most cases.

Next we compare the distances between friends X  home lo-cations in the Meetup EBSN against the Gowalla LBSN. As depicted in Fig. 6(b), friends in Meetup, no matter in online, offline, or the combined social networks, are much geographically closer to each other than in Gowalla LBSN. This is because both online and offline social networks in Meetup EBSN revolve around social events, which require participants to physically get together at the same location. In comparison, it is perfectly fine and usual for a Gowalla user to share a location checkin when he/she visits some new places. Not surprisingly, offline friends in Meetup EBSN tend to live closer to each other than the online friends. 84 . 61% of offline friends live within 10 miles to each other.
In this section, we investigate the community structures of EBSNs. Due to the heterogeneity of EBSNs, communities are defined by both online and offline interactions 1 . As a result, previous community detection algorithms on homo-geneous networks do not directly apply to EBSNs. Thus, we employ an extended Fiedler method to detect communities in EBSNs and compare it against the previous approaches. We also use the Gowalla LBSN as a comparison to further study the unique features of the Meetup EBSN.
For homogeneous social networks like the online or offline network of an EBSN, we use the popular Fiedler method offered by the Graclus tool [10] to partition networks. The partitioned clusters are treated as user communities. Let
Although a group or an event in Meetup somewhat cap-tures the behaviors of a set of users either online or offline, it is the combination of online and offline interactions that defines a community in EBSNs.
 A define the adjacency matrix of a network. The popular Normalized Cut (NCut) [27] shown in Eq. 3 is applied as the graph partition objective function for each binary cut. In Eq. 3, D is the diagonal matrix in which each diagonal value is the sum of the corresponding row ( D ii = P j A ij L = D  X  A is the Laplacian matrix, y is the column vector with y i  X  { 1 ,  X  b } and b is some data-dependent constant. The column vector y represents the graph cutting results of the current binary cut, since all nodes with y i = 1 are clustered into one cluster and the other nodes with y i =  X  b are clustered into another cluster. If y is relaxed to take on real values, Eq. 3 is equivalent to solving the generalized eigenvalue system L y =  X D y , where y is the Fiedler vector corresponding to the second smallest eigenvalue.
Given an EBSN G , we have two separate but correlated networks G on =  X  U,A on  X  and G off =  X  U,A off  X  . Both G and G off share the same user set U . As a result, the cluster-ing process should consider the correlation between G on and G off . The simplest way to leverage both online and offline social interactions is to combine them linearly Here A defines a linearly combined adjacency matrix with a weighting parameter  X  to differentiate two types of inter-actions. We name this naive method as LinearComb and use it as a baseline for comparison. The major problem of LinearComb is that after the linear combination, the social interaction type information is missing in the new matrix A .
As another baseline, we utilize Generalized Singular Vec-tor Decomposition (GSVD) to incorporate online and offline social interactions in the clustering process by following The-orem 5.1.

Theorem 5.1. Given two EBSN social interaction ma-trices A on  X  R n  X  n and A off  X  R n  X  n , there exists unitary matrics  X , X   X  R n  X  n , reversible matrix Y  X  R n  X  n and rect-angular diagonal matrices  X  1 and  X  2 such that: The proof of Theorem 5.1 can be found in [14]. In Theo-rem 5.1, the singular vectors of matrix Y (from the second columns and onwards) collectively offer a consistent clus-tering on users by leveraging both online and offline social interactions. In this method, the singular vectors of the 2 to m th smallest singular values are used as m  X  1 dimen-sional indicator vectors for users. Then, a classic K -means algorithm is conducted on this space to generate user com-munities. We name this method GSVD .

One shortcoming of GSVD is that as Y is not a unitary matrix, its values on different column vectors vary a lot in ranges. Therefore, the partitioning information embedded in Y cannot be simply differentiated by the symbol sign as the classic SVD does. In experiments, we also found that the performance of GSVD is rather sensitive to the choice Algorithm 1: HeteroClu of similarity measures on the singular vectors of Y . After many comparions, we chose the city block similarity measure for GSVD .
We now propose an algorithm that clusters online and offline interactions at the same time. This algorithm em-ploys the following objective function based on normalized cut (Eq. 3): min  X  y The above objective function contains two parts, each part alone is a normalized cut objective function on individual online or offline social networks. But the linear combination of both defines a global optimization over the heterogeneous EBSN. Coupling factor  X  is used to weigh the importance of each network. Note that each part is a normalized value between 0 and 1. Therefore, the size of the individual online or offline network is not captured in Eq. 5. A naive way to assign the importance of the two parts is to set  X  = 0 . 5. However, since online and offline networks have different
Similar objective functions to Eq. 5 have been used in the high-order co-clustering problem on multiple types of het-erogeneous objects [13]. Solving the new objective function (Eq. 5) is non-trivial, as it represents a typical quadratic fractional programming problem. In [13], the similar func-tion was first approximated to be a quadratically constrained quadratic programming problem by fixing two denomina-tors of the function as constants. Then, the standard semi-definite programming is applied to compute y efficiently.
In this paper, we use a heuristic algorithm shown in Al-gorithm 1 to solve the clustering problem with the objective function defined in Eq. 5. This algorithm first employs a bottom-up clustering algorithm on the linear combination of online and offline social networks as defined in Eq. 4, to generate M ( M &lt;&lt; K ) giant loose clusters in a bottom-up fashion. This step defines a local greedy merge procedure. Then it uses the top-down recursive binary cut procedure to cut large clusters to smaller ones until K clusters are achieved. This step defines a global recursive cut procedure. Figure 7: Community dectection performance. The score inside the grey rectangle is the DB index under the optimal K based on the  X  X nee X  method.
To measure the quality of user communities, we use the collected user tags as the external ground truth of latent community semantics. 78 , 158 unique user tags were col-lected from Meetup and treated as the Meetup tag space T with | T | = m . For each user u i , we built a binary user-tag vector u i = { t i 1 ,t i 2 ,...,t im } where t ik = 1 if u tag t k ; otherwise t ik = 0. After normalization, the similarity between two users u i and u j is measured by the cosine sim-ilarity u i  X  u j . There are no user tags available in Gowalla. Instead, we aggregated all location tags of a user X  X  checkins to build the user-tag vector, in which t ik is the number of checkins associated to tag t k of user u i . In total, 680 unique tags were collected in Gowalla.

The standard Davies-Bouldin (DB) index [8] was used to measure the cohesiveness of communities, which is given by where K is the number of communities, c k = 1 / | C k | P is the centroid vector of cluster C k after renormalization, and  X  k = 1 / | C k | P u i  X  C k u i  X  c k is the average similarity of users in cluster C k to their centroid. A smaller DB index value indicates a more cohesive community.
Determining the optimal K for a clustering has been an open problem for decades. For a fair comparison on vari-ous approaches and datasets, we used a simple yet popular method that identifies the  X  X nee X  [15] in the plot of DB in-dex vs. K to determine the optimal K for each clustering first; and then compare the corresponding DB index under the optimal K . The DB index value corresponding to the  X  X nee X  can be seen as the best clustering performance that one method can achieve.

Fig. 7 compares the best DB index of each method based on the  X  X nee X  method. Note that since the DB index av-erages over all the worst separated clustering pairs, it is possible that the DB index has a value greater than 2. As shown in Figure 7, the communities for the Meetup EBSN are more cohesive than those for Gowalla LBSN. One interesting finding is that users in online Meetup EBSN communities are more cohesive than users in offline Meetup EBSN communities (by 0.33), indicating that users tend to have more similar interests if they belong to same groups, compared to those who participated similar events. How-ever, the combination of online and offline interactions does play an important role in the clustering process, as three methods LinearCom , GSVD and HeteroClu outperformed individual networks. The LinearCom is only slightly better than individual networks (by 0.18) but worse than HeteroClu (by 0.22), indicating that a simple linear combination can-not differentiate heterogeneous types of social interactions effectively. The GSVD has almost the same performance as LinearCom , suggesting that after relaxing the constraint on the unitary matrix of SVD decomposition, the generalized SVD lost some disambiguation power on clustering. Lastly, HeteroClu leads the pack in comparisons. It is the only method that achieved the best DB index (around 1.8) suf-ficiently under 2, indicating that its worst pairs of clusters were reasonably separated.
In this section, we study how information flows over this unique network structure. A good scenario that can be used to examine the information flow on EBSNs is the problem of recommending users to participate in social events only based on the topological structure of EBSNs. With this application, we can study how information flows from one user to the online/offline friends and how the information flow pathways latently drive the social event participation process.

Unlike classic movie/book recommendations, event par-ticipation recommendation is more challenging due to the short life time of social events. An event is non-existent un-til its creation time t c . And after the start time t event, participation recommendation becomes meaningless. Due to the very limited history of an event from time t to t s , event participation recommendation suffers from the cold-start problem heavily.

Now, let X  X  formally define the event participation problem as follows: given an event e , at time t ( t c &lt; t &lt; t is to predict users who will RSVP  X  X es X  to event e between t and t s . The EBSN built upon the collective data before t will serve as the network structure and all the users who re-sponded  X  X es X  to e between t c and t are the positive training examples for the prediction, notated as set S 2 .
Not to deviate from our goal of studying the information flow over the EBSNs X  unique network structures, we only rely on the topological structure of EBSNs and the already responded users for event participation prediction.
We design a simple yet efficient event-centric diffusion model for the problem. We define f i  X  0 as the initial score of node u i , where only users in set S (the set of users already RSVPed  X  X es X ) have f &gt; 0 and the rest of the users have f = 0. For simplicity, we initialize f = 1 / | S | for users in S . We use the column vector v k = { v k 1 ,v k 2 represent the probabilities that users have been visited after the k -th diffusion step, and v 0 i = f i .

The basic event-centric diffusion, named DIF , can be ex-pressed as v k +1 = D X  v k , where D defines the non-symmetric information transition matrix of a network for time t . Each Figure 8: Typical EBSN information flow patterns. element in D is defined as d ij = w ij P on the heterogeneous EBSN, we can use the linearly com-bined adjacency matrix (Eq. 4). d ij is the empirical prob-ability of information flow from user u i to user u j . Clearly, d ij 6 = d ji . If u i has a larger degree than u j , the influence of u on u j is less than that of u j on u i .

This basic diffusion model is event-centric because v k rep-resents personalized probabilities only corresponding to the current event e . A similar diffusion method has also been studied by [17] for link prediction. Because this diffusion process does not converge to the stationary distribution of information flow, a self-loop on every node is necessary; oth-erwise the information will be diverged far away quickly. The self-loop weight follows the same definitions of Eq. 1 and Eq. 2.
An EBSN contains both online and offline social interac-tions, but the basic diffusion model DIF does not take this heterogeneity into account. Accommodating different forms of social interactions, there exist at least three information flow patterns, as shown in Figure 8. The online and offline social networks G on and G off of an EBSN basically defines two kinds of channels for the flow of information. Figure 8(1) depicts the basic diffusion model DIF over a single channel exclusively, whereas Figure 8(2) define a cascade model, ab-breviated as DIF-cascade , in which information interchange-ably flows from one channel to the other. The simplest cascade diffusion model can be defined as v k +1 = D c  X  v where D c is a cascaded transition matrix for time t , and D c = D on  X D off or D off  X D on . Finally, in Figure 8(3), infor-mation flows over two channels concurrently. We call this model DIF-parallel . The simplest parallel diffusion model is v k +1 = D p  X  v k , where D p defines a linearly combined tran-sition matrix for time t , and D p =  X  D on + (1  X   X  ) D off parameter  X  is used to measure the importance of each type of social interactions. It plays the same role of  X  in Eq. 4. Thus, DIF-parallel is equivalent to DIF on the linearly com-bined adjacency matrix (Eq. 4). Undoubtedly, there are more complex information diffusion processes (i.e., a mix-ture of DIF-cascade and DIF-parallel ). But we will leave them for future work.
Information is often circulated more rapidly inside its own community, especially for those small-scale local communi-ties. As a result, we design a community-based diffusion model in which information tends to, but is not restricted to, flow within the scope of its own community.

Specifically, in this model, v k +1 = D m  X  v k , where D defines the community-based information transition matrix. Each element of D m is defined as where C ( u i ) is the community of u i ,  X  is a parameter used to control weight of information flows inside its community versus outside, and N is the normalization factor so that P
Since DIF-com only adjusts the weights of edges on top of the basic DIF model (can be seen as a combination with DIF ), it can be further combined with other complex diffu-sion models, including DIF-cascade and DIF-parallel . The names of the two combinations are DIF-com-cascade and DIF-com-parallel , respectively. Note that DIF-com on G based on the linearly combined adjacency matrix (Eq. 4) is equivalent to DIF-com-parallel .
As discussed before, event participation recommendation suffer from a typical cold-start problem. When an event is created, except for the creator, it is unknown to all the other users. To simplify the problem, we treat the event creator as the first user who responded  X  X es X  to the event. In evalua-tion, we can start the recommendation process immediately after the event creation, or wait for a while until there are a few responded users. We first focus on the latter case: given a testing event, we set the first k responded participants as the seed users, where k is randomly determined. The former case is a much harder problem and is examined at the end of the evaluation.

We split the Meetup data into two sequential parts (cut around Mar 2011). The first part of data (on or before Mar 2011, take up 80%) are used for training and the second part of data (after Mar 2012, take up 20%) are used for testing. Given a testing event, we recommend top 5, 10, 20, 50, 100, 200, 400, 800 users to it respectively. We choose to recom-mend a large number of users, because 1) in practice event organizers often broadly advertise their events to the public; and 2) we want to see the long-term trend of such a recom-mendation system. For the recommended top N users, we compute recall to evaluate the performance. recall is defined as the percentage of users who would respond  X  X es X  to the testing event that are covered by the top N recommenda-tions. Finally, we average the recall for all testing events under the same top N .
There are two popular baselines found in the prior art that can be efficiently applied to such an event participation recommendation problem. One is Collaborative Filtering (CF) [25], and the other is the random walk model [23]. Note that due to the extremely short life time of events, most supervised recommendation (link prediction) methods suffer from severe sparsity of labeled data. As a result, they do not apply to the event participation recommendation problem.
For the baseline CF, the users who ever participated in similar groups or events in the Meetup training data are recommendation candidates. They are then ranked by their Jaccard similarities to the responded users. The Jaccard similarity between two users is simply based on their past group or event participation count vectors.

For the baseline random walk model, we applied the ran-dom walk with restart (RWR) model. In the RWR baseline, there is a certain chance (probability  X  ) with which the in-formation will flow back to the starting users at each step of information flow. By setting various  X  , we have various RWR baselines with names like RWR (0.3). When  X  = 0, RWR downgrades to the basic random walk model.

As both CF and RWR were initially designed for homo-geneous networks, we compared them with the basic event-centric diffusion models on individual G on and G off in Fig. 9. From all diffusion models on G on in Fig. 9(a) and G Fig. 9(b), DIF-com outperforms DIF and CF , and RWR models perform the worst. By soft-restricting information flow in the same user communities, DIF-com can guarantee most closely related friends are recommended. The weight-ing strategies of DIF and CF differ only slightly, thus they yield similar prediction results. The poor performance of RWR indicates that identified network hubs are not rele-vant to the testing event. By raising return probabilities of RWR, the prediction performance does not improve much even with  X  as high as 0 . 6. In addition, by comparing Fig. 9(a) and Fig. 9(b), we find the offline EBSN has better prediction power when N is small but online EBSN gradu-ally catches up and even surpasses the offline EBSN as N grows large. This is because offline social interactions are able to capture closely related friends who are very likely to participate in the same events, but the recommended users tend to be regulars to similar events. In comparison, online social interaction can introduce non-regulars to the events and increase the coverage of the recommendation.
In the previous section, we showed that DIF-com has the best recommendation performance for individual online and offline social networks of an EBSN. As discussed in Sec-tion 6.1.3, DIF-com actually represents one kind of diffusion pattern on a whole EBSN (equivalent to DIF-com-parallel based on the linearly combined adjacency matrix (Eq. 4)). It is thus interesting to further compare various diffusion models we discussed in Section 6.1.2 on the whole EBSNs (with both online and offline social interactions). All diffu-sion models can be enhanced by communities since DIF-com has been shown to outperform the rest of the methods in the previous section. For a fair comparison, we use communi-ties detected by Algorithm 1 for all methods. The detailed comparisons are given by Fig. 10. Fig. 10(a) compares three diffusion models over the heterogeneous EBSNs against indi-vidual online/offline networks. Only the paralleled diffusion model outperforms the online or offline only model. This means that the joint presence of online and offline social interactions can improve the prediction performance. The reason that cascade diffusions are worse is because values are diffused twice to those far away users. Similarly, In (a) EBSN diffusion patterns Figure 10: Prediction on the heterogeneous EBSNs. Figure 11: Comparison to cold-start scenarios.
 Fig. 10(b), we see that repeating the parallel diffusion model also deteriorates the performance.
In this section, we would like to examine how the cold-start phenomena hurts the recommendation performance. It is well-accepted that as the size of responded users decreases, the recommendation performance will get worse. We simply verify this well-known conjecture using Fig. 11. In Fig.11, the prediction performances for those cold start cases (the event creator is the only seed for an event) are slightly worse than random-start cases. However, the recalls achieved by diffusion from a single user are still fairly good, indicating that using diffusion to predict event participation on EBSNs is satisfactory even on the extreme cold start cases.
In this paper, we have identified and formally defined a new type of social network, EBSN. By using the Meetup dataset, we studied the unique features of EBSNs includ-ing basic network properties, community structures and in-formation flow over EBSNs. Our research revealed many aspects of EBSNs that are significantly different from con-ventional social networks and LBSNs. We hope this paper paves the way for future studies on this interesting type of social networks.
 We would like to thank Jon Kleinberg for helping us nail down the background of the problem, Bin Gao for his ex-planation on the related work [13] and Jiang Bian and Mao Ye for their valuable discussions.
