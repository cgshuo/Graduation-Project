 Inferring diffusion networks from traces of cascades has been extensively studied to better understand information diffu-sion in many domains. A widely used assumption in previous work is that the diffusion network is homogenous and diffu-sion processes of cascades follow the same pattern. However, in social media, users may have various interests and the con-nections among them are usually multi-faceted. In addition, different cascades normally diffuse at different speeds and spread to diverse scales, and hence show various diffusion patterns. It is challenging for traditional models to capture the heterogeneous user interactions and diverse patterns of cascades in social media. In this paper, we investigate a novel problem of inferring multi-aspect diffusion networks with multi-pattern cascades . In particular, we study the ef-fects of various diffusion patterns on the information diffu-sion process by analyzing users X  retweeting behavior on a microblogging dataset. By incorporating aspect-level user interactions and various diffusion patterns, a new model for inferring M ulti-aspect transmission R ates between users using M ulti-pattern cascades (MMRate) is proposed. We also provide an Expectation Maximization algorithm to ef-fectively estimate the parameters. Experimental results on both synthetic and microblogging datasets demonstrate the superior performance of our approach over the state-of-the-art methods in inferring multi-aspect diffusion networks. H.2.8 [ Database Management ]: Database Application: data mining Algorithms; Experimentation Information Diffusion; Graph Mining; Social Network
The increasing popularity of social networking websites, such as Twitter and Sina Weibo, has greatly promoted the research on social network analysis due to the massive real data available. A ubiquitous problem of social network anal-ysis is how the information, idea, and innovation diffuse in the networks. Studying the process of information dissemi-nation, cascading behavior and influence spreading in social networks is fundamental in many applications, such as tech-nological innovations spreading [12], word of mouse effects in viral marketing [2, 13] and personalized recommendation in E-commerce websites [17].

As a fundamental research issue in information diffusion, inferring the network structure from a collection of diffusion cascades has been studied in many domains, such as the hyperlink network of on-line news articles [6, 7, 8] and the collaboration network of scientists [18]. Existing models can be roughly divided into inferring the network connectivity, such as NetInfer [7] and MulTree [9], and inferring not only the network structure but also the transmission rates over the edges, like NETRATE [6] and InfoPath [8]. These meth-ods normally use a continuous time distribution to model the cascade diffusion process, and try to find the optimal homo-geneous network which can maximize the likelihood of all the observed cascades.

Existing studies assume the network connections are ho-mogeneous and have only one aspect [6, 8, 18]. This assump-tion does not hold in social media. The interactions on social networks are usually heterogeneous and have many aspects. For example, the research on social trust showed that the trust relationship between online users has many facets [22]. One user tends to trust different users in terms of different facets. Similarly, social theories [11, 15] demonstrated that the effect of social influence from different angles such as topics may vary significantly. Users tend to interact with different friends in terms of different angles in society. Peo-ple X  X  multi-aspect interests and influence of different types suggest people may adopt different types of information from different people in social networks.

Figure 1 shows a toy example of a network with two as-pects: research and sports. The entire network can be de-composed into two subgraphs. Each subgraph is associated with one aspect. The width of the edges represents the rela-tionship strength. For different aspects, the corresponding relationship strength is different. For example, user 1 and 2 are researchers working on data mining related topics. They might interact with each other intensively on data mining related cascades, but they do not necessarily share similar Figure 1: Example of a 2-Aspect Diffusion Network interests on sports. It is challenging to infer the multi-aspect diffusion network due to the fact that the aspects are usu-ally not explicitly observed. Though the toy example sug-gests we can consider each topic as an aspect, it is hard to verify whether different topics can be integrated as one as-pect due to similar diffusion cascades. Moreover, the topics in different social network websites may differ significantly. For example, topics a user discusses on Twitter could be different from the topics he/she discusses on Epinions. To address this challenge, we need a general model to automat-ically distinguish the aspects of the cascades and infer the aspect-sensitive diffusion networks.

Meanwhile, the underlying reasons driving a piece of in-formation spreading from node to node is more complex in social networks than those in traditional networks. Social theories showed that information and influence can be trans-mitted by various mechanisms, such as conformity , social learning , and social contagion [19]. In medical science, it is also well-established that more infectious disease, compared against less infectious ones, can spread to a wider scale in a short period of time [14]. In social networks, cascades usu-ally spread at different speeds and to diverse scales, and thus present various diffusion patterns. Inspired by the sociologi-cal and epidemiologic theories, we are particularly interested in investigating the following question: do various diffusion patterns of the cascades reflect users X  retweeting behavior in social networks? Distinguishing diverse diffusion patterns of the cascades in social networks may potentially help us bet-ter understanding information diffusion and more accurately inferring the diffusion networks.

In this paper, we propose a new model to infer the multi-aspect diffusion networks by taking advantage of both aspect-sensitive user interactions and various diffusion patterns. In particular, we investigate 1) whether different cascades present distinct diffusion patterns in social networks, and 2) how their diffusion patterns reflect users X  behavior in infor-mation diffusion. Then we discuss how to incorporate the aspect-sensitive transmission rates and diffusion patterns of cascades into a new model to more effectively infer the multi-aspect diffusion networks. Finally, we conduct extensive ex-periments to evaluate the proposed model. The main con-tributions of this paper can be summarized as follows: The remainder of the paper is organized as follows: in Section 2, we formally define the studied problem. Section 3 describes the dataset and analyzes how the diffusion pat-terns reflect users X  retweeting behavior. Section 4 introduces the proposed model MMRate and gives an EM-algorithm to effectively infer the parameters. In Section 5, we evaluate our approach and report the results. We discuss related work in Section 6, and conclude this paper in Section 7.
In this section, we will first introduce some notations, and then we will give a formal definition of the studied problem.
Cascade: A cascade t c can be denoted as a N -dimensional vector t c = ( t c 1 ,...,t c N ) T , where N is the number of nodes. The i th dimension of t c records the time stamp when infor-mation c infects node i , and t c i  X  [0 ,T c ]  X  X  X  X  . The symbol  X  labels nodes that are not infected during the observation window [0 ,T c ]. The time stamp is set to 0 at the start of each cascade.

A cascades dataset C consists of a collection of cascades, i.e. C = { t 1 ,..., t M } , where M is the number of cascades. To simplify the problem formulation, we make the following two assumptions. First, within a cascade t c , a node i with a time stamp t c i can only be infected by the node j with an earlier time stamp, i.e. t c j &lt; t c i . In a cascade t refer node j as one of node i  X  X  child node and node i as one of node j  X  X  parent node, though there may not exist an edge between them on the true network. Second, similar to the Independent Cascade model [5], we assume the child node is infected once its first parent succeeds in infecting it, and it can not be infected again. All the parents try to infect their child nodes independently.

Aspect distribution: Assuming there are K aspects in C , the aspect distribution of C can be represented as  X  = {  X  1 ,..., X  K } , and P K i =1  X  i = 1, where  X  k is the proba-bility of the k th aspect. Each cascade c i is associated with a K -dimensional vector z i = ( z i 1 ,...,z iK ) and P K k =1 with the k th element z ik denoting the probability of the cas-
Diffusion patterns: Each cascade t c presents a unique diffusion pattern which is independent of the network struc-ture. To model the diffusion pattern of t c , we use a function g ( X  t ;  X  c ) to represent the probability distribution of the de-caying time  X  t between two successively infected node ( t t ) in cascade t c , where  X  c is the distribution parameter. The parameter  X  c determines the spreading speed of the cascade. We will describe the function g ( X  t ;  X  c ) in detail later.
Aspect-sensitive information diffusion graph: An information diffusion graph G = ( N , E ) can be decomposed as K aspect-sensitive subgraphs G =  X  k =1: K G k with G k (
N , E k ). N is the node set, E is the edge set, and the edge set associated with aspect k . E k can be further
Figure 2: An Illustration of the Studied Problem transmission rate from node i to j . In most cases, the aspect-sensitive pairwise transmission probability is asym-metric, i.e.,  X  k ij 6 =  X  k ji .

We provide an illustration of the studied problem in Fig-ure 2. The upper left part of Figure 2 shows a 2-aspect network, the upper right part presents various diffusion pat-terns of the cascades, and the lower part is the collection of cascades C . In the network, the green and red bars denotes the two aspects with probabilities  X  1 = 0 . 7 and  X  2 = 0 . 3, respectively. Each connected pair of users have two trans-mission rates  X  1 ij and  X  2 ij with each one associated with an aspect. The diffusion pattern of cascade t c is modeled by the distribution function g ( X  t, X  c ) shown in the upper right part. The x-axis is the decaying time of the cascades during spreading, and the y-axis is the probability. Each cascade t in C is composed by the tuples ( user i : t ic ), where user is the node and t ic is the time when user i is infected by the cascade t c . Given the multi-aspect network G with hetero-geneous relationships between users, the aspect distribution  X  and the diffusion patterns  X  C , a set of corresponding cas-cades C can be generated. Conversely, given the cascades data C , the task here is inferring the aspects distribution  X , the diffusion patterns  X  C and the multi-aspect diffusion network G .

Based on the above definitions, we define the task of infer-ring the multi-aspect diffusion networks with multi-pattern cascades as follow.

Problem 1. Given 1) a network G = { N , E } with hidden edges, where N represents nodes in the graph and E are the edges which are unknown, and 2) a collection of observed cascades C = { t 1 ,..., t M } spreading with various diffusion patterns, our goal is to accurately 1) infer the edges E of and 2) estimate the aspect-sensitive information transmis-sion rates (  X  1 ij ,..., X  K ij ) T over each edge e ij .
In this section we will first introduce the dataset studied in this paper. Then we will study the difference of the diffusion patterns and investigate the effect of different patterns on information diffusion via real data.
We study the large microblogging network dataset crawled from Sina Weibo 1 [25]. This dataset is crawled to study the retweeting behaviors in the microblogging network. It contains 1,776,950 users, 308,489,739 following relationships, 300,000 original microblogs, and 23,755,810 retweets. On average, each microblog has been retweeted for about 80 times in the dataset. For the purpose of this study, we build the following two datasets from the initial dataset. The first dataset is built as follows. As more popular Sina Weibo users can transmit information to a wider scale, we first select the users with over 1,500 followers as nodes and extract corresponding relationships among them as edges. In this way, we obtain a network with 1,624 nodes and 23,097 corresponding directed connections. Then for each microblog, we extract its diffusion path in the extracted net-work. As a result, 5,124 microblogs are extracted as diffusion cascades. Some nodes or edges have not participated in any of the selected diffusion cascades are then eliminated. Fi-nally, we obtain the first diffusion network with 1,038 users and 11,385 following relationships. For simplicity, we name this dataset DPU (Dataset of Popular Users).

For the second dataset, we select the users with a large number of friends as the nodes, because such users can usu-ally receive more posts and hence have more chances to par-ticipate in more cascades. Similarly, we extract correspond-ing relationships among them and obtain a network with 1,345 nodes and 5,874 edges. In the similar way as DPU , we extract 4,206 cascades, After eliminating some isolate nodes and edges, we obtain the second dataset with 750 nodes and 2,974 edges. We name this dataset DUNF (Dataset of Users with Numerous Friends). The statistics of the two datasets are given in Table 1.
In this subsection, we will study the diffusion patterns of the cascades and investigate how these patterns reflect users X  retweeting behavior in microblogging network. More specif-ically, we want to answer the following two questions: Are the diffusion patterns of some cascades significantly different from others in microblogging networks? How does the vari-ous diffusion patterns of the cascades reflect users X  retweet-ing behavior during information diffusion? To answer the two questions, we conduct the following two groups of t -tests.

To answer the first question, we conduct a group of two-sample t -tests to verify whether more popular posts spread faster than ordinary ones. We first rank the microblogs ac-cording to their numbers of retweets, then we select the top http://arnetminer.org/Influencelocality. k % microblogs from the ranking results as the first group of samples. The entire dataset are considered as the sec-ond group of samples. From each group, we randomly select 1000 posts composing two test samples S 1 and S 2 . Then we compute the average spreading speed sc t , sc r of S 1 and S respectively. sc t can be computed by sc t = 1 1000 P 1000 where n i denotes the repost number of the post p i and t the time span of p i . sc r can be computed in the similar way. The null hypothesis is that there is no significant difference between the two spreading speeds, H 0 : sc t = sc r ; while the alternative hypothesis is the average spreading speed of S faster than that of S 2 , H 1 : sc t &gt; sc r . The null hypothesis is rejected at the significant level  X  = 0 . 01. The p -values of the t -test with various k are shown in Table 2. The star next to the p -value means that there is statistical evidence to reject the null hypothesis. One can see that the null hypothesis can be rejected when k is 5, 10 and 20. In others words, the top 5%, 10% and 20% popular posts spread significantly faster than the random selected posts.
 Table 2: Hypothesis Testing Results (P-Values) to Verify More Popular Posts Spread Faster.
To answer the second question, we conduct the second groups of two-sample t  X  tests to investigate 1) whether the spreading of popular posts counts on the closeness of the senders and recipients, and 2) whether the user X  X  retweet-ing behavior is related to the diffusion patterns of the posts. Before describing the detail of the t -test, we first give a def-inition as follow.

Definition 1. Closeness : the closeness from user i to user is defined as closeness ij = t j t ber of posts user i retweeting from user j , and t all denotes the total number of retweeted posts by user i .

To obtain enough data for the t -test, we tend to choose the users with larger number of friends and posts. Hence we first randomly select 100 users who posted more than 1000 microblogs and have more than 200 friends. Then for each selected user user i , we rank all his/her friends according to the closeness to them. We select top k % friends from the ranking as the first group of samples S 1 , and bottom k % friends as the second group of samples S 2 . Then we compute the average number of retweet sp t , sp l of the posts user i retweeted from the friends in S 1 and S 2 , respectively. The null hypothesis is that there is no significant difference between sp t and sp l , H 0 : sp t = sp l ; while the alternative hypothesis is sp t is significantly smaller than sp l , H sp . The null hypothesis is rejected at the significant level  X  = 0 . 01. The p -values of the t -test with various k are shown Table 3. The t -test result reveals that there is statistical evidence to reject the null hypothesis when k is 2, 5 and 8. That is, the average popularity of posts retweeted from the top 2%, 5% and 8% close friends is significantly smaller than that from those less close friends. Note that the t -test result does not mean popular tweets spread mostly through less close friends. It just means that if a user retweets a post Table 3: Hypothesis Testing Results (P-Values) to Verify Diffusion Patterns Reflect Users Behavior from a less close friend, the retweeted post is more likely to be popular.

In summary, the evidence from the two groups of t -test re-sults suggests the following answers to the questions: 1) The more popular microblogs are more likely to spread faster, and this infers that different cascades may present significantly different diffusion patterns. 2) Users X  retweeting behavior is related to the diffusion patterns of the posts. With a higher probability, a post spreading through two users who are not closed is more popular than a post spreading through two very close users. Based on these findings, we next will in-troduce how to exploit the diffusion patterns of cascades to help us better infer diffusion networks.
In this section, we will start by briefly describing some pre-liminaries. Then we will give the multi-aspect information diffusion model and present how to compute the likelihood of a collection of cascades using the proposed model. To es-timate the parameters, we next will give a EM-algorithm to effectively infer both the aspect-sensitive diffusion networks and the aspect of each cascade belonging to.

We first revisit some basic concepts and introduce some standard notations. We define a nonnegative random vari-able T to be the time when an event happens, such as user adopting a piece of information. Let f ( t ) be the probability density function of T , then the cumulative density function can be denoted as F ( t ) = P ( T  X  t ) = R t 0 f ( x ) dx .
Survival function. The survival function S ( t ) is the probability that an event does not happen to a node by time t :
Hazard function. Given functions f ( t ) and S ( t ), we can further define the hazard function H ( t ), which means the instantaneous rate that an event will happen to a particular node within a small interval just after time t if it has not happened to the node yet by time t .
 In this subsection, we will introduce the proposed model MMRate. For each cascade, we use the decaying time distri-bution function to model its diffusion pattern. We consider that each cascade is also associated with a hidden aspect. By a liner combination of the diffusion pattern and aspect, the MMRate is proposed.

To model information diffusion, first we need to consider how to compute the diffusion probability between two nodes in a specific cascade. In our model, the pairwise diffusion probability is aspect-sensitive and related to the diffusion patterns. Hence we decompose the probability of one node i activating one of its neighbors j in the cascade t two parts: the aspect-sensitive transmission rate  X  k the probability that cascade t c with a pattern parameter  X  takes time  X  t c ij to infect a new node. Before describing MMRate in detail, we first give some notations in Table 4.
Probability of node i infecting node j . The proba-bility of node i infecting node j in the cascade t c with aspect k and pattern  X  c can be represented as : Here, g 1 (  X  ) is the distribution to model the conditional like-lihood of node i infecting j given the aspect-sensitive trans-mission rate  X  k ij , diffusion pattern parameter  X  c and the time gap  X  t c ij . g 2 (  X  ) is a mapping function. Given  X  g (  X  ) combines the two values. Here we simply sum the two values, i.e. g 2 (  X  k ij , X  c ) =  X  k ij +  X  c .

In this paper, we apply the following three distributions to model the diffusion probability function g 1 (  X  ): exponential, power-law and Rayleigh. The exponential and power-law distributions are widely used to model information diffu-sion in social networks [7, 18]. Rayleigh distribution is a non-monotonic parametric model used in epidemiology [24]. Recently the Rayleigh model is also adopted to model in-formation diffusion [6, 8]. For simplicity, we assume the diffusion pattern function g 2 (  X  ) of the cascade t c also follows one of the three distributions with a distribution parameter  X  , and the maximum likelihood estimation (MLE) of  X  c can be derived from the distribution function. The mathemat-ical expressions of the three models and the corresponding MLE of  X  c are given in Table 5.

Further explanation of MMRate. Intuitively, the probability that node i transmits the information c to node j depends on both their aspect-sensitive transmission rate  X  and the diffusion pattern with the parameter  X  c . As we stud-ied previously, the diffusion patterns of cascades can reflect users X  retweeting behavior. The propagation of microblogs are also related to their diffusion patterns, and those popu-lar ones can spread between two users independent of their closeness . Figure 3 gives an example to show how differ-ent diffusion patterns reflect information propagation. The upper two figures show the diffusion patterns of the two hashtags in Twitter:  X #Chicago Storm X  and  X #Haiti Earth-Figure 3: An Illustration to Show How the Diffusion Patterns Reflect Information Propagation quake X , and the lower two figures show the corresponding diffusion paths. The dashed black lines in the lower two fig-ures represent the underlying possible diffusion paths, and the red solid ones are the real diffusion paths. The trans-mission rate from i to m is larger than that from j to m (  X  im &gt;  X  k jm ), but the time interval between j and m is smaller than that between i and m ( X  t A im &gt;  X  t B jm can see that the diffusion paths of the two hashtags are dif-ferent. For the hashtag  X #Chicago Storm X , the transmission rate contributes more to its diffusion, but for the spreading of  X #Haiti Earthquake X , time plays a more important role.
Likelihood of node i infecting j in cascade t c . In a cascade, we assume 1) one node gets infected once the first parent infects it, and 2) all the parents infect their child nodes independently. Based on the two assumptions, the likelihood of the parent node i infecting the child node j in the cascade t c with aspect k and pattern  X  c can be computed by In the cascade t c , the node j could possibly infected by any one of its parent nodes. Hence the likelihood of j getting infected in the cascade t c can be calculated by summing over the likelihoods of each potential parent being the first one to infect it.

Likelihood of node survived from the cascade t c . If node j is survived from all the parents by the time T c , we say the node is survived from the cascade t c . The likelihood that node j is survived from the cascade t c can be represented by the following product of survival function
Likelihood of the cascade t c . Given a cascade t c := ( t ,...,t c N ), its likelihood can be computed by multiplying the likelihoods of all the infected and survived nodes in the cascade. By Eq. (3) and Eq. (4), the likelihood can be represented as f ( t c ; k, G , X  c ) = Y = Y
Assuming the cascades spread independently in the net-work, the likelihood of a set of cascades C = { t 1 ,..., t the product of the likelihoods of all the individual cascades.
Inferring the network. Given a set of cascades C = { t 1 ,..., t M } with estimated diffusion patterns  X  C , our goal here is to find the aspect matrix of the cascades Z = ( z and the graph G to maximize the likelihood of generating the cascades collection C . This problem can be reduced to solve the following convex optimization problem where  X  k ij is the aspect-sensitive transmission rate variable in the multi-aspect graph G ; Z = { z ik | i,k = 1 ,...,N } is the ma-trix of the aspect variables. The edges of the k -aspect net-work are those pairs of nodes with transmission rate  X  k ij
To solve Eq. (7), we have to infer the aspect matrix Z and the graph G . In this subsection, we propose an Expectation Maximization method to infer the two groups of parameters.
Similar to the Gaussian mixture model, we first consider the aspect matrix Z = ( z 1 ,..., z M ) as hidden variables, where z i denotes the aspect vector of cascade c i . If cascade c belongs to the k th aspect, only the k th element z ik of z and all the other elements z im ( m 6 = k ) are 0. In addition, we use  X  k to denote the probability of the k th aspect in
The complete likelihood of all the cascades can be repre-sented as
The E-Step: For simplicity, we user  X  to denote the variables G and Z . That is,  X  = { G , Z } . Then the E-step can be formulated as = Q [( G ; Z ) , ( G ; Z ) ( t  X  1) ] =
Z =
Z =
X =
X
X Using Bayes X  X  rule, we can compute and In order to get the estimation for  X  k , we need to maximize Q That is Thus, combing Equ. (10) and (13). We get the new estima-tion for  X  k given previous  X  ( t  X  1) M-Step: In the M-Step, we maximize the expectation of the parameter  X 
In this section, we will conduct extensive experiments to evaluate the proposed model MMRate. More specifically, we want to evaluate: 1) the effectiveness of MMRate in re-covering multi-aspect network structure; 2) the effectiveness of MMRate in estimating the aspect-sensitive transmission rates between each pair of connected nodes; and 3) the ap-plication of MMRate to other data mining tasks.

We begin with introducing the experimental setup, and then compare the performance of MMRate against baselines on both synthetic and real-world datasets. Finally, we give a case study to show how MMRate can be applied to help us rank aspect-sensitive influential user in microblogging.
Dataset. Besides the real social network datasets de-scribed in Section 3, we also use various synthetic datasets to evaluate our approach. We use the popular Kronecker Graph model [16] to generate the following three types of graphs with different topological structures: random graph, hierarchical graph, and core-periphery graph. For each type of graph, we first set the aspect size K . For each aspect k , we generate an aspect-sensitive graph G k by drawing the pairwise transmission rate  X  k ij for edge e ij from a uni-form distribution. In this way, we obtain a K -aspect graph G . Next, over each aspect-sensitive graph G k we generate cascades over it. We first generate the aspect distribution  X  = {  X  1 ,..., X  K } . Each time we randomly draw an aspect k from the distribution, and then over the corresponding graph G k , we generate a cascade. Root nodes of cascades are chosen uniformly at random. Once a node is infected, the propagation probabilities of outgoing edges of the node determine the infection of its neighbors. The diffusion pro-cess continues until some terminating conditions are satis-fied, such as reaching the maximum time window T or no more nodes getting infected.

Baselines. As MMRate infers both the connectivity of the network and the transmission rates over each edge, we compare MMRate with the following two state-of-the-art baselines which also infer both the network structure and pairwise transmission rates between nodes.
Evaluation Metrics. We evaluate the performance via the following two metrics,
Convergence analysis. Before evaluation, we first ex-amine the convergence of MMRate. Figure 4 shows the convergence curves of MMRate on the datasets DPU and DUNF . One can see that the F 1 -measure on both datasets first keeps increasing, and then stabilizes after 5 or 6 it-erations, which means MMRate can effectively converge. Through the iterations, the F 1 -measure improvement for DPU is about 0.08 (from 0.44 to 0.52), and about 0.12 (from 0.52 to 0.64) for DUNF .
To evaluate the effectiveness of MMRate on recovering the network structure as well as estimating the transmission rates of each aspect, we compare it with NETRATE and InfoPath on various synthetic data. Since the latent net-work and corresponding transmission rates for generating http://people.tuebingen.mpg.de/manuelgr/netrate/ http://snap.stanford.edu/infopath/index.html (Blue Lines) Over a 2-Aspect Diffusion Network cascades are known in advance, we can perform quantitive comparisons with the two baselines.

Figure 5 shows the F 1 -measure of the three methods over the three types of generated networks with 512 nodes and 1024 edges. We can observe that MMRate performs inferior to the baselines when the number of cascade is less than 3,000, but with the increase of the number of cascades, MM-Rate outperforms NETRATE and InfoPath by up to 8%. This is because our model aims to infer the multi-aspect net-work, and hence each aspect of the network needs enough data to be inferred. One can also see that the F 1 -measure steadily increases as we increase the number of cascades, and stabilizes with around 6,000 cascades.

Figure 6 shows the mean absolute error (MAE) between the estimated networks and the true networks with 5,000 cascades. One can see that in almost all the cases (with only one exception), the MAE of MMRate is smaller that the two baselines. It means that our method can not only more accurately infer the network structure, but also more precisely estimate the transmission rates over the edges.
To further test the effectiveness of MMRate on estimat-ing the transmission rates of each aspect on the multi-aspect diffusion networks, we visualize the estimated and the true transmission rates over the edges of a 2-aspect network in Figure 7. We can observe that MMRate first recovers most edges for each aspect network. MMRate only fails to in-fer the edges whose estimated transmission rates are zero. Second, the transmission rates of each aspect estimated by MMRate seem good. The mean absolute error of estimated aspect-sensitive transmission rates are mostly less than 0.3. It indicates that MMRate can effectively estimate the trans-mission rates over the edges for each aspect network.
To evaluate the performance of MMRate on real data, we compare the F 1 -measure achieved by MMRate and three baselines on DPU and DUNF datasets. F igure 8: Comparison of F 1 -measure on two Datasets
Figure 8 shows the best experimental results of the three diffusion models on the two datasets. For the dataset DPU , the exponential model achieves the best result, and for the dataset DUNF , the best result is achieved by the Rayleigh model. The first observation from Figure 8 is that with the increase of cascade number, the F 1 -measure achieved by MMRate first increases, and then gradually decreases. The best performance is achieved with around 3 or 4 as-pects. More aspects make the performance worse due to over-fitting. Second, by differentiating the cascades into a small number of aspect groups, MMRate can significantly outperform the baselines. For DPU , MMRate outperforms baselines by 15% with K equals to 3; for DUNF , the im-provement can be up to 20%. Moreover, the performance of MMRate is always better than the multi-aspect model. It indicates that considering the diffusion patterns of the cas-cades can better capture the information diffusion process in social networks; and therefore, help us more accurately recover the diffusion networks.
MMRate can also be applied to help other data mining tasks, such as aspect-sensitive influential mining and aspect-level influence maximization. Here we give a case study to show how MMRate can be used to help us mining aspect-sensitive influential users in social networks.

Given a diffusion graph G k with the aspect k , the influence of its users can be ranked by a weighted PageRank algorithm as follows where the vector R k denotes the authorities of the nodes, E is a column vector containing only ones, A k is the weighted adjacency matrix with each entry A k ij =  X  k ij , d is the damp-ing factor, and N k is the number of nodes.

Due to space limitation, we only report the ranking result of the dataset DPU . Table 6 lists the top-5 users of each aspect in the 3-aspect network of DPU . For each user, we show the user ID, the number of followers, the number of posts and the descriptions for this user. We use the tags or occupations of the users to describe them. As not all the users make their occupations public available, for such users we give their tags. We can see that the ranking result seems reasonable. First, most of the top ranked users have a large number of followers, which implies they are very pop-ular. Some top uses in aspect 2 even have tens of millions followers. Second, most of these users have published more than 6,000 posts. This means these users are also very ac-tive and have more chances to interact with their friends or followers. Therefore, we can infer more connections to these users and rank them high. Moreover, top users in different aspects are mostly different. The top-5 users of aspect-1 are famous writers, columnists, or editors; the users of aspect-2 are mostly famous actors, TV show hosts, or directors; and users of aspect-3 are mostly interested in commerce, In-ternet, or new media. Some users are famous in multiple aspects. For example, the user with ID 1737694433 ranks in the top-5 of both aspect-1 and aspect-2. For most top rank-ing users, however, they are only very influential in just one aspect. It implies that MMRate can effectively categorize different types of users into different diffusion networks.
The problem of inferring the diffusion networks and esti-mating the diffusion probabilities has been intensively stud-ied in social network analysis [6, 7, 8, 9, 10, 20, 21]. Earlier work in [10, 20, 21] considers the network structure is known and as an input to estimate the diffusion probabilities on the edges through the spreading events. Kazumi et al. proposed a likelihood maximization approach for the learning of the information diffusion probabilities for the Independent Cas-cade Model [21]. To estimate the diffusion probabilities for a continuous time delay independent cascade (CTIC) model, Saito el. al also proposed an approach to maximize the like-lihood of the observed diffusion cascades [20].

Recently, some work has focused on inferring the diffusion networks with hidden structures from the time logs of a col-lection of cascades [6, 7, 8, 9, 18]. These work can be roughly divided into inferring the network connectivity [7, 9] and inferring both the network structure and the transmission rates between nodes [6, 8, 18]. The representative work on inferring the network structure is NetInfer [7], which formu-lates this problem as a submodular function maximization problem. A variant of NetInfer to tradeoff between accuracy and scalability is MulTree [9]. NETRATE is a representative approach to infer not only the connectivity of the network, but also to estimate the transmission rates of infections be-tween two connected nodes [6]. This method tries to find the optimal network that maximizes the likelihood of the observed cascades by using convex optimization. A further work based on NETRATE is InfoPath [8], which aims to infer the dynamic diffusion networks.
It has long been studied both in social theories [11, 15] and computer society [1, 22, 23] that influence diffusion and information propagation are related to the types of relation-ships between users. Tang et al. [22] discerned multi-faceted trust on social media, and proposed a model mTrust to es-timate the trust strengths of different facets. To differen-tiate the social influences from different topics, Tang et al [23] proposed Topic Affinity Propagation (TAP) to model the topic-level social influence on large networks. However, distinguishing different types of cascades for inferring dif-fusion networks with multiple aspects is less studied. An effort devoted to differentiate cascades with different topics recently is TopicCascade [3]. However, TopicCascade uses topic model to find the topics each cascade related to in-stead of inferring them from the diffusion data.
Different from tradition network data which are mostly homogeneous, the user interactions on social networks are usually multi-aspected and the cascades show various diffu-sion patterns, which present challenges to infer the heteroge-neous diffusion networks in social media. In this paper, we proposed a novel model MMRate to handle multi-aspect and multi-pattern cascades for inferring multi-aspect diffusion networks. In particular, we studied the existence of various diffusion patterns of cascades and the effects of the different patterns on information diffusion. By incorporating the as-pects and patterns of the cascades, the fine-grained model MMRate was proposed. To effectively estimate the param-eters, an EM-algorithm was also provided. Experimental results on both synthetic and real social network datasets showed the effectiveness of MMRate compared against state-of-the-art approaches.
 For future work it would be interesting to study whether MMRate can be applied to other domains, such as the virus propagation networks. Similar to information diffusion in so-cial networks, the virus propagation networks are also multi-aspected due to the facts that people X  X  immunity differs for different viruses [4]. Different viruses may tend to propagate among different groups of people. We are also interested in applying our model to help other social media applications, such as predicting trending topics with different aspects in social media. In the future, we will investigate whether the aspect-level transmission rates between users estimated by MMRate can help us more accurately predict the future pop-ularity of the topics with different aspects.
This work is supported by NSFC (Grand Nos. 61170189, 61370126, 61202239), the Research Fund for the Doctoral Program of Higher Education (Grand No. 20111102130003), the Innovation Foundation of BUAA for PhD Graduates (Grand No. YWF-14-YJSY-021), Microsoft Research Asia Fund (Grand No. FY14-RES-OPP-105), NSF through grants CNS-1115234, DBI-0960443, and OISE-1129076, and the Pinnacle Lab at Singapore Management University.
