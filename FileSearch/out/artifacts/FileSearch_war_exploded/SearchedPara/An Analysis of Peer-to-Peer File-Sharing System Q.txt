 Many studies focus on the Web, but yet, few focus o n peer-to-peer file-sharing system queries despite their mass ive scale in terms of Internet traffic. We analyzed several mill ion queries col-lected on the Gnutella network and differentiated o ur findings from those of Web queries. H.3.5 [ Information Storage and Retrieval ]: Online Information Services  X  Web-based services. Measurement, Experimentation, Verification. Query log analysis, Information retrieval, Peer-to-peer. Knowledge of user search patterns on a search syste m can be used to improve search performance. As such, many studie s exist on user query logs, most of which are for the Web (e.g ., [1][2]). Re-cently, some simulations of peer-to-peer (P2P) syst ems such as [3] assume that P2P queries are similar to Web quer ies. This is not necessarily the case. We analyze a multi-millio n P2P query log and highlight the differences between it and We b query logs. To collect a representative query log, we used a Gn utella network crawling tool [4], which mimics a peer that can sat isfy all user queries. Consequently, all  X  X earby X  queries are rou ted to our peer. Our query log was collected during a month-long spa n starting on September 14, 2006 and includes query terms, desire d file type, and timestamp. Queries were preprocessed by ignorin g case dif-ference and replacing punctuations with white space . This and other query logs are published on our Web site (http://ir.iit.edu/~waigen/proj/pirs/). As they are collected from a public network, we encourage their use for research purposes. As well, the tools used to collect and analyze these l ogs are available on our Web site. There are more than 23 million queries in our data set, of which 47% are distinct. We consider queries with an ident ical set of terms as similar (i.e., not distinct), regardless o f term order and term frequency. The total number of unique query te rms is about 
Figure 2. Query Volume and Query Overlap Over a Mon th. In Figure 2, we illustrate how queries vary over a month. Query volume varies widely and averages about 750K per da y. Term and query overlaps are measured by the Jaccard coeffici ent 1 between each day X  X  query set and term set with those of the first day. There is a 10% to 20% overlap between query sets and a 40 % to more than 50% overlap between term sets. Term overlap is naturally greater than query overlap, as the set of terms is more limited than the possible term combinations. The downward tenden cy of over-lap reflects the gradual change in user desires. In Figure 3, we show how the percentage of query vo lume changes throughout an average day. We report the av erage per-centage volume of weekends and weekdays over two we eks start-ing from September 14. For the purpose of compariso n, we also show in Figure 3 results of Web queries reported in [1]. On week-days, P2P query traffic decreases from midnight to 9am, and starts increasing after 6pm. On weekends, overall P2P quer y traffic volume is high during the day and only decreases af ter midnight. These results are different from those of Web analy ses [1] and suggest that much of the P2P usage is for recreatio nal purposes. For each type of query, we record the most frequent queries and query terms, and the most correlated terms (identif ied using Chi-square test with a 95% confidence level.) Due to sp ace limits, we report in Table 2 the top 3 of them for some query types only. In Table 2, one sees that most of video and image-cons trained que-ries are porn-related. Also shown is that some docu ment-constrained queries are likely related to illegal a ctivities. This study mainly focuses on examining a large set of queries collected from the Gnutella network, with the goal of revealing the nature of queries and the users X  searching beha viors. The sta-tistical results show that P2P queries are longer t han Web queries, and most searches are for music and movies. We also found that the total query traffic varies in magnitude over a month, but the level of term and query overlap is relatively stabl e. In addition to user queries, we have used our tool to collect in-formation on several million files shared in the Gn utella network. Due to space limits, we omit our analyses of this d ata set. The ratio of the intersection to the union of the two sets. 
