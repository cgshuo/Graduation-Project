 SARMAD HUSSAIN, SANA GUL, AND AFIFAH WASEEM Center for Research in Urdu Language Processing National University of Computer and Emerging Sciences, Lahore, Pakistan 1. INTRODUCTION AND BACKGROUND any language requires lexicographic sorting of textual data, which is usually different from sorting on the codes assigned to characters of the language. For example, if English is sorted on ASCII code, it will sort an alphabet string to  X  X BCDE...Zabcde...z X .  X  X aBbCcDdEd...Zz X . Sorting textual strings is a complex linguistic phenomenon, especially for many Asian languages, and its modeling requires simple encoding-related processing to more complex language processing including word segmentation and syllabification. Some of these languages even have an official status and/or significant speaking populations. However, lack of awareness, lin guistic research and resources are some of the factors delaying the process. Working on many of these languages to define their sorting sequences not only presents great commercial opportunities but also large socio-economic benefits, as many of these languages are spoken by developing populations. standardizing the collation sequence of a language. It also suggests possible solutions in language of Pakistan, state language of India and spoken by more than 100 million people across many more countri es. Sorting sequence of Urdu has been recently defined. For Urdu, the paper first discusses the issues and their resolution to develop Urdu lexicographic standard for Pakistan. The paper then proposes collation elements of Urdu compatible with Unicode collation algorithm (by Davis et al. 2006) to realize the collation sequence proposed. Background information on Unicode and its normalization industry and public sector to help develop such standards for other languages and to use the developed standard for Urdu. 2. STARTING WITH COLLATION first step is to determine the complete character set of the language, which includes letters, digits, punctuation marks, arithmetic marks, other marks, other letters, etc. Kaplan [2003] list casing, modifier marks, syllable structure, pronunciation and stroke-count as some of these factors which infl uence word order in various languages. encoded. If existing encoding (e.g., Unicode) is to be used, any missing characters must be added to the encoding. Once the character set and its encoding has been updated, the include normalization, ordering and reordering, contraction, syllabification and other related processes. Finally, after pre-requisite analysis has been conducted and details are finalized, collation elements for the language have to be defined to enable sorting. 2.1. Linguistic and Orthographic Factors language and its writing system. These factors are largely arbitrary and are independent of the encoding scheme. The way these factor s are used also varies significantly across languages and scripts. 2.2.1. Character Set and Collation Levels Character set of a language has a mix of letters, marks, punctuations, etc. Not all of these different ways. For example, for English, letters {A, B, ..., Z, a, b, ..., z} are all relevant for collation. Characters { (, ), [, ], $, + } are ignorable for collati on purposes. For Urdu language, letters {  X   X  X  X  X   X  X   X  X   X  X   X  X  } are all relevant characters for collation. The marks punctuation marks {  X  X   X  X   X  X  : } are not relevant for collation. The factors which determine the levels of collation in a language are discussed in the next sections. 2.2.2. Casing English the string  X  X pple X  and  X  X pple X  mean th e same but are orthographically different.  X  X pple X  is placed before  X  X pple X  in lexicogr aphic order, but both will occur before  X  X anana X  and  X  X anana X . This means that whether in upper case or lower case, the letter collation order, but not at the same level as a character. No matter what the case, first the character order A, B, C, D, ..., Z for English is observed. Where characters are the same, the case is further used to sort the words. Ca sing is also used in Cyrillic and Greek script based languages. 2.2.3. Marks Most languages add marks to base characters to add further information. Collation is also languages and thus their implication on collation. Most of the times these marks are used to represent or modify pronunciation, and represent vocalic and consonantal features (e.g. segmental features like tone (e.g., in Lao script and Vietnamese use of Latin script). European languages use marks abundantly. Some of these languages include French, Swedish, Danish, Turkish, and Finnish [3, 31]. Marks are also abundantly used in Asian languages using Latin script, e.g., Vietnamese and Malay. However, each language may use these marks differently, for example Vi etnamese uses marks to represent tone (Wikipedia 2007). Some of these Latin marks include acute accent, grave accent, carry the primary importance for sorting, followed by the marks. Casing is less important than marks and thus carries a tertiary level significance. French language is unique as it sorts the words with char acters as they appear from left to right, but marks as they appear from right to left (Gillman 2003, 3]. However, not all languages using Latin script treat characters and sort them at primary or character level. slightly different from marks in Latin script. Marks in the former add vocalic content to rounding, etc.). Urdu language uses different categories of marks. Vowel marks are (e.g.  X  ). There are also additional marks used in Arabic script based languages, which have no influence on collation. many South Asian languages like Hindi, Nepali and Marathi) chandrabindu, anusvara and same letter:  X  &lt;  X  , Wissink [2001]. Bangla, Tamil, Sinhala, and other scripts used in South Asia show similar behavior. Khmer, Thai, and Burmese use marks to repr esent vowels, tones and/or other linguistic phenomenon, which play a role in their collation as well. linguistic and other phenomena. These marks influence collation in most cases. influence varies across scripts and languages, and marks. Each language must be investigated to determine the role of marks being used. 2.2.4. Syllables Though most textual analysis in many languages is based on characters as they are organized in words, some languages also use units larger than characters but smaller than words for internal structuring. In most cases these units align with phonological syllables, though in other cases, the mapping may be motivated by orthographic  X  X yllables X . syllable-wise comparisons. There are no explicit word or syllable markings and word and syllable boundaries need to be computationally identified. Dzongkha, on the other hand uses syllable level analysis but marks the syllable boundaries explicitly using Tsheg mark ( ). 2.2.5. Other Linguistic and Orthographic Factors Various scripts and languages also employ additional factors used for text processing, words (called Bopomofo or Zhuyin fuhao) or the number strokes used to write the words normally uses two or three consonants for the underlying morpheme which is realized as different surface words through vocalic in fixation. For example, sequence of  X   X   X  (K T B) represents the morpheme  X  X ook X  and various words on this concept are realized by infixing different vowel sequences, e.g.,  X  X  X  X  X  (KiTaB,  X  X ook X ) and  X  X  X  (KuTB,  X  X ooks X ). some cases, the Arabic words may be sort ed based on the underlying consonantal template rather than the actual surface word. also be arbitrary for some words based on traditional use of the language. For example, some languages use traditional dictionaries developed hundreds of years ago as the Cambodia. Though such dictionaries do show patterns in arrangement of words, it may not be true for all words in these dictionaries and some arbitrary ordering may be necessary to meet lexi cographic expectations. and other related behavior for a language. This is language specific and is not consistent across script. There may also be multiple ways of collating strings within the same language. 2.2. Text Processing Normally the raw input string of a language undergoes initial processing before it can be sorted. Though it is fundamentally based on li nguistic and orthographic characteristics, it encoding related phenomena for text processing. All these processes are not applicable to all languages. As Unicode is the emerging standard for multilingual encoding, all then assigned the collation elements and actual sorting is performed. 2.2.6. Normalization Due to various reasons, e.g. compatibility with legacy encoding systems or re-use of productive combining marks, there may be multiple ways of representing the same (U+0065) followed by Diaeresis  X  (U+0308). The letter  X  (U+01D6) may also be represented by  X  (U+00FC) followed by Macron  X  (U+0304) and also by u (U+0075) encoding is also redundant for other scripts. For example, in Devanagari script the letter  X  (U+0931) is same as the sequence (U+0930) in combination with the mark  X  the fact that combined characters, base characters and combining marks are all separately encoded within the standard. then the spell checker may give an error where there is none. Similarly, a search engine encoded. Thus, the text has to be brought in a consistent format. This conversion of text into consistent representation is called normalization (Davis et al. 2003). Normalization may be done either to totally compose th e characters, where de-composed forms are possible, or alternatively totally decompos e the characters, where composed forms are possible. Either can work effectively, as long as consistency is maintained. further processed for collation, as discussed later. 2.2.7. Ordering and Reordering With Unicode encoding, the Vietnamese letter  X  (U+1ED9) may be represented in five presents a problem for processing text encoded with Unicode, as different users may write the same string in many different ways. To address this concern, Unicode assigns a combining class, a number from 0 till 255, to each character which can be used to determine their ordering. Low numbers are assigned to those characters or combining marks which come first. Non-combining characters are assigned 0. Among the combining characters, the marks which co me below are arbitrarily assigned lower numbers compared to marks which come above base characters. Order of characters or marks within the same combining class is not changed. So, for the above example, under-dot has a combining class number 220 and the circumflex above has the combining class number 230. Thus the canonical decomposed form defined by Unicode would be (ii) above (Gillman 2003). Any processing of decomposed forms of a combination of e.g. Lao stacks vowels and tone marks above and some combining characters below the base glyph, e.g.  X  X  X  X  and  X  X  X  X  , and would follow same recommendations for canonical order. combination. Consonant always logically precedes the vowel, though some vowels appear before the consonants (even though they are typed after the consonant). These are logically the language is processed in a similar fashion but encoding is visually based, i.e. left-combining vowels are typed before the consonant rather than after it c as VC. Thus, copy of the input string for further processing and does not alter the actual input (latter is required for proper rendering on the screen). 2.2.8. Contraction Often two or more characters group together to form a single linguistic unit, which has its contraction. For example Spanish has a unique character  X  X H X  (U+0043 + U+0048) different from  X  X  X  and  X  X  X . It sorts between C and D in Spanish ,Wissink et al. [2003]. So C and H occurring together in an input sequence are required to be collapsed onto a (U+0628). This combined letter is not separately encoded in Unicode. 2.2.9. Context Sensitivity Though many languages, especially cursive languages, change the shape of the letter depending on its context as discussed earlier, some languages also change the  X  X ehavior X  processed. For example, in Spanish, if  X  X  X  is followed by an  X  X  X  they combine to form a single letter  X  X H X , but otherwise behave as individual letters. For Urdu, in Naskh writing style of Arabic script, letter  X  may represent independent character Hay or be part of the Lao the letter  X  could be the nuclear consonant in a syllable but may also be a dependant/alternate consonant if followed by another nuclear consonant, e.g., in the sequence  X  X  . 3. URDU COLLATION Work on Urdu collation is based on earlie r work to determine and standardize the complete character set of Urdu and its enc oding [Afzal et al. [1999], National Language Authority [2000], Zia [1999], Af zal et al. [2001], Hussain et al. [2001], Hussain [2002]. dictionaries available for Urdu (Hussain 2003). Results show that multiple conventions sequence. The issues discovered are summarized below. 3.1. Issues with Urdu Collation Issue # 1: Ambiguity between the sequential position of  X  and  X  Data gathered from eight different dictionaries of Urdu language depicts the following Educational Publishing House, Platts [1911], Dehlvi 2002, Nayyer [1989] shows that  X  follows the basic  X  in a sorted sequence. The sorting sequence would be:  X  X   X  X   X   X  that linguistically  X  does not exist as a separate char acter. Another sorting sequence for  X  and  X  can be seen from the data gathered from Feroz Sons. This dictionary recognizes  X  as an independent character of the lang uage, and places it sequentially before  X  . The sorting order thus formed is:  X   X  X   X   X  X  (from right to left). This sequence is a more widely Haqqi [1995], Muqtadra Qaumi Zuban . Here as in Feroz Sons, linguists recognize  X  as a separate character, contrary to Educational Publishing House, Platts [1911], Dehlvi 2002, Nayyer [1989], but place  X  sequentially after  X  contrary to Feroz Sons. The sorting order thus formed is as follows:  X  X   X   X  X   X  (from right to left). Issue # 2: The ambiguity of digraphs formed with  X  The ambiguity in determining the sequential position of  X  when it is combined with some (Hussain 2004). The question is whether this diagraph is a separate character or a sequence of  X  and  X  , where  X  comes before/after  X  . This discrepancy in the sorting order dictionaries including Haqqi [1995], Muqtadra Qaumi Zuban, Urdu Lughat Board treat it composite characters, see Hussain 2004), gi ving the following sorting sequence:  X  X  X  X  X   X  X  X  X  X  X   X  X  X  X   X  X  X  X  X   X  X  X  (from right to left). Another Urdu dictionary, Educational Publishing House treats the diagraph  X  X  as a sequential occurr ence of the characters  X  and character in the first pass, but gives precedence to  X  over  X  in the second pass of sorting. 2002, Nayyer [1989] as it was observed in, Educational Publishing House, where the diagraph is treated as a sequence of  X  and  X  . However, these dictionaries give precedence to  X  over  X  in the second pass of sorting. The sorting sequence so formed is:  X  X   X  X  X  X  X   X  X  X  X  X   X  X  X   X  X  X  X  X  X   X  X  (from right to left). Issue # 3: Ambiguity in the sequential position of  X  and  X  There are two major issues regarding the mo rphological and phonetic characteristics of adds nasalization feature to the preceding vowe l letter with which it occurs but does not add a phoneme (Hussain 2004). However,  X  is a nasal stop, a distinct phoneme. For this reason few dictionaries consider  X  as a  X  X ariation X  of the Urdu character  X  . The second dictionaries Feroz Sons, Haqqi 1995, Educational Publishing House, Nayyer [1989], Zuban, Urdu Lughat Board, sort the other way around, for example,  X  X  X   X  X  X  . Issue # 4: Ambiguities pertaining to the sequential position of  X  in the Urdu language sort order represented by  X  when it is part of the root morpheme. However, if the sound occurs as However, these orthographic and related phonetic conventions do not exist in Urdu language. In some dictionaries of Urdu, e.g. Ilmi Urdu Lughat, following sequence of the However, in other dictionaries, e.g. Naseem-ul Lughat, the word  X  X  X  X  X  follows  X  X  X  X  X  X  X  X  X  X  X  X  Issue # 5: Ambiguities related with status of  X  another character. For example, in words like  X  X  X  X  Hamza takes an explicit glyph joiner following words:  X  X  X  X  ,  X  X  X  X  (compare with  X  X  X  X  X  ,  X  X  X  X  X  where Hamza takes an explicit unclear how to sort Hamza e . Issue # 6: Ambiguity between the sequential position of  X  and  X  Though it is fairly conventional and agreed upon by all dictionaries that  X  comes before  X  , nevertheless few dictionaries do not agree whether this difference in collation is in the three words is given in two different ways by two sets of Urdu dictionaries. According to Feroz Sons, Haqqi [1995], Muqtadra Qaumi Zuban, Urdu Lughat Board, Nayyer [1989] the sorting sequence is (from right to left):  X  X   X  X   X  X   X  X  . The same words are sorted as  X  X   X  X   X  X   X  X  according to Educational Publishing Hous e, Platts [1911], Dehlvi 2002. In addition, there exists another ambiguity regarding the sorting sequence of Yay when it is written within a word, e.g. in the word  X  X  X  X  X  X  it is unclear whether to sort the middle Yay as a  X  or a  X  . Issue # 7: Sequence for aerab: Zer, Za bar, Pesh, khari Zabar, Tashdeed etc.
 The words with diacritic marks or aerab ar e processed at the secondary level of the sorting process. However it has to be determined how they are mutually sorted and that whether words without them are to be placed sequentially before or after them, e.g. sorting order of words like  X  X  X  X  X  X  X  X  X  X  X  X  X  X  has to be determined. 3.2. Recommendations for the Resolution of Issues with Urdu Collation Work had been in progress to finalize a single collation sequence, which could be standardized for Government of Pakistan. The above mentioned problems were first highlighted in Hussain 2002. Later in 2003 these issues were reviewed in a meeting held at Center for Research in Urdu Language Processing at National University of Computer National Language Authority on 26th January, 2004. The following are the recommended resolutions of the issues discussed. recommendations in a consistent manner. These rules were: Following these two basic principles the ambi guities pertaining to the conflicting sorting orders were resolved as explained below. Resolution of Issue # 1 Justification behind declaring  X  as a separate character is because it is very productive in after  X  in the sorting order using the two rules of thumb discussed above. Resolution of Issue # 2 phonemes and are very produc tive in their usage, following earlier work (Urdu Lughat character, e.g. in the  X  X  will follow  X  . Resolution of Issue # 3  X  is agreed to be separate from  X  as it is performs a different function, and using the two rules, placed after  X  for sorting. Resolution Issue # 4 equivalent to  X  , following the two rules, it is placed after  X  . Resolution Issue # 5 Hamza  X  takes dual form, as a combining mark and a character. With a vowel letter  X  X   X  X  maintained, where it appears before  X  . When it occurs as an aerab, it follows the sorting sequence discussed in Resolution of Issue # 7 below. Resolution of Issue # 6 Additionally, it is clarified that diction rules of Urdu state that where two forms for Urdu the only correct way and  X  X  X  X  X  is incorrect. Resolution of Issue # 7 The sorting order for the aerab (diacritics) was recommended to be one shown in Figure 1 below. Alif is taken as a representative char acter to show the aerab, however it should be noted that there are some constraints on placi ng the aerab. Zer, Zabar, Pesh and Hamza can be placed over all characters except  X  . Khari Zabar occurs on  X  and  X  , khari Zer is not normally used in Urdu (though included for words borrowed from Arabic) and Ulta Pesh is normally restricted to Gol hay (word fi nally). In Urdu, Do-Zabar is restricted to Alif (and Do-Zer and Do-Pesh are only in cluded for words borrowed from Arabic). Finally, Tashdeed can occur on all characters (except Alif). 3.3. Urdu Collation Elements To realize the given sorting sequence, collation elements for Urdu characters need to be defined. These collation elements are used by the Unicode Collation Algorithm (UCA Davis et al. 2006; also see ISO/IEC 14651 (ISO Geneva [2001])). UCA uses the lexicographic sorting for Urdu (also see Gillman 2003, [IBM]] for description of UCA 0861.0020.0002.0061 for Latin Small Letter a. The first (left-most) weight is called the the Level 4 weight (quaternary weight). These levels are used to distinguish between weight is assigned (Davis et al. 2006). Unicode also describes default values for collation elements for all Unicode letters in Allkeys.txt, Unicode Consortium 2003. However, this collation properly for any particular language, these collations codes must be re-ordered order. Urdu characters are sorted. Once the character s determine word sequence, aerab are used to determine the sequence of words having the same characters. Finally the third level is used to sort special symbols e.g. honorific mark ARABIC SIGN SALLALLAHOU ALAYHE WASSALLAM (see Figure 3 below). Allkeys.txt sequence proposed by Unicode Consortium is used Unicode Consortium 2003 and where required, weights are updated to give the collation sequence required for Urdu. needed to be done before th e collation elements are assigned , in cases where one-to-one mapping is not available between Urdu charact er and Unicode encoding, e.g. contraction would be assigned a single collation element. In addition, sometimes there might be instances when there are multiple ways of encoding the same character(s), e.g. the character  X  (U+06D3) may also be written by first writing a  X  (U+06D2) and then algorithm can be summarized in the following steps: simplified version of four-level sorting. Figure 4 shows input and sorted results based on the collation elements. However, further work needs to be done to explore if there is need to do further semantic-level Urdu processing for sorting text strings, e.g. in English, sorting of Acronyms "UN", numerals like "5 1/2 weeks" etc. ( Gillman 2003 ). 4. CONCLUSION This paper explains some of the linguistic, orthographic and encoding related factors applicable for defining collation of a language, and briefly explains the process required for this purpose. The paper also summarizes how collation was defined for Urdu, the national language of Pakistan. There are multiple conventions which exist for Urdu sorting. However, it would be impossible to incorporate all in the final standard because they are mutually conflicting. Therefore, relevant people and organizations have tried to standardize on best possible and consistent reasoning. Nevertheless, natural languages do has to be induced, as has been done here as well. The most important goal and challenge is to preserve the linguistic intuition as much as possible (and not allow the technology to compromise it), though it may not be entirely possible to achieve it totally. Language Authority [2000], Zia [1999], Afzal et al. [2001], Hussain et al. [2001], Hussain [2002], more work lies ahead for Urdu to create and mature standards (e.g. Keyboard, locale, etc.) and to develop meaningful applications and content around these standards which can eventually benefit Urdu speaking populations. Same efforts need to be done for most other languages of Asia. REFERENCES 
