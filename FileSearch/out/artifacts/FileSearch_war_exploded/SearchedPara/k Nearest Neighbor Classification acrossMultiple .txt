 Categories and Subject Descriptors: H.2.8 [Database Management]: Database Applications General Terms: Algorithms, Experimentation, Security Keywords: Privacy, k Nearest Neighbor, Classification, Distributed Databases
The information age has enabled many organizations to collect large amounts of data. Privacy-preserving data min-ing [5] becomes an important enabling technology for mining data from multiple private databases provided by different and possibly competing organizations. For example, many insurance companies collect data on disease incidents, seri-ousness of the disease and patient background. One way for the Center for Disease Control to identify disease outbreaks is to train a classifier across the data held by the various in-surance companies for patterns that are indicative of disease outbreaks and use it to classify a query pattern as an out-break or the opposite. However, commercial and legal rea-sons prevent the insurance companies from revealing their data. It is important and beneficial to have a distributed data mining algorithm that is capable of identifying poten-tial outbreaks while respecting the privacy requirements of its participants.
 Design Goals. There are three dimensions that we should consider when designing a privacy preserving classification algorithm, namely, accuracy, efficiency, and privacy .Ide-ally, we would like the algorithm to have a comparable ac-curacy to its non-privacy preserving counterpart, and an ab-solute privacy wherein no information other than the trained classifier and the classification of the query instance should be revealed to any node. At one end of the spectrum, we  X  The research was partially supported by NSF ITR, NSF CyberTrust and NSF CSR grants. A full version of this paper is available as [2].
 have the non-privacy preserving classifier algorithms, which are highly efficient but are not secure. At the other end, we have the secure multi-party computation protocols [4], using which we can construct classifiers which are provably secure in the sense that they reveal the least amount of information and have the highest accuracy; but are very inefficient. Our design goal is to look for algorithms that can provide a de-sired level of tradeoff between the accuracy of the classifier constructed and the stringency of the privacy requirements while maintaining efficiency.
 Contributions. With these design objectives in mind, we present a privacy-preserving framework for constructing a k NN classifier across multiple private databases. This frame-work consists of a general model for privacy preserving k NN classification and a set of concrete algorithms for realizing this model. We discuss how well our algorithm achieves the specified requirements as demonstrated by our analyti-cal study and experimental evaluation. To the best of our knowledge, this is the first paper to show how k NN classi-fication can be achieved in a privacy preserving manner for horizontally partitioned data without a centralized trusted third party. Our approach has an important trait  X  it offers a trade-off between accuracy, efficiency and privacy, allowing our privacy-preserving k NN classifier to be applied in a va-riety of problem settings and meeting different optimization criteria.
Consider n private databases distributed at n different nodes where all databases have the same schema, i.e. data is horizontally partitioned. We consider the problem where the nodes want to train a k NN classifier on the union of their databases while revealing as little information as possible to the other nodes during the construction of the classifier ( training phase) and the classification of a new query ( test phase).
 Privacy Preserving k NN Classification Model. To solve the above problem, we need to adapt the basic dis-tance weighted k NN classification algorithm to work in a distributed setting in a privacy preserving manner. The central thesis of our proposed model is to divide the prob-lem into two sub-problems, and to ensure that each step is accomplished in a privacy preserving manner. 1. Privacy preserving nearest neighbor selection: 2. Privacy Preserving Classification: With the knowl-Algorithm. It is important to note that if executed naively, the above steps can violate the privacy requirements of the individual databases. Given a query point x , we should ensure that the instances in a database are not revealed to other databases in the nearest neighbor selection, and that the local classification of each database is not revealed to other databases during global classification. We next present the concrete algorithms for each of these two steps.
In order to determine the points in their database that are among the k nearest neighbors of x , each node calcu-lates k smallest distances between x and the points in their database (locally) and then we can use a privacy preserv-ing algorithm to determine k smallest distances between x and the points in the union of the databases or k th nearest distance (globally). We can assume that the distance is a one-way function so that nodes do not know the exact posi-tion of each other node by distance. There has been privacy preserving algorithms recently proposed [1] for finding k th element that we can use for implementing this step. Al-though information-theoretically secure, it is still computa-tionally expensive. In this paper, we adapt the multi-round top k algorithm proposed in [6] to determine k smallest dis-tances before determining k th smallest distance and achieve a tradeoff between accuracy, efficiency and privacy.
After each node determines the points in its database which are within the k th nearest distance from x ,eachnode computes a local classification vector of the query instance where the i th element is the amount of vote the i th class received from the points in this node X  X  database which are among the k nearest neighbors of x . The nodes then par-ticipate in a privacy preserving term-wise addition of these local classification vectors to determine the global classifica-tion vector. For the term-wise addition, we use the multi-round privacy-preserving addition protocol suggested in [3]. Once each node knows the global classification vector, it can find the class with the global majority of the vote by determining the index of the maximum value in the global classification vector. We present a sketch of the complete algorithm below. 1. Given an instance x to be classified, each node com-2. Using ldv as inputs, the nodes use the adapted pri-3. Each node selects the k th nearest distance  X :  X  = 4. Assuming there are v classes, each node calculates a 5. The nodes use the privacy preserving addition protocol 6. Each node assigns the classification of x as
We conducted an analytical study as well as experimental evaluations on real datasets for the proposed algorithms in terms of its correctness, efficiency, and privacy characteris-tics. We present the key findings below.

The accuracy of our algorithm is very close to the accuracy obtained by a distributed k NN classifier. In particular, we are able to make the privacy preserving classifier as accurate as an ordinary classifier by running the algorithm for a larger number of rounds. A smaller randomization parameter also helps maximizing the relative accuracy of the algorithm.
With a communication complexity of  X ( n ), where n is the number of nodes involved in the classification, the algorithm can accommodate a large number of nodes as well as large databases at every node.

The algorithm achieves a strong data privacy by having a very low probability of revealing the values (local distances) to other nodes. The algorithm parameter k plays an im-portant role in affecting the accuracy and privacy of the algorithm. Using a larger k increases the privacy preserving nature of the protocol, however, with a price in the accuracy and efficiency of the k NN classifier constructed when each database has a large number of points. We note that it is possible to pick a k to achieve both good accuracy and good privacy.
We presented a general model for k NN classification across multiple private databases and multi-round algorithms for realizing the model. Our analysis and experiments showed the feasibility of the approach and its ability to achieve a balance between three importa nt performance metrics: rel-ative accuracy, efficiency, and privacy.
