 Most time series comparison algorithms attempt to discover what the members of a set of time series have in common. We investigate a different problem, determining what distinguishes time series in that set from other time series obtained from the same source. In both cases the goal is to identify shared patterns, though in the latter case those patterns must be distinctive as well. An efficient incremental algorithm for identifying distinctive subsequences in multivariate, real-valued time series is described and evaluated with data from two very different sources: the response of a set of bandpass filters to human speech and the sensors of a mobile robot. Given two or more sequences of discrete tokens, a dynamic programming algorithm exists for finding the longest common subsequence they share (Cormen, Leiserson, &amp; Rivest 1990). This basic algorithm has been adapted in various ways to find patterns shared by real-valued time series as well (Kruskall &amp; Sankoff 1983). Unfortunately, the time and space complexity of these algorithms is exponential in the number of sequences. This paper demonstrates that an answer to a slightly different question concerning sequences can be obtained in time and space that are approximately linear in the total length of the sequences. Although the discussion focuses on multivariate, real-valued time series, the approach generalizes trivially to categorical sequences.  X  what it means for a pattern to occur in a sequence, will be provided in subsequent sections. 
There are many domains of application in which identifying distinctive subsequences is potentially more interesting than discovering common subsequences. Examples include financial time series gathered prior to significant declines or advances in the stock market, time series produced by the monitors in an intensive care unit for patients who die, and traces of the behavior of unauthorized users of computer systems. The remainder of the paper is organized as follows. Section 2 describes the algorithm for finding distinctive subsequences in multivariate, real-valued time series. Section 3 describes experiments involving the discovery of distinctive subsequences in data from two very different sources: the sensors of a Pioneer1 mobile robot and the response of a set of bandpass filters to human speech. Finally, section 4 concludes and points to future work. The first step toward the discovery of variable-length distinctive subsequences is the identification of a set of fixed-length subsequences that capture patterns occur-ring in the data generated by R. This is accomplished by randomly sampling sequences of length L, called L-sequences, from the source. Given n L-sequences and a measure of similarity between multivariate, real-valued time series, we construct an n-by-n similarity matrix and cluster the L-sequences. Then for each of the k resulting clusters, where L is a user-specified parame-ter, we select a prototype by finding the sequence that minimizes the average distance to all other sequences in the cluster. This is essentially the high level approach outlined in (Das et al. 1998), though we explore a mea-sure of similarity that is more appropriate for complex, multivariate time series, and the clusters are put to a very different use. 
In general, finding a measure of similarity for time series suitable for clustering is not easy because time series that are qualitatively the same may be quantita-tively different in at least two ways. First, they may be of different lengths (although this is not the case with L-sequences), making it difficult or impossible to em-bed the time series in a metric space and use, for exam-ple, Euclidean distance to determine similarity. Second, within a single time series, the rate at which progress is made can vary non-linearly. The same pattern may evolve slowly at first and then speed up, or it may be-gin quickly and then slow down. Such differences in rate make similarity measures such as cross-correlation unusable. The measure of similarity that we use is Dynamic Time Warping (DTW) (Sankoff &amp; Kruskall 1983). DTW is a generalization of classical algorithms for sequences in the subsequence, thereby ensuring that occurrences of frequent (or infrequent) L-sequences in the subsequence are temporally proximal. Without this restriction, a subsequence that started and ended with frequent L-sequences and that contained millions of intervening neutral L-sequences would be deemed a frequent subsequence. This section presents the results of applying the method just described for discovering distinctive subsequences to two very different sources of data: the sensors of a Pioneer1 mobile robot and the response of a set of bandpass filters to human speech. The first application of the method for identifying dis-tinctive subsequences involves identifying the referents of words in the sensors of a Pioneer1 mobile robot. The Pioneer has a pair of drive wheels that allow transla-tional and rotational motion, and a gripper that can be used to pick up small objects. Its sensors include an ar-ray of seven sonars, a bumper on the end of the gripper that indicates when the gripper is touching something, and an infrared break beam between the gripper pad-dles that indicates when an object is inside the gripper. The values of these and a variety of other sensors are recorded ten times each second. 
We made a videotape of 41 different scenes in which the Pioneer engaged in simple activities in a lab environment that included trash cans, partitions, a toy car, cups, a large box and mats of different colors on the floor. For example, in one scene the robot picked up a cup that was sitting on a blue mat and carried it to a red mat. The video was then shown to several human subjects who were instructed to generate one sentence for each scene that described what the robot was doing. No restrictions were placed on the vocabulary or the grammar the subjects could use. 
For each of the 41 scenes, a time series was created by recording the values of the break beam, the gripper bumper and the state of the gripper. The gripper can be in one of three states: down and open, up and closed, or moving between these two positions. The break beam can either be on (object present) or off (no object present), and the bumper can either be on (touching an object) or off (not touching an object). Seven prototypical patterns in these time series were obtained by clustering 200 samples that each covered one second of real time. The resulting prototypes are shown in Table 1. They cover a variety of physically realizable situations. For example, Ps corresponds to a situation in which the gripper is down and touching an object, but nothing is between the gripper paddles. kinds of pushes. In addition, the method successfully located the portions of the time series involving picking up objects and raising the gripper while empty. 
This subsection presents the results of an experiment in which presence of specific visual features, such as salient objects or people, serves as the event, E, that triggers collection of time series. The source of time series, R, is the raw audio waveform. The pattern of interest, P, is the subsequence that corresponds to the word that denotes E. Under the assumption that words are uttered more frequently in the presence of their referents than in their absence, it will be the case that 
P(Pl~ A f) &gt; PPIR A a and P will be a distinctive subsequence. 
Consider the following simple scenario. Suppose a video contains scenes in which objects of various sizes, shapes and colors stand in certain spatial relationships, and that each scene is accompanied by a descriptive utterance. Visual features of the scenes can be used to partition the utterances into two sets, one containing utterances that co-occurred with a particular feature and one containing utterances that did not. For example, every time a blue object appears in the scene, the accompanying utterance is placed in one set, and all other utterances are placed in a different set. The procedure outlined in section 2 can then be used to identify occurrences in the speech waveform of the word that denotes blue. 
The experiment in previous subsection assumed that individual words in the speech stream were presented as tokens, and that these tokens were used to drive the search for patterns in the robot X  X  sensors. The experiment in this section assumes that the presence of particular visual features are presented as tokens and that they are used to drive the search for patterns in the speech stream. 
The above scenario was simulated by randomly generating 100 sentences according to a grammar that creates sentences describing objects of various colors, shapes and sizes standing in various spatial relationships to one another. Each sentence was read aloud and digitized by sampling at a rate of 8000Hz. 
The resulting signal was passed through a bank of eight digital bandpass filters that covered frequencies from 150Hz to 3900Hz (Picone 1993). Every 1Oms the average response of each filter over the preceding 32ms was recorded. This preprocessing phase, which is standard practice in the speech recognition community, was used to convert each digitized sentence into a multivariate time series containing eight component series. 
Fifteen prototypical L-sequences were obtained by The results for touching and medium are quite good. Virtually all of the hits for triangle are undersized. The reason is that triangle and rectangle share the suffix angle, and 80% of the sentences contain one of the two words. Therefore, only tri was determined to be distinctive. Even though six occurrences of red were missed, the 14 hits were exact and should be sufficient to construct a model (e.g. a hidden Markov model) of the waveform associated with that word. Interest in time series problems appears to be increasing in several different scientific communities, include ma-chine learning and knowledge discovery in databases. Although we know of no other work directed at identi-fying distinctive subsequences in time series, many re-cent results address parts of the problem. For exam-ple, (Agrawal et al. 1995) and (Keogh &amp; Pazzani 1998) both describe methods for measuring similarity between continuous time series for purposes of clustering and identifying common subsequences. However, these ap-proaches are limited to univariate time series and are therefore not applicable to problems such as the ones described in section 3 in which one time series alone is insufficient for making the appropriate discriminations. The primary goal of future work is to explore the scal-ability of this approach to large multimedia databases. This research is supported by DARPA and AFOSRF under contract numbers DARPA/AFOSRF49620-97-1-0485 and DARPAN66001-96-C-8504. The U.S. Govern-ment is authorized to reproduce and distribute reprints for governmental purposes notwithstanding any copy-right notation hereon. The views and conclusions con-tained herein are those of the authors and should not be interpreted as necessarily representing the official policies or endorsements either expressed or implied, of DARPA, AFOSRF or the U.S. Government. 
