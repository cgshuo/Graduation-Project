 We analyse query length, and fit power-law and Poisson distribu-tions to four different query sets. We provide a practical model for query length, based on the truncation of a Poisson distribution for short queries and a power-law distribution for longer queries, that better fits real query length distributions than earlier proposals.
From analysing query-logs, previous research has suggested that the distribution of query lengths can be approximated with the (gen-eralized) Zipf X  X  law or a power-law [5, 7]. The law appears to fit well to the largest length observations k  X  k 0 (where k 0 on the domain) but not to the whole sample. For example, data show that the length frequency for web queries peaks at 2 rather than at single keyword queries, suggesting a k 0 &gt; 2 . In the dis-crete case, the fraction of queries with length k is given by with C a normalizing constant, s the scaling parameter, and k lower bound from which onwards the power-law holds [2].

Others, without empirical justification, modeled query lengths with a Poisson distribution by setting its mean to the average query length [1]. Using a Poisson distribution, in a population of queries with average length  X  , the fraction of queries with length k is
In this paper, we provide a model for query length. Beyond the theoretical interest, such a model has also practical applications in optimizing query cache size in search engines, in generating simu-lated queries for efficiency testing, and for effectiveness evaluation [e.g., 1]. Using several query data-sets, we confirm that the right tail of the length distribution is better approximated with a power-law rather than a Poisson, and introduce a truncated model. In the process, we estimate the slope s for English queries. Finally, we speculatively explain why some data deviate from a power-law and what this may mean for IR.
Four different query data-sets were analyzed: TREC [6] X  X  Mil-lion Query Track 2007, Terabyte Tracks 2005 and 2006, and AOL Table 1: Query length statistics per data-set and the resulting power-law fit values. queries N min max mean median peak k 0 s MQ07 10k 1 30 4.11 4 3 6 5.10 TB05 50k 1 18 2.79 2 2 5 4.89 TB06 100k 1 39 4.11 4 3 9 5.84
AOL 21M 1 245 2.34 2 1 6 4.92 [3]; Tab. 1 shows (in the first seven columns): the query set; the number of queries; the minimum; maximum; mean; and median query length; and the most frequent query length. What is strik-ing is that, although typical queries are short with 2-4 terms, longer queries up to 245 for AOL do occur.

We applied the methods of Clauset et al. [2] to automatically de-termine the scaling parameter, s , using maximum likelihood meth-ods, and the lower bound, k 0 , by minimizing the Kolmogorov-Smirnov statistic. These values are in the final two columns of Tab. 1 and the resulting distribution is depicted in Fig. 1. method gives reasonable power-law fits by excluding short lengths ( &lt;k 0 ). The scaling parameter is around 5 for query lengths. This gives a much steeper slope on log-log plots than the familiar Zipfian distribution of word frequencies. Fig. 1 also shows (with impulses) the Poisson distribution used by [1]; it matches well with the data at short lengths, but clearly lacks the tail.

The power-law model matches better the data in wider ranges of lengths than the Poisson model. While the fits on MQ07 and TB06 are good, there are some deviations in the right tails of the TB05 and AOL data. The TB05 data may be better fitted with a similar distribution, namely a power-law with an exponential cut-off [2]: p ( k ) = Ck  X  s e  X   X k . Note that Eq. 1 can be obtained from the latter for  X  = 0 . This distribution is a common alternative because it captures finite-size effects, e.g., earthquake magnitude data have the same lack of tail due to the finite amount of energy in Earth X  X  crust. We can speculate that the data-set was probably cre-ated in a way that there was a maximum query length imposed. The imposed maximum can be indirect, e.g., a result of the maximum amount of effort and time users are willing to put into formulating queries. The  X  X ump X  in the AOL data seems of a technical nature possibly due to a shift from typed queries to cut-and-paste queries; not knowing whether and how these data are processed, we will not speculate any further. All the fits on the four data-sets are problematic at short lengths. We argue that the deviation of the data from the power-law is an artifact of the specificity of the indexing tokens provided by the query/indexing language. One can imagine a system indexing on binary-terms (adjacent pairs of keywords) or n -grams, where sin-gle index tokens are adequately specific to be used more frequently than used in multiples. 2 For example, re-indexing on word se-quences of length ( k 0  X  1) would map queries of k 0 words to a length of 2 tokens, k 0 + 1 to 3 tokens, etc., and queries with &lt;k words will receive 1 token length. The net effect will be to merge the initial data-points to a single one, raised to better fit the power-laws in Fig. 1. This is not an unrealistic scheme since it is similar to indexing on all potential phrases and their individual words.
Since the bulk of queries concentrates at short lengths where a power-law does not fit given the current indexing languages, it makes practical sense to use a mix of truncated Poisson/power-law to model query lengths. In such a practical model, lengths are Poisson-distributed for 1 &lt;k&lt;k 0 and power-law-distributed for k  X  k 0 . The choice of k 0 depends on the specific domain, i.e., a combination of features of the document collection, query/indexing language, and pattern of use of the system.
All our power-law fits on the distribution of lengths of English queries resulted in exponents of around 5, giving a much steeper slope in log-log plots than the power-law known to hold for word frequencies. This result probabilistically forecasts the lengths of the natural language fragments humans use to formulate informa-tion needs. The relative steepness of the power-law indicates that users do not need many words to formulate information needs or that the diminishing value of adding words appears soon.
Deviations of real data from the power-law may be explained by either finite-size effects or insufficient specificity of indexing terms. Studies in other fields, e.g., economics, have shown that deviations of data from the power-law at hand are usually an indication of inef-ficiencies in the system that the data come from. Pennock et al. [4] studied power-law distributions of numbers of web links and found that deviations of data from the power-law per category of websites correlate to how much competition is present in that category. The better the power-law fit, the more competitive the category. For query lengths, we have shown how a simple process of re-indexing on longer text fragments can  X  X ix X  some deviations, a fact that may point to inefficiencies in single-word indexing schemes. Acknowledgments This research was supported by the Netherlands
