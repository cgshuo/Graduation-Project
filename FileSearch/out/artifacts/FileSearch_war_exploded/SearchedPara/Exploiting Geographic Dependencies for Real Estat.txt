 It is traditionally a challenge for home buyers to understand, compare and contrast the investment values of real estates. While a number of estate appraisal methods have been devel-oped to value real property, the performances of these meth-ods have been limited by the traditional data sources for es-tate appraisal. However, with the development of new ways of collecting estate-related mobile data, there is a potential to leverage geographic dependencies of estates for enhancing estate appraisal. Indeed, the geographic dependencies of the value of an estate can be from the characteristics of its own neighborhood (individual), the values of its nearby estates (peer), and the prosperity of the affiliated latent business area (zone). To this end, in this paper, we propose a geo-graphic method, named ClusRanking, for estate appraisal by leveraging the mutual enforcement of ranking and clustering power. ClusRanking is able to exploit geographic individ-ual, peer, and zone dependencies in a probabilistic ranking model. Specifically, we first extract the geographic utility of estates from geography data, estimate the neighborhood popularity of estates by mining taxicab trajectory data, and model the influence of latent business areas via ClusRank-ing. Also, we use a linear model to fuse these three influen-tial factors and predict estate investment values. Moreover, we simultaneously consider individual, peer and zone de-pendencies, and derive an estate-specific ranking likelihood as the objective function. Finally, we conduct a compre-hensive evaluation with real-world estate related data, and the experimental results demonstrate the effectiveness of our method.
 H.2.8 [ Database Management ]: Database Applications X  Data mining  X  Contact author.
 Algorithms, Design, Experimentation Real Estate Appraisal; Geographic Dependencies; ClusRank-ing
There are a number of online estate information systems, such as Yahoo! Homes, Zillow.com, and Realtor.com, which provide functions to help people to search estate-related in-formation. In these systems, home buyers can also rank estates based on some criteria, such as prices, the number of bedrooms, and the home size. However, the decision pro-cess of buying a house is different from that of buying a regular product. Home buyers not only aim to gain util-ity from a house, but also seek resale values and long-term capital growth. Therefore, home buyers often need the tool to rank estates based on their investment values. Indeed, the investment value is more related to the potential capi-tal growth in the future. The return rate 1 is often used to quantify the investment values of estates instead of using the price. In fact, a high price does not necessarily mean a high investment value, and vice versa.

Traditionally, estate appraisal methods can help for the estimation of the values of estates, but the performances of these methods have been limited by the traditional data sources for estate appraisal. For instance, traditional estate price modeling methods exploit the trend, periodicity and volatility of price time series. However, both rigid and spec-ulative demands have a big impact on the prices of estates. It is difficult to identify the true estate values only with the current prices. Also, the comparative estate analysis, e.g. automated valuation models (AVMs), typically aggregates and analyzes the physical characteristics and sales prices of comparable properties to provide property evaluations. However, AVMs could fail to appraise new or planned es-tates due to the lack of comparable property data.
Indeed, with the development of new ways of collecting estate-related mobile data, there is a potential to exploit geographic dependencies of estates for enhancing estate ap-praisal. In fact, a large amount of estate-related mobile data, such as urban geographic data and human mobility in-formation near estates, have been accumulated. If properly analyzed, these data could be a source of rich intelligence for finding estates with high investment values. http://en.wikipedia.org/wiki/Rate of return
Specifically, in this paper, we study three types of geo-graphic dependencies, which categorize estate values from three perspectives: (1) the geographic characteristics of its own neighborhood (individual), (2) the values of its nearby estates (estate-estate peer), and (3) the values of its affili-ated latent business area (estate-business zone). First, the investment value of an estate is largely determined by the geographic characteristics of its own neighborhood. This is called individual dependency . For example, people are usually willing to pay higher prices for estates close to the best public schools. The individual dependency can be captured by correlating the estate investment values with urban geography (e.g. bus stops, subway stations, road net-work entries, and point of interests (POIs)) as well as human mobility patterns. Second, the estate investment value can be reflected by its nearby estates. This is called peer de-pendency . The peer dependency can be captured by the comparative estate analysis which is a popular method in estate appraisal and evaluates estates based on peer estate comparison. An intuitive understanding along this line is, if the surrounding estates are of high investment values, the targeted estate will usually have a high value as well.
Third, the estate value can also be influenced by the values of its affiliated latent business area. This is called zone de-pendency . A business area is a self-organized region with many estates. The formation of business areas are driven by the long-term commercial activities under two mutually-enhanced effects: (1) estates tend to co-locate in multiple centers, and thus bring human activities to those business ar-eas; (2) prosperous business areas in return lead to more es-tate constructions. Hence, a prosperous business area repre-sents a high density cluster of human activities, commercial activities, and estates. Here, we assume that each estate is affiliated with a latent business area and each business area is endowed with a value function of estate investment prefer-ences, which measures the prosperity of the estate industry in this business area. The more prosperous the business area is, the easier we can identify a high investment-value estate from this business area.

In summary, the individual dependency shows that the estate investment value can be reflected by urban geogra-phy information and human mobility data. This allows us to value real property when we lack of comparable estates. Also, the peer dependency allows to exploit spatial auto-correlation of investment values through the comparison be-tween the targeted estate and its peer estates. Moreover, the zone dependency allows to explore the influence of the asso-ciated latent business area of an estate. Based on the above, in this paper, we propose a geographic method, named Clus-Ranking, for estate appraisal by leveraging the mutual en-forcement of ranking and clustering power. ClusRanking is able to exploit geographic individual, peer and zone depen-dencies into a unified probabilistic ranking model.
Specifically, we first extract the geographic utility from urban geography data. Then, we estimate the neighbor-hood popularity through spatial propagation and aggrega-tion of passenger visit probabilities by mining taxicab tra-jectory data. Moreover, we model the influence of latent business areas via ClusRanking. In particular, since we as-sume there are multiple latent business areas in a city, we embed a dynamic spatial-clustering approach into the rank-ing process. Here, each business area is treated as a spatial hidden state. A business area not only shows the locations of its estates, but also reflects the influence on estate in-vestment values in terms of geographic proximity between estate and the centroids of the business area. Our method is iteratively updated by mutual enhancement between spatial-clustering and ranking until the boundaries of latent busi-ness areas are learned. After this, we fuse the three factors and learn estate investment values for estate ranking. In addition, we derive a mixture likelihood objective, which si-multaneously considers the geographic individual, peer and zone dependencies. Here, individual dependency describes the prediction accuracy of estate investment values and lo-cations. Peer dependency captures the ranking consistency of intra-business-area estate pairs. Zone dependency models the ranking consistency of inter-business-area estate pairs. Finally, we conduct a comprehensive performance evalua-tion on real world estate related data and the experimental results demonstrate the effectiveness of our method.
In this section, we introduce a geographic ClusRanking method for estate appraisal.
In estate industry, two concepts are often used for an es-tate: value-adding capability and value-protecting capabil-ity, which are quantified by the investment value of estates in rising and falling markets respectively. In this paper, we focus on estimating the investment value of estates and ranking all estates accordingly during these two markets. Ranking estates is very similar to the traditional information retrieval problem, where documents are ranked according to a defined relevance. Here, each estate is treated as a docu-ment and the value-adding capability or the value-protecting capability is considered as the relevance.

Formally, let E = { e 1 ,e 2 , ..., e I } be a set of I estates, each of which is represented by all associated geographic features denoted as e i as shown in Table 1, where more notation are listed. Our goal is to rank the estates in descending order according to the investment value in two markets. In fact, the essential task of this problem is how to estimate the investment value (denoted as y i ) of each estate i by model-ing all associated relevant information of estates in a unified way. In this paper, we consider a group of heterogenous information associated with estates, which include the pub-lic transportation information (e.g., bus stop, subway, road network), point of interest (e.g., restaurant and shopping mall), neighborhood popularity, and the influence among estate geographic zone.

Assume that each estate i is endowed with an investment value function y i . We first build a model to predict y i the geographic information. Specifically, the estate value is affected by three factors: y i  X   X  i +  X  i +  X  i ,inwhich (1)  X  i : the geographic utility extracted from urban geogra-phy data F geo ;(2)  X  i : the influence of latent business area F area ;(3)  X  i : the neighborhood popularity estimated from human mobility data F mobi . Then, we will be able to get a ranked list of estates based on their predicted investment values, and thus each estate i is associated with an inferred rank  X  i . With the ranked list of estates, we formulate a likelihood function, which simultaneously captures the ge-ographic individual ( Lik id ), peer ( Lik pd ) and zone ( Lik dependencies. This likelihood function unifies both the pre-diction accuracy based on geographic data of estates and the ranking consistency of the estate ranked list. By maximiz-ing this likelihood function, we could optimize the prediction accuracy of estate investment value and the ranking list of estates at the same time. Finally, we solve the optimization problem using a Expectation Maximization (EM) method. Figure 1 shows the framework of our method.
 Figure 1: The framework of ClusRanking. (The black plates represent the latent effects.)
Before introducing the overall objective function which captures the three dependencies altogether, let us first in-troduce how to model the investment value of estates with geographic information. Specifically, we will first introduce the modellings of  X  i ,  X  i and  X  i separately, and then state how they are combined together. Table 2: Neighbourhood Profiling (a neighborhood is defined as a cell area with a radius of 1km. )
Estate values are largely determined by its geographic lo-cation. Therefore, we naturally relate the geographic utility of estate to its location characteristics. More specifically, we first extract geographic features from estate neighborhoods (refer to Table 2) and treat the raw representations of estates as a vector E . The raw representations of estates E are then learned and transformed to the meta representations WE using a single-layer perceptron, where W  X  M  X  N is indeed a coefficient matrix. Finally, we parameterize geographic utility by a linear aggregation over transferred features in meta representation:  X  = qWE ,where q  X  1  X  M are the weights of the transferred features.

According to estate financial theory [16], the estate invest-ment value can be partially approximated by rent-interest ratio from market performances explicitly. We incorporate the rent-interest ratio into  X  = rent interest + qWE as side information to strengthen the robustness of our method.
Since we assume each estate is associated with a latent business area, the estate investment value also depends on the value of the associated business area. Suppose there are K latent business areas, we first choose the business area for each estate. We apply a multinominal distribution over latent business area r  X  p ( r |  X   X   X  ), where  X   X   X   X  1 the values (prosperity of estate industry or estate invest-ment preference) of K business areas respectively. Later, each estate location l i is drawn from a multivariate normal distribution: l i  X  X  (  X  r ,  X  r ), where  X  r  X  1  X  2and X  is the center and covariance of business area r , respectively. Finally, to model the influence of business area, we treat all the K business areas as K latent spatial states. The K latent spatial states together show the influence on each estate. As-sume the influence is inversely proportional to the distance between the estate location and the business area center: d ( i, r )=  X  r  X  l i 2 , the influence of K business areas over estate i is defined by an aggregate power-law weighted para-parameter and e is a mathematical constant.
Neighborhood popularity can affect the investment value of an estate to a certain extent. In general, people are willing to live in a popular neighborhood. A popular neighborhood usually has lots of notable POIs, which can be measured from two perspectives: (1) POI numbers, representing the quantitative measurement; (2) POI visit probability, repre-senting the quality of those POIs. We propose to estimate the neighborhood popularity of a targeted estate by strate-gically combining POI numbers and POI visit probabilities using the taxicab GPS traces via a three-stage algorithm. Propagating visit probability . In the first stage, given the drop-off point of a taxi trace d , we model the probability of a POI p visited by the passenger as a parametric function, whose input x is the road network distance between d and p : P ( x )=  X  1  X  2  X  x  X  exp (1  X  x  X  2 ), where  X  1 = max  X  2 =argmax tion are as follows. First, when x =0, P ( x ) = 0. Since a taxi could not send passengers into a POI directly, the drop-off point usually is not the same with the destination. A pas-senger often walks a short distance to reach the destination. Second, the drop-off point usually is close to the destina-tion. Hence, when the distance exceeds a threshold  X  2 ,the probability keeps decreasing with an exponential heavy tail. With this function, we can propagate the visit probability of a passenger from the drop-off point to its surrounding POIs. Aggregating POI-level visit probability .GivenaPOI p , the visit probability of p is measured by summarizing all the visit probabilities propagated from all the drop-off points in taxicab trace data via  X  ( p )= d  X  D P ( dist ( d, p )). Table 3: The generative process of ClusRanking Aggregating POI-category-level visit probability .In the third stage, we first identify the POIs located in the neighborhood n i of the i -th estate. Then, we summarize the visit probability of those POIs per category c j and ob-tain the category-level aggregated visit probability as  X  p  X  c j  X  p  X  n i  X  ( p ). In this way, we reconstruct the represen-tation of neighborhood popularity as an aggregated visit categories for the i -th estate. Finally, we aggregate and nor-malize the popularity score as  X  i = 1 J J j =1  X  ij max
Finally, we combine all modellings of  X  i ,  X  i and  X  i to-gether and get the overall generative process of estate in-vestment value as shown in Table 3. Specifically, we first assume there are K latent business areas in a city. Each business area is a cluster of estates. We treat K latent busi-ness areas as K spatial hidden states, each of which is en-dowed with a latent value  X  k , which represents estate invest-ment preference (or prosperity of estate industry) in the k-th business area. For each estate i , we draw a business area r from all K business areas following a multinomial distribu-tion: Multi(  X   X   X  ). The location of estate l i is drawn from the sampled business area r . Later, given the estate location l is drawn, we are able to identify the neighborhood area and represent estate by a geographic feature vector e i via neighborhood profiling. We then extract geographic util-ity  X  i from e i . Moreover, we estimate the neighborhood popularity  X  i by strategically mining the taxicab trajectory traces. Since the estate investment value depends on the value of the associated latent business area, the K busi-ness areas together show the value influence on the estate:  X  distance between area centroid and estate location. After incorporating the three factors, we generate the investment value y i of real estate i . With all the estate investment val-ues, we compile a ranked list of estates denoted as  X .
Here, we introduce how to model the geographic individ-ual, peer and zone dependencies of estates together in a uni-fied objective function, as shown in Figure 1. Let us denote all parameters by  X  = { q,W, X , X   X   X ,  X   X   X  } , the hyperparamters  X = {  X  q , X  2 q , X  w , X  2 w , X  2 } , and the observed data collection D = { Y,  X  ,L } where Y , X and L are the investment value, ranks and locations of I estates respectively. For simplic-ity, we first assume that i =  X  i =  X  i . In other words, the real estates in D are sorted and indexed in a descending or-der in terms of their investment values, which compiles a descending ranks as well.

By Bayesian inference, we have the posterior probability as The term P ( D|  X  ,  X ) is the likelihood of the observed data collection D as where P ( { Y,L }|  X  ,  X ) denotes the likelihood of the observed investment values and locations of estates given the param-eters. P ( { Y,L }|  X  ,  X ) can be explained as to be propor-tional to the individual dependency Lik id . P ( X  |  X  ,  X ) de-notes the likelihood of the ranking of estates given the pa-rameter, which we argue is proportional to the product of peer dependency Lik pd and zone dependency Lik zd .Next, we introduce the modeling of each dependency in detail. Individual Dependency. The smaller loss, the higher Lik id . Specifically we model Lik id as a joint probability of the estate investment values, the estate locations, and the business areas to learn the geographic interinfluence between estate investment values and locations. As shown in Table 3, we assume each location of estate is drawn from a business area and all business areas are drawn from a Multinomial distribution. Along this line, Lik id is formulated by where we introduce a latent variable R  X  1  X  I ,eachofwhich r represents the latent business area assignment of estate i . Peer and Zone Dependencies.

While directly modeling likelihood of the ranking list of estates cannot comprehensively capture the spatial correla-tion of estate-estate and estate-business area, we model the ranking consistency by Lik pd and Lik zd instead. In fact, the ranked list of all the estates indeed can be encoded into a di-rected graph, G = { V,E } , with the node set V as estates and the edge set E as pairwise ranking orders. For instance, edge i  X  h represents an estate i is ranked higher than estate h . From a generative modeling angle, edge i  X  h is generated by our model through a likelihood function P ( i  X  h ). The more valuable estate i is than estate h ,thelarger P ( i  X  should be. Since an estate pair &lt;i,h&gt; can be located inside one business area or cross two different business areas, the edges of G then can be categorized into two sets: (1) edges intra business area which corresponds to peer dependency and (2) edges inter business area which corresponds to zone dependency.

Specifically, Lik pd is defined as the ranking consistencies of estate pairs within the same business area. In other words, peer dependency captures the likelihood of the edges in-tra business area. Here the generative likelihood of each edge i  X  h is defined as Sigmoid( f i  X  f h ): P ( i  X  h )= where I ( r i = r h ) is the indicator function with I ( r when estate i and estate h are in the same business area (or r = r h ), and I ( r i = r h ) = 0 otherwise.

While the peer dependency considers the estate pairs which are within the same business area, zone dependency yet tar-gets the estate pairs, each of which are within two different business areas. We use the generative likelihood of edges inter business area as the zone dependency. There is invest-ment value conformity between estate and business area. That is, the higher prosperity of estate industry in the as-sociated business area, the higher possibility we can draw a high-value estate from it. Thus, when the estate pair &lt; i, h &gt; is drawn from two different business areas &lt;r we compare the values of the two associated business areas ( r i  X  r h ) instead of the values of estates ( i  X  h ). Therefore, the generative likelihood of an inter-business-area edge is de-fine as Sigmoid(  X  r i  X   X  r h ): P ( i  X  h )= 1 1+ exp (  X  ( where the values of r i and r h are represented by  X  r i and  X  respectively (refer to Section 2.3.3). In this way, we capture the spatial dependency between estate and business area. Lik zd is then given by Second, term P ( X  |  X ) is the prior of the parameters  X 
With the formulated posterior probability, the learning objective is to find the optimal estimation of the parame-ters  X  that maximize the posterior. Specifically, we use EM mixed with a sampling algorithm. The algorithm iteratively updates the parameters by mutually enhancement between Geo-clustering and estate ranking. The Geo-clustering up-dates the latent business areas based on locations and the three geographic dependencies; estate ranking learns the es-tate scores and generate a ranked list.
 E-Step. In the E-step, we iteratively draw latent business area assignments for all real estates. For each estate i ,we treat its latent business area r as a latent variable, which is drawn from the posterior of r in terms of the complete likelihood: r  X  P r |D ,R ( t ) ,  X  ( t ) . More specifically, where Here the latent business area assignment of real estate e is updated by three effects: (1) P ( r |  X   X   X  ( t ) ) updates business area assignment in terms of the prosperity distribution of multiple business areas ; (2) P l i | r,  X  ( t ) is the location emission probability given the latent business area as a hid-den spatial state. (3) P { Y,  X  }| r,  X  ( t ) updates business area assignment by both prediction accuracy and ranking consistency.

When the latent business area assignment of each estate is updated, we further update the neighborhood popularity  X  conditional on the updated business area r i .
 M-Step. In the M-step, we maximize the log likelihood of the model given the business area assignments R are fixed in the E-step. Since business area assignments are known, we can update  X   X   X  r ,  X   X   X  r , X   X   X  directly from the samples. where #( i, r ) is the number of real states assigned to region r . Through imposing a conjugate Dirichlet prior Dir(  X   X   X  ), we update  X   X   X  ( t +1) by where C r = i  X  r y i , C = y i and  X  = 1 K .

Note that the centers (  X   X   X  ) and estate investment values (  X   X   X  ) of latent business areas are updated, so updated is the influ-
After updating the parameters {  X   X   X , X   X   X ,  X   X   X  } and latent busi-ness area assignments R ,weupdate X  ( t +1) that maximizes the log of posterior
We apply a gradient descent method to update q,W through q
After parameters  X  are estimated via maximizing the pos-terior probability, which essentially captures both prediction accuracy of estate investment value and the ranking consis-tence of estates, we will obtain the learned model for invest-ment value of estate, i.e., E ( y i | q,e i )=  X  i +  X  i +  X  rising or falling market period. For a new coming estate k , we may predict its investment value accordingly. The larger the E ( y k | q,e k ) is, the higher investment value it has. With the predicted investment values for all new estates, we are able to compile a ranking list of those estate.
In this section, we provide an empirical evaluation of the performances of the proposed ClusRanking method on real-world estate data.
Table 4 shows four data sources. The transportation data set includes the data about the bus system, the subway sys-tem, and the road network in Beijing, China. Also, we ex-tract POI features from the Beijing POI dataset. Moreover, mobility patterns are extracted from the taxi GPS traces. In Beijing, taxi traffic contributes more than 12 percent of the total traffic, and thus reflects a significant portion of human mobility [30]. Finally, we crawl the Beijing estate data from www.soufun.com, which is the largest real-estate online system in China.

In estate industry, the estate return rate is used to mea-sure the investment value of an estate. The estate return rate is the ratio of the price increase relative to the start price of a market period as r = P f  X  P i P denote the final price and the initial price, respectively.
To prepare the benchmark investment values of estates (Y) for training data, we first calculate the return rate of each estate during a given market period. We then sort the return rates of all the estates in a descending order. Finally, we cluster them into five clusters using variance based top-down hierarchical clustering. In this way, we segment the estates into five ordered value categories (i.e., 4 &gt; 3 &gt; 2 &gt; 1 &gt; 0, the higher the better).

By discretizing estate return rates into five categories, we can understand estate investment potentials and reduce the noise led by the small fluctuations in return rates. Average Price Figure 2: The rising market period and the falling market period in Beijing.

Finally, a list of estates, each of which with the extracted features and investment values, are split into two data sets in terms of the falling market period (from Jul. 2011 to Feb. 2012) and the rising market period (from Feb. 2012 to Sep. 2012) as shown in Figure 2.
To show the effectiveness of the proposed model, we use the following metrics for evaluation.
 Normalized Discounted Cumulative Gain. The dis-counted cumulative gain (DCG@N) is given by Later, given the ideal discounted cumulative gain DCG , NDCG at the n-th position can be computed as NDCG[n]= accuracy is.
 Precision and Recall. Since we use a five-level rating system (4 &gt; 3 &gt; 2 &gt; 1 &gt; 0) instead of binary rating, we treat the rating  X  3 as  X  X igh-value X  and the rating &lt; 3as  X  X ow-value X . Given a top-N estate list E N sorted in a de-scending order of the prediction values, precision and recall are defined as Precision@ N = | E N E  X  3 | N and Recall@ N = | E  X  3 | ,where E  X  3 are the estates whose ratings are greater or equal to 3.
 Kendall X  X  Tau Coefficient. Kendall X  X  Tau Coefficient (or Tau for short) measures the overall ranking accuracy. Let us assume that each estate i is associated with a benchmark score y i and a predicted score f i . Then, for an estate pair &lt;i,j&gt; , &lt;i,j&gt; is said to be concordant, if both y said to be discordant, if both y i &lt;y j and f i &gt;f j y &lt;y j and f i &gt;f j . Tau is given by Tau = # conc  X  #
To show the effectiveness of the proposed method, we com-pare the ranking accuracy of our methods against follow-ing baseline algorithms. (1) MART [10]: it is a boosted tree model, specifically, a linear combination of the out-puts of a set of regression trees. (2) RankBoost [9]: it is a boosted pairwise ranking method, which trains multiple weak rankers and combines their outputs as final ranking. (3) Coordinate Ascent [20]: it uses domination loss and applies coordinate descent for optimization. (4) ListNet [4]: it is a listwise ranking model with permutation top-k ranking likelihood as the objective function.

For the baseline algorithms, we use RankLib 2 .Weset the number of trees = 1000, the number of leaves = 10, the number of threshold candidates = 256, and the learning rate = 0.1 for MART. For RankBoost, we set the number of iteration = 300, the number of threshold candidates = 10. Regarding Coordinate Ascent, we set step base = 0.05, step scale = 2.0, tolerance = 0.001, and slack = 0.001. For our model, we set  X  1 =0.8 and  X  2 =25m. We set d 0 =1 and d ( i, r k ) is computed based on degree (  X  ) instead of mile or km for simplicity. We set latent business areas K=10 and initialize the mean and covariance of the locations of each business area by Kmeans clustering. Finally, we set  X  = 1 K ,  X  q =  X  w =0,  X  q =  X  w =  X  =35andM=3for hyperparameters.

The codes are implemented in R (modeling), Python (pre-processing), and Matlab (visualization). The experiments were performed on a x64 machine with Intel i5 2.60GHz http://sourceforge.net/p/lemur/wiki/RankLib/ (c) Precision@N (c) Precision@N dual-core CPU and 16GB RAM. The operation system is Microsoft Windows 7 Professional.
We provide the performance comparison on the rising mar-ket dataset and the falling market dataset in terms of Tau, NDCG, Precision and Recall.
 Rising Market Data. Figure 3(a) shows the compar-ison of Kendall X  X  Tau Coefficient. Our method achieves 0.3428617 and outperforms the baselines. Figure 3(b) shows the NDCG comparison. Our method achieves 0.75 NDCG@1, 0.81 NDCG@3, 0.78 NDCG@5, 0.82 NDCG@7, and 0.85 NDCG@10 whereas the NDCGs of the four baselines only range from 0.2 to 0.61. Figure 3(c) and Figure 3(d) re-spectively show the precision@N and recall@N. In Precision, ClusRanking &gt; ListNet &gt; MART, RankBoost, Coordinate Ascent. In Recall, ClusRanking achieves 0.0088 recall@3, 0.017 recall@5, 0.026 recall@7, and 0.035 recall@10, which in overall outperforms ListNet, MART, RankBoost, Coordi-nate Ascent with a significant margin.
 Falling Market Data. Figure 4 shows the comparison in terms of Kendall X  X  Tau. Our method achieves a higher accuracy at 0.2363498 than four baselines. We also com-pare all the five methods in terms of NDCG, Precision and Recall. Our method achieves around 0.65 NDCG@3, 0.63 NDCG@5, 0.68 NDCG@7, and 0.64 NDCG@10 whereas the NDCGs of the four baselines are lower than 0.6111. More-over, the Precision@3,5,7 of our method are relatively higher than the baselines in overall. Finally, our method achieves 0.012 recall@3, 0.024 recall@5, and 0.037 recall@7, which are generally better than RankBoost but significantly out-performs MART, Coordinate Ascent and ListNet.

The above overall performances validate the effectiveness of our ClusRanking method.
Here, we study the impact of three geographic depen-dencies. Specifically, we designed three internal competing methods in terms of variants of posterior likelihood Pr ( X ; P ( D|  X  ,  X ) P ( X  |  X ): (1) Individual Dependency (ID) ,in which we only consider the individual dependency as the ob-jective function. In other words, P ( D|  X  ,  X ) = Lik id .(2) Peer Dependency (PD) , in which we only consider the peer dependency as the objective function. (3) Peer De-pendency + Zone Dependency (PD+ZD) ,inwhich we consider the combination of peer and zone dependen-cies as the objective function. (4) Combination (Clus-Ranking) , in which we consider individual, peer, and zone dependencies simultaneously. This is exactly our method: P ( D|  X  ,  X ) = Lik id  X  Lik pd  X  Lik zd .
 Rising Market Data. Table 5 shows the performance comparison on the rising market data in terms of Tau and NDCG. It is clear that our method achieves around 0.81 NDCG@3, 0.78 NDCG@5, 0.82 NDCG@7 and 0.85@10 on the rising market data, which outperforms PD+ZD, PD, and ID. In the Tau comparison, the results lead to: Clus-Ranking &gt; PD &gt; ID &gt; PD+ZD. From Table 5, we con-clude that (1) the strategy of capturing three dependencies helps ClusRanking to achieve the highest Tau and NDCG; (2) considering both peer and zone dependencies enhances the top-k accuracy but degrades the overall ranking compar-ing to individual dependency only. This might be because the peer and zone dependencies better capture the ranking consistency of estates than the individual dependency, as in-dividual dependency indeed models the prediction accuracy of the observed data collection { Y,L } .
 Table 5: Performance comparison of different geo-graphic dependencies on the rising market data.
 Falling Market Data. Table 6 shows the performance comparison of different geographic dependencies on the falling market data. It is clear that our method outperforms ID, PD and PD+ZD. PD+ZD achieves the second highest NDCG. Moreover, ClusRanking &gt; PD+ZD &gt; PD &gt; ID in terms of Kendall X  X  Tau.
 Table 6: Performance comparison of different geo-graphic dependencies on the falling market data.

This experiment not only justifies the spatial autocorre-lation of estate investment values (e.g., individual, estate-estate peer, estate-business area), but also shows the advan-tages of considering three geographical dependencies .
We compare the performances of ClusRanking with dif-ferent geographic feature sets ( i.e., subway, bus stop, POI, and road network) over rising and falling markets. Rising Market Data. First, Figure 5(a) shows the perfor-mance comparison of the five feature sets in terms of Tau: combination &gt; road network &gt; bus stop, subway and poi. Next, Figure 5(b) shows the NDCG@N of different feature sets (N=3, 5, 7, 10 respectively). As can be seen, the com-bination of all the four feature sets achieves 0.81 NDCG@3, 0.78 NDCG@5, 0.82 NDCG@7, 0.85 NDCG@10, and out-performs the other four individual feature sets. Moreover, the NDCGs of the bus stop and road network feature sets are lower than combination but higher than the POI and subway feature sets. Finally, we can conclude that, in rising market, the combination of all geographic information is the best. Road network outperforms bus stop, subway and POI. Bus stop is more suitable for top-k ranking than road net-work whereas road network performs better than bus stop in overall ranking. Figure 5: Performance comparison of different geo-graphic features on rising market data.
 Falling Market Data. Figure 6(a) shows a comparison of the five feature sets on Tau: combination &gt; road network &gt; bus stop, subway and poi. This result is consistent with that of rising market data. Regarding top-k ranking, Figure 6(b) shows the NDCG@N (N=3, 5, 7 respectively) of dif-ferent feature sets in terms of ClusRanking. First, the POI feature set achieves the worst performance in NDCG@5,7. Second, the road network feature set achieves the second highest NDCGs@3,5,7. Finally, the combination of all the four feature sets outperforms all the individual feature sets. In summary, in falling market, combination &gt; bus stop &gt; subway, road network, and POI.

The results validate the effectiveness of using multiple in-formation fusion (subway, bus stop, POI and road network). Figure 6: Performance comparison of different geo-graphic features on falling market data. Figure 7: A comparison of the learned business areas within the Beijing Fifth Ring (K=10).
Our model also provides a unique understanding of the latent business areas of Beijing from an estate perspective. Figure 7 clearly shows our method, learned from geogra-phy, mobility and estate data, is more reasonable than K-means, which simply cluster the estates by location infor-mation. For instance, in Figure 7(b), NO.4 area, named Zhongguancun, is the Chinese Silicon Valley and is famous for high-tech companies. This area is a high density cluster of human mobility, estates and POIs. However, in Figure 7(a), the Zhongguancun area is improperly separated into NO.3 and NO.4 area by K-means. Another example is the NO.2 and NO.8 areas, namely Wangjing and CBD respec-tively, in Figure 7(b). Wangjing is a quick-growing residen-tial sub-center with easy-access transportation and luxury apartments. Currently, about 203,000 young people, includ-ing company executives, white-collar workers, expatriates and returnees, are living in Wangjing. CBD is the Center Business District with numerous financial business offices, culture media companies and high-end enterprise informa-tion services. However, in Figure 7(a), Wangjing and CBD are improperly united into NO.2 area by K-means. The visualization results show the effectiveness of ClusRanking learned from multi-source estate related data and the effec-tiveness of capturing the three geographic dependencies as the objective function.
We show how our ranking results can be used to under-stand the hierarchy of human needs from a POI aspect. Fig-ure 8 shows the estate-POI density spectrum. From left to right, x-axis represents the estate rankings in the descending order. From up to down, y-axis represents POI categories in the descending order in terms of POI numbers. Several interesting findings can be drawn from Figure 8. First, the upper half are darker than the lower half. This indicates POI categories in the upper half are more important than those in the lower half. In other words, people prefer their homes near schools, malls, offices, restaurants, and transits. Whereas, hotels, hospitals, sports and scene spots are not must-have POIs to be located close to living places. Second, along x-axis, the POI density spectrum of the left-side high-ranked estates is evenly distributed for smooth whereas the POI density spectrum of the right-side low-ranked estates are non-smooth. This illustrates high-value estates usually balance the needs of human beings. Third, we calculate the average POI density of each POI category based on the top 2000 estates. We then sort all POI categories in terms of POI densities, show the smoothed POI density curve and find three inflection points. Later, we segment those POI categories into four clusters using the three inflection points. Finally, we present a triangle structure of needs of Beijing citizens as shown in Figure 9. The higher, the more funda-mental and urgent in human needs. Figure 8: The POI density spectral of estates over multiple poi categories
Figure 9: The triangle need hierarchy of Beijing
Here, we present a case study. First, we select one high-ranked estate called  X  X ed Hill Family X  (RHF) and one low-ranked estate called  X  X iuxianqiao Road No. 11 X  (JR11) from our ranking results. Then, we compare RHF with JR11 from historical transaction prices. As can be seen in Figure 10, during the past 43 months, the prices of RHF increase in both rising and falling markets. However, for the past 15 months, the overall prices of JR11 continuously fall even in the rising market.

To show why, we first check the neighborhood profiles (in-dividual dependency) of two estates. Specifically, we ex-tract geographic and mobility features of the neighborhoods of RHF and JR11, respectively. Table 7 shows RHF has higher road network density, larger amount of POIs (espe-cially schools), bus stops and subway stations, and higher neighborhood popularity than JR11. It thus is reasonable that people are willing to afford higher prices to RHF than JR11. This validates the individual dependency. Besides, RHF is located in the prosperous area of MuXiDi (inside No. 7 area in Figure 7(b)) near the 2nd ring road whereas JR11 is located in the area of DongFengXiang (inside No.2 area in Figure 7(b)) outside the fifth ring road. The average rating of estates in MuXiDi is round to 3, which is higher than that (round to 1) of estates in DongFengXiang. This justifies the zone dependency. Table 7: A comparison of transportation, POI and mobility of RHF and JR11
Related work can be grouped into two categories. The first one includes the work on estate appraisal. In the second category, we present the ranking related methods.
Traditional research on estate appraisal are based on fi-nancial estate theory, typically constructing an explicit in-dex of estate value [16]. More studies rely on financial time series analysis by inspecting the trend, periodicity and volatility of estate prices. Work [8] checks the volatility of es-tate price and concludes that low investment-valued estate values relatively volatile. Work [5] applies an autoregres-sion method to learn the trend and periodicity of price and predicts estate value. More studies are conducted from an econometric angle, for example, hedonic methods and re-peat sales methods. The hedonic methods [27, 1] assume the price of a property depends on its characteristics and location. The repeat sales methods [1, 2, 26] construct a predefined price index based on properties sold more than once during the given period. Recent works [8, 21] study the automated valuation models, which aggregate and ana-lyze physical characteristics and sales prices of comparable properties to provide property valuations. More recent stud-ies [22, 15, 17, 2] shift to computational estate appraisal and apply general additive mode, support vector machine regression, multilayer perceptron and ensemble method to evaluate estate value.
Also, our work can be categorized into Learning-To-Rank (LTR). The LTR methods are threefold: point-wise, pair-wise and list-wise. The point-wise methods [12, 7] reduce the LTR task to a regression problem: given a single query-document pair, predict its score. The pair-wise methods, such as RankBoost [9], RankSVM [14] and LambdaRank [23], approximate the LTR task as a classification problem and learn a binary classifier that can tell which document is better in a given document pair. The list-wise methods, such as AdaRank [29], LambdaMART [3] and ListNet [4], optimize a ranking loss metric over lists instead of docu-ment pairs. Works [28, 24, 13] provide full Bayesian expla-nations and optimize the posterior of point-wise, pair-wise and list-wise ranking models. Study [25] further unifies both rating error and ranking error as objective function to en-hance Top-K recommendation. There are also studies that improve ranking performance by semi-supervised learning through exploiting the disagreement between two learners [32] or combining supervised and unsupervised ranking mod-els [18].

Furthermore, our work has a connection with recent stud-ies of exploring the geographic influence for POI recom-mendation. Works [6, 11] consider the multi-center of user check-in patterns and apply a static pre-clustering method to extract the influence of geographic proximity in choosing a POI. Work [19] exploits multi-center user mobility and embeds a POI clustering method into matrix factorization. Finally, our work is related to studies of city region function via geographic topic modeling using POI and mobility [31].
In this paper, we proposed a ClusRanking method for ranking estates based on their investment values. Specifi-cally, this method has the ability in capturing the geographic individual, peer, and zone dependencies via ClusRanking by exploiting various estate related data. Also, our method has two advantages. First, for predictive modeling, we establish a hierarchical generative structure to capture both explicit factors (i.g., geographic utility and neighborhood popular-ity) and latent influences (e.g., the influence of latent busi-ness area) based on the estate data. This generative struc-ture profiles, filters, aggregates and fuses multi-source infor-mation to predict estate investment values. It helps to take advantage of rich estate-related data sources. Second, in the learning framework, we leverage the mutual enforcement of ranking and clustering power. In addition, we simultane-ously consider three dependencies and construct an estate-specific ranking likelihood as the objective function for en-hancing model learning. Finally, the experimental study demonstrates the effectiveness of our method on real-world estate-related data over several alternative methods. This research was supported in part by National Science Foundation Grant IIS-1256016, the National Science Foun-dation of China under Grant number 61333014 and the 111 Project under Grant Number B14020.
