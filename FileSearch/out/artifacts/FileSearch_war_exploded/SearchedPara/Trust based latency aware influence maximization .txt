 1. Introduction
Nowadays, the rapid growth and popularity of online social netw-orking sites have brought a great deal of attention to social networks ( Qiao et al., 2012; Chen et al., 2011; Barbieri et al., 2012; Lu and Lakshmanan, 2012; Bel X k et al., 2012; Rodriguez and Sch X lkopf, 2012;
Ahmed and Ezeife, 2013 ). Beside a means of communication, online social networks provide immense sources of information, experience and innovations that enable ever yone from everywhere to create, exploit, or spread content through the network via internet links.
More importantly, social interaction plays a central role in shaping political or social movements and debates, such as critical role of
Facebook or Twitter in the 2010 Arab Spring ( Howard and Duffy, 2011 ). Social network analysis can help extracting worthwhile knowl-edge, controlling methods of exchanging data, maximizing acquisi-tion of information in the network and also designing improved social networks with appropriate facilities of dissemination.
A lot of studies have been done in the context of information dif-fusion in social networks. Precisely, information diffusion is a research domain that concerns with the processes of dissemination of information and opinion sharing among members of a social net-work. According to a recent survey ( Guille et al., 2013 ), studies conducted in this fi eld include three general branches as following:  X 
Detecting Interesting Topics  X  ,  X  Modeling Diffusion Processes  X  in this article, which is known as  X  in fl uence maximization
When news and innovations arise in a social network, they usually begin to spread through the network from person to person, in a virus manner, to achieve as large individuals as possible. The extent of diffusion in the network mainly relates to the mutual relationships of its members. Consider the phone network of a group of individuals. If we send a message including a rumor to someone in this network, he will inform those in his contacts about the new message. They will either accept or ignore the rumor. In fact, if they are affected by the sender, they will believe the new announcement and begin to spread it through the rest of the network using their in fl uence on their friends. Depending on the initial receiver of the message, fi nal amount of receivers in the network would be different. This process is called  X  word-of-mouth  X  effect in social networks and is so much operational in commercial intentions. Recently, online social communities have become the target of many companies as a way of advertising new products ( Schivinski and Dabrowski, 2013 ). These companies aim to fi nd the most in fl uential individuals who are most suitable for pro-moting their brands and absorbing the most customers. They give free or discounted samples of their product to these particular persons and trigger a large cascade of further adoptions in the whole network subsequently. Therefore, pro fi cientadoptionofanexactstrategyfor most pro fi t utilizing their in fl uence. These are some examples which the in fl uence maximization problem can cope with. Given a social network graph, a seed size k , and a known in fl uence cascade model, in fl uence maximization is the problem of choosing a set of k in seed nodes in the graph. Starting from these source nodes, we aim to maximize the spread of information  X  rumor, innovation, disease under the in fl uence propagation model in the network. As mentioned above, identifying the in fl uential spreaders (seeds) has a different meaning in each kind of diffusion network. For example in the blogosphere, it means selecting a set of blogs and websites that broadcast the information in a broad range of others ( Leskovec et al., 2007 ). In epidemiology, it consists of fi nding a set of persons that together are most likely to spread a virus to the greatest number of persons in the population. Identifying these individuals can help cont-rolling the disease transmission in the network ( Wallinga and Teunis, 2004 ). Finally, in viral marketing, the problem reduces to of trendsetters that absorb the most number of customers to adopt a product ( Domingos and Richardson, 2001; Richardson and Domingos, 2002 ).
The problem of in fl uence maximization in social networks has been explored in many previous researches such as Kempe et al. (2003) , Leskovec et al. (2007) , Kimura and Saito (2006) , Kimura et al. (2007) ,
Lakshmanan (2012) and Ahmed and Ezeife (2013 ). They have mainly relied on similar temporal chances for every node to in fl whereas in reality, time plays a major role in pairwise propagation rates in social networks. However, there is little research conducted on the in fl uence maximization consideri ng temporal dynamics of the networks ( Rodriguez and Sch X lkopf, 2012; Liu et al., 2012; Chen et al., 2012 ) and the existing approaches merely offers a mediocre perfor-mance due to ignoring trust aspects of the diffusion process ( Such et al., 2011; Barzilai, 2013 ). In this paper, we study in imization problem considering both trust and time simultaneously. We proceed to illustrate our idea using an example about voting. Suppose a person p hesitates to elect a particular candidate or not. As shown in
Fig. 1 , p interactswithsomeneighbors;hetrustssomeofthem  X  n which speci fi ed by positive links and does not trust the others  X  n which speci fi ed by negative links. Undoubtedly, each neighbor who takes an action (here, decision to vote for a nomination) has some degree of positive or negative in fl uence on p 's opinion. This in does not propagate immediately to p and is accompanied with some delay. In fact, it may affect p in each subsequent times with different intensities. In Fig. 1 ,ifneighbor n 1 votes for a candidate c ,hecan persuade p to vote for c as well. However, this positive in varies in each time unit. For example, if we consider a day as a time
P . The next day, n 1 's in fl uence would be different (probably less than before) and he would in fl uence p with probability P n 12 after these two days, n 1 cannot affect p any more. In the case of neighbor n 4 ,hedissuade p by voting for c and his negative in spread to p with probabilities P n 41 , P n 42 and P n 43 thirddaysrespectively.Thisexampleexpressestheroleoftimeand previous studies fail to model this problem.

To the best of our knowledge, we are the fi rst to study trust in the classic  X  independent cascade model  X  and also the fi rst to consider both important time and trust factors jointly in the in fl ization problem. The main contributions of this paper are listed as follows: (1) we extend the classic IC model to include time and trust simultaneously, which is more applicable in existing social networks. (2) We fi nd the most in fl uential nodes with considering two major time and trust factors together in social networks. (3) We evaluate the proposed model on three large scale trust networks of Wikipedia,
Slashdot and Epinions. The results of our experiment prove the advantage of considering both time and trust aspects of the in maximization problem.

The remainder of this paper is organized as follows. Section II , provides an overview of the related work. In Section III ,wede trust-based time constrained in fl uence maximization problem. Section IV describes our new diffusion model. We then present a new framework devised to detect in fl uential nodes under our model. Section V reports experimental results and analysis. Finally, in Section VI we provide the conclusion of our studies and d iscuss the future research. 2. Related work
In this section, we fi rst introduce the existing basic models of in fl uence in the area of in fl uence maximization. After that, the most related work for this article is reviewed. 2.1. Diffusion models Independent Cascade Model (ICM) ( Goldenberg et al., 2001 )and
Linear Threshold Model (LTM) ( Granovetter, 1978 ) are two classic graph based approaches which exhibit the process of in fl propagationinasocialnetwork( Guille et al., 2013 ). Both approaches model a social network as a directed graph in which nodes and links represent individuals and relations between them respectively. A node is active if it has adopted the content spreading through the graph or it is inactive otherwise. Each link of the graph is associated with an in fl uenceprobabilityshowingthedegreeofin fl uence of the tail node on the head of the link. When a node becomes active, it can send the content to its neighbors by its outgoing links and affect them with a speci fi cprobability.Inthefollowing,wede fi ne these models in more details.

ICM is a popular diffusion model which has been widely studied in the context of in fl uence maximization (e.g., Kempe et al., 2003; Kimura and Saito, 2006; Kimura et al., 2007; Chen et al., 2009,2010,2011,2012; tion process, focusing on the sende r of the information. Flow of diffu-sion starts from the initial seed nodes which are all active at each step, the newly activated nodes try to in fl uence their inactive neighbors with pre-de fi ned probabilities on the corresponding links. In thecaseofsuccess,thereceiverbecomesactiveinthenexttimestep; otherwise nothing will happen to that node. The process continues in discrete time units, till no more nodes transfer to active state.
In the case of LTM, in addition to the in fl uence probability on each link, we need an in fl uence threshold for each node in the network. As well as ICM, the propagation proceeds iteratively in discrete time steps while focusing on the receiver node. In fact, this model investigates the simultaneous impressions of a node's neighbors on its status. Thus, a node becomes active by its activated neighbors, if the summation of in fl uence degrees on the incoming links exceeds its threshold amount.
Again, the diffusion process ends when no transition happens to active state. In both cases of LTM and ICM, an activated node remains active anddoesnotchangeitsstatusanymore.LTManditsexpansionsisused Lakshmanan, 2012; Ahmed and Ezeife, 2013 ).

We mention that some studies have tackled the problem of learning the underlying in fl uence probabilities of diffusion models, such as ( Goyal et al., 2010; Rodriguez et al., 2010, 2011; Saito et al., 2010 ); However, it is an independent trend and is not within the area of this research. Here, we consider pre-de fi ned in probabilities for the examined networks. 2.2. In fl uence maximization in social networks
During 2001 and 2002, in fl uence maximization was fi rst intro-duced to data mining society by Domingos and Richardson, for speci fi c viral marketing plans ( Domingos and Richardson, 2001;
Richardson and Domingos, 2002 ). They modeled the diffusion process with a probabilistic framework employing  X  Markov Ran-dom Fields  X  and offered heuristic solutions to the problem.
Kempe et al. were the fi rst to bring up the issue of choosing the most in fl uential set of individuals as a discrete optimization problem ( Kempe et al., 2003 ). They formulated the subject as in maximization and proved it to be NP-hard under both LTM and
ICM. However, they further established that in fl uence maximization is a submodular optimization problem and proposed the Greedy algorithm providing provable approximation guarantees to the opti-mal solution ( Nemhauser et al., 1978 ). In the greedy approach, the desired seed set is generated by repeatedly selecting the node with the highest marginal in fl uence spread. It entails to compute marginal in fl uence spread for every node in each iteration of the algorithm. Yet, computing the exact value of the in fl uence spread is a quite dif and time consuming task ( Chen et al., 2010 ). Therefore, Kempe et al. applied Monte-Carlo simulation for suf fi ciently large number of times to obtain an accurate approximation of the in fl uence function. The ef fi ciency issue of the greedy algorithm is a major disadvantage of their approach as if it is very slow in practice and not scalable in moderately large social networks ( Leskovec et al., 2007; Kimura and Saito, 2006; Kimura et al., 2007; Chen et al., 2009, 2010 ).
The method proposed by Kempe et al. (2003 ) is extensively studied by other researches such as Leskovec et al. (2007) , Kimura and Saito (2006) , Kimura et al. (2007) , Chen et al. (2009, 2010 ).
They all relied on the general framework of the greedy approach and tried to improve its scalability on large graphs using heuristic approximations. CELF is an outstanding algorithm presented by
Leskovec et al. for outbreak detection objectives. Exploiting sub-modularity property, their methodology avoids calculating in ence spread increase for every node and does lazy evaluations. This method achieves approximation guarantees as well as ( Kempe et al., 2003 ) while is much faster (about 700 times) than the standard greedy ( Leskovec et al., 2007 ).

Chen et al. proposed one of the most signi fi cant heuristic algorithm for conventional in fl uence maximization problem ( Chen et al., 2010 ).
Their method scales up beyond graphs with millions of nodes while matching the in fl uence spread of the greedy approach. Instead of doing tures to compute in fl uence spread for each node. The main idea of the scheme is to restrict in fl uence to a local region, called arborescence, which includes only the strongest in fl uence paths between every pair of nodes in the network. The problem of this method is its high memory usage; because it keeps a tree structure for every node to calculate in fl uence spread of a given set ( Liu et al., 2012 ).
During last few years, researches conducted in the fi eld of in maximization is being followed in vast and various branches (e.g., Chen et al., 2011, 2012; Barbieri et al., 2012; Lu and Lakshmanan, 2012;
Rodriguez and Sch X lkopf, 2012; Liu et al., 2012; Ahmed and Ezeife, 2013 ). They mostly tried to enrich outdated propagation models, such as LTM and ICM, with new concepts existing in real life; the result would be more accurate for estimations validity and impression of cho-sen seeds in social networks. The  X  pro fi t  X  earned by a producer company considering real ability of customers to afford its product, the subject and  X  topic  X  of the transmitting data over the network and  X  time  X  spent during propagation are some examples of the factors included in diffusion models as if each one has different applications.

Barbieri et al. considers the fact that the expertise, credibility, trust and social in fl uence depends on the topics spreading into a social network and propose two topic-aware diffusion models ( Barbieri et al., 2012 ). These models which called Topic-aware Independent Cascade (TIC) and Topic-aware Linear Threshold (TLT) are the exten-sions of classic ICM and LTM, respectively. The overall routine of these models are the same as the basic ones and the difference lies in adding some topic-aware parameters in TIC and TLT models. These newparameterssuchasitem'scharacteristics,user'sinterestsand social in fl uence, are then jointly learned by a generalized expectation maximization approach, d evised by the authors.
 Based on researches done in the management science, Lu and Lakshmanan (2012) claim that real adoption of a product is accomplished in two steps by a customer ( Lu and Lakshmanan, 2012 ). Besides getting in fl uenced by social acquaintances, there is another step which considers monetary concerns to buy a product. It means that a user adopts a product if his valuation outweighs the price. To this end, they propose Linear Threshold model with user Valuations (LT-V), in which valuation and price factors are taken into account.

As mentioned in previous section, time is one of the most important aspects in in fl uence maximization problem. Recently, some studies addressed this issue (e.g., Rodriguez and Sch X lkopf, 2012; Liu et al., 2012; Chen et al., 2012 ). Rodriguez and Sch X lkopf consider the rate of in fl uence propagation to be different for each pair of nodes, as it is in real life ( Rodriguez and Sch X lkopf, 2012 ). They de fi ne a function which calculates the probability of data transmission from one node to another one, using the infection times of the both nodes. In this method, propagated in fl initiated from the seeds is modeled by  X  Continuous Time Markov Chain  X  and is computed analytically.

In another study ( Liu et al., 2012 ), the time constrained is consi-dered by adding delays in the process of in fl uence propagation in the network. According to the model which is based on classic ICM, in ibution of in fl uencing delay is de fi ned which speci fi bility of the receiver node being in fl uencedbythesenderineachtime through the network, Liu et al. (2012) introduce a structure, called ISP, which is made up of eligible paths of the graph. They develop a greedy approach to solve the problem.

Although the problem of choosing in fl uential nodes depends on the type of relation between each pair of nodes, none of these papers et al., 2003; Leskovec et al., 2007; Kimura and Saito, 2006; Kimura et al., 2007; Chen et al., 2009,2010,2011,2012; Barbieri et al., 2012; Lu andLakshmanan,2012;RodriguezandSch X lkopf,2012;Liuetal.,2012 ). Recently, Ahmed and Ezeife proposed a model based on LTM that considers both positive (trust) and negative (distrust) in social trust networks. However, their methodology does not take the major time issue into considerations ( Ahmed and Ezeife, 2013 ). 3. Problem de fi nition
In this section, we de fi ne the trust-based time constrained in fl uence maximization problem focusing on principal trust and time factors in social networks.
 3.1. Trust-based time constrained in fl uence maximization problem.
Assume we are given a diffusion network G  X f V ; E g in which, each edge e A E is tagged with  X   X   X  for a trust relationship or for a distrust connection. Each edge e is also assigned with an in fl uence probability p representing the probability of the tail node affecting the head of e . Thus, a directed edge  X  u ; v  X  from node u to node v with probability p and sign  X   X   X  indicates that node u has positive in fl uence on node v with probability p ; the in would be negative if the link is tagged with  X   X  . A delay distribu-tion P lat u is also de fi ned for each node u A V in the network which speci fi es the distribution of the delay in propagating the in of u to its neighbors. Our goal is to fi nd a set S V of K in source nodes in G such that the expected number of positively activated nodes within T time units gets maximized when the in uence propagation process starts from S . We formulate our optim-ization problem as follows:
S  X  argmax
The target of Eq. (1) is to maximize  X   X  S ; T  X  which is the in spread of S within T ;wheretheseedsetsize K and the deadline T are constants and the seed set S is the variable to optimize.
In order to solve the above problem, two main subjects should be determined: (1) computing the value of in fl uence function given a set S , and (2) applying an optimization approach to fi with the maximum amount of in fl uence spread. We provide the right solutions to the mentioned problems in the next section. 4. Proposed algorithm
This section describes our proposed framework (TLIM) for solving the trust-based time constraint in fl uence maximization problem. As we mentioned in previous section, we need to de the in fl uence function  X   X  S ; T  X  in order to compute the each given seed set S . Computing the in fl uence function entails to identify how the in fl uence propagates through the network start-ing from S . Following, we introduce our model called Trust-based Latency aware Independent Cascade (TLIC). TLIC is based on classic
IC model, while taking into account the temporal dynamics of the trust network of individuals in the process of in fl uence propaga-tion in social networks. It is worth mentioning that this model can be used in other applications of information diffusion as well. 4.1. Trust-based Latency aware Independent Cascade model (TLIC).
Traditional IC-based models focus on propagation of just positive in fl uences in the network. Thus, when a node is fi rst activated by a neighbor, further effects of other neighbors will be ignored. This happens because they do not bring more bene fi ts to the positively activated node. Fig. 2 depicts the simple model of node states in IC model. However, the behavior of a node in a trust network is not justi fi able by this model. Following, we exemplify variations of a node's status in a trust based n etwork in which negative in propagate as well as positive ones. Suppose it is time to advertise for a presidential election which is to be held on next T days. If a person a decides to vote for a candidate c ,heisinpositivestatetoward c .Now, suppose a neighbor b , who is in opposite party, wishes to elect c as well. The action of b wouldhavesomedegreeofnegativein fl uences on a 's decision and may turn him into negative mood toward c .
Person a continues to be under different effects (positive or negative) state diagram for TLIC model. In this model, a node can positively be activated by a trusted neighbor with probability P  X  and again turn to negative state by a distrusted neighbor with probability P . TLIC concentrates on positive nodes, instead of just activated ones.
At fi rst  X  t  X  0  X  , all nodes are in negative state, except for the seeds. In step t ,anewlypositivelyactivatednode u can positively activate its inactive neighbor v , who trusts u , with probability P  X  where  X  t is the in fl uencing delay and is chosen randomly from the delay distribution P lat u ( Liu et al., 2012 ). Moreover, u can in positive neighbor z negatively, who distrusts u , with probability P thus, z will change its state from positi ve to negative with probability
P P u in step t  X  more nodes turned positive recently in t 1.

Kempe et al. proved that the conventional in fl uence maximiza-tion under ICM is NP-hard ( Kempe et al., 2003 ). We now claim that the trust-based time constrained in fl uence maximization problem is also NP-hard, as shown in Theorem 1 .

Theorem 1. The trust-based time constrained in fl uence maximiza-tion problem for the TLIC model is NP-hard.

Proof. If we consider each negative in fl uence probabilities to be zero, then all negative links will be deleted from the graph.
Therefore, the conventional in fl uence maximization problem is a particular case of our problem for TLIC model, when T -1 .
Due to the fact that there is no optimal solution for NP-hard problems in polynomial time, we pass on to use a greedy approach to solve the above problem. Next, we describe our presented greedy based method for the trust-based time constrained in ence maximization problem in social networks. 4.2. Solution framework
We use a simple greedy hill-climbing algorithm based on the framework fi rst proposed by Kempe et al. (2003 ). As shown in Algorithm 1 , this approach repeatedly adds a node u to the seed set
S , if it has the maximum T bounded marginal in fl uence, which is de fi ned as  X  S [f u g ; T  X  X   X   X  S ; T  X  . Finding an ef fi cient method to compute the value of  X   X  S ; T  X  under TLIC model is a very hard task, due to NP-hardness of the function for ICM ( Chen et al., 2010 ). A good option for estimating the in fl uence spread is to use Monte-Carlo simulation, which is computationally a very expensive task.
Therefore, we propose a new approximation method based on trust and distrust paths in the graph, which is next described. Algorithm 1. Greedy based framework Input: K ; T ; G ; P  X  uv ; P uv ; P lat u ;  X 
Output: S 1 S  X   X  ;
Input: K ; T ; G ; P  X  uv ; P uv ; P lat u ;  X  2 for i  X  1to K do 3 u  X  argmax v A V \ S  X  S [ v fg ; T  X  X   X  S ; T  X  X   X  ; 4 S  X  S [f u g ; 5 return S ; 4.3. Trust and distrust paths based in fl uence spread
Given a social network containing both positive (  X  ) and negative ( ) links and a set of initial active nodes, we want to know how the in fl uence spreads through the network starting from these seeds. At time 0, a seed node s , may positively activate its inactive neighbor u , through its positive corresponding outgoing link, with probability P  X  su P lat u  X   X  t  X  in step  X  t larger than the deadline T . It means that u can be in fl one of the times 1 ; 2 ; 3 ... T respectively with the probabilities
P ing, we insert time delay information into the initial graph to include multiple edges by assigning new lengths and weights coming from the delay distribution of the tail node ( Liu et al., 2012 ). As it is depicted in Fig. 4 , in the above example we replace the positive directed edge  X  s ; v  X  with T positive directed edges from s to u where each one is assigned with a length t and an in scenario is the same as the positive one, except for the sign of the newly added links which should be negative. Let us continue our example to see what will happen to the propagation process after node u is turned to positive state inspiring by one of ingoing links from s in the new graph. The newly positively activated node u will spread positive in fl uence through its positive outgoing links and negative in fl uence through its negative outgoing links, as well. If a node v has been positively activated in previous steps by some node like s , now it is exposed to turn into negative state by its negative incoming link from u .

Based on what we explained, we argue that there are two types of paths which are critical in the in fl uence propagation process: trust and distrust paths. Note that there are many different types of paths in a network which all of them merge with these two models eventually.

De fi nition 1. Trust Path (TP) . A Trust Path p in a social network is a simple path consisting a fi nite sequence of positive links which starts from a node in the seed set S and cannot contain seed nodes consecutive edges while the weight of p, W  X  p  X  , is obtained by multiplying the weights of all edges with each other. Fig. 5 shows a sample TP starting from s A S and ending in u = 2 S . If a negative node u is the end node of a TP p which its length is not larger than the time constraint T , then we can say that u is positively in time step L  X  p  X  with probability W  X  p  X  .

De fi nition 2. Distrust Path (DP) . A Distrust Path p in a social network is a simple path consisting a fi nite sequence of all positive links except for the last one which starts from a node in the seed set S and cannot contain seed nodes in subsequent vertices. Length of p , L  X  p  X  , is the total length of all consecutive edges while the weight of p , W  X  p  X  , is obtained by multiplying the weights of all edges with each other. Fig. 6 illustrates a sample DP which starts DP p which its length is not larger than the time constraint T , then we can say that p is negatively in fl uenced at time step L  X  p  X  with probability W  X  p  X  .

TPs and DPs can easily be obtained from a Depth-First Search which traverses the graph starting from the seed nodes. As we will explain in next subsection, TPs and the DPs are needed to calculate the value of the in fl uence function given the seed set, 4.4. Estimating of the in fl uence function based on TPs and DPs
The amount of the in fl uence spread from the seeds depends on the probability of each node to be positively activated. Therefore, we de fi ne the value of the in fl uence function to be as follows: S ; T  X  X  X 
In the above equation, the probability of a node v being positively the deadline. We de fi ne a perfect binary tree structure which exactly calculates the desired probab ility for a particular node v .Wename this structure a StateTree(ST) for a particular node. In this tree, each node demonstrates a state in TLIC model, which can be positive or not. Each level of the ST concerns with each of the time steps in the propagation process; hence, our tree is of height T .RootoftheSTis marked with negative state which indicates the initial state of a node which is not in the seed set. Each link is equal to a transition from one time step to the next and is determined by a probability which may be associated with a state transition as well. There are four possible kinds of time transition in the mentioned tree, assuming we are at level t :(1)fromnegativestatein t to negative state in t  X  1, (2) from to positive state in t  X  1, and (4) from positive state in t to negative calculated by adding the weights of all TPs of length t ending at v .We name the calculated amount P . When comparing (2)  X  (4), we should addtheweightsofallDPsoflength t ending at v inthecaseof(4).We then name this amount of probability N . We should mention that case (1) is the opposite form of case (2) in which node v remains negative with probability  X  1 P  X  , and also in case (3) which is the opposite of we illustrate the presented binary tree based method for T  X  2.
In a social network with an initial seed set, when the propaga-tion process fi nishes at time T , a node v may be in each leaf of its
ST, with a probability equal to the multiplication of weights of the links forming the unique path from the root to the corresponding leaf. Therefore, the probability of v being positively activated at time T is the summation of the probabilities of all paths connecting for each node, we are able to calculate the probability of positively been activated for every node, and replace its quantity in Eq. (2) to get the value of the in fl uence function given a seed set. 4.5. Estimation of marginal in fl uence
Considering Algorithm 1 , in each loop of the greedy approach, we should compute the marginal gain for every node of the network to fi nd the best one. As we mentioned in previous subsection, the marginal in fl uence of a node v is obtained by subtracting the amount of two in fl uence functions each given a different initial set. Eq. (3) describes the marginal in fl v . Calculating the in fl uence function entails to extract the ST structure for every node from scratch which is a costly task.
Instead, we offer to estimate the marginal in fl uence by a faster approach preventing to have an expensive tree based method for choosing the next member of seed set in each iteration. margInf v  X  X  X   X  S [ v fg ; T  X  X   X  S ; T  X  X   X  3  X 
For estimating the marginal in fl uence of a node v brought to the currently seed set S , the key observation is that adding v to S obviously brings no more bene fi tof  X  v fg ; T  X  X  to  X  S objective is to have an exact approximation for the percentage amount of  X  v fg ; T  X  X  which is the in fl uence spread increase when v is added to S . We do this by considering that a node v has some negative in fl uences in addition to positive in fl uences on the net-work. Eq. (4) represents our proposed approximation for Eq. (3) ,in which P  X  Sw and P Sw respectively signify the positive and negative in fl uence spread of S to v 's neighbor w ,if w is the seeds neighbor too; otherwise P  X  Sw and P Sw would be zero. These in fl probabilities are computed according to the Eqs. (5) and (6) .In
Eq. (4) , we exploit the pure in fl uences of v on the network without interfering of the seeds. To achieve this, v is rewarded for positive in fl uences and also is imposed by penalties for negative effects.
P  X  1  X  P  X  1  X 
Note that by accepting the estimation of the marginal in fl described in Eq. (4) , we do not need to calculate the in function in Algorithm 1 ; except for each single node set in the iteration. Therefore, we propose Algorithm 2 which is obviously a more ef fi cient method for mining the in fl uential source nodes in the network. In the fi rst iteration, it acts the same as Algorithm 1 and calculates the trust based time constraint in fl uence spread of every single node by executing the ST method. It then saves the single node in fl uences and utilizes the estimation of marginal in fl uences in subsequent iterations to increase the seed set S . 5. Experimental results and discussion
This section composes of two subsections, precisely covering our observation and analysis. The fi rst subsection presents experi-mental setup and evaluation measures. The latter one presents and analyses the obtained results. 5.1. Experimental setup
This part includes the examined da ta sets, evaluated algorithms, we present our experimental dataset networks extracted from avai-lable real-world social networks of Wikipedia, Slashdot and Epinions.
Section 5.1.2 introduces the examined methods of TLIM, MISP, TBHD and RAND which have been implemented for the in fl uence maximiza-tion problem. The important and unique parameters of the trust-based Algorithm 2. Greedy based Framework with Marginal In fl uence Estimation Input: K ; T ; G ; P  X  uv ; P uv ; P lat u ;  X 
Output: S 1 for each v A V do 2 calculate  X  v fg ; T  X  X  by ST structure; 3 u  X  argmax v A V \ S  X   X  v fg ; T  X  X  ; 4 S  X  f u g ; 5 P 6 P
Sw  X  0 for w = 2 N 7 P
Sw  X  P uw for w A N out  X  u  X  ; 8 P
Sw  X  0 for w = 2 N out  X  u  X  ; 9 for i  X  2to K do 10 u  X  argmax v A V \ S  X  v fg ; T  X  X  11 S  X  S [f u g ; 12 update P  X  Sw for w A N  X  out  X  S  X  ; 13 update P Sw for w A N out  X  S  X  ; 14 return S ; time constrained in fl uence maximization problem are described in
Section 5.1.3 . We then propose the major evaluated measure for the problem in Section 5.1.4 . 5.1.1. Dataset
To explore the performance of our method, we conduct our extensive experiments on three real-world trust networks: Wiki-pedia 1 , Slashdot 2 and Epinions 3 datasets.

Wikipedia is a free online encyclop edia prepared by collaborations of millions of people all around the world. Among the contributors of
Wikipedia, a small part is selected as administrators who have special access for the maintenance of this web site. In admin election, each user can vote for or against each candidate. In this experiment, we use the dataset collected from the voting network of Wikipedia, in which nodes represent the users and a directed edge from node a to node b represents that user a voted on user b . Each edge is associated with a weight which can be  X  1 for a compliant vote or 1 for an opponent vote.Wetagapositivelinkwithtrustsign(  X  )andanegativeone with distrust sign ( ). We found the dataset consisting about 7118 nodes and about 107,087 edges.

The latter dataset is denoted by Slashdot and is composed of the users of a technology-related news website with the same name (Slashdot.org). In this network, users can tag each other as friends or foes which is de fi ned by the links between them. So, we can detect the trust link in the case of friendship relation and distrust link otherwise. There is about 516,575 nodes and 77,350 edges in the trust network of Slashdot which we use in our experiment.
The last dataset is a large social network collected from an online product rating site Epinions.com. This is a who-trust-whom network, in which, members can decide whether to trust each other. The trust information is then combined with review ratings to conclude which reviews are shown to each user. We used the Epinions dataset prov-ided by Massa and Avesani (2009 ) in which, there is about 92,830 nodes and about 841,372 edges. Each trust and distrust link is assigned with value  X  1and 1 respectively. We distinct the edges with positive and negative signs ac cordingly, to make them prepared for the presented model in the article. 5.1.2. Evaluated methods
Inthisexperiment,weevaluatetheef fi ciency of the following methods for the trust based time constraint in fl uence maximization problem. The fi rst one (TLIM) is our presented framework for the most in fl uential nodes in a trust network with time limited concerns. We compare our TLIM with MISP, TBHD and RAND methods as de fi ned respectively in the following:
Trust based Latency aware In fl uence Maximization (TLIM). TLIM is ourproposedmethodinthisarticle . As described in previous section, this is a greedy approach composing of K iterations, where K is the solution size. This met hod, calculates the in fl uence spread for each single node v utilizing ST structure. It then adds the node with the largest marginal in fl uence estimation to the seed set one after another ( Algorithm 2 ).

Marginal Discount of In fl uence Spread Path (MISP). MISP is a time constrained approach for in fl uence maximization problem which exceeds other state-of-the-art solutions like PMIA ( Chen et al., 2010 )inperformance( Liu et al., 2012 ). The implementation of MISP is provided by its authors.

Trust Based High Degree (TBHD).  X  High degree  X  is a heuristic approach which selects top K in fl uential nodes in order of decreasing degrees ( Wasserman and Faust, 1994 ). For a fair analogy, here we consider nodes with highest positive out-degree as the most in nodes in trust based diffusion networks.

Random (RAND). Rand is our baseline method which selects K nodes uniformly at random as the seeds. 5.1.3. Parameter setting
In order to execute the evaluated methods on the above datasets, we need to set several parameters as follows: As well as ( Kempe et al., 2003; Chen et al., 2009; Chen et al., 2010; Chen et al., 2012; Liu et al., 2012 ), we use the  X  Weighted Cascade policy for the in fl uence probability on each link, which is widely investigated in the literature. This model acts fairly with each neigh-bors of a node v and gives them an equal ration for in fl P do not differentiate between positive and negative in fl uences and consider that a trust neighbor has the same in fl uence quantity as a distrust neighbor; however in opposite direction.

Regarding the in fl uencing delay distribution for each node, we follow Liu et al. (2012 ). We consider a Poisson delay distribution for every node with a random selection of  X  parameter from the set {1, 2, 3 ... 20}. Also for more investigation, we apply another discrete distribution for the in fl uencing delay in Wikivote network. Geometric delay distribution is considere dinthisnetworkwitharandom selection of p parameter for the success pr obability where the number does not have any restriction on the probabilities of in fl the in fl uencing delay; so, they can be chosen from any distribution.
We de fi ne another parameter  X  , which is a threshold for out the paths starting from a seed node to another node not in seed. These paths have special meaning in our method as explained in previous section. By tuning the threshold parameter  X  ,wecancontrol the number of such paths when ignoring weak ones  X  those with weights below the threshold. Obviously, smaller  X  results in more paths and so more accurate estimation of in fl uence spread, yet larger running time. Experiments over different values of  X  shows there is a good balance between the accuracy and running time when  X  to 10 5 ( Liu et al., 2012 ). Consequently, we choose the threshold  X  10 5 for pruning weak TPs and DPs in our method and also weak
ISPs in MISP. 5.1.4. Evaluation measure
Remember from Eq. (1) in Section III ,weaimtomaximizethe positively activated nodes within a given time T by selecting the most in fl uential seed set S . Therefore, the most convenient performance measureforthetrust-basedtimeconstrainedin fl uence maximization problem is the amount of in fl uence spread by the selected set S .This nodes S and the time constraint T . Large amount of in fl indicates better performance of a pproaches for choosing the seeds. In order to evaluate the ef fi ciency of each method, we apply Monte
Carlo simulation to achieve an accurate estimation of the in function  X  S ; T  X  X  given the set S selected by that method. To get the  X  ground truth  X  in fl uence spread for S within T , we repeat the simu-lation process for 20,000 times and return the average total number of positive nodes as the quantity of  X  S ; T  X  X  .Wethenusetheabove quantity to compare the performance of different methods with each other as discussed in next section. 6. Results and discussion
This part provides our experimental results and analysis on three real social networks of Wikipedia , Slashdot and Epinions . First dataset consists of Wikipedia voting data collected from the voting network of thissite.Inthisnetwork,userscanvotefororagainsteachotherto select the administrator. Therefore, each edge  X  u ; v  X  represents the positive or negative opinion of user u about user v .If u votes for v ,we can conclude that u trusts v .Inothercase, u demonstrates his mist-rust of v by voting against him. The second dataset consists of the user community of Slashdot.org, in which nodes tag their neighbors as friends or foes. In this network, friendship is equivalent to a trust trust-whom social network of a popular consumer review site Epi-nions.com. In this network, users declare whom to trust and whom to distrust. Consequently, the trust information is used to navigate each user through those reviews which most in fl uence him. In order to the most in fl uential nodes in these trust networks, we should consider effects coming about trust relation between the members of the network.

We conduct our experiments to measure the ef fi ciency of TLIM in this article for the trust-based time constraint in fl uence maximization problem. In order to compare the performance of evaluated algorithms for the above problem, a critical performance metric is considered. This measure counts for the number of nodes positively in fl uenced by the selected seed set S within a given time period T ,whichisde
S ;
T  X  X  . Fig. 8 shows the performance of various methods on Wikipedia dataset. The horizontal line of this diagram indicates different sizes of source nodes, while the vertical axis shows the amount of in spread. Hence, each point in this chart represents the amount of in fl uence spread by a seed set with a speci fi c size. In other words, this is the number of positively activated nodes under TLIC propagation model starting from the seed nodes with a given size. To plot this diag-ram, we fi rst execute each method to obtain the source set S which is chosen by each one for a desired set size K .Here,weperformexec-ution of evaluated methods for various size of source nodes K  X  f 1 ; 10 ; 20 ; 30 ; 40 ; 50 g andsetthetimeconstraintto T  X  10 as in Liu et al. (2012 ). We then run 20,000 Monte Carlo (MC) simulations with seed set S selected by each method and for each set size K .MC simulatestheprocessofin fl uence propagation in a network in which trustaspectandthetemporaldynamicsofthediffusionprocessis considered. This step-wise routine starts from the initial seed nodes S and continues in time to spread the in fl uence into the whole network till reaches the deadline time. At the end, the average total number of set S . For each selected set S by a particular method, the pair of the in fl uence spread and S ' size is displayed via corresponding points in Figs. 8  X  10 regarding Wikipedia, Slashdot and Epinions datasets respectively.

For a given seed set size, the more in fl uence spread demonstrates the better performance of a method in choosing the most in node set. Experimental results of comparing various in fl imization algorithms show that TLIM outperforms other methods in selecting the most in fl uential source nodes. For all datasets, TLIM achieves more in fl uence spread against each number of sources. After
TLIM, MISP gets better result than the other two. Because, it considers the major time aspect in identifying the in fl uential spreaders and also has a smarter search framework than TBHD and RAND. As we expe-cted, RAND performs the poorest among the all methods; since it acts at random and not wisely to account for time and trust in the network.
TBHD, which is a simple heuristic trust based method, fails to identify the most in fl uential nodes when the social network gets larger in size of nodes and edges. We consider that TLIM and MISP are based on the greedy approach shown in Algorithm 1 . The difference of these meth-odsliesinthewayofcalculatingthein fl uence function and thereby computing the marginal in fl uence increase. Although MISP concerns the time constraint in estimating the in fl uence spread by each set, but effects of each node on the others. Therefore, MISP fails to proper source nodes in the trust-based time constraint in maximization problem. Contrary to MISP, TLIM takes into account both crucial time and trust factors in selecting the most in fl
Utilizing the trust and distrust paths in each network, TLIM can calculate positive and negative time-bounded in fl uences of the seeds on other nodes. It then discovers the state tree structure for each node to compute the probability of been positively activated for each one.
Accordingly, TLIM have an accurate estimation of the in fl by a given seed set S and hence, speci fi es S 's fi tness correctly.
Table 1 shows the running time of mentioned algorithms. TBHD and RAND are excluded from this table due to their trivial running time. MISP has low run time and is faster than TLIM, although it is not as sensible as TLIM. We can see that the dominant time of TLIM is for calculating the in fl uenceofsinglenodesinthe fi rst loop of this method and adding any more nodes to the seeds would not be costly, even in large networks such as Epinions.

For more investigation of the time constraint T in the trust based time constraint in fl uence maximization problem, we depict the performance of all evaluated methods for different T 's and K  X  50 in Fig. 11 .Asthis fi gure indicates, more deadline T drives more in fl uence spread for each method except for the RAND which does not care the different time interval for spread the in fl network. That means in this method the propagation process in the fi rst little time intervals and does not grow any more. It is because of the poor performance of RAND algorithm in fi nding the seeds, as if those nodes returned by RAND cannot in fl uence the other nodes in the network and the in fl uence spread remains about 50 for different T 's.Again,MISPperformsbetterthanTBHDasthisisatime constraint in fl uence maximization method; however, it weakens toward TLIM as T gets larger. TBHD has ascending behavior against T , although this is not a time constraint algorithm. This proves the signi fi cant role of trust in the in fl uence propagation process which TBHD takes into consideration.

We have also brought the overlapping seed nodes returned by different algorithms against different T 's in Wikipedia dataset, which con fi rms our previous conclusions. Tables 2 and 3 depict the overlapping seeds returned by TLIM and MISP respectively. Both methods care about the deadline T and select different seeds suitable for each time constraint shown in the tables. In bigger time interval, TLIM acts more sensitive and the selected seed sets are more distinguishable in larger T 's; since, it takes into account trust aspects of seed nodes as well as the deadline. Contrary in
Table 4 , TBHD and RAND act regardless of the time constraint and return similar seed set for each of T . Agreeing to our discussion, the experimental observations show that our TLIM performs the best among the other methods for solving the trust-based time con-straint in fl uence maximization problem.

Also we execute our model on the different sample sets of the lar-gest dataset used in this experiment to show the scalability of our model. We have done this by applying a random node sampling to
Epinions network with different samples of 10  X  90% to produce data-of applying our model on the different sample sets of Epinions (10  X  90%). As these fi gures show, TLIM outperforms other methods in ieves almost the most in fl uence spread against each number of sources in that network.

Furthermore, Fig. 21 shows the comparison of the running time of TLIM on the different samples of Epinions network, where the running time of TLIM on the fi rst sample set (Sample1) is set to 1 and the running time of the others have been compared to it.
According to this fi gure, our model is scalable in large networks and the running time increases almost linearly with the size of the input dataset.

Also for more investigation of the in fl uencing delay distribution for each node, we consider Geometric delay distribution in Wikivote net-work. In Fig. 22 we present the performance of our model in Wikivote dataset for Geometric delay distribution. As this fi gure shows, our TLIM performs the best among compared methods for detecting the most in fl uential nodes in the network. 7. Conclusions
Recently in fl uence maximization in social networks has been exte-previous researches assumes simila r temporal chances for every node to in fl uence another; however, in real world, time plays a major role in pairwise propagation rates in social networks. There is little work to study in fl uence maximization considering time aspect of the propaga-tion process in social networks and existing approaches merely offers a mediocre performance due to ignori ng trust aspects of the diffusion process. In this paper, we have developed a method for selecting the most in fl uential nodes in social networks that accounts for time and trust simultaneously. To the best of our knowledge, we are the study trust in classic IC model and also the fi rst to consider both important time and trust factors jointly in the in fl uence maximization problem. Consequently, we extend the classic IC model to include time and trust together, which is more applicable in existing social networks. We then fi nd the most in fl uential nodes taking into consideration time and trust simultaneously in social networks. We demonstrate the perf-ormance of our approach to fi nd most in fl uential nodes in three large trust based social networks. The obtained results are very promising. As an extension to the presented model in this paper, we will work on continuous states for each node in a social network. Accordingly, the continuity can accommodate the intrinsic manner of a node in adopting an innovation when it is inspired by its neighbors. Also in the future work, we will investigate a more intelligent search approach instead of thesimplegreedyalgorithm.Inaddition,wehopeto fi nd a faster method to calculate the in fl uence of single nodes in the network which would lower the running time of our method dramatically.
 References Scaling Up of the Running Time
