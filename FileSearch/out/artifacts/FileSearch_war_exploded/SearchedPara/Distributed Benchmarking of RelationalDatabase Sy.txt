 P erf o rma n ce a n a ly s i sa n d wo rk lo ad measureme n tappearas i mp o rta n t i ssues in C o mputer S c i e n ce , espec i a lly in database tech nolo g y. Alon gthe y ears researchers ha v ebee n pr o p o s in gd iff ere n t w a y st o be n chmark D atabase M a n ager Sy stems (DBMS). T he TP C -Cappearsasthem o st p o pu l ar spec i ficat ion f o rbe n chmark -in gtra n sact ion a lDBMS.

To da y X  stra n sact ion a lDBMS are c on sta n t ly up on l arge -sca l e wo rk lo ads ( e . g ., in ter n et ) a n drequ i re a re li ab l et ool t o be n chmark them up on as i m il ar wo rk lo ad . U sua lly, be n chmark in gt ool sbased on TP C -Cs i mu l ate a mu l t i-user wo rk lo ad wi th in as in g l emach in e .How e v er , th i sa voi ds l arge -sca l ebe n chmark in ga n da l s o in tr o duces de vi at ion s in the resu l ts .Mo re ov er , m o st o ftheset ool sarede v e lo ped f o rapart i cu l ar DBMS. T h i smea n s that the be n chmark lo g i c n eeds t o be adapted t o the DBMS features a n ds o met i mes n eeds t o be i mp l eme n ted d i rect ly in i t . Opt i m i zat ion sca n be i mp l eme n ted t o ach i e v erequ i reme n ts o fthe DBMS. Fo r e x amp l e , b y us in gst o red pr o cedures , the s o urce c o de will be c o mp il ed a n dst o red in the DBMS mem o r y a n dth i sc o u l da ff ect the e v a l uat ion X  sresu l t .
In deed , de v e lo p in gat ool dr iv e n t o apart i cu l ar DBMS yi e l ds t o t wo pr o b l ems : (i) i t i s i mp o ss i b l et o e v a l uate a wi de li st o f DBMS. (ii) the wo rk lo ad te n ds t o be u n rea l.

In th i spaper ,w eprese n tas ol ut ion f o rbe n chmark in g DBMS in afu lly d i s -tr i buted ma nn er that a l s o a i ms t o s i mu l ate l arge -sca l e wo rk lo ads . Our s ol ut ion ca ll ed TP CC -C 3SL i sad i str i buted s y stem de v e lo ped in J a v athatc o mp li es wi th the TP C -Cspec i ficat ion.

TP CC -C 3SL w as de v e lo ped t o be e x ecuted in afu lly d i str i buted w a yyi e l d in g sca l ab ili t y t o the be n chmark .F urtherm o re ,i ts arch i tecture a llow sthe inj ect ion
To be p l atf o rm in depe n de n t , th i st ool w as de v e lo ped as o pe n s o urce s o ft w are a n dmakese x te n s iv euse o f patter n sa n dse v era l frameworks f o r o b j ect pers i s -te n ce a n drec o rd lo gtracks .

T he rest o fth i sart i c l e i s o rga ni zed as f ollow s .S ect ion 2sh ow ss o me re l ated wo rk .S ect ion 3 descr i bes the arch i tecture o f TP CC -C 3SL. S ect ion 4prese n ts the v a li dat ion o f o ur t ool thr o ugh be n chmark in gs o me o pe n-s o urce DBMS a n d S ect ion 5 c on c l udes the te x t . In ge n era l, the DBMS v e n d o rs i mp l eme n tthe i r own be n chmark t ool [1 7 ] a n d make the c o de a v a il ab l et o the c o mmu ni t yin the TP C w ebs i te .Al s o a v a il ab l e on the in ter n et are s o me o pe n-s o urce i mp l eme n tat ion ssuchasO SDL-DBT 2 [16], TP CC -UV a [ 8 ] a n d B e n chmark S Q L[15].How e v er , these t ool ssh o u l dbem o re carefu lly vi e w ed u n der t wo i ssues .

Fi rst ly, the y s i mu l ate a mu l t i-user e nvi r on me n t in as in g l e no de w here each emu l ated user e x ecutes as a n e wT hread .How e v er , th i s i s no tsca l ab l es in ce th i s no de ca n ru no ut o fres o urces qu i ck ly w he n e v er be n chmark in g i scarr i ed o ut wi th a l arge n umber o femu l ated users .A better appr o ach sh o u l dc o mprehe n d ad i str i buted ma nn er :on emach in ee x ecutes the DBMS a n d o ther mach in es emu l ate the users .

S ec on d ly, the y are t i ed up t o aspec i fic O S a n d /o r DBMS ( e . g ., i mp l eme n ted as st o red pr o cedures ) a n dca nno tbeusede l se w here .W ec l a i mthatth i sma y a ff ect the be n chmark in gresu l ts s in ce the c o de i s i mp l eme n ted d i rect ly in the DBMS a n d , theref o re , ca n take ad v a n tage o fthe in ter n a lDBMS fu n ct ion sthat are a l read yo pt i m i zed .A fa i r appr o ach sh o u l dc o mpr i se a no pe n-s o urce ,DBMS-in depe n de n tbe n chmark in gt ool. TP CC -C 3SL be n chmarks in afu lly d i str i buted ma nn er .A ssum in gthat on e w a n ts t o s i mu l ate 1 28 c on curre n t users but has only 6 4mach in es ,i t suffices t o rep li cate TP CC -C 3SL ov er a ll 6 4mach in es a n ds i mu l ate t wo users wi th in each mach in e .Li ke wi se ,i f 1 28 o rm o re mach in es are a v a il ab l e i t i sp o ss i b l et o ha v e only on es i mu l ated user per mach in e .

F urtherm o re ,TP CC -C 3SL a llow sfi n a l users t o e v a l uate a ny DBMS wi th o ut cha n g in gthes o urce c o de .To acc o mp li sh th i stask w euseda no b j ect -re l at ion a l mapp in gframe wo rk [10]. T h i sframe wo rk e n ab l es the usage o fmeta -data in c l uded in the s o urce c o de , k nown as a nno tat ion s .T he a nno tat ion s perm i tthee x ecut ion o f Data Definition Language (DDL) a n d Data Manipulation Language c o mma n ds aga in st the DBMS wi th o ut us in ga ny i mp li c i t Structured Query Language S Q Lin struct ion. An e x amp l e o fa nno tat ion ca n be see nin the Fi gure 1.

T he a nno tat ion @Entity in structs the DBMS t o create (o rupdate ) a n e w tab l e i f i td o es no te xi st a n d @Table defi n es that the n ame o fth i stab l e will be WA RE H O US E .T he a nno tat ion s ov er the getId() meth o d regards the id attr i bute . @Column in d i cates that a c ol um n must be created in th i stab l ea n d the n ame o fth i sc ol um n will be W ID . @Id defi n es that th i sc ol um n will be a pr i mar y ke y.

A sa TP C -C i mp l eme n tat ion, the ma in fu n ct ion a li t yo f o ur s y stem i st o c on-t in u o us ly e x ecute the 5 tra n sact ion t y pes defi n ed in the spec i ficat ion dur in gthe be n chmark e x ecut ion. T he TP C -Cspec i fies a fi x ed freque n c y d i str i but ion (FD) f o rthe n umber o ftra n sact ion s that must be e x ecuted .An add i t ion a l feature that w eha v e added i sthec on figurab l e w e i ghted tra n sact ion s .T h i se n ab l es users t o ad j ust the tra n sact ion X  s FD in o rder t o adapt the be n chmark t o the i rpar -t i cu l ar n eeds .B ut i tsh o u l dbe no ted that m o d i f yin gatra n sact ion X  sfreque n c y d i str i but ion ma yviol ate the TP C -Cspec i ficat ion.
 To v a li date o ur t ool, w ebe n chmarked three o pe n s o urce DBMS s :Po st -gre S Q L[1 4 ], MyS Q L[1 8 ] a n d a pure J a v a DBMS, the A pache D erb y[19].W e c on s i dered t wo d iff ere n tsce n ar io s :(1) a ll s i mu l ated users subm i ttra n sact ion s fr o m the same mach in ea n d ( 2 ) a ll s i mu l ated users subm i ttra n sact ion sfr o m d iff ere n tmach in es .T he first sce n ar io i sca ll ed Server , ace n tra li zed appr o ach , a n dthesec on d on e Multi-Server , ad i str i buted appr o ach .
 In the Server sce n ar io only on emach in e w as used .I t w as a nIn te lX e on Quad C o re pr o cess o rat2G H z , 2G B R AM a n dt wo 2 50 G BS C SI HD c on-figured f o rR AID-0 ru nnin g U bu n tu 8 .0 4 LTS S er v er Ed i t ion f o r 6 4b i tpr o ces -s o rs .In Multi-Server w eused 5o ther mach in es t o ru n the s i mu l ated users . All o f them shared the fi l es y stem (wi th 5TB) a n dra n the same O S(D e -b i a n 4 .1.1-2 1-Lin u xv ers ion 2 .6. 24 . 7 ). T ab l e 1 sh ow s the character i st i cs o fthese mach in es .
 Name Processor Memory macalan D ua l-C o re AMD Opter on( tm )P r o cess o r 222 0 at 28 00 caporal AMD Opter on( tm )P r o cess o r 242 at 1600 MH z 4 talisker AMD Opter on( tm )P r o cess o r 242 at 1600 MH z 4 cohiba In te l( R )X e on(TM) at 3.60 G H z 4 bolwmore D ua l-C o re AMD Opter on( tm )P r o cess o r 222 0 at 28 00
W eremarkthat in the Server sce n ar io, the base mach in ehadmuchm o re c o m -put in gp ow er tha n a ll fi v emach in es used in the Multi-Server sce n ar io. Fi gure 2 prese n ts the resu l ts o fthe Po stgre S Q L X  sbe n chmark 1 .

Each sce n ar io w as e x ecuted 4 t i mes .T he first e x ecut ion s i mu l ated 10 c on-curre n tusersa n dthef ollowin ge x ecut ion ss i mu l ated 30, 50 a n d 100 c on curre n t users .D ur in gthee x ecut ion, the s i mu l ated users subm i tted se v era l tra n sact ion s in para ll e l aga in st the DBMS.
 T he set o fa ll c o mp l eted tra n sact ion sperm in ute i sca ll ed tpmC b y the TP C -C .In the m o re restr i cted e x ecut ion, i. e ., 10 t o30 c on curre n tusers ,i thasbee n o bser v ed that the tpmC i sh i gher in the ce n tra li zed appr o ach .How e v er ,w he n 50 c on curre n tusersares i mu l ated , the d i str i buted appr o ach e x h i b i ts better per -f o rma n ce tha n the ce n tra li zed appr o ach .T h i stre n dgetsm o re e vi de n t w he n 100 c on curre n tusersares i mu l ated .T he tpmC o bta in ed in the Server sce n ar io i s only ha l f o fthe on e in the Multi-Server sce n ar io.
A se x pected , th i s w as due t o the Server sce n ar io c on figurat ion, s in ce a s in g l ema -the DBMS. D ur in gthee x per i me n t , the mach in era no ut o fc o mput in gres o urces , a ff ect in gthe ov era ll perf o rma n ce .By c on trast , the Multi-Server sce n ar io sca l ed up c o rrect ly a n da voi ded the ov er lo ad o fthe DBMS mach in e wi th s i mu l ated users . In th i spaper w eprese n ted a n e w t ool f o rbe n chmark in g DBMS, ca ll ed TP CC -C 3SL, w h i ch i sbased on the TP C -Cspec i ficat ion.

TP CC -C 3SL a llow sthed i str i but ion o fusersacr o ss mu l t i p l epr o cess in g no des in o rder t o s i mu l ate a mu l t i-user e nvi r on me n t .T h i sa llow sac on s i derab l e n umber o ftra n sact ion st o be subm i tted in para ll e l t o s i mu l ate a l arge -sca l ee nvi r on me n t ( e . g .in ter n et ). T he resu l ts sh ow ed that the w a y the tra n sact ion s are subm i tted a ff ects the DBMS X  sperf o rma n ce .A saresu l t ,w e suggested that f o rbe n chmark in g l arge -sca l e user access , the perf o rma n ce e v a l uat ion o f DBMS sh o u l dbepr i mar ily supp o rted b y a Multi-Server meth o dthatdea l s wi th l arge -sca l e wo rk lo ads .
W ea l s o sh ow ed that users ca n ad j ust the TP CC -C 3SL f o rthe i r n eeds . Our t ool a llow suserst o m o d i f y the tra n sact ion X  sfreque n c y d i str i but ion t o better re fl ect the i r n eeds .

TP CC -C 3SL w as a l s o de v e lo ped us in gthethree -l a y er c on cept : prese n tat ion, bus in ess lo g i ca n dpers i ste n ce .B ased on these i deas ,w ebe li e v et o ha v etake n a step further t ow ards the ge n era li zat ion o f TP C -Cbe n chmark in g .

