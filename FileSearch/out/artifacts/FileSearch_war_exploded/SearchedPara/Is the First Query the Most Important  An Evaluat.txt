 Complicated search tasks often req u ire m u ltiple q u eries. These q u eries form a search session and work as a whole to f u lfill an information need. Session search [3], [6,7], [11], [13], [18], [23] is the Information Retrieval (IR) task that retrieves doc u ments for a session.

Session search happens freq u ently on the social media and the Web, s u ch as plannin g a trip, cons u ltin g for medical choices, or lookin g for a g ood kinder g arten. In a typical session, a u ser starts from an initial q u ery and then g oes thro ug htheret u rned search res u lts and chooses some doc u ments to examine. The u ser may find the search res u lts satisfyin g the information need or ins u fficient. This motivates the u ser to modify the q u ery and examine the newly ret u rned doc u ments. This process contin u es u ntil u ser  X  s information need is f u lfilled.

The TREC (Text REtrieval Conference) 2010-2012 Session tracks [15,16,17] have stron g ly promoted research in session search in academia. TREC Session tracks sim-u lated a typical interactive search scenario: a u ser keeps refinin g q u eries to achieve a specific information need. This sim u latin g task covered lar g e scope in topics like daily life, technolo g y, and literal arts. Meanwhile, the q u eries were created by assessors who were not necessarily specialists of the g iven topic. Therefore, these sessions closely reflected real search behaviors. All q u eries and intermediate search res u lts, incl u din g u ser behavior like click and time spent on every res u lt, are provided to participants so that they can desi g n effective search models. Table 3 shows an example from the TREC 2012 Session track [16].

Altho ug h TREC Session task foc u ses on retrieval for the last q u ery, TREC partici-pants [1], [6], [11] have demonstrated that u sin g all q u eries in a session is an effective techniq u e for session search. P artic u larly, u sin g all q u eries can g enerally achieve a 15%  X  20% nDCG@10 [5] improvement over only u sin g the last q u ery. We term the tech-niq u eof u tilizin g and combinin g m u ltiple q u eries in a session  X  X  u er yagg re ga tio n  X  .In TREC 2012 Session track, 17 o u tof21s u bmissions which applied q u ery a gg re g ation g ained improvements of search acc u racy (meas u red by nDCG@10).

In this paper, we investi g ate this promisin g techniq u e, q u er y agg re ga tio n , and its im-pact on session search. The most freq u ently u sed q u ery a gg re g ation scheme for session search is u niform a gg re g ation which treats every q u ery in a session eq u ally. In many cases, however, some q u eries are more interestin g to the u ser; hence it is reasonable to treat them differently. We ar gu ethataq u ery  X  s importance co u ld be related to its posi-tion in the session. One possible and int u itive ass u mption is that a q u ery nearin g to the last q u ery is more important than others since it motivates the last q u ery. We answer the this work. We propose a three-step a gg re g ation scheme, which is inspired by U-shape q u ery wei g ht c u rves learned from trainin g data. Thro ug h experimentin g the new q u ery a gg re g ation scheme in combination with two state-of-the-art retrieval models, we find that the proposed three-step a gg re g ation scheme achieves the best search acc u racy for TREC 2012 with a 4.69% g ain in nDCG@10 over the TREC 2012 best system.

The remainder of this paper is or g anized as follows. Section 2 disc u sses the related work. Section 3 states the problem definition and section 4 presents the experimental set u p. Section 5 describes how we learn the q u ery wei g ht c u rve by SVM rankin g and section 6 proposes the new three-step q u ery a gg re g ation scheme. Section 7 eval u ates vario u sa gg re g ation schemes in combination with di fferent retrieval models. Section 8 concl u des the paper. Session search is challen g in g since it involves m u ltiple q u eries in search. Existin g q u ery a gg re g ation schemes can be g ro u ped into explicit agg re ga tio n that assi g ns ex-plicit wei g hts to each q u ery and separates a gg re g ation from the retrieval models and i m plicit agg re ga tio n that mer g es q u ery wei g hs in the retrieval models. 2.1 Explicit Query Aggregation We s u mmarize the explicit q u ery a gg re g ation schemes as the followin g .Let  X  i rep-resents the wei g ht for each q u ery q i in a session. Below are commonly u sed q u ery a gg re g ation schemes: U n ifor m :Allq u eries are wei g hted eq u ally with the same wei g ht 1.

P re v io u s v s. c u rre n t( Pv C) :Allq u eries before the last q u ery share a same lower wei g ht while the last q u ery employs a hi g her wei g ht:  X  i =1 if i = n ,otherwise  X  i =  X  p .where  X  p &lt; 1 . Two top TREC 2012 systems [6], [11] both u sed this a gg re-g ation scheme. [11] set a disco u nted wei g ht for the previo u sq u eries when comp u tin g the Maxim u m Likelihood Estimation (MLE) of feat u res s u ch as sin g le terms, ordered, and u nordered phrases. [6] directly applied the disco u nted wei g hts when combinin g q u eries. Jian g et a l. [10,11] ass u med that the last q u ery was most important and all pre-vio u sq u eries were of the same importance in a session, hence they assi g ned a hi g her wei g ht to the last q u ery while the same lower wei g hts to all previo u sq u eries.
First v s. rest (F v R) : [14] proposed to reward more to retrieval systems that retrieve more relevant doc u ments in the earlier q u eries. This s ugg ests hi g her importance of the in g the last q u ery share the same lower wei g hts:  X  i =  X  f if i =1 ,otherwise  X  i =1 , where  X  f &gt; 1 .

D ist an ce-b a sed disco un ti ng ( D ist.) : In TREC Session 2012, [6] u sed a distance-based wei g ht disco u ntin g scheme. They observed that infl u ence of previo u sq u eries becomes weaker and weaker, while the last q u ery, which is the most novel, is concerned the most by the u ser. Hence the last q u ery receives the most wei g ht. A monotonically decreasin g f u nction can be u sed to model the wei g ht disco u ntin g :  X  i =1 if i = n , otherwise  X  i =  X  p n  X  i ,where  X  p &lt; 1 is a disco u nt factor for the second last q u ery.
Expo n e n ti a l : [7] implies an exponential disco u ntin g q u ery a gg re g ation. It consid-ers session search as a Markov Decision P rocess (MD P )[21]. Q u eries are modeled as states, search en g ines and u sers are modeled as ag e n ts in this MD P . Actio n s are di-and/or removin g q u ery terms from the previo u sq u ery q i  X  1 . Search en g ine actions in-cl u de increasin g , decreasin g , and maintainin g term wei g hts in the scorin g f u nctions. The entire session search process can be viewed as a proced u re that u ser actions and search en g ine actions infl u ence each other iteratively u ntil a search stops. Consider-in g the whole session, the overall relevance is scored for doc u ment d to a session that starts at q 1 and ends at q n as: Score ( session, d )= n i =1  X  n  X  i Score ( q i ,d ) ,where q ,  X  X  X  ,q i ,  X  X  X  ,q n are the q u eries in the session.  X   X  (0 , 1) is the disco u nt factor. 2.2 Implicit Query Aggregation Implicit q u ery a gg re g ation schemes are also pop u lar. For example, White et a l. [22] observed that two adjacent q u eries in a session co u ld be mer g ed by a linear combi-nation. Two q u eries in a pair were th u s assi g ned complementary wei g hts, less for the former. They assi g ned a wei g ht with the form of e  X  ( p  X  1) to a previo u sq u ery, where p represented how far this q u ery to the last q u ery. Bennett et a l. [2] chose a different base (0.95) in the above form u la.

Li u et a l. [19] also u sed q u ery a gg re g ation implicitly in their u ser behavior based retrieval model. They g enerated a term set from all q u eries. When a new q u ery with m terms arrived, each term in the term set was assi g ned a initial u niform wei g ht of 1 m and then mer g ed into the term set, by decreasin g wei g hts of the terms already in the set. This proced u re is eq u ivalent to assi g nin g earlier q u eries less wei g hts.
Beca u se of the complexity of session search, researchers have attempted to first clas-sify sessions and then apply specific a gg re g ation schemes to each class. For example, the CWI g ro u p[9]ass u med two classes of u sers:  X  g ood X  u sers and  X  X ad X  u sers. A  X  g ood X  u ser learns from previo u s search res u lts effectively so that the newer q u ery ex-presses the information need more precisely. On the contrary, a  X  X ad X  u ser fails to learn from the search experience so as to adj u st q u eries ineffectively, which ends u p with ran-dom q u ality q u eries. The a u thors classified the u sers into  X  g ood u sers X  and  X  X ad u sers X  based on the session len g th. They ass u med the short session was typically iss u ed by a  X  g ood u ser X  and vice versa. A session s u bmitted by a  X  g ood X  u ser receives a disco u nted wei g htin g scheme that acco u nts for lower wei g hts for early q u eries than later q u eries in a session. The sessions iss u ed by  X  X ad X  u sers received u niform q u ery wei g hts. It is a g ood idea to apply different a gg re g ation schemes accordin g to the search skill, b u tthere is no stron g evidence to j u stify that shorter sessions are from  X  X etter X  u sers.
Xian g et a l. [24] also classified sessions. They defined fo u r session types: reform u -lation, specialization, g eneralization, and g eneral association. For sessions of special-ization and g eneralization, they discarded previo u sq u eries and only u sed the last q u ery. For sessions of g eneral association, u niform wei g hts were assi g ned to each q u ery. They did not apply q u ery a gg re g ation for other types of sessions. This classification of ses-sions is sensible. However, it is challen g in g to classify the q u eries into these types. Therefore, the a u thors so ug ht for assistance from external knowled g es u ch as Open Di-rectory P roject (OD P ) 1 .Thismi g ht h u rt the system efficiency and the practical u se of this method in real-time online search systems.

In this paper, we investi g ate vario u s explicit a gg re g ation schemes th at are separated from the retrieval models. We report o u r findin g s in the followin g sections. In this paper, we present the whole session relevance score Score ( session, d ) as a wei g hted linear combination of the relevance scores of q u eries in a session S .Let Score ( session, d ) denotes the overall relevance score for a doc u ment d to a session that be g ins at q 1 and ends at q n . The score can be written as: where  X  i represents the wei g ht for each q u ery q i  X  S .

By form u latin g  X  i differently, we can have different q u ery a gg re g ation schemes. It is worth notin g that (1) allows u s to choose a gg re g ation schemes and retrieval models independently.
Score ( q i ,d ) is the relevance score between doc u ment d and the i th q u ery q i in the session. Score ( q i ,d ) can be calc u lated by a wide ran g e of doc u ment retrieval models. The retrieval models u sed in this work incl u de the state-of-the-art lan gu a g e modelin g approach as well as a novel model which considers historical search q u ery and res u lts. We u se the TREC 2011 and TREC 2012 Session track [15,16] datasets in o u reval u ation. Table 1 lists the statistics of the TREC datasets.

TREC Session tracks emphasize on findin g relevant search res u lts for the last q u ery in a session. This settin g mi g ht not be ideal since it is not gu aranteed that the last q u ery well represents the information need for a whole session. For example, the last q u ery in TREC 2012 session 27 (Table 3) is not g ood. After iss u in g the first two q u eries abo u t stoc kma r k et and 1998 w orld c u p ,the u ser did not find any relevant doc u ments and did not click any retrieved doc u ments. In the last (the third) q u ery, the u ser mi g ht be fr u strated and j u st s u bmitted a trivial q u ery fre n c hw orld c u p 1998 , which missed an emphasized aspect re a ctio n in the topic.

Nonetheless, we believe that most TREC se ssions well represent common Web search behaviors. We have observed interestin g patterns thro ug h experimentin g with TREC datasets. Moreover, the g ro u nd tr u th provided by TREC Session tracks is val u able for eval u atin g a gg re g ation schemes. We therefore employ TREC Session data and leave ex-periments over more pop u lar Web search lo g datasets, s u ch as the AOL q u ery lo g and the Yahoo! Webscope q u ery lo g ,asf u t u re work. The corp u s for retrieval u sed in o u r experiments is the Cl u eWeb09 CatB 2 collection. Spam doc u ments whose Waterloo  X  s  X  X ro u pX X  spam score 3 is below 70 [4] are filtered o u t from the collection. TREC  X  sof-ficial g ro u nd tr u th and eval u ation scripts are u sed in the experiments. nDCG@10 is the main eval u ation metric u sed in TREC Session tracks and also serves as the eval u ation metric in o u r experiments.

As described in section 3, q u ery a gg re g ation schemes and retrieval models can be applied independently. The refore, we experiment the a gg re g ation schemes in combina-tion with two retrieval models. The first retrieval model is the lan gu a g e model (LM). We modify the lan gu a g e model implementation in the Lem u r search en g ine 4 to incl u de q u ery a gg re g ation. The second retrieval model is the q u ery chan g e model (QCM)[7]. In the LM, the relevance score is calc u lated as in [20]: where the probability that t g enerates d (term wei g ht) P ( t | d ) is calc u lated based on m u ltinomial q u ery g eneration lan gu a g e model with Dirichlet smoothin g [25]: P ( t | d )= ment d , P ( t | C ) is the Maxim u m Likelihood Estimation (MLE) of the probability that t appears in corp u s C , | d | is the doc u ment len g th, and  X  is the Dirichlet smoothin g parameter (set to 5000).
 In the QCM, we modify (2) by adaptin g the adj u stment for term wei g ht in [7]: where the inverse doc u ment freq u ency of term t ,  X  ,  X  , ,and  X  are parameters. This section reports o u r findin g softheU-shapeq u ery wei g ht c u rve in session search. Initially, we aim to employ a s u pervised learnin g framework for rankin g to obtain the q u ery wei g hts in a session. In this section, we plot the q u ery wei g ht c u rves learned from the trainin g data, and then u se those learned wei g hts to a gg re g ate the q u eries in a session for retrieval. However, s u rprisin g ly, the learned wei g hts do not g enerate the best search acc u racy as compared to other q u ery a gg re g ation schemes. This mi g ht be ca u sed by overfittin g . Nonetheless, we believe that we have learned the major trend of q u ery importance in a session. In the next section, we describe a new q u ery a gg re g ation scheme that we derive from these discoveries. We employ SVMRank 5 to learn the q u ery wei g hts  X  i . SVMRank aims to optimize a rankin g f u nction [12]. The rankin g f u nction that SVMRank optimizes in o u r experiment is (1). We observe similar trends in learnin g res u lts for the two retrieval models and th u s only report one of them.

We b u ild a trainin g dataset by mer g in g the g ro u nd tr u th data from both TREC 2011 and TREC 2012 Session tracks, which were provided after r u ns u bmission [15,16]. Altho ug h it may be impractical to u se g ro u nd tr u th in a real s u bmission, the learnin g res u lt can g ive u s some inspiration abo u t the importances of q u eries in a session.
The sessions are different in len g th. Table 2 lists the n u mber of trainin g instances for sessions in different len g ths. We can see that most TREC search sessions contain two or three q u eries and on avera g ethen u mber of q u eries per session is 3.31. We g ro u pthe trainin g data by session len g th. For each g ro u p, we learn q u ery wei g hts  X  i by a 10-fold cross-validation. Few sessions are lon g er than five q u eries, hence we excl u de them from the trainin g data.

Fi g . 1 plots the c u rves of q u ery wei g ht distrib u tion over q u ery position for sessions with len g ths of 2, 3, 4, and 5, respectively. The x-axis displays the q u ery position index and the y-axis shows the correspondin g q u ery wei g ht. All learned q u ery wei g hts  X  i are normalized by  X  n ,thewei g ht for the last q u ery q n . For example, session 27 has three q u eries, i.e., n =3 ,theq u ery wei g hts for q 1 ,q 2 , and q 3 are 0.93, 0.94, and 1.
From Fi g . 1, we can see that t h ele a r n ed c u r v es a re close to U-s ha pe p a r a bol a s :(1) earlier q u eries have less importance; (2) the first q u ery u s u ally demonstrates a hi g her wei g ht than other q u eries, sometimes even hi g her than the last q u ery. In the above obser-vations, (1) is consistent with o u rint u ition, while (2) implies that besides the (typically most important) last q u ery, the first q u ery shows a special importance in a session.
We then apply these learned q u ery wei g hts into (1) and compare with one of the top performin g a gg re g ation schemes, exponential disco u ntin g scheme. The nDCG@10 eval u ation res u lts are shown in Table 4 and 5 for the two retrieval models described in Session 3. We expect to observe a performance g ain in nDCG@10 from the learned q u ery wei g hts as compared to the exponential scheme since the q u ery wei g hts are learned directly from the data. S u rprisin g ly, we find that learned q u ery wei g hts expe-rience a performance decrease. The u ndesirable performance of learned q u ery wei g hts is perhaps ca u sed by overfittin g . As we can see that the session len g ths vary. When we chose a specific wei g ht distrib u tion for each session len g th, the trainin g data is se g -mented and becomes more sparse. Moreover, learnin g and applyin g different wei g hts for sessions with different len g ths mi g ht not be infeasible in practice, beca u se the sys-tem is not able to know the session len g th when a u ser is still iss u in g q u eries. Nonethe-less, the learned q u ery wei g ht c u rve reveals interestin g patterns and trends in q u ery importance, which inspires u s to propose a new q u ery a gg re g ation scheme in the next section.
 In this section, based u pon this discoveries that we have made so far, we propose a smoothed version of the learned wei g hts and yield a new three-step q u ery a gg re g ation scheme. The new scheme is one of the best q u ery a gg re g ation schemes in o u r experi-ments.

The U-shape q u ery wei g ht c u rves motivate u s to treat the first, the c u rrent, and the middle q u eries in different ways. A three-step f u nction seems a g ood choice. We th u s propose a novel three-step a gg re g ation scheme: where  X  1 =  X  f denotes the wei g ht of the first q u ery,  X  p denotes the wei g ht of middle q u eries; they satisfy 0 &lt; X  p &lt; X  f .

It is worth notin g that in most cases  X  1 &lt; X  n .However,theq u ery wei g hts are not only related to i , the position of the q u ery, b u t also related to n , the session len g th. We observe that in Fi g . 1 that the first q u ery in a short session is of m u ch hi g her importance than that in a lon g session. Moreover, the first q u ery looks even more important than the last q u ery in a session that contains two q u eries. In o u r opinion, a short session maybeabletoq u ickly satisfy the information need, which mi g ht be ca u sed by startin g with a hi g hly relevant q u ery so that the u ser no need to modify the q u ery too m u ch. In other words, the first q u ery in a short session is of very hi g hq u ality and represent the information need well. The hi g her the wei g hts, the more important the q u eries, and the short sessions than the first q u eries in lon g sessions. We explore the optimal val u es for  X  f and  X  p in section 7.2.

In addition, from Fi g . 1, we can also see that shorter sessions have flatter wei g ht c u rves while the wei g ht c u rve of lon g er sessions is relatively steeper. The flat c u rve s ugg ests a u niform-ish q u ery wei g htin g scheme for short sessions. This conflicts the ass u mption made by He et al. [9]. They ass u med that a u ser who is satisfied within a short session is g ood at learnin g from previo u s search res u lts and iss u in gg ood q u eries so that the most recently g enerated q u eries are most important than the earlier ones. Therefore, they propose to very different wei g hts for individ u al q u eries in short ses-sions. Moreover, they consider that a u ser who req u ires a lon g session to search is not clear on the information need and is a bad learner to learn from previo u s search res u lts and iss u e better q u eries sooner. Therefore, the importance of all q u eries in the session that are iss u ed by a bad u ser sho u ld not be differentiated; which s ugg ests a u niform distrib u tion of the q u ery wei g hts for the lon g sessions.

We believe o u r observations are correct. Short q u eries u s u ally demonstrate that the u ser is clearer abo u t the search g oal as compared to lon g er q u eries. Lon g q u eries imply u sers chan g e their minds and try different q u eries d u rin g search. Therefore, the q u eries in a shorter session mi g ht show less  X  X eto u r X  in search and yield a flatter and hi g her val u ed c u rve for q u ery wei g hts than q u eries in lon g er sessions. 7.1 Aggregation Schemes under Comparison We compare the followin g a gg re g ation schemes in this eval u ation. The search al g orithm can be either the LM or the QCM.  X  Uniform: All q u eries in a session share the same wei g ht.  X  P revio u svs.c u rrent ( P vC): All previo u sq u eries q 1 , ..., q n  X  1 share a lower wei g ht  X  First vs. rest (FvR): The first q u ery has a hi g her wei g ht and the other q u eries in- X  Distance-based (Dist.): Q u ery wei g hts are disco u nted with how far the q u ery is  X  Exponential (Exp.): A a gg re g ation scheme proposed by this paper. It is derived  X  Learnin g :Thewei g hts of q u eries are learned by SVMRank as described in section  X  Three-step: There are three levels in the q u ery wei g htin g f u nction as defined in (5).
In addition, the best res u lts of the official TREC 2011 and TREC 2012 Session track (TREC best) [11], [19] are incl u ded for comparison and are u sed as the baseline. They both worked on the Cl u eWeb09 CatB corp u s. P artic u larly, the system of [19] u sed an exponential f u nction to disco u nt the wei g ht of q u ery based on the distance between it and the last q u ery. The system of [11] applied an a gg re g ation scheme of the same as P vC, with assi g nin g awei g ht of 0.6 to last q u ery and 0.4 to the previo u s ones. 7.2 Parameter Settings Q u ery a gg re g ation schemes presented in this pap er all contain parameters except the u niform scheme ( u sin g 1forallq u eries). Since the val u es of these parameters infl u -ence the effectiveness of q u ery a gg re g ation and search acc u racy, we cond u ct parameter selection and present them in this section. All the t u nin g are done thro ug h 10-fold cross-validation. We plot the parameter settin g s for both LM and QCM. For the P vC scheme, we t u ne  X  p over a ran g e of 0.1 to 0.9 to select the best val u efor  X  p .Fi g . 2 indicates the trends of nDCG@10 val u es with  X  p .Thec u rves show the same trends. The nDCG@10 val u es achieve peaks in both c u rves at aro u nd  X  p =0 . 8 .Itimpliesthatthea gg re g ation scheme and retrieval model can work independently.

For the other a gg re g ation schemes, we u se the similar parameter sweepin g method to find the best parameter val u es. Fi g .3,4,5,6ill u strate the t u nin g proced u res for FvR, distance-based, exponential, and three-step schemes. It is worth notin g that Fi g 5 s ugg ests a fairly mild disco u nt in exponential scheme, which means previo u sq u eries may be q u ite important as well. 7.3 Search Accuracy with Language Model Table 6 compares the search acc u racy u nder different a gg re g ation schemes for the lan-gu a g e modelin g model [25], [20]. TREC participants u s u ally provided hi g h perfor-mance systems. Therefore, we u se TREC best res u lts as a stron g baseline.

We adopt the parameters t u ned in section 7.2 for P vC, FvR, Exponential, and the three-step a gg re g ation schemes. The avera g e learned q u ery wei g hts from section 5 are u sedintheLearnin g a gg re g ation scheme.

From Table 6, we observe that P vC, FvR, exponential, learnin g , and three-step schemes o u tperform the TREC best r u ns. F u rthermore, the exponential scheme per-forms the best in TREC 2011 while three-step scheme wins in TREC 2012.

The distance-based scheme performs the worst. In o u r opinion, the reciprocal f u nc-tion disco u nts the previo u sq u eries too m u ch and h u rts the search acc u racy.
The proposed three-step scheme improves the search acc u racy in TREC 2012. It implies that the first q u ery may be more important than the middle q u eries beca u se a u ser u s u ally starts search from the topic words of his information need.

The three-step scheme is not the top in TREC 2011. We investi g ate the dataset dif-ferences between the TREC 2011 and TREC 2012. We find that 73 o u t of 98 sessions in TREC 2012 Session track contain the first q u ery composed of only theme terms, while only 31 o u t of 76 in TREC 2011 Session track, which implies that the q u ality of the first q u eries in TREC 2012 may be better than that in TREC 2011. This may be the reason why the three-step scheme o u tperforms the exponential a gg re g ation scheme in TREC 2012 b u t lose to it in TREC 2011 as shown in Table 6. 7.4 Search Accuracy with the Query Change Model We compare the search acc u racy for vario u sa gg re g ation schemes u sin g the QCM. We observe similar trend as in the lan gu a g e modelin g approach as well. The res u lts are listed in Table 7.

By comparin g Table 6 and Table 7, we find that the retrieval u sin g two different mod-els with q u ery a gg re g ation show similar trends for which a gg re g ation schemes work the best. It a g ain implies that q u ery a gg re g ation may be u niversally effective and indepen-dent of retrieval models.
 There are some small differences in the search acc u racy of the two retrieval models. First, FvR scheme is sli g htly better than P vC scheme in LM, while it is worse than P vC scheme in the QCM. The reason may lie in the fact that the QCM has already stren g thened the first q u ery by calc u latin g the q u ery transition probability for the next q u ery. Therefore, the FvR scheme may over-emphasizes the first q u ery  X  s importance in the QCM. This may also be the reason wh y three-step scheme improve the search acc u racy less si g nificantly in the QCM than in LM.

Nonetheless, the threes-step q u ery a gg re g ation scheme statistically si g nificantly o u t-performs the TREC best systems. It is also the top performin g q u ery a gg re g ation scheme for the TREC 2012 Session dataset. Altho ug h it takes some advanta g eof u sin g the g ro u nd tr u th for parameter t u nin g , it provides evidence that the importance of q u eries in a session may chan g e non-monotonically.
 7.5 Analysis of the Query Weight Curves To better u nderstand the behavior of vario u sq u ery a gg re g ation schemes and find o u t reasons for their different impacts on search acc u racy for session search, we plot the q u ery wei g hts for all q u ery a gg re g ation schemes in Fi g .1.O u rp u rpose is to lay o u tall the c u rves and look into the relationships amon g the q u ery a gg re g ation schemes.
The c u rve of the avera g ed learned q u ery wei g hts is the red solid line and is g enerated as follows. We avera g e  X  i for previo u sq u eries over all the s u bsets with n u mber of q u eries not g reater than 5. For example,  X   X  1 is avera g ed by the val u es of  X  1 trained on the s u bsets with n u mber of q u eriesof2,3,4,and5;while  X   X  2 is avera g ed by the val u es of  X  2 trained on the s u bsets with n u mber of q u eries of 3, 4, and 5 since  X  2 in the s u bset with q u ery n u mber of 2 is for the last q u ery. The avera g ed c u rve of  X  i a g ainst q u ery position is shown in Fi g . 1 (red line with sq u are symbols). It is th u s u sed as an reference for all other c u rves. We u nderstand that this learned wei g ht c u rve did not g enerate the best search acc u racy as we report in earlier section; however, it is directly learned from u ser data and sho u ld be close to real u ser behaviors. We therefore u se it to help u nderstand other a gg re g ation schemes  X  search acc u racy even itself does not directly g enerate the best performin g search acc u racy d u e to overfittin g .
We find that the exponential scheme (indicated by the star symbol) ali g ns the best with the learned wei g hts (the solid sq u are symbols); whereas the distance-based dis-co u ntin g scheme the worst (the cross symbols).

On the other hand, since majority sessions have three or less q u eries, we foc u smore on the wei g hts for the last three q n , q n  X  1 ,and q n  X  2 . We find that the exponential scheme ali g ns almost perfectly with the learned wei g hts at the last two q u eries and only deviates abitat q n  X  3 . Since most sessions have only 3 q u eries, this is a very g ood match between the learned red q u ery wei g hts for the first 3 q u eries and the wei g hts g enerated by the exponential scheme. It mi g ht explain why the exponential scheme o u tperforms other a gg re g ation schemes.

The three-step scheme (indicated by the circle symbol) ali g ns the learned c u rve well near the be g innin g of a session, i.e., the first q u ery. the wei g ht of earliest q u ery, i.e.,  X  , increases a g ain after the contin u o u s decrease of the wei g hts. This mi g ht indicate that the first q u ery is also important to the whole session beca u se u sers often starts with aq u ery f u ll of topic/theme terms, i.e., startin g the search from g eneral terms for the information need. The last q u ery in a session receives hi g hwei g ht as well. In addition, it well represents the red u ction of q u ery importance for the middle q u eries. The wei g hts decrease rapidly after q n  X  1 .Thismi g ht imply that the u nit of concept chan g e. In other words, the u ser does not care abo u ttheq u eries 2  X  3 iterations before when performin g a session search. Therefore, in o u r opinion, this leads to the best performance of the three-step a gg re g ation scheme in TREC 2012 dataset. This paper st u dies the problem of q u ery a gg re g ation for session search. We first learn the optimal q u ery wei g hts u sin g SVM rankin g and discover a U-shape q u ery wei g ht distrib u tion for session with vario u slen g ths. After observin g the learnin g res u lts, we propose a novel three-step a gg re g ation scheme. Moreover, by comparin g the new q u ery a gg re g ation schemes to the widely u sed ones s u ch as u niform and distance-based, we concl u de that the proposed scheme o u tperform the existin g a gg re g ation schemes. Spe-cially, the three-step a gg re g ation scheme works well for both TREC 2011 and TREC 2012 Session tracks, tho ug hitiso u tperformed by the exponential disco u ntin g q u ery a gg re g ation scheme over the TREC 2011 Session data. This s ugg ests a dataset impact on q u ery a gg re g ation schemes.

Thro ug h the experiments, we find that the first and the last q u eries are of more im-portance to a session. Moreover, for sessions that starts with g eneral theme terms for the sessions, the three-step q u ery a gg re g ation scheme is a better choice since these sessions explicitly req u ire a hi g her wei g ht to the first q u ery.

The experiments also demonstrate that the q u ery a gg re g ation schemes can impact on the search acc u racy independently from the retrieval model. This allows u s to flexibly combine vario u sq u ery a gg re g ation schemes and retri eval models in the more g eneral whole session search framework.

