 Traditional circuit-switched networks such as telephony networks can provide good service to end users in that a physical communication path is established for source and destination. The users have exclusive access for the resource until either end terminates the conversation. In order to find whether a network has enough resources to establish such a connection, call admission control (CAC) is performed during the signaling stage before a connection is made.
 switched networks, it allows larger degree of multiplexing and have lower cost. However, the Internet X  X  poor quality of service has long been criticized. Re-searchers have been working on different layers to improve it. One branch of such researches aims to mimic circuit-switched network on the Internet by es-tablishing a virtual connection between source and destination with bandwidth reservation, which results in Integrated Services (IntServ), RSVP protocol and their extensions. ATM and MPLS technology are also such examples. Wireless access becomes popular in recent years, and cellular networks begin to carry data services, such as short message service (SMS). As more and more appli-cations found their demands in cellular networks, researchers discuss the third generation (3G) wireless communication networks that aim to provide integrated services for voice, data and multimedia on existent wireless infrastructure. extensively in wireless networks and wireline networks as a tool of congestion control. By purposely admitting certain users and limiting others, call admission control can provide differentiated service. For example, researchers have realized that the disconnection for a handoff call will lead to more user dissatisfaction than a normal call in cellular networks, guard channel scheme is proposed to give high priority to handoff calls by reducing blocking probability [7]. a fixed capacity system with Poisson arrivals. The connections X  holding time are independently and identically distributed. Any blocked/rejected call will disappear and never come back again. When certain resources are reserved for high priority traffic, the scheme is named trunk reservation in wireline networks [8]. Erlang B system is also widely used in modelling cellular networks with two priorities [3, 6, 7, 11]. It is frequently called guard channel scheme. Ramjee et al. proposed a two-priority generalized Erlang B system, fractional guard channel, is considered the most important metric in evaluating the performance. and this paper proposes a recursive algorithm to avoid computational complexity. For guard channel scheme, a special case of fractional guard channel that worth studying itself, we generalize Haring et al.  X  X  two-priority recursive algorithm to random priorities. Two general cases, a handoff model and the NSFNET model, which are difficult to analyze with mathematics in this paper, are simulated. Simulation results show that guard channel (or trunk reservation) scheme can effectively provide differentiated services for different priority classes. tional guard channel scheme, with a recursive algorithm and its proof; Section 3 describes multi-priority guard channel scheme and its recursive algorithm, and the general formulas are provided in appendix; Section 4 evaluates the perfor-mance of guard channel scheme in handoff model and the NSFNET model; in Section 5, we conclude the paper. Ramjee et al. proposed fractional guard channel (FGC) policy in cellular net-works, which consists of two types of traffic: handoff calls and new calls, where the former is considered as high priority [9]. Fractional guard channel scheme states that high priority calls are admitted whenever system capacity permits, while low priority ones are only allowed with certain probability  X  ( i ), where i is the number of busy channels. Intuitively,  X  ( i ) should be a non-increasing function of i so that high priority requests can be protected with lower blocking probability upon heavy traffic.
 Erlang B model is needed. Fang generalizes Ramjee et al.  X  X  model to a multi-priority system [4], and we present a recursive algorithm to calculate the blocking probability in order to avoid computational problem.
 2.1 Model and Analysis Upon a multi-priority system, assume all traffic classes from 1 to p are indepen-dent. Class i  X  X  arrival is Poisson with rate  X  i , and all classes have the same mean service rate  X  . The system capacity is N 1 , and each incoming request will take one channel. Denote total arrival rate is  X  = p i =1  X  i for all p classes, and  X  i the Further, the traffic intensity, or traffic load,  X  is measured in erlangs and  X  =  X / X  . probability for class i when the system has j  X  1 channels busy. 0  X   X  i,j  X  1 for all i =1 , 2 ,...,p and j =1 , 2 ,...,N 1 . Suppose class 1 has the highest priority and class p the lowest, and we aim to decrease the blocking probability for high priority, then we have the following rules for all elements in the admission probability matrix B : 1.  X  i,j  X   X  i,j +1 for i =1 , 2 ,...,p and j =1 , 2 ,...,N 1  X  1; 2.  X  i,j  X   X  i +1 ,j for i =1 , 2 ,...,p  X  1 and j =1 , 2 ,...,N 1 .
 The first rule guarantees a stable system, and the second rule defines the priority the main difference between two priority in [9] and multi-priority fractional guard channel scheme in [4] and this paper is the definition of admission probability matrix B and  X  i . The following analysis process is much the same as in [9]. ure 1. Denote P i the probability of system in state i , when there are i channels busy, 0  X  i  X  N 1 . Then the state transition function can be put as for 0  X  i  X  N 1 , where 2.2 Recursive Algorithm for Computation Simple as the blocking probability expression is, the computation proves ex-tremely complex with the increment of system capacity, traffic intensity and number of priority classes [10]. Both the numerator and denominator in Equa-tion (1) tend to get overflow for most mathematic softwares upon large capacity. In this subsection, we provide a recursive algorithm for computing blocking prob-ability, which can effectively avoid any overflow or underflow problems. each priority class by recursion on the capacity, each time increased by 1. For t =0 , 1 , 2 ,...,N 1 , the blocking rate for class i , i =1 , 2 ,...,p is where X ( t ) can be obtained recursively with Specifically, we have B i (0)=1  X   X  i, 1 , X (0) = 1 and  X  i,N 1 +1 =0. algorithm. According to Equations (1) and (2), we can express B i as Then we will be able to perform the following recursive calculation: with  X  (0) = 1 and Y (0) = 1. In order to derive the relationship between B i ( t ) and B i ( t  X  1), we have (3) and (4) with X (0)=1. Guard channel scheme has long been proposed in cellular networks to provide differentiated service for handoff calls and new calls [7]. In wireline networks, especially telephony networks, it is called trunk reservation [8]. Take two-priority system as an example, resource is allocated to high priority requests as long as it is available, i.e., admitted with 100% probability. When the total number of busy channels reaches a threshold, low priority calls will be rejected (admitted with 0% probability). Resources beyond the threshold are specifically reserved for high priority users.
 channel scheme. In a two-priority system with 6 channels and 2 of them are guard channels for handoff calls, for instance, the admission probability matrix becomes it is easy to implement with just an array of thresholds instead of an admission probability matrix. 3.1 Guard Channel Model We follow the aforementioned fractional guard channel model and notations. Specifically, we use thresholds instead of admission probability matrix. A class i request will be blocked when current busy channels are no less than N i , i = 1 , for N r +1  X  i  X  N r  X  1. N p +1 = 0. Then it is easy to deduce that the highest priority class blocking probability is where we define N p +1 = 0 and have 3.2 Recursive Algorithm for Guard Channel Computation The above blocking probability calculations (Equations (5) and (6)) encounter overflow problem too. Although the recursive algorithm in Subsection 2.2 can be applied to guard channel case with matrix-to-threshold conversion, we would study it specifically. Pioneering works on recursive algorithms have been carried on in single-class Erlang B system [1, 5] as well as two-priority classes Erlang B system [6, 11]. Best result was presented in [6]. In this section, we are going to generalize the methods proposed by Haring et al. to multi-priority Erlang B system, with minor correction to their algorithm.
 for priority class r , B 1 ( i ) can all be obtained with above process, ment. A four-priority system with capacity N 1 = 2000, N 2 = 1998, N 3 = 1996 and N 4 = 1994 has been implemented with around 30 lines C program. With different traffic load, the calculated blocking probabilities are illustrated in Fig-ure 2. For some smaller capacities, we compare the recursive calculation results with those produced by special mathematic software, such as MathCAD, the blocking probabilities are even identical in 10  X  10 order. Capacity as large as one million is tested and the calculation has not encountered any difficulty. General formulas are given in appendix. As mentioned earlier in this paper, multi-priority Erlang B model can be used to provide differentiated service in both cellular networks and wireline networks. In this section X  X  simulation, we provide a cellular network model and the NSFNET model as representatives.
 tions: loss network, Poisson arrival, all priority classes having the same mean service time and requesting for unit system resource, etc. In this section, a sim-ulator is developed to remove some of the restrictions. Simulation results are more likely to reflect actual network performance.
 tant metric. Since rejection rate of about 1% is mostly concerned, figures are illustrated around that. Again, the traffic load, or traffic intensity,  X  =  X / X  ,is measured in erlangs. 4.1 Cellular Networks Model In this subsection, we adopt a single cell model with fixed capacity of 20 and Poisson arrivals. No user mobility model is considered. Further, assume handoff calls X  mean service time is only half as long as new calls. Note that previous analysis only holds when they have the same mean value. In order to give high priority to handoff calls, 1 guard channel is reserved for them. That is, new calls are only blocked when there are 19 channels busy or the system is full. blocking probability with non-prioritized situation. We may observe that, with shorter service time and small percentage traffic, handoff calls achieve much lower rejection rate than new calls in the cell. Meanwhile, new calls blocking probability does not increase much compared to non-prioritized case.
 providing differentiated service to various priority classes. Our other simulations indicate an increment of blocking probability with bursty traffic (non-stationary Poisson arrivals). When tested with multiple priority classes, the above conclu-sions still hold. 4.2 The NSFNET Model The complexity to analyze or simulate cellular networks lies in users X  mobility, which ultimately results in fluctuated traffic instead of stationary Poisson pro-cess. In wireline networks, things are more complicated in that both network traffic and network topology tend to have significant influence on system perfor-mance. This is far beyond aforementioned Erlang B models. Therefore, in this subsection, we use the NSFNET (National Science Foundation NETwork, illus-trated in Figure 4) as topology model to study trunk reservation X  X  performance. els in simulation. For simplicity, assume all links are bidirectional and have the same capacity of 20, and the source-destination pairs are randomly generated with uniformly distributed traffic, i.e., traffic for each node, which confirms to Poisson process, has approximately the same arrival rate. Two priority classes are considered, with the same portion of traffic,  X  1 =  X  2 =0 . 5  X  . Each connection request demands the same share of bandwidth, and has exponentially distributed connection holding time with the same mean value.
 given source-destination pair. Routes are dynamically calculated. For example, if a link is 100% utilized, it cannot accept more incoming connection requests. Then it is removed from the adjacent matrix which describes the network topology. If there does not exist a path for given source-destination, the request is blocked. For low priority traffic, whenever a link X  X  available resource is equal to or less than the guard channels, the link becomes invalid for the call.
 number of guard channels. As the number of guard channels increases, class 1 traffic can be better protected at the cost of higher blocking probability for the other priority class. It would be interesting to study the optimal number of guard channels for a given traffic load.
 are shown on Figure 4. Upon simulating a complex topology network, routing algorithm tends to have significant influence on system performance. Two other parameters are considered as adjacent matrix weight: number of hops and traffic load, and thus result in least number of hops routing and load-balanced routing. The former would select a path with smallest number of hops for given source-destination pair, while the latter would choose the one with lightest traffic load. Figure 6. It shows evidently that load-balanced routing outperforms the other two, especially under light traffic. Indeed, if traffic load is balanced on all links, more connection requests can be admitted rather than blocked. The reason least hops routing also has lower blocking probability than shortest path routing is that the latter would quickly introduce heavy traffic on short links while leave long links under-utilized. Single link X  X  congestion could lead to unexpected high blocking probability. rithms do not have much difference, and shortest distance routing does achieve shorter average distance under light traffic than the other two; load-balanced routing has a much smaller average variance for the 21 links X  utilization. Load balanced routing is no doubt the best routing algorithm among the three. How-ever, in practical implementation, this does not come for free. In order to find the lightest load links, each node should maintain a real-time updated table of all links X  traffic conditions. Even if this is possible, it can cost lots of control messages.
 This paper studies call admission control problem in multi-priority Erlang B system by mathematical analysis and computer simulations. A recursive algo-rithm is derived to simplify the computation of multi-priority fractional guard channel scheme. Guard channel, or trunk reservation scheme is a special case of fractional guard channel. We provide a multi-priority recursive algorithm as well. More complex situations are investigated via simulations, which show that trunk reservation scheme can effectively provide differentiated service in wireless networks and wireline networks.
 Given the blocking probability for class 1 and class r in Equations (5) and (6) respectively, we apply [6] X  X  method, and generalize Haring et al.  X  X  work from two-priority Erlang B system to multi-priority Erlang B system. The capacity is reduced by 1 for given traffic intensity. The general form of class 1 X  X  blocking probability P 1 ( N 1 ) is given by are given by Equations (7) for class 1, and Equations (8) for class r (2  X  r  X  p ),
