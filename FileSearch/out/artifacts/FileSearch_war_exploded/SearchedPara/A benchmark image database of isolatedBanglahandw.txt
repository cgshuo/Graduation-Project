 ORIGINAL PAPER Nibaran Das  X  Kallol Acharya  X  Ram Sarkar  X  Subhadip Basu  X  Mahantapas Kundu  X  Mita Nasipuri Abstract In the present work, we present a benchmark image database of isolated handwritten Bangla compound characters, used in the standard Bangla literature. A thor-ough survey over more than 2 million Bangla words has revealed that there exist around 334 compound characters in Bangla script. Of which, only around 171 character classes form unique pattern shapes, and some of these classes are often written in multiple styles. Altogether, 55,278 isolated character images, belonging to 199 different pattern shapes, are collected using three different data collection modalities. The database is divided into training and test sets in 4:1 ratio for each pattern class, by considering a balanced distribu-tion of shapes from different modalities. A convex hull and quadtree-based feature set has been designed, and the test set recognition performance is reported with the support vector machine classifier. We have achieved a recognition accuracy of 79.35% on the test database consisting of 171 charac-ter classes. The complete compound character image data-base is freely available as CMATERdb 3.1.3.3 from the web-site http://code.google.com/p/cmaterdb/ , which may facili-tateresearchonhandwrittencharacterrecognition,especially related to Bangla form document processing systems. Keywords OCR  X  Handwritten character recognition  X  Bangla Compound character  X  Benchmark database  X  SVM 1 Introduction Since early days of machine learning research, optical char-acter recognition (OCR) has remained as a popular and well-studied problem domain, often guided by industrial demands [ 1 ].Apartfromthecommercialapplications,characterrecog-nition is also considered as a benchmark problem in pat-tern recognition research, especially related to the recogni-tion of handwritten text. Cheriet et al. [ 2 ] gave an elaborate overview of handwritten OCR research during the last cou-ple of decades. It may be observed that handwritten char-acter recognition for Latin script has attained a considerable maturity and a number of research groups contributed signif-icantly in this developmental process [ 2 ]. Ample researches have also been done for recognition of handwritten charac-ters of Chinese [ 3 , 4 ], Japanese [ 5 ], Korean [ 6 , 7 ] and Arabic [ 8 ] scripts.

Research efforts on Indian script OCR [ 9  X  11 ]on Devana-gari [ 12 ], Ta m i l [ 13 ], Oriya [ 14 ] and Bangla [ 15  X  23 ]have started to receive attention since last decade. In India , Bangla is the second most popular script and language after Devana-gari [ 24 ].Asascript,itisusedfor Bangla, Ahamia, Manipuri, Daphla, Garo, Allam, Khasi, Mizo, Munda, Naga, Rian and Santali languages. Moreover, Bangla , which is also the national language of Bangla desh, is the sixth most popu-lar language in the world [ 25 ]. Around 230 million people speak in Bangla all over the world. Despite its popularity and importance, evidences of research on handwritten Bangla OCR, involving the complete set of characters, are few in numbers [ 26 ] . One possible reason is the limited availability of benchmark databases, especially related to the complete Bangla character set. Another possible reason may be linked to the complex nature of the character set, which consists of 10 digits, 50 basic characters (11 vowels and 39 conso-nants), and around 334 compound characters. Figure 1 a, b shows sample images of handwritten Bangla basic charac-ters and digit symbols. To add to the complexity, when a vowel appears alongside a consonant, the vowel itself takes a modified shape called as vowel allograph . There are 10 such vowel allographs in Bangla script, each of which appears either on top or left or right or simultaneously at left and right sides or at the bottom of associated consonant(s), as shown in Fig. 2 . A compound character, an important and integral part of Bangla language system, is a complex shaped character which consists of two or more consonants, occasionally fol-lowed by a vowel and pronounced simultaneously in words of Bangla language. Sometimes the shape of the compound character is so complex that it becomes difficult to identify the constituent consonants individually. Figure 3 shows a list of handwritten samples of Bangla compound characters with the corresponding Unicode compatible shapes.

From Fig. 3 , it is evident that the shapes are very complex andsomecompoundcharactersresemblepair-wisesoclosely that the only sign of differences left between them are some additional shapes like short straight lines, circular curves, etc. It is often difficult to identify those characters without analyz-ing the context, especially in handwritten documents. A set of such closely resembled character pairs is shown in Table 1 . The top ten frequently occurring Bangla compound charac-ters, their respective printed form, composition, handwritten samples, usage pattern in words and frequency of occurrence (percent) in standard literature are shown in Fig. 4 . The com-plete table is also included in the supplementary document (S-Table 1).

In two special cases of compound characters, one of the constituent consonants takes a special modified shape, such as Ya-phala [ ] and Reph .In Ya-phala , the second of the two consonants joined together is Ya [ ], whereas in Reph , the first consonant is Ra [ ]. Like the vowel allo-graphs, the Ya-phala appears to the right and Reph appears on top of the associated consonant without changing its shape. Since the associated consonant characters main-tain their original shapes in the formation of the compound characters Ya-phala and Reph , they are also referred as consonant allographs . Figure 5 shows typical usage pat-tern of the aforementioned two consonant allographs. Due to this special distinction, although these two categories of compound characters are considered within the overall com-pound character set of Bangla script, they are not considered in preparation of the current database.

Despite the existence of varieties of compound charac-ters, their frequency of appearance in any text page is much lower than that of basic characters. Interestingly, out of these large numbers of compound characters, some are rarely used and some have become obsolete. Moreover in the year 1997, West Bengal Bangla Academy [ 27 ] introduced new types of shapes/glyphs to represent Bangla compound characters through their Bangla dictionary  X  Akaademi Banan Abhid-han  X  X  28 ] . The objective of their effort was to simplify the complex shapes for easier understanding of the compound characters. Nowadays, in India, the Bangla text books mainly followthistypeofglyphsforcompoundcharacters.However, many newspapers and publishing houses do not always fol-low these new standards, as common people are still more comfortable with the old style of writing of Bangla com-pound characters. All these modifications add newer vari-ations in handwritten character patterns, leading to further complexities in OCR of handwritten Bangla compound char-acters. To address this issue, we have considered multiple shapes for many compound character classes.

It is evident from the discussion that recognition of hand-written compound characters is a complex pattern recog-nition problem. Moreover, a major obstacle in pursuing research in this domain relates to the non-availability of any comprehensive public domain database. Unlike handwritten numeralsandbasiccharacters,collectionofadequateisolated data samples of compound characters is an uphill task. Since long, the requirement for a benchmark database for hand-written Bangla compound characters has been felt by the Bangla OCR research community. The prospect of a com-plete handwritten Bangla OCR system would otherwise be illusive. The current work reported in this paper is an attempt in that direction. 1.1 A brief review on handwritten character databases Benchmark databases are essential to compare the perfor-mances of different handwritten character recognition tech-niques over an even test bed. Most popularly used data-bases for Latin numerals, characters and words are NIST [ 29 ], IAM-DB [ 30 ], CEDAR [ 31 ], MNIST [ 32 ], OCR [ 33 ], etc. Among these, handwritten numerals databases like NIST [ 29 ] and MNIST [ 32 ] were designed to advocate specialized applications, such as recognition of postal code. IAM-DB [ 30 ] database is constructed with labeled handwritten Latin script in the form of sentences, lines and words. CEDAR [ 31 ] database consists of city names, state names, ZIP codes and alphanumeric characters, and the OCR [ 33 ] database is based on handwritten words of Latin script. Apart from the Latin script databases, there are databases of other scripts as well [ 34  X  48 ]. Benchmark databases are available for Korean [ 41 ], JIS Chinese script [ 45 ], Japanese script [ 42 ], Arabic script [ 37 , 39 ], etc. The ICDAR 2009 Handwriting Segmen-tation Contest [ 49 ] also provided a set of handwritten docu-ment pages written in Latin script for English, Greek, French and German languages. A limited public domain database (accessible on request) of isolated digits and basic charac-ters is also available [ 50 ] for some of the handwritten Indic scripts viz., Bangla , Devanagari and Oriya. Bhattacharya et al. [ 51 ] also provided two updated databases for hand-written numerals for Devanagari and Bangla scripts. Bangla numeral database, available from [ 50 , 51 ] consists of 19392 training and 4000 test samples which are written by 1106 persons. A Bangla basic character database [ 52 ]isalsopro-vided by Bhattacharya et al. The database, available in [ 50 ] consists of 37858 isolated character images, among which 25000 are considered for training and 12858 are marked as test samples. Recently, Das et al. [ 53 ] published four different handwritten numeral databases of Indic script, viz. Bangla, Devanagari, Arabic, Telugu . A database of unconstrained handwritten Bangla and Bangla X  X nglish mixed script docu-ment images has been prepared recently by Sarkar et al. [ 54 ]. This database contains 150 handwritten document pages, among which 100 pages are written only in Bangla script and rest of the 50 pages are written in Bangla script mixed with English words. They also provided ground truth data for text line segmentation along with a semi-automatic ground truth generating tool.

However, no standard Bangla compound character data-base is yet available in public domain for research purpose. It may be worth to mention here that the complete compound character database available at [ 50 ] is not downloadable. Only sample compound characters are available for down-load from the website. To bridge this resource X  X equirement gap, a complete compound character database, developed by us, is uploaded in http://code.google.com/p/cmaterdb/ for free download.

As mentioned before, the primary objective of the present work is to create a standard database for handwritten Bangla compound characters along with a detailed analysis of their occurrence patterns in standard Bangla -printed literature. We also report a benchmark recognition performance on this newly prepared database. We hope that our effort may help the research community to develop a much awaited , com-plete handwritten Bangla character recognition system in near future. 2 Database preparation under the present work It has already been mentioned that apart from 50 basic char-acters and vowel allographs, Bangla alphabet is enriched with more than 300 compound characters. Bangla compound characters have evolved into their present shapes and struc-tures over hundreds of years. Some compound characters have become obsolete at present, and some have undergone modification in shapes over time. Even for some compound characters, more than one shape exist simultaneously. So identification of proper compound character shapes itself is a challenging task for the researchers. Therefore, the present work on database preparation is preceded by a survey of the frequency of occurrence of Bangla compound characters in standard Bangla literature. 2.1 Survey on the usage of Bangla compound characters The concept of compound characters in Bangla script origi-nated from the Br  X  ahm  X   X  script X  X he mother of the Indo-Aryan scripts [ 55 ]. Devanagari and the other major Indic scripts such as Gujarati, Telugu, Bangla, Oriya, Kannada, Gur-mukhi, Tamil, Malayalam, etc. follow abugidas, i.e., most symbols stand for a consonant plus an inherent vowel (usu-ally the sound /a/) [ 56 ]. Here, the orthographic syllable starts with a consonant (C) or a sequence of consonants and ends with an inherent vowel (V) and generally follow a canon-ical structure of (((C)C)C)V. The formations of compound characters in the Bangla language also maintain the above canonical structure which is almost similar to those of the languages originated from Br  X  ahm  X   X script[ 57 , 58 ]. However, the number of compound characters in Bangla language is much higher than that of Devanagari language. It is due to the fact that many modern words, coming from different lan-guages, require more compound characters which do not exist in the original Bangla script. Bangla is continuously getting enriched by including these words from other lan-guages. The new words require new set of compound char-acters for writing them in Bangla language. As Bangla is a phonetic language, the phonetic structure of Bangla is mainly responsible for formation of compound characters. Bangla has canonical SOV (Subject X  X bject X  X erb) structure com-pared to SVO (Subject X  X erb X  X bject) structure of English. In [ 59 ], Dash represents the relationship among the graphemes of different languages which are originated from Br  X  ahm  X   X  script including Bangla language. According to Dash, there are more than four hundred (400 + ) compound characters available in Bangla script out of which near about three hun-dred and twenty (  X  320) compound characters are made of two consonant graphemes, around seventy (  X  70) compound characters are made of three consonant graphemes and about ten (  X  10) compound characters are made of four conso-nant graphemes. But many of these compound characters are rarely used in modern Bangla literatures.

A thorough survey has been conducted under the present work with the alphabetic characters collected from three popular Bangla newspapers, viz Anandabazar Patrika [ 60 ], Aajkal [ 61 ] and Bartaman [ 62 ]; two popular Bangla maga-zines Anada-Mela and Desh [ 63 ]; and some Bangla web-sites [ 64  X  66 ]. We have considered around 2.4 million words, consisting of around 8 million characters, to generate the cor-pus. It is worthy to mention that most of these samples are collected from Unicode encoded digital archives and ana-lyzed using a self-developed automated tool. The digital cor-pus is made available at our website http://code.google.com/ p/cmaterdb/ . From the survey, we have found that around 6.61% characters (of the total corpus) are compound char-acters. It has also been observed that 26.25% words are con-structed with at least one compound character. The percent-age of words having at least one compound character against the different group of word lengths is shown in Fig. 6 . Among those compound characters, around 28.38% are formed with the two consonant allographs Ya-phala [ ] and Reph [ ], and some obsolete compound characters ( ).
 The remaining 71.62% compound characters are actually considered for preparing the current database.

During the survey, we have imposed some constraints on the collected characters to overcome fallacious observations and improper deductions about the shapes and percentage of usage of characters. The constraints are discussed below. (a) None of the Bangla punctuation marks, symbols and (b) Vowel graphemes, consonant graphemes, vowel allo-(c) A compound character is considered as a combination of (d) A compound character with a vowel allograph is also (e) A consonant with the consonant allograph is also con-We have found around 334 compound characters from the survey conducted on the newly developed digital text corpus database. According to our survey, the number of compound characters formed with two consonant graphemes is two hun-dred eighteen (218), one hundred twelve (112) compound characters are constructed using 3 consonant graphemes and four (4) compound characters which are formed using 4 con-sonant graphemes.

It is also observed that both the consonant allographs Ya -phala [ ] and Reph [ ] are prevalent in the Bangla literature as already mentioned in Sect. 1 that none of these modifiers change the original shape of the associated consonant (see Fig. 5 ) and are excluded from the current database. More specifically, the Yaphala appears to the right side of the main character, touching the common matra or Sirorekha of the word. Also the Reph appears above the matra of the character shapes, rarely touching the main character.

Sincewehavegeneratedalargecorpusautomaticallyfrom digital contents, some misspelled compound characters were initially considered in the survey. Even some obsolete char-acters such as , have come to our notice during the survey. Those misspelled and obsolete characters are not con-sidered for this work. As a result of these considerations, the total number of compound characters used under this work came down to 171. A list of top 20 Bangla compound char-acters (according to their frequency of usage) is shown in Table 2 along with their cumulative frequencies in standard Bangla literature. The survey also revealed that for some compound characters like nya-ja ( ), nga-ka ( ), etc., peo-ple are accustomed to use more than one shapes. Therefore, afterdetailedanalysis,wehaveconsideredanother28shapes, totaling 199 shapes of compound characters for our current work. Table 3 shows a list of handwritten Bangla compound characters having multiple shapes. 2.2 Data collection and preprocessing Data collection is one of the difficult tasks in any pat-tern recognition research. It becomes even more challeng-ing when the number of classes is too high (199 charac-ter shapes for our Bangla handwritten compound charac-ter database). Three different data collection modalities are adopted in the present work, to cover a wide spectrum of writing styles. Please note that handwritten text is usually written in either structured documents (like pre-formatted forms) or in an unconstrained fashion. In case of Bangla script, because of the presence of ascendants (characters or their parts appearing above the matra ) and descendants (characters or their parts appearing below the main charac-ter), standardized form documents are not yet popular. In many cases, semi-structured layouts are used for data-entry where words or text lines are written in rectangular boxes. Therefore, we have collected handwritten compound charac-ter samples using both categories of data collection sheets. In one type of sheets, the participating volunteers were asked to write the isolated compound characters in individual boxes, whereas in the other case, the volunteers were asked to write a complete word (containing compound characters). Sam-ple images of these two categories of data collection sheets are shown in Fig. 7 a, b. As the third type of data collection modality, unconstrained Bangla handwritten pages are used from our public domain repository [ 67 ](seeFig. 7 c). Com-pound characters appearing in the text are manually cropped to populate the database.

For the present work, formatted data sheets were designed at the Center for Microprocessor Application for Training Education and Research (CMATER), a research laboratory at Computer Science and Engineering department of Jadavpur University, India, and were used to collect data from the native Bangla writers of different age, sex and educational background groups. Black/Blue-ink pens with 0.5/0.7 mm pen tip were used for writing on those data sheets having 70 GSM paper thicknesses. A pie chart describing the distribu-tion of the age groups of the writers, participated in the data collection drive, is shown in Fig. 8 . It was also observed that writer X  X  education level also varies with age. In our survey, 22% among the writers were from school going students, and the rest 78% belong to either under-graduate/graduate students or graduate degree holders. About 50% of the entire data were collected from the students/teachers/staffs of dif-ferent Universities/colleges/schools, another 30% from fam-ily members, friends and relatives, and rest 20% were col-lected randomly from the public places, on request.
Collected data sheets (from both the modalities) were optically scanned in gray scale with a resolution of 300 dpi using a HP F380 flatbed scanner. Data collections from the digitized pages containing handwritten words are done manually. But extraction of the large number of isolated handwritten characters from the other category of data col-lection sheets is an uphill task. For this purpose, we have binarized each such digitized data sheet using a simple image-specific global threshold value, which is computed as ( min _ intensity + max _ intensity )/ 2. From the binarized data sheet images, the coordinates of the gridlines separat-ing individual characters are automatically identified using a page layout analysis algorithm described below. Since the data sheets were collected under manual supervision, the fol-lowingpixel-histogram-basedpagelayoutanalysisalgorithm works well for most of the data sheets. In some extreme cases, however, we had to use manual intervention to extract the data part from the scanned data sheets. Please also note that the gray scale images of the character are extracted from the original grayscale data sheet images using the coordinates of the grid lines identified by the following algorithm. Algorithm: Step 1 I N  X  M be the binary image of M column and N rows. Calculate the vertical pixel density profile ( P V ) as the sum of black pixels along each column of the image. Let, P V [ j ] Step 2 Calculate the horizontal pixel density profiles along eachrowoftheimageandisdenotedby P H [ i ] = N  X  1 0 I [ i where i = 0 ,..., N  X  1 Step 3 Consider the vertical profile vector P V , if a particular column j ,( P V [ j ] &gt; X   X  N ) where  X  is a heuristically chosen constant ( 0 &lt; X &lt; 1 ) , then that column of pixels is treated as a vertical line on the data sheet separating the characters, consecutive columns, that satisfy the above criteria are said to form one column cluster, comprising of multiple vertical columns of pixels. Each column cluster represents a vertical gridline. Let C th be the minimum gap between two vertical columns of pixels, for inclusion in the same column cluster. Two candidate columns of pixels ( j 1 and j 2 ) are said to be within the same column cluster if j 1  X  j 2 &lt; C th ; where ||-|| signifies the difference in column numbers. Now, compute the center line in each column cluster. This is done by simple averaging the column numbers in each cluster.
 Step 4 Consider the horizontal profile vector P H . For a par-ticular row i ,if( P H [ i ] &gt; X   X  M ) then that row of pixels is treated as a horizontal separating line on the data sheet. Con-secutive identified rows of pixels forms a single row cluster representing a horizontal gridline. Let R th be the minimum gap between two horizontals rows of pixels, for inclusion in the same row cluster. Two candidate rows ( r 1 and r 2 ) are said to be within the same row cluster if r 1  X  r 2 &lt; R th ; signifies the difference in row numbers. The central line in each row cluster is computed in the same way as in the case of vertical grid lines.
 Step 5 Identify the coordinates of each cell containing hand-written characters from adjacent pairs of vertical and hori-zontal grid lines.
 Step 6 The coordinates of each cell are used to crop the orig-inal grayscale image. 2.3 Description of the present database In the current work, total 335 number of persons voluntarily participated during the data collection drive. A total of 354 sheets were processed using the aforementioned methodol-ogy to generate 42,959 number of isolated handwritten com-pound character images. Please note that many handwritten samples had to be discarded because of writing errors like use of inconsistent glyphs, overwriting, etc. For handwritten words, 122 data sheets were processed to generate 10,270 compound characters from 9,829 isolated word images.
As the third category of the data collection modality, 150 handwritten pages were considered from the CMATERdb 1.1.1 and CMATERdb 1.2.1 database to generate 2,049 num-ber of isolated compound characters.

All the extracted characters from the three modalities are then divided randomly into train and test sets, approximately in the ratio 4:1 for each shape patterns. The final training set consists of 44,152 compound characters, whereas the test set consist of 11,126 characters. As discussed before, the number of Bangla compound characters considered here is 171. But, due to presence of more than one grapheme for a single class, the total number of pattern classes is 199. Here, the number of characters per class is not equal and remain in between 125 and 474 samples in a pattern class. The average number of samples per pattern class is around 277. The standard deviation is 73.77.
Some standard statistical measures are employed to ana-lyze different structural characteristics of the characters for each of the pattern classes in both the training and test data-bases. More specifically, maximum, minimum and average of heights and widths of the bounding rectangles of charac-ter images for each pattern class have been estimated. These estimations give a notion of average spatial dimension of the patterns of a class. The maximum, minimum and average of aspect ratios of the character images for each pattern class have also been estimated to add more information regarding the shapes of the characters in the collected data samples. Let us assume that for a pattern class C i ,( 1  X  i  X  199 total number of samples be N i . Let the height and width of the bounding box of the j th sample in C i be defined as h and w ij , respectively. Several statistical measures specifying the structural characteristics of the character shapes in C Maximum height ( H max i ) , Minimum height ( H min i ) , Maxi-mum width ( W max i ) , Minimum width W min i , Maximum area A i , Minimum area A Minimum aspect ratio AR min i , Average height H Avg i ,Aver-age width W Avg i , Average area A Avg i , Average aspect ratio AR Avg i . The standard deviations of height, width, area and aspect ratio are denoted by SD H , SD w , SD A , SD AR respec-tively for the present work.

Table 4 lists the values of abovementioned measures for specifying the structural characteristics of the characters for some representative character classes taken from the original database for the samples collected in isolated fashion. Along with these, the number of patterns per class together with their frequency of appearance in standard Bangl a literature is also specified. The complete table consisting of the value for 199 pattern is given in supplementary document (see S-Table 2). The supplementary document is also uploaded as a supplementary file in http://code.google.com/p/cmaterdb/ along with the database.

Database nomenclature is often important for future ref-erence by the research community. Based on our pre-defined naming convention, we have named our current database as CMATERdb 3.1.3.3. In CMATERdb 3.1.3.3,  X  X MATER X  stands for Center for Microprocessor Applica-tions for Training Education and Research, a research lab-oratory of Jadavpur University, India and  X  X b X  stands for database, the leftmost  X 3 X  indicates handwritten character database, the next  X 1 X  indicates Bangla script and next  X 3 X  indicates compound character database and right most  X 3 X  indicates the third release of the gray level images of Bangla compound characters. 3 Performance analysis on the developed database Some research has already been done on recognition of hand-written basic characters, vowel allographs and numerals of Bangla scripts. In one of the recent works, Basu et al. [ 15 ] developed a hierarchical technique for recognition of Bangla basic characters and modified shapes. Some more research contributions related to this topic are also available in the lit-erature [ 19 , 21 , 68 , 69 ]. Handwritten Bangla numeral recog-nition is also a well-studied problem, especially in the con-text of postal automation in India and Bangladesh [ 70 , 71 ]. Recently, Bhattacharya et al. [ 51 ] developed a comprehen-sive database of 23,392 handwritten isolated Bangla digit samples and reported their benchmark accuracy on that data-base. Despite such efforts, the OCR of Bangla script remains incomplete without detailed research on compound charac-ters. There are three earlier instances of work on handwrit-ten Bangla compound characters [ 16 , 26 , 72 ] in the literature. In[ 16 ], Pal et al. usedModifiedQuadraticDiscriminant Func-tion (MQDF) as the classifier. The directional information obtained from the arc tangent of the gradient is used there to form the feature set for the characters. Using fivefold cross-validation of results, they obtained around 85.90% accuracy from a database of Bangla compound characters containing 20,543 samples. The number of classes considered there for the compound characters is 138, which had been selected on the basis of old statistics published in 90 X  X  [ 73 , 74 ].
In one of our earlier works [ 72 ], a technique for recogni-tion of handwritten compound characters was proposed with a discussion on the potential problems of Bangla compound character recognition. The technique advocated for incre-mentally expanding the number of learned character classes from more frequently occurred to less frequently occurred ones. As an initial step, 55 character classes covering 90% of the total compound character usages were used there for recognition. The average recognition rate of 84.67% was observed on the database, after threefold cross-validation using MLP-based classifiers and 84 quad tree-based longest run features. In another work [ 26 ], we considered a combi-nation of handwritten Bangla basic and compound charac-ters simultaneously for recognition. For that work, a total of 93 character classes including 50 basic and 43 com-pound characters were considered. The recognition accura-cies 79.25% using MLP and 80.51% using Support Vec-tor Machine (SVM) had been achieved using shadow and quadtree-based longest run features after three fold cross-validation of data. The rationale for that work was to create a framework for recognition of frequently occurring com-pound characters along with the basic characters. 3.1 Recognition strategy for the current database To report a benchmark recognition performance on the devel-oped database, we have used a combination of two differ-ent feature sets, namely convex hull-based features [ 23 ] and quadtree-based longest run features [ 26 , 71 , 75 ]. More specif-ically, these two features are used here for representation of binarized character images (first binarized using a image-specific global threshold-based binarization algorithm dis-cussed in Sect. 2.2 above and then size normalized to 96  X  pixels) in feature space, and subsequent recognition by a SVM classifier [ 76 ]. In the following, we briefly describe the two feature descriptors. We also include (in Table 5 ) a comparative performance analysis of different popularly used feature sets on our database. It is evident that the cho-sen feature set generates promising results, in comparison with others considered under this study. 3.1.1 Quad tree-based longest run features Before extraction of longest run features [ 77 ] from character images, a character image is first organized in to a quadtree of depth 2. To do this, the root node is first created by assigning the entire character image to it. Then, all the successors of the root node are created. For that the character image is divided into four quadrants along the row and column of the center of gravity of the black pixels therein. The sub-images so created are assigned to the successor nodes from left to right order. The process is repeated recursively for creating all the next level successors and assigning image contents to them in the same way. The character image or sub-images contained in the nodes of the tree are considered here for extraction of features. Four longest run features are extracted from each of 21 nodes of the quadtree of depth 2. Thus, the number of longest run features is 84 for the present work. 3.1.2 Convex hull based feature set Any object with a non-regular shape may be represented by a collection of its topological components or features. In the current work, we have extracted several such topological fea-tures based on different bay and lake attributes of a convex hull of handwritten Bangla characters.

A total of 28 features are designed on the basis of differ-ent bay attributes of the convex hull of handwritten Bangla compound characters. In any binary image, the convex hull is constructed around the character pixels (represented by binary label  X 1 X  and often referred to as foreground ). Pix-els that constitute the convex hull boundary are referred as convex hull boundary pixels.

We define a distance measure d cp as the count in number of pixels from the convex hull boundary pixel to the nearest character pixel in either horizontal or vertical direction. The d cp is estimated from top, bottom, right and left sides of the image (see Fig. 9 a that illustrates the distance measure from left side of an image). Based on this d cp measure in a particular direction, five different topological features are calculated as follows:  X  Maximum d  X  Average d  X  Total numbers of rows having d  X  Total numbers of rows having d  X  Number of visible bays [ 78 ].
 Here, bays are measured in terms of length of the consec-utives convex hull boundary pixels for which d cp &gt; 0(see Fig. 9 for illustration). Two more features are computed as the coordinates of center of gravity ( r x , r y ) of a hypotheti-cal region created by joining the bay pixels up to the nearest character pixels along a specific direction. Figure 9 b illus-trates the hypothetical region created by joining such pixels along left-to-right direction. Therefore, 28 ( = 4  X  7 ) features are extracted from top, bottom, right and left boundaries of an image. It is worthy to mention that convex hull shape of a broken character does not differ too much from the shape of a complete character (see Fig. 10 ). However, the bay and lake counts may vary in case of a broken and a complete character sample. To avoid this situation, smaller bays (bay length less than 4% of the character height, in case of vertical direction or character width in case of horizontal direction) are rejected from consideration. Such bays are mostly generated in case of noisy/broken characters.

Apart from the above 28 features, three more features are derived from the entire convex hull. First, total number of convex hull boundary pixels having d cp = 0 is considered as one feature. Second, the number of lakes within a char-acter is considered as another feature. Lake in a character image denotes the region entirely surrounded by the charac-ter pixels within a character image. The regions completely surrounded by character pixels having an area greater than L th are considered as a lake. Selection of the lake threshold L th is a heuristically chosen parameter (for our current exper-iment, we have chosen L th = 20) and is directly proportional to the area of the character images. Finally, total number of convex hull boundary pixels having d cp &gt; 0 is considered as the third feature. Thus, 31 features are extracted from the entire character image based on different bays attributes of the convex hull. Figure 9 shows this feature extraction tech-nique for a character image in a horizontal direction from left side of a Bangla compound character.

To extract local information, from the character images, each character pattern is further divided into four sub-images based on the centroid of the data pixels which is referred as CG or center of gravity. The coordinates of the CG of an image frame, ( C x , C y ) , is calculated as follows: C C f ( x , y ) = 1 where x and y are the coordinates of each pixel in the image of size m  X  n pixels and k is the count of pixels having f ( x , y ) = 1. The convex hulls are then constructed for the character pixels within each such sub-image for computa-tion of different topological features, as described earlier. A total of 124 such features (31  X  4) are computed from the 4 sub-images of each character pattern. This makes the total feature count as 155, i.e., 31 features for the overall image and 124 features for the four sub-images. It is note-worthy to mention that convex hulls of two or more different characters may be all but similar in shape but their subdi-visions are not. Thus more discriminant features could be found using quadtree-based subdivision. The convex hulls constructed on four pattern subdivisions which are created based on the CG-based partitioning scheme are shown in Fig. 11 .

Combining the two sets of features, i.e., the quadtree-based longest run and convex hull-based features, a 239 ele-ment feature set (155 + 84) is formed. The pattern classifier employed here, using the above mentioned features, is imple-mented with SVMs. An SVM employed as a pattern classifier for a two class problem always finds the optimal separating hyper plane that maximizes the margin between two classes. The margin is the distance of the closest sample point, in each class, from the separating hyper plane. For employing SVMs for multiclass problem, One Versus ONE (OVO) approach is followed here. To implement SVM, we have used LibSVM [ 79 ], a well-known open-source software for SVM. Among different existing kernels in LibSVM, we have used Radial Basis Function (RBF) kernel with gamma ( X  ) value 0.5. The rationale behind the choice of RBF kernel is due to its ability to perform better for handwritten digit recognition applica-tions [ 80 ]. The trained SVMs are used later to classify the test set of the same database after extracting the same 239 feature set for each of the test pattern samples. Thus, we have generated three different SVMs for the training samples col-lected from isolated form, from word images, and from the database CMATERdb 1.1.1 as well as CMATERdb 1.2.1 sep-arately, which are used to evaluate with their respective test sets. Thus, a recognition rate (number of successfully classi-fied data/(number of successfully classified data + number of misclassified data)*100) of 78.67% has been obtained on 199 patterns classes. The recognition rate improves mar-ginally and becomes 79.35 % on 171 character classes after combining different graphemes of a single character class. A detailed analysis of the recognition performance of the test set of CMATERdb 3.1.3.3 is shown in Table 5 . Please note that the performances vary widely across the data collection modalities. Although we have got around 81% accuracy over isolated character samples, the same for unconstrained text (collected from CMATERdb 1.1.1 and CMATERdb 1.2.1) drops to around 67%.

A schematic diagram of our developed methodology is shown in Fig. 12 . Table 6 shows a detailed analysis over top ten highly misclassified pattern classes. It may be observed from the table that the top two misclassified compound char-acters resemble so closely that there exist minimal differ-ences in shapes, even in case of printed characters. Few sam-ples of misclassified and correctly classified character images are also shown in Figs. 13 and 14 respectively. Possible rea-son behind the misclassification may be linked to the insuf-ficiency of the feature set in distinguishing finer details of character images of different classes with close resemblance. TheimagesamplesofFig. 14 reflect this. A two-stage pat-tern classification approach [ 81 ] may be explored in future to address the problem. Lexicon matching may also be useful in domain-specific applications, like city name recognition for automatic mail sorting, extraction of information from filled in forms, etc.

Three other feature extraction techniques [ 16 , 26 , 72 ] which were used previously for Bangla compound character recognition have been tested on the present database with SVM-based classifier. Before extraction of those features, each character sample is binarized and then normalized to asizeof96  X  96 pixels. The recognition results obtained for different feature extraction techniques are reported in Table 5 . It could be observed from the table that present feature set (combination of convex hull-based and quadtree-based longest run features) performs better than other feature sets [ 16 , 26 , 72 ] in the current experimental setup. 4 Conclusion In our present work, we have developed a new benchmark database for the Bangla handwritten compound characters after considering an elaborate survey on its usage patterns from the contemporary Bangla literatures. Though the survey revealed that the count of compound characters is around 334 but for the present work, we have considered only 171 char-acter classes after discarding the characters with Ya-phala and Reph . Moreover, we have identified that some characters have more than one shape which may mislead to recognize them properly. To overcome the problem, we have treated them as different classes during training. Thus number of pattern classes considered here is 199 instead of 171 charac-ter classes. This additional pattern classes are merged after testing and the final recognition accuracy is evaluated over 171 character classes. The database is prepared from hand-written compound character samples collected from three different types of datasheets consisting of isolated characters, isolated words and unconstrained handwriting. The objective is to capture a wide variation of writing styles by individu-als and to address a potentially-wide range of Bangla OCR applications with varying constraints on the writing space. In some applications, characters are written in box-formatted data sheets, and in some cases, words or sentences are writ-ten in partially formatted data sheets. Some unconstrained pages are also considered in our work to include extreme vari-ability in the database for the compound characters. Please note that, in the popular literature, only around 6% char-acters are compound in nature and from 150 unconstrained handwritten Bangla pages, only 2,049 compound characters could be found. Therefore, to prepare a complete train X  X est database, we have collected handwritten isolated compound characters and words (containing specific compound charac-ters) from participating volunteers. We have also made the complete database of 55,278 characters available in public domain as CMATERdb 3.1.3.3 from the website http://code. google.com/p/cmaterdb/ . To the best of our knowledge, this is the largest (if not the first) database of its kind available to the pattern recognition research community. A subset of this database has been used previously during Bangla Hand-writing Recognition Competition in ICFHR 2010 [ 82 ]. In the current work, we have used convex hull and quadtree-based longest run feature set, to report the benchmark recognition performance on the test set of the developed database. Fur-ther scopes exist to improve the feature set, especially by introduction of global and local features or multistage recog-nition strategy. In a nutshell, the current work is an effort to facilitate researchers in the domain of handwritten OCR to work on a large and complex character database of one of the widely used script of the world.
 References
