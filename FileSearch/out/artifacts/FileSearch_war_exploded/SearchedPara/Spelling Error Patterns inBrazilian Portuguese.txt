 EACH / USP EACH / USP Institute of Computing / Unicamp
Fifty years after Damerau set up his statistics for the distribution of errors in typed texts, his findings are still used in a range of different languages. Because these statistics were derived from texts in English, the question of whether they actually apply to other languages has been raised. We address this issue through the analysis of a set of typed texts in Brazilian Portuguese, deriving statistics tailored to this language. Results show that diacritical marks play a major role, as indicated by the frequency of mistakes involving them, thereby rendering Damerau X  X  original findings mostly unfit for spelling correction systems, although still holding them useful, should one set aside such marks. Furthermore, a comparison between these results and those published for Spanish show no statistically si gnificant differences be tween both languages X  X n indication that the distribution of spelling errors depends on the adopted character set rather than the language itself. 1. Introduction
Almost 50 years since Damerau X  X  groundbreaking work was published (Damerau 1964), the figures he set for the proportion of spe lling errors in typed text, along with their classification, still remain in use. Accord ing to Damerau, over 80% of all misspelled words present a single error which, in turn, falls into one out of four categories, to wit,
Insertion (an extra letter is inserted), Omission (one letter is missing), Substitution (one letter is wrong), and Transposition (two adjacent characters are transposed). In fact, these very same figures lie at the heart of much current mainstream research on related topics, from automatic text spe lling correction (e.g., Pirinen and Lind  X  en 2014) to more advanced information retrieval techniques (e.g., Stein, Hoppe, and Gollub 2012) to optical character recognition techniques (e.g., Reynaert 2011). The reason for such popularity may rest in the simplicity of the approach, whereby numbers can be assigned to the probability that a certain type of spelling error might take place, simply because that seems to be the frequency with which people make that kind of mistake.
 research in a range of different languages, such as Basque (e.g., Aduriz et al. 1997),
Persian (e.g., Miangah 2014), and Arabic (e.g., Alkanhal et al. 2012). The question then becomes how appropriate these figures are when applied to languages other than
English. In fact, some researchers have already noticed this potential flaw, and tried to adapt Damerau X  X  findings to their own language, usually by modifying Damerau-
Levenstein edit distance (Wagner and Fischer 1974) to match some language-specific data, but still without verifying the appropriateness of Damerau X  X  statistics in the target language (e.g., Rytting et al. 2011; Richter, Stran  X  ak, and Rosen 2012), or by taking into account some feature of that language, such as the presence of diacritics, for example (e.g., Andrade et al. 2012).
 two different corpora in Brazilian Portugu ese X  X  language spoken by over 190 million people 1  X  X nd deriving statistics tailored to this language. We then compare our statis-tics with results obtained for Spanish (Bustamante, Arnaiz, and Gin  X  es 2006). As we will show, the behavior demonstrated by native speakers of these languages follow a very similar pattern, straying from Damerau  X  X  original findings while, at the same time, holding them still useful. As a limitation, in this research we only account for non-word errors, that is, errors that, once made, result in some non-existing word, and which may be detected by a regular dictionary look-up (Deorowicz and Ciura 2005).
 (Gimenes, Roman, and Carvalho 2014) 2 to OpenOffice Writer processor X  X o as to reorder its suggestions list according to the statistics presented in this article. Within Writer, when typing Pao ,insteadof P  X  ao ( X  X read X  in Portuguese), the coming in the first four positions. With this module, it was observed that, for the first testing corpus, in 27.34% of the cases there was an improvement over Writer X  X  ranking was actually worse, and in 66.82% no changes were observed. In the second corpus, an improvement was observed in 19.90% of the cases, in 9.00% figures were worse, with 71.10% remaining unchanged. Some 10 X 21% increase in accuracy is not something to be neglected, especially at the price of chan ging weights in an edit distance scheme. 2. Related Work
One of the first efforts to derive statistics similar to those by Damerau in a lan-guage other than English was made by Medeiros (1995), who analyzed a set of cor-pora in European Portuguese. In his work, Medeiros found that 80.1% of all spelling errors would fit into one of Damerau X  X  categories. He also noticed that around 20% should be taken into account during string edit distance or probability calculations. By 176 linguistic errors, the author meant linguisti cally motivated errors, as opposed to those caused by slipping fingers in a keyboard, for e xample. However illustrative, Medeiros X  X  findings suffer from a major drawback, to the extent that he relied on pre-existing lists of erroneous words in the related literature, along with handwritten errors made by high school students, with only part of the data coming from e-mail exchanges X  X hat is, from actual typed text. The problem with this approach is that these data come without any frequency analysis, which renders them inappropriate for the application of computer techniques based on statistics, also making it hard to compare to any findings related to error frequency.

Arnaiz, and Gin  X  es 2006). In that case, however, the authors made a much more detailed categorization of the errors they found, be yond the four classes originally proposed by Damerau, in a corpus of written (presumably typed) texts from Mexico and Spain.
Still, a careful inspection into these categor ies (by grouping insertions and repetitions of the same letter, and taking errors related to the misuse of diacritics, capitalization, and cognitive replacements to be substitutions) leads one back to Damerau X  X  four basic groups. The main difference, however, between both Damerau and Medeiros, and the work by Bustamante, Arnaiz, and Gin  X  es (2006), is that the majo rity of spelling errors (54.9% of all errors, corresponding to around 49% of all single errors) were related to the misuse of diacritics, with special emp hasis on their omission, which was respon-the corpus.
 in which the authors analyzed spelling error s both in English and Japanese, with the last one typed on a Roman keyboard (that is, translit erated). Interestingly, the authors report almost no difference in the distribution of errors among Damerau X  X  four classes, both for English and Japanese. By looking at the de tails, however, they found some specific errors in Japanese, which they attribute to the phonological and orthographic character-istics of the language. In fact, a breakdown analysis of the four classes show accentuated differences in the type of substitutions (th at is, a vowel by another vowel, a vowel by a consonant, etc.), insertions (inserted vowel vs. consonant), deletions (whether or not the deleted character was a repetition of some of it s neighbors), and transpositions (adjacent characters versus syllables) that were made.
 findings, but with remarked differences caused by each language X  X  idiosyncrasies, seems to be the common behavior both in the related work and ours. This, in turn, may shed some light on the reasons why English-ba sed spelling checkin g software does not seem to perform so badly in other languages, but still not as well as it could, should each language X  X  own character istics be taken into account. 3. Materials and Methods
Because we were interested in source texts written in Brazilian Portuguese, where authors were free to type with little to no int ervention by spelling correction facilities, we decided to use the corpus presented in Roman et al. (2013), which comprises 1,808 texts, typed in by 452 different participants in a Web experiment, with a total of 62,858 words in length. As a source, this corpus has the advantages of (1) being produced by a number of different people of different ages, educational attainment, and background; (2) being produced through a Web browser, without any help from spelling correction modules usually present in text editors; and (3) being freely available for download over theWeb.WewillrefertothiscorpusasC 1 .
 of blog posts from four different Web sites 4 that describe travel diaries along with comments by visitors. With a total of 26,418 words, spread over 192 posts, and be-ing written in Brazilian Portuguese, this corpus presents the same advantages as C except for the fact that we cannot verify participants X  details, which means we cannot make any statement on the participants X  distribution according to age, background, and so forth. Still, the main characteristics of availability and free text production remain.
WewillrefertothiscorpusasC 2 . By comparing the statistics from both corpora we intend to reduce the effect of any bias related to writing style and characteristics of the participants.
 text editor to highlight misspellings in bo th corpora. The highlighted words were then manually inspected by one of the researchers, and errors were grouped in categories.
Besides Damerau X  X  four original sets, we identified three extra categories: errors in-volving the use of diacritics, errors relate d to the use of the cedilla, and space-related errors. The first of these groups was inspired by the observation that the use of diacritics is a key issue in Portuguese (Andrade et al. 2012), potentially playing an important role in the making of spelling mistakes. Following Damerau, this group can be sub-divided into four other subcategories: missing diacritic , addition of diacritic , right diacritic applied to the wrong character ,and wrong diacritic applied to the right character .
 in Portuguese can only be applied to the character c, resulting in c  X . The reason for this character deserving a whole category of it s own lies in the existence of two distinct keyboard layouts in the Brazilian market: ABNT-2 and US-accents. The main difference between both layouts is that whereas ABNT-2 presents a separate key for c  X , that key does not exist on the US-Accents keyboard. Hence, while on ABNT-2 the user hits a single key to get a c  X , on US-Accents it is a composite X  X wo keys must be pressed: the single quotation mark and c. Ultimately, errors involving the cedilla may be interpreted both as a regular character mistake, or an error related to the use of diacritics, depending on the keyboard.
 are usually difficult to deal with via spelling correctors, we decided to give them an independent set of categories. As a mistake, spaces have the annoying characteristic of not being handled by edit distance operations (Attia et al. 2012), thereby passing undisturbed by systems that use string dista nce-based ranking when giving alternative spellings to the user. The reason for this prob lem is that, by joining two words together, for example, the number of mistakes dramatically rises, if one takes that new string to be a single word. Along with these three cate gories, there is a  X  X eftover  X  fourth one X  others  X  X omprising linguistic expression errors , first-letter capitalization, and wrong diminutive or augmentative. 178 4. Results and Discussion
Results both for C 1 and C 2 are shown in Tables 1 and 2. of mistakes is almost the same in both corpora (1,139 for C proportion of spelling errors in C 2 is more than twice as high as that of C case, C 1 had a mean error rate of 1.81% (that is, 0.0181 error per word), while C reached 4.77%. This difference may be due to the fact that C from a university, that is, people with a higher educational level. It may also have something to do with the fact that blogs are more conversation-like, which may lead errors involving diacritics. Still, despite t his discrepancy, a two-sample Kolmogorov-
Smirnov test showed no statistically signifi cant differences between these corpora, on the distribution of the proportion of errors among categories, neither for the total number of errors ( ks = 0 . 4286, p = 0 . 1528), nor for the number of errors per word ( ks 0 . 4286, p = 0 . 1528 for single, ks = 0 . 2143, p = 0 . 9048 for double, ks for triple, and ks = 0 . 1429, p = 0 . 9988 for multiple errors).
 half of all spelling errors in both corpora (overall, 47.15% in C corresponding to 49.48% of all single errors in C in this sum cedilla-related errors. By taking the cedilla as a simple substitution, the numbers drop to 41.09% in C 1 and 45.63% in C 2 (overall), with 44.72% in C in C 2 for single errors X  X till a substantial proportion. Interestingly, if one takes errors in-volving diacritics to be substitutions, t hen we end up with a total of 89.86% of all single errors falling into one of Damerau X  X  categories in C 1 , with 88.91% in C ing Damerau X  X  statistics. An analysis of the distribution of single errors among Dam-erau X  X  four original categories (i.e., disregar ding diacritic-related misspellings), and the distribution among the categories related to the use of diacritics also shows no statis-tically significant differ ence between both corpora ( ks categories and ks = 0 . 6, p = 0 . 3291 for the diacritics X  X  ncluding cedilla X  X et).
Damerau X  X  results, in that over 85% of all wrong words, be they repetition of existing words or not, have a single spelling error. Table 3 shows these results. In this table, present the figures both when taking word repetitions into account and when ruling them out (that is, when keeping the statistics only for new words). This is also in line with the results obtained for Spanish (Bustamante, Arnaiz, and Gin  X  es 2006), in which it was found that 86.7% of all spelling errors were single errors. 180 4.1 Comparison to Other Languages
For reasons noted in Section 2, we have chosen the work by Bustamante, Arnaiz, and Gin  X  es (2006), on European and Mexican Spanish, as a benchmark against which to compare ours. Table 4 shows the comparison results. In this case, for the sake of comparison, and given that each research has a classification scheme of its own, we had both to reorganize some of the categories and present the figures in terms of number of words, instead of number of errors. Although results are shown consid-ering cedilla-related errors to be cases of a missing diacritic, whenever appropriate the figures for taking such errors as simple substitutions are also presented within parentheses.
 results (both for C 1 and C 2 ) and those for Spanish, no matter whether one takes cedilla-related errors to be a missing diacritic or a substitution. This, in turn, might indicate that such errors and their distributions are not rel ated to the language or culture themselves, but instead to the set of characters (and corres ponding diacritical marks) allowed within each specific language. Also, the data show th e importance of taking diacritical marks into consideration when designing spelling c orrection systems for these languages. As it turned out, this type of error is responsible for over 40% of all wrong words, both in
Brazilian Portuguese and Spanish. 5. Conclusion
In this article we presented some statistics collected from two different corpora of typed texts in Brazilian Portuguese. Our first contribution is a description of the error rate distribution among the four original cate gories defined by Dame rau (1964), along with the distribution of errors related to the mis use of diacritical marks. Results show not only that Damerau X  X  figures still hold, should we put aside diacritics, but also make a point about the importance such marks ha ve on the misspelling of words in Brazilian
Portuguese, as indicated by the frequency with which this type of error is made, thereby rendering spelling correction systems that re ly solely on Damerau X  X  results unfit for this language. On this account, a straightforward experiment with a commercially available text editor has shown a 10 X 21% improvement, depending on the testing corpus, in the ranking of suggestions for misspelled words.
 those obtained for Spanish (Bustamante, Arnaiz, and Gin  X  es 2006), in that we could see no statistically significant difference on error distribution between these two lan-guages. This, in turn, may be taken as an indication that the distribution of errors does not depend on language or culture, but instead on the character set that people are allowed to use. As such, it would not come as a surprise to find out that the same distribution can also be observed in other languages, such as Italian, French, and, to some extent, Turkish, for example, which make an intensive use of a similar set of characters. This is something that is worth investigating, and we leave it for future research.
 References 182
