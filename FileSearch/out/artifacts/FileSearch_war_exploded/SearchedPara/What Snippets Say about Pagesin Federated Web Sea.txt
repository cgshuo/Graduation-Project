 Finding our way around among the vast quantities of data on the Web would be unthinkable without the use of Web search engines. Apart from a limited number of very large search engines that constantly crawl the Web for publicly available data, a large amount of smaller and more focused search engines exist, specialized in specific information goals or data types (e.g., online shopping, news, multimedia, social media).

The goal of Federated Information Retrieval (FIR) [1] is to combine multi-ple existing search engines into a single search system. With the wide variety of existing resources, including those that are not directly accessible by Web crawlers, federated search on the Web ha s an enormous potential, but is a huge research challenge all the same. A numbe r of FIR research collections have been created in the past, but they are mostly artificial and do not represent the hetero-geneous Web environment, i.e., search en gines with different retrieval methods, highly skewed sizes, many types of content, and various ways of composing result snippets.

We created a large dataset for this se tting, introduced in Nguyen et al. [2], containing sampled results from 108 search engines on the internet, and relevance judgements for both snippets and pages on a number of test topics. We are convinced that such a dataset can stimulate research on federated Web search, and have therefore made our dataset available to researchers 1 .

The goal of this paper is threefold. First, we discuss the relevance judgments for the new dataset. Second, we point out some potential difficulties in Web FIR evaluation due to the non-homogeneous character of the resources. Third, we provide a probabilistic analysis of the relationship between the indicative snippet relevance and the relevance of pages.

After a brief overview of related work, several aspects of the relevance judg-ments are described, starting with the setup of the test collection and the user study, followed by an analysis of the relevance judgments, and focusing on the re-lationship between snippets and pages. Finally, some conclusions are formulated. FIR has been under investigation for many years. The early work is described in detail by Callan [3], identifying three main tasks. Resource description is the task of gathering knowledge about the different collections, resource selection deals with selecting a subset of collections that are most likely to return relevant results, and results merging deals with integrating the ranked lists from different resources into a single ranked list. An extensive overview of more recent work, including FIR in the Web context, is given by Shokouhi and Li in [1].
Reference data in the form of manually annotated relevance judgments are es-sential in IR evaluation. These are ofte n being created by means of dedicated as-sessor panels, e.g., for the T ext Retrieval Conference (TREC) collections [4]. An important issue for a reliable evaluation is the consistency of the relevance judg-ments. Voorhees [5] studied the consist ency among different assessors, whereas Scholar [6] looked at the self-consistency of assessors for standard TREC col-lections. Carterette [7] argued that t he evaluation accuracy may be affected by assessor errors, which in turn are more likely to occur when judgments are gathered by means of crowdsourcing. Because of the unknown properties of our collection, we only used reliable assessors.

Most online search engines present their results as a ranked list of snippets, giving a sneak preview of the document X  X  content. Nowadays, these snippets are mostly query-biased , i.e., they are extracted from the result document, based on the query terms. The fast generation of r esult snippets has been studied in the past, e.g. by Turpin [8]. For this paper, we will however look at the snippets from a user X  X  perspective, regardless of the different methods used to create them. To our knowledge, no recent work has been published that investigates the relation between results snippets from various origins, and page relevance. 3.1 Test Collection Setup Our primary goal was to create a test collection with similar properties as the actual Web. Therefore, our data was crawled from the Web, using results from actual search engines, each with their o wn document collection and retrieval algorithms. Between December 2011 and January 2012, we collected data from 108 resources, ranging from large general Web search engines to search engines over small, specific collections. These re sources cover a broad range of application domains and data formats, and we divided them into 12 categories. Besides General Web Search engines, we have Multimedia, Academic, News, Shopping, Encyclopedia, Jobs, Blogs, Books. . . and several other types of resources. Due to space limitations, we have to refer to Table 4 for a complete listing, and to Nguyen et al. [2] for some example resources per category.

The collection consists of a large amount of web data, obtained by query-based sampling and intended for resource selection experiments, and also a large set of relevance judgments for a number of test topics, to be used for the evaluation of retrieval algorithms. This paper focuses on the relevance judgment analysis, but more detailed properties of the complete dataset are given in [2]. 3.2 User Study Setup We decided to obtain relevance judgments for the top 10 results that each search engine returned in response to a number of test topics. With over a hundred search engines, more than a thousand pages would need to be judged for a single query. Alternative strategies requiring less judgments have been studied, e.g., by Carterette [9], but we wanted a reliable overview of the relevance for this highly inhomogeneous collection. Hence, we decided for independent graded relevance judgments. Also, the setting of many different real-life search engines provided an excellent opportunity to study, besides the pages, the snippets as generated by these resources. When assessors were presented with snippet and page simultaneously, a preliminary experiment showed that the page influenced their snippet judgment. Hence, a snippet and the corresponding page had to be judged separately and in that order, but still by the same assessor to guarantee an unbiased analysis. We decided to first gather all the snippet judgments, and then the page judgments, as it allowed to minimize the page annotation effort, as explained below. 2
In the following, we give an overview of the different aspects of the relevance judgments.
 Topics. The judged topics are those from the 2010 TREC Web Track [10], as we preferred to use existing topics designed for the Web context, to ensure an objective characterizatio n of our collection. These topics are divided into two categories ( ambiguous and faceted ), and provided with one general information need, as well as several specific descriptions (for the Web Track diversity task). We only presented the assessors with the query terms and the general informa-tion need. Most of the topics are especially suited for general Web search engines, and therefore we pay extra attention to these in our analysis. However, the goal of the test collection is to include the o ther resource categor ies as well. There-fore, the judges were instructed to interprete the information need in a broad ( X  X ultimedia X ) sense. Consider, e.g., the query joints (a search for information about joints in the human body). A picture or video fragment of human joints, even without further textual data, could b e highly relevant. Of course, it is often not possible to interprete a topic from the point of view of all types of search engines. For example, a job offer for an orthopedic surgeon, although related, could not be considered relevant to the query joints .
 Snippets. For each topic, the snippets were shown one by one and in a ran-dom order to the assessors. The title, snippet text, preview (if present), and page url, were displayed for each snippet in a uniform manner, albeit provided by the different web search engines. The goal of the snippet annotation task was to predict whether the corresponding page would be relevant. The following labels were used: No , Unlikely , Maybe ,and Sure . The corresponding guidelines are summarized in Table 1. We will call these the snippet relevance levels, al-though strictly speaking th ey only represent the judge X  X  estimation of the page X  X  relevance given the snippet. Especially the smaller resources often provided less than 10 results per query, and in total only 35.651 snippets had to be judged. About 71% of the snippets were judged only once, but for the snippets of 14 topics we obtained between 2 and 5 judgments, with in total over 53000 snippet judgments being collected.
 Pages. For the page judgments, the Web Track 2010 relevance levels and de-scriptions were used: Non , Rel , HRel , Key , Nav ,seeTable1.Wepresentedthe judges with a snapshot of each page, as well as the html content. Judging pages appeared much more time-consuming than judging snippets, but we were able to reduce the page annotation effort by two thirds, based on the following assump-tion. In case none of the annotators had labeled a particular snippet higher than No , the corresponding page was not judged, and by default given the label Non . As such, we are not able to estimate the probability of page relevance for totally non-relevant snippets. Yet, even if one of those snippets would correspond to a relevant page, the user would not have clicked the snippet, and therefore not have visited the page.
 Assessors. From the 10 assessors that contributed to the relevance judgments, 3 were external students, who created 55% of the snippet judgments, and 57% of the page judgments. One of them was especially hired for one month, and createdalmostasmanyjudgmentsasall the other judges together. Apart from the external students, we had 4 junior IR researchers judge 39% of snippets and pages, and 3 senior IR researchers, who did 6% of the snippets and 4% of the pages. We decided to limit the annotation effort for the pages to 39 topics to be judged once and 11 topics twice. The judgments that will be used throughout this paper, are those for which one and the same person has judged all snippets and all required pages of a full topic, i.e., those 39 topics with a single judge, and 11 topics with two judges. Except for the experiments where 2 assessors are compared, we will include those 11 topics in our analysis by randomly selecting the judgments of only one assessor. 3.3 Relevance Judgment Consistency In the following paragraphs, we will take a closer look at the consistency of the relevance judgments. For clarity, we introduce the random variables S and P, indicating the snippet label, respectively, page label, taking the values listed in Table 1. In some experiments, we reduced our graded relevance levels to a binary relevance, using different cut-offs. F or example, the relevance cut-off S  X  Maybe means all snippets with labels Maybe and Sure are considered relevant, and the cut-off P  X  Key indicates that only pages with labels Key and Nav are considered relevant.
 Consistency of Page Judgments per Assessor. Some of the resources (es-pecially general Web search engines) often returned the same urls. This allows to study how consistently each assessor performed the page judgments. In [6], assessor consistency on standard TREC co llections was investigated by compar-ing the relevance for pairs of duplicate documents where at least one document had been judged relevant. There were fractions of 15% to 19% of inconsistent judgments for binary relevance, and bet ween 19% and 24% for ternary relevance. We repeated this experiment, for all (4644) pairs of duplicate urls judged by the same user and with at least one judgment level of Rel or higher. For our five graded relevance levels, we found 24% of differently judged pairs, and for binary relevance judgments (i.e., relevant for labels HRel and above) we found 13%, comparable with the TREC judgments.

In order to obtain consistent page judgments for our analysis further on, we grouped all the judgments for a particular url by the same user, and replaced them with the average judgment level.
 Inter-Assessor Consistency. The consistency among pairs of assessors has been investigated for a standard TREC co llection [5]. It appeared that despite a considerable disagreemen t among assessors, the ranking of different IR systems mostly remains independent of which set of relevance judgments is used.
We compared our assessors by splitting up our double assessments into two sets (called set 1 and set 2), using binary relevance to allow comparing with [5]. The results are shown in Table 2. The first shown parameter is the overlap , calculated as the size of the intersection of the relevant documents in set 1 and set 2, divided by the size of its union, and averaged over the 11 considered topics. In the case of binary page relevance for labels P  X  HRel , the resulting overlap of 0.43 (taking into account all resources) is similar to [5], where mean overlap values from 0.42 to 0.49 were reported. F rom the overlap at different relevance levels, it appears to be more difficult for an assessor to choose between two higher labels (e.g., HRel and Key ), than between two lower labels (such as Non and Rel ).
We also calculated the fraction of relev ant documents from set 1 that are also labeled as relevant in set 2, and vice versa. The average of these two values is shown in Table 2, for convenience called the precision 3 . The result at relevance level P  X  HRel , including all resources, is 0.62. This imposes a practical upper bound of 62% precision at a recall of 62% on the performance of retrieval systems that are evaluated with these data, because the assessors only agree up to that level. In [5], a value of 65% was reported over the TREC-4 topics. However, our results are strongly influenced by the different types of resources. For the general Web search engines (WSE) on thei r own, the consistency between judges is much higher than without WSE, as shown in Table 2. This might be due to the fact that the information needs become less well-defined when interpreted in a broader sense than only for general Web search. Also, for the weaker relevance criterion P  X  Rel , comparable to the relevance criterion for old TREC collections, we find a much higher precision of 78%.

In order to get an idea of the consistency in judging snippets, we included the snippet overlap and precision in Table 2. Comparing the snippet level S= Sure with the page level P  X  HRel , it appears that for the non-WSE, judging snippets is much more difficult than judging pages. This already became clear during the annotation phase, because of the properties of the content (e.g., videos were reduced to small static previews or not sh own at all in the snippets), and because the amount of data the decision is based on, is much smaller in the case of snippets. These are difficulties that make evaluation of FIR in a realistic Web context a difficult task. 3.4 Distribution and Uniqueness of Relevant Results Relevance Distribution. Figure 1 gives an overview of the average number of resources per topic that returned a given number of relevant pages, split up into ambiguous and faceted topics. The Nav judgments were merged with the Key judgments, because only a few topics w ere apt for navigational relevance. On average 8 resources returned at least one Key + Nav result for the ambiguous topics, and 9 resources for the faceted to pics. However, only for half of the am-biguous topics there was at most one resource that returned 4 or more Key + Nav results, whereas three re sources returned 4 or more Key + Nav results for each of the faceted topics. With respect to the total amount of resources (108), the number of resources that returned releva ntresultsisverysmallforbothtypes of topics; the relevance distribution is highly skewed, which was to be expected, due to the large variation in size and nature of the resources.

An important characteristic of the test collection is also the distribution of the relevant results among the different types of search engines, see Figure 2. The types of search engines that are best suited for the Web Track topics, are in the first place the WSE, but also search engines that provide information from encyclopedia, books, and blogs, a nd multimedia search engines.
 Uniqueness of Results. Table 3 gives the number of snippets and pages with a high relevance level, returned by the WSE and the multimedia resources (as these provide by far the most relevant results), and in total. The 10 WSE together provide more highly relevant results than the 21 multimedia search engines, and even more than the total of 98 non-WSE. However, after normalizing the urls to a uniform form (by omitting search-engine-specific additions etc.) and counting duplicates only once, the contribution of WSE and multimedia engines is comparable, and in total the non-WSE produced about twice the number of unique highly relevant pages as the WSE. This is a strong argument in favour of FIR on a Web scale. However, when considering the highest relevance level, P  X  Key , the WSE engines provide about twice as many unique relevant results compared to the multimedia engines. 3.5 Snippet vs. Page Judgments This section describes the relation betw een the relevance labels of snippets and their corresponding pages, judged independently but by the same assessor(s). Conditional and Joint Probabilities. Based on the relevance judgments for all topics, we can make an empirical estimate of the average probability of page relevance given the snippet label, P (P | S). The results for different snippet labels and types of resources are presented in Table 4, for binary page relevance P  X  HRel .

For snippets with label No , we cannot estimate P (P | S), since we have not judged the corresponding pages. However, for most resources, the probability of a
HRel page for an Unlikely snippet is already very low. Only for the WSE, 1 out of 5 Unlikely snippets points to a HRel page, suggesting we might have missed a significant number of relevant page s behind non-relevant snippets.

Comparing P (P | S) for the snippet labels Maybe and Sure shows that for the most suited types of resources, a relatively large amount of HRel pages are behind snippets which were judged only Maybe . This shows that often a HRel page X  X  snippet cannot convince the user that the page is indeed highly relevant.
For snippets labeled Sure ,weshowed P (P | S), P (P , S), and P (P). The page relevance probability P (P) by itself gives a false impression, as it does not encor-porate any effects of the snippet quality. Instead, we could use P (P , S), denoting for S= Sure and P  X  HRel the joint probability that a snippet is judged as Sure and its page is at least HRel , but for most of the listed resource categories it is very low, just like P (P). We can conclude no more than that these collections probably contain little relevant information on our test topics. This is why we instead consider P (P | S). It only allows studying how accurately the snippets reflect the page relevance, but is less dependent on the scope of the test topics. For example, the News resources display a relatively high P (P | S), against a very low P (P , S). In other words, they returned only very few relevant results for our topics, but if a snippet is found relevant, 4 out of 10 times it points to one of those few relevant results (see Table 4).
 Assessor Dependency. An important question is how the relationship P (P | S) between snippets and pages would generalize among different users. For example, in a federated search scenario where sni ppet lists are cached locally and shared among peers, what is the probability that, if a snippet is considered relevant by one user, the corresponding page is relevant to other users? Using the 11 topics with double judgments, we calculated P cross (P | S), the estimated probability of page label P from one assessor given snippet label S from the other assessor (averaged over both directions). In Tabl e 5, these values are shown for different levels of page relevance, together with the average self-probability P self per assessor. The estimated probability that the page of a relevant snippet is also relevant, would be expected to decrease, if both are not judged by the same assessor. Alternatively, the probability that a page is still relevant, despite a less relevant snippet, is likely to increase in that case. This phenomenon is indeed observed, especially for the st ricter page relevance level (P  X  Key ). This confirms that our precaution, to have one and the same annotator judge corresponding snippets and pages, was necessary.
 Comparison between Largest Web Search Engines. As the test topics are best suited for the general Web search engines, we can explicitly compare the performance of four of the largest gener al Web search engines in our collection, i.e., Google, Yahoo!, Bing, and Baidu, as well as Mamma.com, which is actually a metasearch engine. Tabl e 6 presents the results.
 For the snippet label S= Sure and two page relevance levels (P  X  HRel and P  X  Key ), we show P (S) and P (P | S), the estimate that a user makes about the page X  X  relevance based on the snippet alone, and how well the page relevance is linked with that estimate. A search engine should however try to optimize the joint probability P (P,S). For a better comparison b etween these resources, we therefore explicitly report P (P,S) as well. For these resources, we can use P (P,S) as a measure of comparison, because they have a similar target area (i.e., general Web search). We also showed the more traditional P (P), which is actually the averaged precision@10 of page relevance, and that is consistently higher than P (P , S), as it does not take the snippet into account.

The metasearch engine outperforms the others, as it aggregates results from a number of resources, such as Google, Yahoo!, and Bing. We want to stress that the considered test topics are still no representative collection of, for example, popular Web queries, and therefore we cannot draw any further conclusions about these search engines beyond the scope of our test collection. Yet, here is another example of how the table might be interpreted, with that in mind. Considering only Key results, we could compare Yahoo! and Bing. Yahoo! seems to score higher for all reported parameter s, so either Bing X  X  collection contains a smaller number of relevant results, or Yahoo! X  X  retrieval algorithms are better tuned for our topics. The lower value of P (P | S) for Bing shows that it has a slightly increased chance that the page for a promising snippet appears less relevant. However, the ratio of P (P , S) and P (P) is higher for Bing than for Yahoo!, indicating that for Yahoo!, its own recall on Key pages will be decreased more due to the quality of the snippets, than for Bing. In fact, we found that P (S= Sure | P  X  Key ) is 79% for Yahoo!, but 91% for Bing. 4 In this paper, we analyzed the relevance judgments for a new federated IR test collection, containing data from over a hundred online search engines with var-ious purposes, such as general Web search, multimedia, academic, books, shop-ping, etc. It appeared that on average the judgments were created with a level of consistency comparable to that of standard TREC collections, with however a higher consistency for the general Web search engines, as compared to the others. We found the judged test topics from the 2010 Web Track to be biased towards general Web search, leading to a large variation in the fraction of rele-vant results per resource category. Yet even then, the total number of different relevant results from the non general We b search resources was large enough to confirm the potential interes t of federated Web search.

Due to the different scope of the resource categories, an absolute comparison in terms of the empirical probability of relevance for our specific test topics would yield little information. Instead, we discussed the conditional probability of page relevance given the snippet judgment, which allowed a limited but less biased means of comparison. Within the more homogeneous category of general Web search engines, we were able to use the joint probability of snippet and page relevance to compare between the resources. The effect of the snippets varied among the resources, but the joint probability appeared consistently lower than the probability of relevance for only the pages, hence showing that the effect of the snippets cannot be left out when characterizing search engines.

In the future, new query sets will be used, designed to make more use of all the resources under study, including the more specialized ones. The user study will be redesigned, to allow investigating issues like how bad snippets damage recall. We will also investigate the effect of the type and number of topics on the quality of evaluation data for a federated Web search test collection, as well as the potential of resource selection and results merging algorithms.
 Acknowledgments. This research was partly supported by the Netherlands Organization for Scientific Research, NWO, grants 639.022.809 and 640.005.002, and partly by the IBBT (Interdisciplinary Institute for Broadband Technology) in Flanders.

