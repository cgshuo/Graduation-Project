 Abstract. This paper proposes a method to recognize digits in a natural scene, such as telephone numbers on a signboard. Candidate regions of digits are extracted from an image through contrast enhancement, edge ex-traction, and labeling. Since the target text patterns are in a 3D space, unlike traditional character recognition problems, we have to deal with the image transforma-tion effect due to the orientation in the 3D space and projection. We have to cancel the effect as much as pos-sible before digit recognition. In our method, the im-age transformation effect is modeled as skew and slant. In the proposed method, simplified Hough transform is used for the skew normalization. After the skew nor-malization, the remaining effect of image transformation is corrected by circumscribing digit patterns with tilted rectangles and affine transformation. In experiments, we tested a total of 1,332 images of signboards with 11,939 digits. We obtained a digit extraction rate of 99.2% and a correct digit recognition rate of 98.8%.
 Keywords: Digit recognition  X  Digits in natural scenes  X  Skew and slant normalization 1 Introduction Character recognition has a long and successful history. The techniques developed in the field are used in many applications. Traditionally, input characters written or printed on 2D sheets are placed horizontally and then scanned by image scanners. However, with the increas-ing availability of digital imaging devices, new applica-tions in character recognition are now emerging [1 X 3]. Using portable devices (e.g., a digital camera attached to a cellular phone), images of natural scenes contain-ing characters can be captured. There are many charac-ters and indicators on signboards around us. Typical ex-amples include telephone numbers. Phone numbers can provide information if a database is available utilizing them. For example, the shop address can be obtained from a phone number and might indicate the route to in 3D space, characters in the images of signboards in natural scenes have larger skew and slant than ones in the document images taken by a scanner. Thus skew and slant normalization is needed to recognize digits in nat-ural scenes. Much research for skew and slant normal-ization has been published. Chaudhuri et al. proposed a skew angle correction method for Indian scripts [7]. In this method, skew angle is corrected using the features of headlines in Indian scripts. Sun et al. proposed a skew and slant correction method using gradient direction [8]. In this work, character slant is due to types of font style (e.g., italic), and thus the degree of slant is limited. On the other hand, in the case of characters in a natural scene, slant is due to orientation in 3D and to projec-tion. A method that can deal with larger skew and slant is required.
 rect skew angle. Usually the Hough transform is very time consuming. To overcome this difficulty, we apply the method only to the center points of the extracted candi-date digit regions. With this simplified Hough transform, fast skew correction is made possible.
 modeled as character slant. It is normalized by affine transformation. The slant angle is obtained by circum-scribing digit patterns with tilted rectangles. After skew and slant normalization, simple template matching is ap-plied to recognize digits.
 ing examples. We also present the performance analysis of the slant normalization method (in appendix). 2 Overview of the proposed method Using high-performance cameras, it is not difficult to take scene images with high precision. In our work, input images such as those shown in Fig. 1 were used. Each input image used includes at least one phone number. We collected a total of 1,332 images holding 11,939 digits. These input images were taken in fine or cloudy daylight hours. Each image consists of 640  X  480 pixels with 8-bit gray levels.
 noise is removed from an input image at the first stage using a labeling method. Then candidate regions of digits are extracted from the labeled image. Digits and char-acters in scene images often have deformations due to orientation in 3D space and projection. This image de-formation effect is modeled as skew and slant. To cancel the effect, skew and slant angles are calculated. Then affine transformation is applied to the digit regions in the image using the calculated angles. After skew and slant normalization a digit candidate extraction method is applied again to further reduce the nondigit regions. Then, the extracted areas are classified by the pattern matching method based on directional feature extrac-tions [9].
 Fig. 2.
 image is given as I ( x, y )= We use  X  =1 . 0,  X  = I max / 2, and I max = 255, respec-tively. (In our work we have used the Roberts filter. How-ever, we believe the choice of edge detector will not affect overall performance very much. We believe any standard edge detector could also work.) lated points by applying standard noise-reducing filters (e.g., median filter). However, in the natural scene im-ages, after edge detection there can be many connected components that are not digits. These parts cannot be removed by standard noise-reducing filters. To eliminate these parts, a method for removing nondigit components is required.
 transformed into the labeled image. Then connected re-gions having both too large and too small areas are ex-cluded from the labeled image. A region whose height-to-width ratio is greater than 10 is removed. If the ra-tio [height/width] is less than 2/3, the region is also re-moved. These threshold values are determined according to observations of many images.
 noise in the image. Usually the surface of a digit pattern is shaded with uniform color and has no texture. There-fore, only contour parts of digits should emerge in the edge image. Based on this property, by counting num-bers of cross points between horizontal scan lines and the edges in a candidate region [Fig. 3(1)], if the number is too high [Fig. 3(2)] or too low [Fig. 3(3)], the region is eliminated.
 didate digit areas. in the transformed image. After the skew normalization, the remaining deformation effect is modeled as character slant. It is normalized by another affine transformation. to determine the skew angle. First, the centers of the regions of the digit candidates are calculated as { ( transformed by  X  = x cos  X  + y sin  X . Since the transform is only applied to the centers, the computational cost is quite low. An angle with the maximum number of votes in the  X   X   X  parameter space is estimated as the skew angle  X  (Fig. 4). Skew correction angle  X  is given as  X   X  . (We restrict the angle to  X  45  X   X   X ,  X   X  45  X  .) gle by circumscribing digits with tilted rectangles. First, each candidate region is circumscribed with a tilted rect-angle. In Fig. 5, an example of a digit area and a circum-scribing rectangle is shown. The four lines that constitute the sides of the rectangle are given by where b 3 &gt;b 4 and b 1 &gt;b 2 [Fig. 5(1)]. The surrounded area is transformed so that point Q locates just above point P [Fig. 5(2)]. The correction angle [Fig. 5(3)] is given as  X  = arctan ( B/A ), where A is the height of the slanted character and B =( b 2 + b 3  X  b 1  X  b 4 ) / 2. This operation is applied to all candidate areas. The average of all  X  s is given as the estimation of the slant angle of the image.
 using the following successive affine transformations: (1) nonnormalized region technique, the scaling effect is not corrected. To compen-sate the effect, the extracted region is normalized into the standard size in the digit recognition stage. ing the digit extraction is shown in Fig. 8.
 the bounding box of each connected component changes (Fig. 7). The candidate extraction method based on the ratio of width to height described in Sect. 3 is applied again to further reduce the false targets.
 cles) are included in the natural scene, we may also use the shape from texture techniques [13] to improve the estimation of parameters for skew and slant normaliza-tion. digits have a large deformation effect, some digits were recognized incorrectly without the normalization. candidates in the experiments without the skew and slant normalization, as shown in Table 1. On the other hand, after the normalization the number of false can-didates was reduced from 19,944 to 17,793, as was ex-pected. In the digit recognition, 80.4% of them (e.g., 14,312 candidates) were rejected properly; however, the rest of them (e.g., 3,481 candidates) remained. When the method without normalization was applied, the to-tal number of the remaining nondigits was 3,513. This not hold for digits on a curved surface. However, even for a curved surface, if the projected image of the curve on which each digit region resides is well approximated by a line on the image, our method would still work (as shown in row 4 of Fig. 9).
 Although Japanese characters (Kana and Kanji) are usu-ally much more complex than digits and are relatively easy to discriminate, our method can reject alphabets fairly well, as shown in Fig. 9.
 answer for the remaining nondigit regions, this problem can be overcome using the knowledge of the target. Sup-pose the method described in this paper is applied to a telephone number recognition system. Among the ex-tracted digit candidates, there may be some characters that are not members of telephone numbers. It is pos-sible to remove them using the knowledge of telephone numbers. Phone numbers should always consist of digit strings. The strings should line up horizontally after skew normalization. Using this geometrical constraint, candi-date phone numbers can be restricted efficiently. In ad-dition to this constraint, by using the lexicon, false can-didates can be greatly reduced. 7 Conclusions In this paper, we propose a method to recognize dig-its in a natural scene, such as telephone numbers on a signboard. Unlike traditional character recognition prob-lems, since the text surface is in 3D space, we have to deal with the image transformation effect due to orienta-tion in 3D space. Since digits in images often have skew and slant, we have to correct both the skew and the slant before digit recognition. We presented a skew cor-rection method based on the Hough transform. In our method, since the Hough transform is applied only to center points of the extracted candidate digit regions, fast skew correction is made possible. After skew nor-malization, the slant is corrected by circumscribing digit patterns with tilted rectangles. The rectangle is tilted 45  X  . The slant angle is calculated using the vertex po-sitions of the rectangle, and the slanted images are cor-rected with the angle.
 signboards with 11,939 digits and obtained a digit ex-traction rate of 99.2% and a correct digit recognition rate of 98.8%.
 areas (candidate areas) from natural scene images. Al-though we have tried classification by simple template matching, we considered only the digit class. To improve the classification ability, we also have to consider the other classes, such as Roman characters, and discrim-inate digits from these classes. In addition, to further improve the classification power, we may have to use more advanced classifiers such as SVM instead of a sim-ple template matching method. These are problems for future work.  X  Types B and C  X  Type C  X  Type D added by using scanline. These show that our method could give better results in practice.
 culation. These digit patterns were contained in the same image. For the input image and the corrected results, see top row of Fig. 9.
 References
