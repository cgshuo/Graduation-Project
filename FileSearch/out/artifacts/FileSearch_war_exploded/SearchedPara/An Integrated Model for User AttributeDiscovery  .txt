
Swapna Gottipati 1 , Minghui Qiu 1 ,LiuYang 1 , 2 ,FeidaZhu 1 , and Jing Jiang 1 User demographic attributes such as gender, age, financial status, region are critically important for many business intelligence applications such as targeted marketing [1] as well as social science research [2]. Unfortunately, for reasons including privacy concerns, these pieces of user information are not always avail-able from online social media platforms. Automatic discovery of such attributes from other observable user behavior online has therefore become an important research topic, which we call the user attribute discovery problem for short.
Existing work on detecting the user demographics on datasets such as blogs, micro-blogs and web documents [3,4,5,6,7,8] have mainly adopted the supervised approach and relied on either the connections among users such as user social network, or the language aspects in the data, or both. However, in many cases the interaction between the users and the topics is not effectively incorporated.
The first contribution of our work is that we proposed an integrated unsuper-vised model which takes into considerat ion all the three components integral to the user attribute discovery problem, namely the users, the topics and the feed-back behavior between the user and the topics. In particular, besides social links between users, we exploit users X  feedback on topics, which gives great insight into user affiliation that cannot be modeled by current approaches. Although il-lustrated with the case study on political affiliation, our model by design can be generalized for most other user attribut es that are associated with users X  behav-ior including but not limited to religion affiliation, technology affiliation, political affiliation etc., We present elaborated motivation for our model in Section 2.
The second contribution of our work is that we proposed a solution to a computational challenge common to the user attribute discovery problem: data sparsity  X  users might not participate in all the huge number of topics and the user social network could be sparse a s sites such as forums and debates are not meant for maintaining social relations but to voice out public opinions. As such standard clustering [9] and community detection algorithms [10,11] would not give satisfactory results. We adopt collaborative filtering with probabilistic matrix factorization (PMF) [12], a technique that has been successfully applied for collaborative filtering-based recommendation tasks such as social recommen-dation [13]. In general, the intuition behind PMF is the assumption that, if two users have same rating/stance/opinion o n item/topic/user, t hey tend to behave the same on other items/topics/users. PMF automatically discovers a low-rank representation for both users and items based on observed rating data. We then apply clustering algorithms on users to detect the communities of users
Lastly, we evaluated our method on d ata set collected from the CreateDe-bate site 1 , and compared against state-of-the-art baselines as well as degener-ative versions of our model. Among the various demographic attributes, the rapidly growing attention for user political affiliation is probably the most no-ticeable [3,14,15]. Therefore in this paper we study our model X  X  performance on party affiliation detection problem. Our model improves the accuracy and gives promising results for political affiliation detection task. To motivate our integrated model, we present an analysis of the typical problem setting of user attribute discovery from social media data. We first present an overview of the data components, followed by a motivating example to demon-strate the importance of each element as well as the insufficiency of each if used alone. We finally point out the computational challenge of data sparsity which is common for a large class of user attributes including political affiliation as well as challenge of integrating model components in a principled approach. 2.1 Data Components We define a typical problem setting of discovering user attributes from social media data to include three components  X  (I)users, (II)topics and (III)behaviors  X  which is illustrated in Figure 1. A topic here is defined as any item like a movie or abortion that users can feedback/rate upon. Two kinds of behaviors are usually available from the social media data, (1) social behavior between users and (2) feedback behavior of users on topics, which we detail as follows. (1) Social behavior between users The social behavior can be further categorized into two types. One type is the topic-independent one which is usually more long-term and stable, e.g., friend-ship/enmity, which we represent by User Social Matrix . Topic-independent so-cial behavior is an important component used in several studies for prediction, recommendation and community detection tasks. The social friendship/enmity networks can be built from the friendship information or friendship/enmity in-formation or sender/receiver or followe r/followee information depending on the type of the network structure [14,16]. In Figure 1, under  X  X ser X  layer, the social links represent the social matrix.

The other type is the topic-specific one reflecting users relationship on a par-ticular topic, e.g., agreement/disagreement or thumbsup/thumbsdown on other user X  X  feedback for a specific topic, which we represent by User Interaction Ma-trix . An important observation is that in forums or debate sites, users tend to dispute or agree with others on the debate issues by replying directly to the com-menter. [17] observed that users not only interact with others who share same views, but also actively engage with wh om they disagree. In Figure 1, under  X  X opic X  layer, the topic-specific social lin ks represent the interaction matrix. A pair of users exhibit different interactions across topics. (2) Feedback behavior of users on topics We focus on explicit user feedbacks such as ratings or stances on topics that can be observed as user opinions towards different opinion targets, represented by a User Feedback Matrix . In Figure 1, feedback behaviors are exhibited in user feedbacks on topics. This model, with slightly different variations, has been adopted by many previous work in social network and media analysis [13] [18]. The difference is that, while their probl em is usually social recommendation, our task here is to discover users X  implicit attributes.
 2.2 Correlation Analysis In Figure 2, we show the networks from our debate dataset using Gephi 2 .We use this data as an example to illustrate two observations. (I) Each type of behavior provides an important insight into users X  political affiliation; For example, Figure 2a), a social network shows more friendships (green edges) within partie s than inter-parties. Figure 2b), an interaction net-work shows large disagreements (red edges) among users but very few agreements among them. In Figure 2c), a feedback network, we observe that within parties, the support on topics (green edges) is high compared to inter-parties. These ob-servations indicate that both behaviors provide unique and important insights to users X  attribute affiliation. (II) Each type of behavior alone is not sufficient to accurately identify users X  po-litical affiliation. For example, Figures 2a) and 2b) consists of singletons which make the task of identifying the political affiliation harder. For combined net-work, Figure 2d), we have fewer misaligned users compared to feedback network indicating the benefits of combining social and feedback behavior.

Combining (I) and (II), we drive home the importance of an integrated model to consider all the networks. 2.3 Computational Challenge A common challenge in discovering user attributes from social media is data sparsity, which is actually shared by all data settings where the number of top-ics is huge and user participation is sparse. The debate data is a good case in point from the above analysis. Figure 2d) indicates the benefits of leveraging the feedback behavior together with soci al behavior. However, the current ap-proaches do not cater such integration [19,20,10]. Hence, the second challenge that arises is integration of the model components.

To overcome the first challenge, our solution is motivated by collaborative fil-tering technique. The second challenge motivates the proposal of solution model that captures all these components in a principled approach. We propose a tech-nique based on probabilistic matrix factorization (PMF), a collaborative filtering approach which could be easily extended to incorporate multiple matrices. We first provide some preliminaries of our work. The corpus consists of user data (profile and network) and debate data (stances and interactions).
 User Social Matrix: We use S to denote the user social network where each entry s i,j indicates the relationship between i -th user and j -th user (0 means enmity and 1 means friendship).
 User Interaction Matrix: Each reply argument in our data set has an inter-action information -Disputed , Support or Clarified to its recipient argument. We use O to represent agreement ( Support and Clarified ) and disagreement ( Dis-puted ) positions between users 3 .Anentry o i,k in O equals to 1 means user i and user k mostly agree with each other and 0 otherwise. In case of such information is not available, we can use methods such a s [21] to derive interaction network. User Feedback Matrix: Feedback refers to user stances captured from Side status of a user. R represents the stances held by different users on the various opinion targets 4 ,whereanentry r i,m is a stance score (0 for  X  X ppose X  and 1 for  X  X upport X ) indicating the i -th user X  X  stance towards the m -th opinion target.
Given the matrices R , S and O , we perform probabilistic matrix factoriza-tion to derive a low-rank vector representation and based on which we apply clustering algorithms to detect political communities. 3.1 Probabilistic Matrix Factorization The original matrix factorization model is proposed in [12]. The model is ex-tended in [13] to incorporate user social network for recommendation. Our model is a direct extension on the model from [ 13], where we add one more user inter-action matrix into the model. Another difference is that the user social network and interaction work are symmetric in our model.

Figure 3 shows the plate notation for the generative model. We assume that both users and opinion targets are profiled by K latent factors. Let u i  X  R K denote the vector in the latent factor space for the i -th user, and t m  X  R K denote the vector for the m -th opinion target. We assume u i and t m are generated by Gaussian distributions as in Eqn. 1. We assume the extracted matrices R , S and O are generated by taking the product of the related entities. Specifically, the generation processes of the stance scores r i,m between i -th user and m -th opinion target, the polarity scores s i,j between i -th and j -th user and o i,k between i -th user and k -thuserinthematrices R , S and O are in Eqn. 2.

With this generative assumption, if two users are similar in terms of their dot product in the latent factor space, then they are more likely to have positive interactions or relations. Similarly, if two users share the same stance on an opinion target, then they are similar in the latent space. The latent factors can therefore encode user preferences and s imilarity between two users in the latent factor space reflects whether th ey share similar viewpoints.

Let U ( K  X  U )and T ( K  X  T ) be user and opinion target matrices. To learn U and T , we need to maximize the posterior of generating all the opinion matrices R , S and O which is equivalent to minimize the following objective function: = which equals 1 when s is not empty and otherwise 0.
 To optimize the objective function above, we can perform gradient descent on U and T to find a local optimum point. The derivation is similar to [13]. After we learn U , we apply clustering algorithms to detect political affiliations. Degenerative Models: To examine the effectiveness of the three extracted matrices studied in our model, we compa re our model with a set of its degen-erative models. We constr uct degenerative models b y considering each matrix separately: PMF-UT used in [15,12], PMF-UU used in [12] and PMF-AD . 3.2 Model Generalization The attributes supported by our model are associated with user X  X  behavior, where the users exhibit a debatable (support/oppose) behavior on topics. For example, attributes such as religion orientation, political leaning, technology affiliation etc, can be discovered through the users behavior in several debat-able topics specific to the attribute. For model generality, the feedback behavior should be domain specific and aligned to the user attribute. Similarly, the corre-sponding social behavior should be captured in the same settings. For example, for discovering users X  technology affiliation e.g., Apple vs Microsoft , the feedback behavior should be captured for the topics related to technology, e.g., operating system, software, usability, etc., but not on lifestyle or politics. In our experi-ments under Section , we show our motivation for defining feedback topics for political affiliation task. To support multi-valued attributes such as multiple parties, the users can be grouped into the multiple clusters. 4.1 Dataset We collected user profile information for registered users and the corresponding sociopolitical debates X  information in which these users participated in Creat-edebate.com. In our experiments, we foc us on political affiliation discovery task. Testbed. The statistics of the data are also shown in the Table 1. Recall that the feedback behavior should be domain specific. For our study, we use only the two-sided debates on 6 controversial issues which are specific to political domain and motivated by party X  X  beliefs 5 listed in Table 1. Since, the sides of debates associated with the same topic can be flipped, they should be aligned manually. We engaged two judges to manually label the sides for 88 debates as suport/oppose to the topic and both of them had perfect agreement (Cohen X  X  kappa coefficient is 1).
 Matrix Generation. Recall that our solution mod el compromises of three ma-trices, UU , AD and UT . User social matrix UU (represents user-user matrix S in the solution) is generated from user friendship/enmity links. User interac-tion matrix AD (represents agreement/ disagreement matrix O in the solution) is generated from agreement/disagreem ent (interaction) links among users. User feedback matrix UT (represents user-opinion target matrix R in the solution) is from the user stances ( X  X upport/Oppose X ) on the debates (topics). 4.2 Political Affiliation Discovery Experiments The main goal of our study is to discover the political affiliation of the user. Through this experiment, we would like to study not only the model performance but also the performance of feedback and social behaviors independently. Experimental Settings. The ground truth on the users X  political leaning is available from the users X  profiles. We use all three matrices, UU , AD and UT described in Section 4.1. Apart from 3 deg enerative baseline models described in Section 3, we consider 3 addition al baselines, described as below: Discussant Attribute Profile (DAP): A recent work [9] proposes to profile discussants by their attribute towards other targets and use standard clustering (K-Means) to cluster discussants, and ach ieves promising results on a similar task -subgroup detection. We thus incorporate the method on our task by profiling each user by his/her opinions towards other opinion targets and users. Correlation Clustering (CC): Correlation clustering [20], aids to partition the corresponding signed network such that positive intra-group links and neg-ative inter-group links are dense. It is also used in subgroup detection [19]. We use large scale correlation clustering tool [22] for our baseline.
 Louvain Method (LM): Louvain method [23] is an efficient algorithm to find high modularity partitions of large networks, and is widely used in community detection. When the method produces more than two communities, we align small communities to one of the two largest communities by maximizing intra-community positive links and inter-community negative links. Since the method usually discovers too many communities when applied on sparse disconnected network (on UU and AD, more than 60 communities detected), we only apply it on UT and combined(UU+UT+AD) matrices.
In all our experiments, for our model, we set the number of latent factors to 10 as we do not observe big difference wh en vary the latent factor size from 10 to 50. For the other parameters in probabilistic matrix factorization methods, we select the optimal setting for each method based on the average of 10 runs.  X  ,  X  2 ,  X  U and  X  T are chosen from { 0 . 1 , 0 . 01 } .Weuse Purity , Entropy [24], Accuracy and F1 score to evaluate the models.
 Results. We first present an overall performance of all the methods on combined (UU, AD, UT) matrix and show F1 measure on the party affiliation detection task in Figure 5. We observe that our model outperforms all the baselines on the task. It achieves F1 of 74.6% and 64.5% for republicans and democrats respectively. The best baseline, correlati on clustering, achieves F1 of 66.2% and 60.2% for republicans and democrats respectively. In comparison, our model has 8.4% higher performance for republicans and 4.3% higher for democrats.
We present the detailed clustering results in Table 2. We observe that the combined matrix, (UU+UT+AD) has the highest performance for most of the baselines and our model. Our model outperforms all the baseline models with balanced clusters. From these results, it is evident that combining all the matrices is important for the political affiliation detection. Also, it is evident that the feedback behavior plays an important role in this task. In particular, from these results we observe that for data sets suc h as debates where social relations are sparse, the feedback behavior of participants aids to bridge the gaps and performs efficiently in political affiliation discovery.
 Summary. Our model performs with promisin g results compared to baselines and original PMF model with an accuracy of 70.1%. We further experimented on three more degenerated baseline versions of our model, PMF-UUUT, PMF-ADUT and PMF-UUAD. In each of the baseline version, we remove one matrix from the original model to learn the latent factor representation. For PMF-UUUT, we choose UU and UT to learn the latent factor representation. This model is similar to the one used in [13]. For PMF-ADUT, matrices AD and UT are used and for PMF-UUAD we use UU and AD matrices. Our model on combined matrix still outperforms all th ese baseline degenerated models. Due to space constraints, we skip the details from Table 2. 4.3 Threats to Validity Similar to other empirical studies, the re are several threats to validity in in-terpreting the results. One such threat corresponds to the ability to link the stance(feedback) behavior to political affiliation. Our experimental results sup-ports that leveraging stance behavior aids in political affiliation discovery and we used standard metrics for evaluation.

Another threat corresponds to the topics chosen for the feedback.  X  X o all issues that users participa te can aid in detecting affiliation? X  We crawled 1,332 debates and corresponding arguments, 10,833 on all issues. We study the perfor-mance of our model using users X  leaning on controversial issues versus all issues and Figure 4 shows F1 measure on the affiliation detection. We observe that UT (controversial topics) outperforms UT all (all topics). For republicans, F1 is 68% which is 6.9% higher than UT all and for democrats, F1 is 60% which is 11.5% higher than UT all . The results indicate that a user X  X  stances towards controversial topics have strong correlations with their political affiliation.
Another threat corresponds to the ability to generalize our results. For data generality, we evaluated with 145 users on political debates which is no way near the number of users available in all online debates. In future, we plan to extend our case study to include more users, debates and demographics. For attributes such as age, gender etc., the controversi al topics should be carefully engineered and the current model cannot be applied directly. For model generality, an in-teresting future work is to study the cases where users can fall into more than one group and multi-party situations. User profiling studies examine users X  inter ests, gender, sex, age, geo-localization, and other characteristics of the user profile. [25] aggregated social activity data from multiple social networks to study the users X  online behavior. For user pro-filing, many studies took a supervised approach on various datasets; gender classification on blog data [6], age prediction on social networks [7] and location of origin prediction in twitter [8].

Similar research to user profiling studies is community or subgroup detec-tion. [9] proposed a system that uses linguistic analysis to generate attitude vectors on ideological datasets. [23] used Louvain method which is based on modularity optimization to find high modularity partitions of large networks. Subgroup detection is studied in [19] using clustering based techniques. [26] studied both textual content and social interactions to find opposing network from online forums. In our work, besides user-user social links, we use feedback behavior which cannot be modeled by current community detection approaches.
Our proposed technique which is based on probabilistic matrix factorization (PMF) [12], a collaborative filtering based method originally used for recommen-dation tasks. The PMF method has been applied on social recommendation [13], news article [18] recommendation, relation prediction [27] [28] and modeling friendship-interest propagations [16]. In particular, [12] proposed a PMF model that combines social network information with rating data to perform social rec-ommendation and [28] extended PMF for relation prediction task. Our model is a direct extension on [13] where we model t hree components: social, interaction and feedback. Besides this, our model assumes symmetric user social behavior.
Similar to our political affiliation task, a line of research was devoted to dis-cover the political affiliations of informal web-based contents like news arti-cles [29], weblogs [4], political speeches [30] and web documents [3]. Political datasets such as debates and tweets are explored for classifying user stances[31]. These applications are similar to our task as they are focussed on political con-tent and relies on left-right beliefs.

For users X  political affiliation identification on Twitter, using supervised ap-proaches, [32,14,5] achieved high accuracy and [33] using semi-supervised label propagation method, achieved high accuracy. These studies report high perfor-mance just based on textual content or hashtags with strong nuances on political affiliations which are unique Twitter properties. Where as, we proposed an un-supervised approach and studied on data without special text characteristics. In our previous work [15], we exploited feedback behavior for the same task. However, the model performance degrades with high sparsity rate. In this work, we proposed a principled way to integrate social links and user X  X  feedback. In this paper, we proposed an unsupervised integrated approach based on proba-bilistic matrix factorization that combines social and feedback behavior features in a principled way to cater two major challenges -combining integral data com-ponents and data sparsity. Interesting future work is to study multiple-party cases and user demographics discovery such as technology or religion. Acknowledgements. This research/project is supported by the Singapore Na-tional Research Foundation under its International Research Centre@Singapore Funding Initiative and administered by the IDM Programme Office.

