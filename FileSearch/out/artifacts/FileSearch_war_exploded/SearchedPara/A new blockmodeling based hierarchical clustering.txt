 1. Introduction
Recently, social network analysis (SNA) has been recognized as a promising and effective technology for studying complex net-works, especially for the Internet, which contains a large amount of web pages that grow in the  X  X  X B X  X  order of magnitude each day. Because of the characteristic of dynamical structure on the Web, there is an increasing trend that the Web is partitioned into distinct subnetworks. We call such subnetwork as web social network (WSN for short), since it is a social structure made of web pages called  X  X  X odes X  X  which are connected by one or more specific types of interdependency, such as similar theme or content related to friendship, kinship, financial exchange, dislike, relation-ships of beliefs, knowledge or prestige.

SNA is an alternative solution to analyze patterns of relation-ships and interactions between social actors in order to discover an underlying social structure ( Breiger, 2004 ). It focuses practi-cally on the relationships between social structures and semantic configurations ( Pattison, 1994 ) while the structure of the social network constitutes. There are several SNA techniques that have been applied to analysis the dynamical structure ( Strogatz, 2001 ), Qiao et al., 2011 ), and predict the evolving trend of a social network ( Qiu et al., 2009 ). But there is rare work focusing on to discover new emerging groups of similar objects in WSNs, which can help electronic dealers or online sailers classify their users by their interactions and int erests in order to provide special services for distinct categories of people. How to develop an accurate and efficient clustering a lgorithm for partitioning WSNs is a challenging problem due to the following characteristics in web social networks:
The relations among pages in a WSN are very intricate, and the links between pages could have distinct weights, directions and signs. The traditional clustering algorithms including the distance, hierarchical, density based approaches that cannot be directly applied to partition the WSN containing a lot of pages with complex interactions.

The network structure of the Web could change dynamically over time. For example, on the WWW, pages or links are created and disappeared every minute, which is difficult for us to accurately partition the dynamically evolving network structure.

Meta-complication ( Strogatz, 2001 ): the various complications can influence each other. For example, the present layout of a power complex network depends on how it has grown over the years  X  a case where network evolution. The pages could be large networks with position as a central concept, which seeks to group units that have substantially similar patterns of relations with others and can be used to discover the relations of structure equivalence among distinct clusters ( Breiger, 2004 ). Particularly, the structure equivalence emerged as a basic concept for analyz-ing the social network representations of social structure ( Burt, 1988 ). As addressed previously, WSN has complex relations among social actors (i.e., web pages) and the importance of actors is defined beyond the position relation among them. So, it is appropriate to use the block models to partition the social relations among web pages into disjoint classes.
 clustering algorithm in order to analyze complex networks in an efficient fashion, especially for WSNs. To achieve these goals, we made the following contributions in this study: 1. In order to overcome the arbitrary of specifying a cluster mean or 2. We use an Euclidean-like dissimilarity measure to compute 3. We conduct experiments to estimate the accuracy and effi-2. Related work objects has recently received increasing attention ( Xu and Chen, 2005 ; Qin et al., 2005 ). In general, existing clustering methods can be classified into the following categories ( Han and Kamber, 2000 ; Schaeffer, 2007 ): 1. Partitioning methods. The most popular heuristic methods are 2. Hierarchical methods. A hierarchical method is categorized into 3. Density-based methods. In order to overcome the difficulty at 4. Grid-based methods. A grid-based approach quantizes the approach suitable for WSNs. Actually, WSNs contain complex link relations that can be used to evaluate the similarity of pages, and we can group WSNs by analyzing the structure similarity among web pages. This motivates us to develop a new cluster approach that consider the structure relations among distinct pages. Block-modeling is an alternative method to cluster WSNs due to the following two reasons: (1) it can partition pages of a WSN into a set of positions and the link relations into different blocks and (2) actors in one cluster have similar link relations with other parts of the network.
 including relational analysis, posi tional analysis, and hierarchical analysis examines how similarly two network actors connect to each other. The purpose of positional studies is to uncover the overall structure of a social network. An important method is blockmodeling ( Batagelj et al., 2004 ), which aims to cluster objects that have substantially similar patterns of relations with others, and can interpret the patterns of relatio nships among clusters, especially fit for social networks. Although relational analysis and positional analysis approaches are based on different measures, they may employ hierarchical clustering to partition a social network. Hier-archical clustering generates a cluster hierarchy represented by a dendrogram, in which clusters are merged at successively less restrictive values of similarity ( Xu and Chen, 2005 ). foundations, there is rare work that has been done on employing hierarchical clustering to partition a network. Initially generalized blockmodeling approach is proposed by Batagelj, Doreian, and
Ferligoj. This model is supported by two programs, that is, Model and Model2, but the procedures in these two models are time consuming and can only be applied to the networks of moderate size ( Batagelj et al., 2004 ). Blockmodeling has recently attracted much attention, since it could reduce a complex network into a simpler structure, which is easy to understand based on structural equivalence measure rather than on relational strength. A real-world application of blockmodeling is that it has been used to analysis the complex terrorism network ( Qin et al., 2005 ; Xu and Chen, 2005 ) and can accurately identify the key members who may lead or coordinate terrorism attacks.

Applying blockmodeling techniques to hierarchical clustering can improve the accuracy of network partition. In this study, we use the structural equivalence between two pages which have identical links to and from others to identify similar pages in order to partition a WSN. In blockmodeling, perfect equivalence between objects may not appears frequently, there are several definitions of  X  X  X quivalence X  X  in blockmodeling, e.g., the regular equivalence and generalized equivalence ( Batagelj et al., 2004 ). In this study, we extend regular equivalence to handle the clustering problem in WSNs with a large number of pages and complex relationships among them.

The rest of this paper is organized as follows: Section 3 introduces the important concepts and preliminaries used by the proposed approaches and address es the clustering problem based on blockmodeling. Section 4 introduces the blockmodeling based hierarchical clustering algorithm to effectively group pages. Section 5 describes the performa nce studies. Finally, Section 6 gives the concluding remarks and outlines the directions for future work. 3. Problem statement and preliminaries
In this section, we will first define a web social network and address the WSN clustering problem. Then, we will formally introduce important concepts and preliminaries used by the clustering algorithm using blockmodeling in Section 4 . Definition 1 ( Web social network ). Let N be a web social net-work, N is defined as a graph N  X  X  V , E  X  , where V is a set of web pages and E is a set together with a relation of incidence that associates with two pages and is denoted by ( p , q , w ), where p , q A N , and w is a weight between p and q representing the link frequency between p and q . The pages in N should satisfy that there is at least one in or out link from one page to another.
Fig. 1 is an illustrative example of a clustered WSN that is extracted from our developed WSN knowledge discovery system ( Qiao et al., 2011 ), we can see that the network will become very intricate as the number of pages grows.

The WSN clustering problem is defined as partitioning a WSN into distinct clusters of pages in order to achieve the greatest similarity between pages in a cluster and the greatest dissim-ilarity between distinct clusters.
 Definition 2 ( Binary relation ). Let U  X f X 1 , X 2 , ... , X set of web pages, the pages are related by a binary relation ( Batagelj et al., 2004 ): R
D U U  X  1  X  which determines a network N  X  X  U , R  X  , the relation R is described by a binary matrix M  X  X  r ij n n , where r  X 
In some applications, r ij can be a nonnegative real number expressing the strength (e.g., link frequency) of the relation M between X i and X j .

The goal of blockmodeling based clustering problem is to identify clusters of pages that share structural characteristics defined in M derived from a WSN. The pages in a cluster have similar connective patterns to other pages, and form a cluster C  X f C 1 , C 2 , ... , C k g that is a partition of the set of pages: where i a j ) C i \ C j  X  | .

A cluster set C partitions the relation R into blocks represented by the following equation: M  X  C i , C j  X  X  M \ C i C j  X  3  X 
Each block is composed of pages belonging to the clusters C and C j and all arcs ejecting from C i to C j .

The basic idea of blockmodeling is that unites in a network can be clustered based on the extent to which they are equivalent according to different definition of equivalence ( Batagelj et al., 2004 ). Here, we will define the structure equivalence that is used to group pages as follows.
 Definition 3 ( Structural equivalence ). Pages X and Y are structu-rally equivalent if they are connected to the rest of a network in an identical way and satisfy that: S : XMY 3 YMX r ij  X  r ji S : XMX 3 YMY r ii  X  r jj S : ( Z A U \ f X , Y g :  X  XMZ 3 YMZ  X 8 k a i , jr ik  X  r jk S : ( Z A U \ f X , Y g :  X  ZMX 3 ZMY  X 8 k a i , jr ki  X  r kj
Here we give an example of a regular block with structure equivalence as follows, and we can see that the block is a diagonal matrix. 101100 000110 101100 111111 010100 001000
The blockmodeling problem based on structural equivalence can be solved by two common approaches, i.e., indirect approach and direct approach. In this study, we apply the indirect function of a dissimilarity measure between pairs of pages given below to cluster WSNs.
 Definition 4 ( Dissimilarity matrix ). Let X i , X j be two pages, the dissimilarity between them is calculated by the following Euclidean-like measure: d  X  X i , X j  X  X  for each pair of pages holds that X i X j 3 d  X  X i , X j page is described by the vector composed of the correspond-ing row and column of relational matrix, and is compatible with structural equivalence. For example, d  X  X , Y  X  X  d  X  X  p  X  q 1 , q 2 , ... , q n  X  X  X  0 ( ) p 1  X  q 1 , p 2  X  q 2 , ... , p two actors are similar, their relations to others are identical. On the contrary, when the relations of each actor are similar to other actor X  X  relations, these two actors are similar and can be combined into one category. d  X  X i , X j  X  denotes the dissimilarity between X the smaller of d  X  X i , X j  X  , X i is more similar to X compute the dissimilarity between pages, e.g., Manhattan dis-tance and truncated Manhattan distance ( Batagelj et al., 1992 ). w.r.t. the above WSN in Fig. 1 , where X i , i D  X  1 ; 20 corresponds to node 1 , ... , node 20 in Fig. 1 . The element X ij  X  1 implies node interacts with node j . On the contrary, X ij  X  0 means node relate to node j . Note that X ij is not identical to X ji WSN is a directed graph ( Fig. 2 ).
 as shown in Fig. 3 based on the above block. For example, in Fig. 3 , the element d  X  X 3 , X 2  X  in row 3, column 2 is four, which means X similarity between X 11 and X 2 is higher than that between X that have no relations to X 2 .
 between clusters measures to achieve cluster analysis in this study.
Definition 5 ( Inter-connectivity ). Let C be a cluster, the inter-connectivity RI of C is defined as RI C  X  1 n where n is the number of pages in C , d  X  X  represents the dissim-ilarity measure between two pages.

Definition 6 ( Closeness between clusters ). Let C 1 , C 2 clusters, the closeness RC between C 1 and C 2 is defined as where n 1 and n 2 represent the numbers of pages in C 1 and C respectively. d  X  X  is the dissimilarity measure between two pages. the detail of the blockmodeling methodology is available in Batagelj et al. (2004) .
 4. A blockmodeling based hierarchical clustering algorithm
In this section, we will introduce the HCUBE clustering approach, the detail is given in Algorithm 1 .
 Algorithm 1. A hierarchical clustering algorithm using block-modeling.
 Input: A webpage data set D that forms a web social network.
Output: A set of clusters C  X f C 1 , C 2 , ... , C n g , where n is the number of clusters. 1: G  X  GenerateKNNGraph  X  D  X  ; 2: N  X  Partition ( G ); 3: ComputeDisMatrix ( N ); 4: R 1  X  0; R 2  X  1; 5: S 1  X 1 ; S 2  X 1 ; 6: while R 2 4 R 1 do 7: R 1  X  R 2 ; 8: n  X  NumOfCluster ( G ); 9: for  X  j  X  0 ; j o n ; j  X  X  X  do 10: for  X  k  X  0 ; k o n ; k  X  X  X  do 11: if k a j then 12: S 1  X  S 2 ; 13: S 2  X  RC  X  C j , C k  X  ; 14: if S 2 o S 1 then 15: a  X  j ; b  X  k ; 16: Merge( C a , C b ); 18: output C  X f C 1 , C 2 , ... , C n g
HCUBE contains three main phases: (1) create a k -nearest neighbor graph G (Step 1); (2) partition the data items and treat each page as a cluster and generate a web social network N (Step 2), calculate the dissimilarity matrix of N (Step 3), and initial two parameters R 1 and R 2 satisfying R 1 o R 2 (Step 4), e.g., R R  X  1, where R 2 (calculated by the formula in Step 17) is use to measure the distance between inter-connectivity of each cluster and the closeness of clusters. Particularly, S 2 represents the close-ness between distinct clusters and S 1 and S 2 are set to two large enough real numbers (Step 5); and (3) employ an agglomerative hierarchical clustering algorithm to find the clusters by repeatedly combining together these clusters (Steps 6 X 17). It is an essential phase in HCUBE, and the basic idea is to discover the best partition, cluster as well as keep the most sparse distance among distinct clusters. Finally, HCBUE merges similar clusters (Step 16) and finally outputs a series of clusters C (Step 18).

HCUBE is more like a subgraph isomorphism detection approach, but its basic idea is different from subgraph isomorph-ism. Subgraph isomorphism is a generalization of both the maximum clique problem and the problem of testing whether a graph contains a Hamiltonian cycle, and is therefore NP-complete ( Cook, 1971 ). But, HCUBE is actually a bottom-up hierarchical method by aggregating similar clusters with the biggest closeness to other clusters into a tree of clusters. To determine the pairs of the most similar clusters, it takes into account both the inter-connectivity as well as the closeness of clusters, especially the internal characteristics of the clusters themselves. Accordingly, it does not depend on a user-specified model and can automatically adapt to the internal characteristics of clusters that has been merged.

The complexity of HCUBE is O  X  9 V 9 2  X  , where 9 V 9 is the number of nodes in a WSN. However, if we treat the WSN clustering as the subgraph isomorphism problem, the runtime is in general expo-when 9 V 9 is a large integer.

In order to improve the efficiency of HCUBE, we propose a WSN into p units, each unit is called b -area, where b is the distance threshold used to partition WSNs. For each unit, find the most approximate node pairs based on HCUBE, if the distance between each node pair is less than b , merge these node pairs until it is longer than b and (2) employ HCUBE to merge the remaining clusters. The time complexity of the optimized HCUBE since it will affect the accuracy of clustering. 5. Empirical studies
In this section, we report the experimental studies by compar-ing HCUBE with Chameleon ( Karypis et al., 1999 ) and an improve k -means clustering algorithm, called k n -means ( k  X  4), which uses the shortest path (geodesic) to represent the distance between pages. Geodesic is represented by Eq. (7) and obtained by iteratively computing the elements in an adjacent matrix which indicates the length of shortest path from one page to another one by Floyd algorithm.
 L  X  x
All algorithms are implemented in the VS.net development platform and experiments are conducted on an Intel T2300, 1.66 GHz CPU with 1.5 GHz of main memory, running on Window XP operating system. All experiments were run on real data sets that are crawled from the Web. 5.1. Visualization of clusters by HCUBE
In order to understand the results, we illustrate the clustering results and the dissimilarity matrix as the cardinality of the WSN is 32 in Fig. 4 .

As shown in Fig. 4 (a), the clusters identified by HCUBE are f X  p 2 , p 3 , p 4  X  ,  X  p 5 , p 6 , p 7  X  ,  X  p 8 , p 10 , p 11 p , p 31 , p 32  X g , where p i  X  i r 32  X  represents the serial number of pages. The value  X  X 0 X  X  in the dissimilarity matrix as given in Fig. 4 (b) represents the equivalence relation between pages, and HCUBE groups such pages whose equivalent relation values are 0. For example, the element in row 6 (representing p 6 ), column 5 (representing p 5 ) in this dissimilarity matrix is 0, which implies p is equivalent to p 5 , so we group these two pages into a cluster. Note that the bigger the integer in the dissimilarity matrix, the more likely these two pages will be different. In addition, the clustering results are verified to be agreeable to the real-world situation by web mining experts. 5.2. Clustering accuracy comparison In order to verify the effectiveness of HCUBE in clustering WSNs, we compare clustering precision (defined in Eq. (8)) and recall (defined in Eq. (9)) among HCUBE, Chameleon and respectively.
 Precision  X  tp tp  X  fp  X  8  X  where tp represents the number of correctly clustered pages, and fp is the number of incorrectly rejected clustered page. Recall  X  tp tp  X  fn  X  9  X  where fn represents the number of incorrectly accepted clustered page.
 find that the results agree with Figs. 5 and 6 as the cardinality of pages is greater than 500. In addition, we can see from
Figs. 5 and 6 that: 1. HCUBE outperforms k -means based method in terms of clus-2. HCUBE achieves better experimental results than Chameleon in 3. The precision and recall of HCUBE increases gradually with the 5.3. Cluster efficiency comparison HCUBE with k n -means. We observe the time performance as the number of pages increases from 12 to 500, and the experimental results are given in Fig. 7 , where the x -axis represents the number of pages and the y -axis is the execution time.

According to Fig. 7 , we can find that when the number of pages is small (less than 100 pages), there is not a big gap between pages grows from 100 to 500, the time performance of HCUBE falls drastically with an average factor of 47.5% compared to sional data takes O  X  n 2  X  time for n pages. In addition, it is time consuming to compute the n n dissimilarity matrix.

In order to improve the efficiency of HCUBE, we proposed a two-phase HCUBE approach as introduced in Section 4 , we call it and k n -means, where the x -axis is the number of pages and the y -axis represents the execution time. Here, the number of initial partitions p is set to three which is verified to be an appropriate value by experiments.

According to Fig. 8 , we can see that the runtime of HCUBE* is than k n -means. By analyzing the results, we find that the execu-HCUBE which agrees with the mathematical analysis of the time complexity of Algorithm 1 . 6. Conclusions and future work
As the web social network becomes ubiquitous and popular, cluster analysis is an essential technique to identify crowed and sparse networks on the Web. This paper proposed a hierarchical clustering algorithm (HCUBE) based on blockmodeling to parti-tion WSNs in an accurate manner by applying the measure of structural equivalence. The basic idea of HCUBE is to combine similar pages into a cluster with a guarantee of a large outer-connectivity to other clusters. By experimental studies, we demonstrate that HCUBE is effective to cluster WSN compared to Chameleon and the k -means based clustering algorithms. Moreover, in order to improve the efficiency of HCUBE, we optimize it by reducing the time complexity from O  X  9 V 9 2 O  X  9 V 9 2 = p  X  .

Other future work could be done to further improve the efficiency of HCUBE by reducing the cost for computing dissim-ilarity matrix. In addition, we will develop a knowledge discovery system for web social networks by integrating web mining algorithms including HCUBE and advanced techniques, i.e., the PageRank and Bayesian classification algorithms, in order to score as well as classify web pages.
 Acknowledgments This work is partially supported by the National Natural Science Foundation of China under Grant nos. 61100045, 61165013, and 61003142; the China Postdoctoral Science Foun-dation under Grant nos. 201104697 and 20090461346; the Specialized Research Fund for the Doctoral Program of Higher Education of China under Grant no. 20110184120008; the Youth Foundation for Humanities and Social Sciences of Ministry of Education of China under Grant no. 10YJCZH117; the Fundamen-tal Research Funds for the Central Universities under Grant nos. SWJTU09CX035 and SWJTU11ZT08; the Sichuan Science and Technology Support Projects under Grant no. 2010GZ0123; the Innovative Application Projects of the Ministry of Public Security under Grant no. 2009YYCXSCST083.
 References Execution time (sec.) Execution time (sec.)
