 number of rules, which may not always be useful to human users. In this project, we propose a novel visual data-mining framework, called Opportunity Map, to identify useful and acti onable knowledge quickly and easily from the discovered rules. The framework is inspired by the House of Quality from Quality Function Deployment (QFD) in Quality Engineering. It associates discovered rules, related summarized data and data distributions with the application objective using an interactive matrix. Combined with drill down visualization, integrated visualization of data distribution bars and rules, visualization of trend behaviors, and comparative analysis, the Opportunity Map allows users to analyze rules and data at different levels of detail and quickl y identify the actionable knowledge and opportunities. The proposed framework represents a systematic and flexible approach to rule analysis. Applications of the system to large-scale data sets from our industrial partner have yielded promising results. number of patterns or rules [2] [20] that are hard to comprehend. Most of the discovered rules actually are not useful. A number of techniques have been proposed to help the user find interesting rules [1] [12] [18] [19] [21], either using objective measures, or subjective measures such as unexpectedness and actionability [1][15][18]. framework called Opportunity Map. It integrates a set of visual data mining techniques, to quickly identify interesting and actionable knowledge. The visualization layout is inspired by the House of Quality in Quality Function Deployment [6] [23], specifically the Interrelationships Matrix in the House of Quality (HOQ) from Management Sciences. In the Opportunity Map, Customer Requirements in the HOQ are mapped to application requirements expressed as classes in data mining. Technical Requirements in HOQ are mapped to attributes and values. In this way, the framework is able to make use of well-established methodologies and business practices in product design and manufacturing from Management Sciences, such as fast identification of important activities and prioritizing them. Map system is reported in [28]. In this paper, we enhance previous methods and also extend the above framework with a number of novel visual mining methods which significantly improve the usability of the system. We introduce them briefly below. integrated data mining rules visualization and distribution map visualization method is developed. Distribution maps (Distribution Bars/Correlation Charts) [5][11] are used in traditional statistical data analysis. This technique plots the data distribution of (usually two) variables using bar charts, thereby giving users some ideas of how the two plotted variables are related. However, the distribution map usually is only able to tell the correlation of the currently plotted attributes. It does not explicitly show the relationships of the two plotted attributes and in relation to other attributes. Data mining rules, on the other hand, represent detailed relationships. However, due to the large number of rules that are typically discovered, the rules may not be easily comprehensible. visualization of the distribution map and data mining rules. The visualization process not only allows users to easily identify interesting and unusual spots in the map, but also to conveniently gain insights into the underlying reasons. The procedure is explained in more details in Section 3.3. Map visualizes. This is especially true when a large number of attributes in our data are numeric or ordinal. The user is interested in knowing how the target classes change over those numeric/ordinal attributes. Opportunity Map provides a special visualization mode, which allows the user to see the changing behavior of an attribute with respect to the classes. Section 3.4 will discuss this in detail. rules with visualization to reveal important hidden knowledge. An extension to our previous work on this is presented in Section 3.5. steps in its visual data mining process: 1. Mine rules from the data. We use class association 2. Visualize the rules with data using the Opportunity 3. Identify interesting spots in the priority areas, i.e., 4. Drill down to a particular attribute with all the 5. Compare data and rule distributions, trends, etc., to Interesting and actionable rules are often identified in Steps 4 and 5. 1. To our knowledge, this is the first attempt to study 2. Adapt ideas from Quality Function Deployment in 3. Integrate distributions and data mining rules The Opportunity Map framework with the proposed techniques has been used for real-life, large-scale datasets from our industrial partner Motorola. The user feedbacks confirm the proposed methods are useful and easy to use. mining: interestingness, rule query and visualization. to unexpectedness and actionability analysis. As was discussed in the introduction to this paper, little related work has been done using visualization for this purpose. In [8][24], query is used to retrieve certain rules. However, one cannot issue a query to find interesting and actionable rules if he does not already know what the rules are. work is related to rule visualization [11]. [9] proposes interactive mosaic plots to visualize the contingency tables of the association rules. In [7], classification rules are visualized using rule polygons. [25] introduces a method to visualize association rules in text domain. [26] visualizes the behavior of rules, i.e., changes of supports and confidences over time. In [4] parallel coordinates are used to visualize rules. [3] uses 3D graph to visualize rules by emphasizing their supports and confidences. In [10], a post-processing environment is proposed to browse and visualize association rules so that the user can divide a large rule set into smaller ones. In [17], important rules in terms of support and confidence values are highlighted with a grid view. In [16], ordering of categorical data is studied to improve the visualization, with the goal of less visualization clutter. It is mainly useful for parallel coordinates such as [26][27] and other general spreadsheet types of visualization. use r fi nd interesting a nd actionable kno wledge. They differ f rom ou r propos ed t ech niques in Opport unity Map in term s of both th e g oal an d th e v isualizatio n. Opport unity Map i s a ru le visualizat ion system and a process f or f ast id entificatio n o f in terestin g an d action able knowledg e. It als o can be u sed to an aly ze data distrib utio n, tren ds o f attrib utes, an d ru les com parativ e an aly sis. in [28] w ith a num ber o f no vel vi sua l d ata mining methods as d iscu ssed in th e In tro ductio n sectio n. W e will n ot rep eat th em here. desig ned for th e ty pe of ap plicatio ns in w hich data set has class lab els. Usu ally , the u ser is in terested in a subset of th e clas ses, which repres ents im portan t states . Su ch types of data are com monly used in clas sification or predictio n. Ho wever, it is im portan t to n ote th at classif icatio n or predictio n is n ot th e prim ary objectiv e here. Ou r g oal is to find ru les th at help solve real-world probl em s. F or ex am ple, a N ew Produ ct Introdu ction Engi neer m ay w ant to fi nd the relationshi ps between produ ct attribu tes and abn orm al clas ses in produ ct performance data, thereby providing i nsight s r egarding how to m odi fy the produ ct des ign an d av oid t he abn orm al cas es. Scien ce and the Ho use of Qu ality , an d details o f th e visualizatio n lay out, please ref er to our p revious rep ort in [28]. Brief ly, in th e m ain Matrix visualizatio n, th e X-axis lists all th e attrib utes, an d th e Y-axis lists all the classes. Fig ure 1 sh ows an illu stratio n. clas ses are placed at th e u pper part of th e v isualization , while th e les s im portan t clas ses are located at the low er part o f th e m atrix . ach iev e some des ired ef fects . A ction able attribu tes are placed on th e lef t s ide of th e m atrix , w hile n on-action able attribu tes are placed on th e rig ht. attribu tes are dom ain an d application depen dent. For each application /dom ain , th e abov e placem ents create four pri ority sect ors . Two prom inent wide di vider l ines are used to div ide th e v isualizatio n in to four secto rs as illu strated in Fig ure 1 . con tain s im portan t clas ses an d action able attribu tes. This is th e m ost im portan t secto r an d rep resen ts the bes t opportu nities . It is th us th e area on which the user sho uld fo cus. which is related to im portan t classes, b ut th e attrib utes in th is secto r are n ot actio nable. Ru les in th is area m ay, ho wever, he lp t he use r t o b etter und erstand the applicatio n domain . contain s less im portan t classes w ith actio nable attribu tes. The k nowledg e dis covered f rom th is area can be acted upon, b ut is g enerally of less interest to the u ser f or th e cu rren t application . which th e ru les are n ot im portan t an d not actio nable. can stu dy th e d etails b y using drill down visualizatio n on th at attrib ute. T he v isualizatio n is of sim ilar nature to Fig ure 1 . Classes are still asso ciated with Y ax is, but the X ax is n ow sh ows th e values of the drill-down attrib ute (v alu es are d iscretized /binned if th e attrib ute takes c ontinuo us va lues). in Opport unity Map. It helps the u ser t o deci de w here to focus an d sh ow im portan t in form atio n. By default, a CV ren ders th e ru les in th at g rid, as in Fig ure 2 (on the later figur e page). that cell in des cen din g order of rules  X  con fiden ce values. Each ru le is v isualized as a s mall bar. The height in dicates th e ru le X  s con fiden ce, an d the width indicat es its support . O range an d pu rpl e are u sed i n a round ro bin fashion to co lor th e b ars so th at the user is able to distingui sh d iffe rent rules. Ce nter part of cell is colored in blue an d th e satu ratio n value is used as a rough i ndication o f num ber of data points in that gr id. Figure 2) at the bottom of the CV proportionally indicate the number of data points in that cell (bar B) and the number of data covered by the rules in that cell (bar A). For the advantages of this CV layout and details, please refer to [28]. Also, CV is extensible and we will see its other rendering methods shortly. the most frequently used techniques in traditional visual data analysis and data mining. However, when used separately, they are not sufficient for the following reasons: perceptible. It shows the data distribution of an attribute with respect to another attribute (usually class attribute), by a simple visualization. In this way, the user is able to recognize the common distributions, and unusual spots. However, due to the way that the distribution map is constructed, the visualization only allows the user to explore the relationships of the two attributes in question. It does not provide clues how they may be related to other attributes or values. In the real world applications, it is very likely that three or more attributes are correlated to express a piece of knowledge. Also, the distribution map can only indicate possible locations that have relationships, without explicitly showing the exact relationships. capturing multi-attribute relationships. The rules are able to tell the exact relationships and the quality of the relationships in terms of support and confidence values. However, rules are usually generated in large numbers, and they are hard to understand by human users. Also, although the rules can be ordered based on some statistical measures, they are not organized. into an intuitive and powerful visualization. In the drill down visualization of one attribute, the Opportunity Map shows two types of distributions: 1. Distribution of values : for each value of the drill-2. Distribution of cla sses over each value : for each the user to perform various interesting studies: 1. He/she can inspect various distributions in the drill 2. Once an interesting distribution is located in a cell, 3. Visually comparing two bars related to data and visualizing distribution map and data mining rules together turns out to be one of the most effective tools in our proposed framework. Interesting knowledge is usually discovered in those cells with unexpected distributions, with rules revealing exact relationships and related attributes / values for further study. target class may become less likely to happen. This kind of knowledge is helpful to identify key attributes in the data, and also useful for the user to improve his products and applications. In Opportunity Map, a special Cell Visualization called Trends Behavior Visualization is provided to help the user find such useful information using visualization. trends of one attribute (ordinal type) with respect to all the classes in the drill down visualization. 1. First, values of the attribute (on X axis) are ordered. 2. A normalized value is calculated for each cell, 3. A bar is rendered in each cell, with its height different values of the attribute may have different counts on X axis (either due to the nature of the data, or due to the way we discretize / bin the data). However, due to the way we normalize and render the bars, on horizontal direction for each class (row), the height of the bars will correctly reflect the data percentage distribution trends of the corresponding class for each value. For example, in Figure 6, for class8473, class3118, we can see the clear going up behavior for these two classes over all the values of that attribute. This explains to the user that these two classes are more likely to happen when the value of the attribute increases. If that attribute is actionable and the user wants to avoid these two classes, then the obvious action should be trying to decrease the value of that attribute in his products or applications. results that are not easily observable from individual rules alone. For example, in the product design domain, one may want to compare the rules for two products to find out why one performs better than the other (product model is an attribute). two products side-by-side. This does not work well because rules in the two sets can be quite different due to minimum support/confidence constraints. Thus, we proposed a method to mine and compare the rules as reported in [28]. This method enables the user to see the difference of two values on a given rule set. comparison, Opportunity Map provides another comparative study method in the drill-down visualization, called value-based rule comparison. This method is useful when the user finds one interesting value of an attribute, e.g., a specific product model, in a set of rules. He can test this set of rules on all other values of that attribute, e.g., other products, to see whether this set of rules represent any general knowledge. The testing is done by creating new rules by replacing the value in question with other possible values, and computing the support and confidence values for the new rules and visualizing them. Figure 7 shows one example (See Section 4 for description). For our applications, users use rule hypothesis testing as a convenient way to test and confirm the knowledge that they learned. are proposed for different scenarios. The first method compares rules on two data subsets, and the visualization is designed for finding rules that behave very differently on the two data subsets. The value-based rule comparison method is more appropriate for locating unusual and abnormal cells, so that the user can focus on them to do detailed analysis. For the value-based method, the system allows the user to do the value-based rule comparison on either values of an attribute (as discussed above), or on different classes. The process of comparing different classes is similar. When applied to classes, this technique allows the user to see the strength and applicability of the rules on different classes. Due to space limitation, we do not discuss this further. measure of effectiveness for a visual data mining system. It can only be evaluated subjectively by the people who use it in real-life applications. This section presents a case study based on our real-life applications using the Opportunity Map for Motorola X  X  Mobile Devices Business unit. 50,000 data points, with 160 attributes and over 5,000 rules. Here, we emphasize the findings from the system, rather than the process (which was addressed in the previous sections of the paper). Due to confidentiality reasons, all a ttributes, classes and values are replaced by generic names and values. To save space, images are cropped and resized. domain experts to identify the important classes and actionable attributes. Figure 3 shows the initial visualization screen after data were loaded. The main window (on the left) displays the Matrix visualization of the Opportunity Map. All the user interaction with the system is performed in this window. The two wide green lines are used to divide the Matrix into four sectors as described in Section 3.2. In the subsequent figures, these two lines are not visible due to the limited page size (In these examples, there are many action able attribu tes and im portan t clas ses). T he inform atio n w indow on th e rig ht display s th e d etailed inform ation as th e u ser m oves th e mouse cursor over the main w indow. A sm all lo g w indow on th e lo wer-right corn er l ogs t he operat ions perf orm ed, and prov ides hints when applicable. are i ndicat ions of pos sibly stron g rel ationships or rules. In Fig ure 3 , cell A is p rominent f or h aving a larg e orange bar. T he in form atio n w indow co nfirm s th at it has o ne stro ng ru le. W e can drill down on this attrib ute to see its d istrib utio n m ap as in Fig ure 4 . only happen s when the value of at tribute3198 i s 0 (cel l B). In this case, b oth th e ru le an d th e d istrib utio n m ap can rev eal th is piece of relation ship. If th e attribu te in that rule is actio nable, th en th e u ser co uld u se th is discovered k nowledg e to improv e the produ ct des ign. cell D , the distribution m ap sugge sts t hat class7525 i s very rel ated to values of (on X ax is) " 389025024" an d "1778412288" . A lthough the distribution m ap tells us neith er the exact relatio nships nor o ther d etail, w e can eas ily get some clu es of th e reas ons by ch eck ing th e rules, eith er m oving th e m ouse o ver th em or sw itch ing corres pon d to cell C an d D in Fig ure 4). The switch betw een visualization m odes is just a click aw ay. rules in cell E to find p ossib le reaso ns, w hich may sugge st other closely related a ttributes a nd va lues. After th at, h e/she can go back to Fig ure 3 and exam ine other attributes/values sugge sted in the above steps, with enrich ed knowledg e an d clearer v iew of th e n ature of the dat a. We do n ot di scuss it further here due to lim ited s pace. sugge sts that it acts a s a n i mportant va lue fo r class7525, the ru le generat ion system failed t o generat e any rules for that g rid. T his is a v ery co mmon phenom enon eith er becau se of the minimum support/con fiden ce con strain ts, or becau se of th e ru le pru ning. Opport unity Map allows the u ser t o com pare these two values in order to find th eir d ifferen ces in term s of the ru les. T he resu lt (af ter n orm alizatio n) is sho wn in Figur e 7 . T he vi sua lization sur prisingl y inform s th e u ser th at th ese tw o v alues behave very underly ing m ean ing of th e v alues, th e u ser is ab le to enrich or adj ust his/her k nowledg e bas ed on th is fact. visualizat ion of at tribute6376, w hich is a con tinuous attribu te an d bin ned in to 3 bin s. C learly , we can see that in creasin g th e v alue o f th is attrib ute will increase the lik elih ood for clas s8473, clas s3872, etc., an d w ill decreas e the likelihood of cl ass6479, cl ass7525, et c. Som e oth er clas ses rem ain stable, or h ave no clear pattern . If th is attrib ute is actio nable, th en th e tren ds behavior information w ould be ve ry use ful in helping the u ser i mprov ing his produ cts an d appl icat ions. comparison usi ng a nother attribute. Ro w B in Fi gur e 7 demonstrates th e resu lts o f th e 5 ru les in th e f irst cell of Row A. The v isualization clearly show s th at m ost values o f th at attrib ute b ehave very sim ilarly on the rules, w hile the " d00" is an ex cept ion. T his leads the user to f urth er an aly ze th e reas ons using his/her dom ain kno wledge. Map helps th em to f ind m any pieces of u seful kno wledge. data m ining tech niques, w hich are im plem ented in our Opport unity Map f ram ew ork , for f ast identificat ion of interes tin g an d action able k nowledg e. T he fram ew ork is in spired b y th e Ho use o f Qu ality from Industrial En gineerin g. It v isualizes th e u ser X  s n eeds (e.g ., problem clas ses), attribu tes an d ru les as a matrix . The visualization clearly show s h ow attribu tes and their values are lin ked to th e im portan t classes. With cell visualizatio n, d rill d own v isualizatio n, in teg rated com parat ive s tudy, O pport unity Map repres ents a system atic w ay of pos t-analysis of di scovered rules applicatio ns with real-life, larg e-scale d ata sets f rom our industrial part ner, i t has been pos sible t o find the interestin g an d useful ru les an d pattern s from a larg e num ber of rules ge nerated by data m ining. T hus, the tech nolog y tran sfer team of ou r in dustrial partn er is working to make the O pport unity Map a part of produ ct rev iew s an d on going deci sion-making by new produ ct des igners an d m anagers. 
