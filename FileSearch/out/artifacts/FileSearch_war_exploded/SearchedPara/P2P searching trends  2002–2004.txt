 1. Introduction
Peer-to-peer (P2P) computing has attracted great interest and attention of the computing industry and gained popularity among computer users and their networked virtual communities. Yang and Garcia-
Molina (2002) defined peer-to-peer systems as  X  X  X istributed systems in which nodes of equal roles and capa-bilities exchange information and services directly with each other X  X  (p. 1). Anonymity, scalability, fault resilience, decentralization and self-organization are the distinct characteristics of these P2P systems ( Milojicic et al., 2002 ). In Gnutella-based P2P systems, searching is performed using message exchange.
However, such message-based searching mechanism results in a large number of flooding query messages over the Gnutella networks. Many P2P researchers begin to address this problem and several solutions have been proposed. Matei, Iamnitchi, and Foster (2002) reported the network usage and traffic level of a public
Gnutella network and called for smarter routing mechanisms. Besides this study, Tetsuya, Sakai, Kikuma, and Kurokawa (2003) suggested that applications of IP multicasting help reduce network traffic.
This paper does not intend to propose any immediate solutions to the problem of Gnutella flooding traf-fic but aims to report on the searching query trends in the past two years. It is believed that an effective solution to the network traffic problem should integrate human behavior into design procedures/all stages of future development and implementation. Besides, P2P searching trends have not been explicitly reported tailed analysis of the searching trends. This study investigates the changes and trends in Gnutella-based searching queries from July 2002 to January 2004. Our research design follows several well-known Web
Marais, &amp; Moricz, 1999; Spink &amp; Ozmultu, 2002; Wolfram, Spink, Jansen, &amp; Saracevic, 2001 ). 2. Background 2.1. Overview of Gnutella network
In a Gnutella network, each peer is directly connected to one or more peer(s) that are known as neigh-bors. Apeer maintains information repository available for sharing. The shared information is usually about multimedia files. Apeer generates a search query and broadcasts the query to its neighbors through a flooding-based broadcast mechanism. Its neighbors check their own shared files in an attempt to locate matched or relevant files, and at the same time, broadcast the incoming query to their connecting neighbors except the peer from which the query is being sent. The searching query continues to travel along different paths of different peers until the TTL (time to live) value in the searching query reaches zero. 2.2. Query messages of Gnutella network
There are five types of message or descriptor according to Gnutella Specification 0.4 ( Gnutella, 2004 ) that are used for communicating data between peers on a Gnutella network. They are Ping , Pong , Query ,
QueryHit and Push messages. A Query message is used for specifying criteria for files while a QueryHit mes-focused on the Query message only because it can indicate the nature of searching queries of P2P users. 2.3. Prior studies on user interactions with information retrieval (IR) systems
Many studies were conducted to investigate the user interactions with Web search engines and other information retrieval (IR) systems. Agrowing number of studies have investigated the nature of queries on WWW search engines in the past few years. Jansen et al. (2000) reported the result of a study on 51,474 queries from 18,113 users of Excites search engines focusing on sessions, queries, and terms. There were 18,098 unique queries among 51,474 queries and 21,862 unique terms among 113,746 terms. They reported that the sessions were short and most users searched with one query per session only. The que-ries were short and 44.78% of unique terms appeared once only. Silverstein et al. (1999) reported the re-sult of a study of 154millions unique queries of Alta Vista search engine. The report shows that the sessions were also short and users mostly typed in short queries. Wolfram et al. (2001) reported similar results in another study on 1million queries of Excite search engine. Ozmutlu et al. (2003) also found that multitasking information seeking and searching was a common behavior, based on the data from AllThe-
Web (FAST) search engine. Multitasking sessions often included more than three topics per session. They where 30,000 queries were included in the study. The questions were mainly in  X  X  X here X  X ,  X  X  X hat X  X , or  X  X  X ow X  X  format. There are studies on changes and trends of searching queries of WWW search engines.
Wolfram et al. (2001) compared the results of the studies of Excite queries from between 1997 and 1999. Findings included that there were fewer terms per query, fewer queries per session and little mod-ification in subsequent queries. Later, Ozmutlu et al. (2003) further compared the results of Excite queries among 1997, 1999, and 2001, specifically for multimedia queries identified. They revealed that queries per multimedia session had decreased since 1997 and multimedia queries identified were longer than non-multimedia queries. 3. Research goal
Although there are a number of studies on queries of WWW search engines, studies on queries over P2P networks have seldom been reported and studies on P2P searching trends have never been reported yet.
Therefore, the research goal of this study is to investigate the trends in P2P searching, on the basis of searching queries by Gnutella users from July 2002 to January 2004, focusing on the changes in the content characteristics and thus trends in P2P searching, we analyzed four weekly data sets, which were captured in
July 2002, December 2002, September 2003 and January 2004 respectively. The analysis focused on the characteristics of the searching query, including composition of queries in terms of duplication and use of language, popular file types, queries and terms, etc. By comparing the query characteristics in different sets of data, we are able to assess the changes in searching query and trends in P2P searching. We identify the factors behind the trends, such as copyright infringement and P2P user community. We also discuss future development of P2P networks and the implications to P2P development, such as reducing P2P net-work traffic. 4. Research design
In this section, we describe issues related to data collection and briefly explain several important terms coined in our study. 4.1. Data collection
Markatos (2002) showed that the overall P2P network characteristics, which are independent of loca-tion, can be represented by a randomly-chosen peer in the P2P network and every peer exhibits similar net-data were captured in the periods of 9th X 15th July 2002 (labeled Jul2002), 30th December 2002 X 5th Janu-ary 2003 (labeled Dec2002), 8th X 14th September 2003 (labeled Sep2003) and 6th X 12th January 2004 (labe-led Jan2004). Before implementing the data collection, a P2P program was written in JAVA language and implemented in the Gnutella protocol. The P2P program was situated in the campus of the Hong Kong
University of Science and Technology and running on a Pentium4 1.6G PC with 10Mps bandwidth. All searching queries passing through the P2P program were logged in the log file. Sample logged data are pre-sented in Table 1 . The log file was then imported into a database management system for further data processing and analysis.
 4.2. Definition of terms
Several terms pertinent to this study are defined as follows: 4.2.1. GUID and search criteria
GUID is a 16-byte string uniquely identifying the (message) descriptor on the Gnutella network. Search search criteria are the names of movie and artist. The search criteria and terms are all case-insensitive. 4.2.2. English and non-English queries
An English query contains only characters that are subsets of regular expressions including English char-acters, numeric characters, etc. In contrast, a non-English query contains non-English characters such as
Simplified Chinese and Korean characters. Any query containing non-English characters is classified as a non-English query even the query includes English characters. 4.2.3. Duplicate and distinct queries
Classification of duplicate queries is based on the combination of GUID and search criterion. Duplicate queries stand for queries with identical combination of GUID and search criterion. Two queries are clas-duplicate queries is 10%. There are duplicate queries because these  X  X  X dentical queries X  X  are routed through different neighboring hosts to the same host by the broadcast-based search mechanism. 4.2.4. Terms
Terms refer to strings of characters bounded by white space. 4.2.5. Stop words
Stop words are extremely common words that are usually ignored by major search engines such as Goo-typical examples of stop words. In this study, we classified a set of common terms as stop words as listed in Table 2 .
 5. Comparison of characteristics of queries
In this study which spanned 18 months, four weekly sets of searching queries were collected; they were labeled Jul2002, Dec2002, Sep2003 and Jan2004 respectively. Searching queries were then compared and analyzed by the following characteristics including (1) percentage of duplicate queries, (2) percentage of usage and (7) number of terms per query. 5.1. Duplication of queries in the four data sets
The number of searching queries in the four sets of data labeled Jul2002, Dec2002, Sep2003 and Jan2004 totaled 4.87millions, 8.97millions, 3.05millions and 3.37millions respectively.

As depicted in Table 3 , the percentage of duplicate queries in all four data sets ranged from 34% to 68% of total queries. Although the percentage of duplicate queries had increased from 44% in July 2002 to 52% in December 2002 and finally to 67% in September 2003, the duplication percentage dropped to 34% in Jan-sage (with the same GUID and search criterion) at a probability of more than 34%. The locality exhibited by the four sets of searching queries in our study is similar to the study by Markatos (2002) who reported that a Gnutella peer receives the same query message more than once at a probability of approximately 40%. 5.2. Percentage of non-English queries
Table 4 shows the percentage of non-English queries on the four data sets. Our analysis of the compo-sition of queries in terms of language and content was based on the distinct queries sets extracted from the ference of locality.

The percentage of non-English queries increased sharply from 0.23% in July 2002 to 12.78% in Septem-ber of 2003, and then from 12.78% in September of 2003 to in 22.59% in January of 2004. This reveals an increase in the number of queries containing non-English characters in an attempt to locate the files named in languages other than English. One possible reason is that there is an increasing number of shared files named in languages other than English. Another possible reason is that non-English users whose first lan-guages are not English have been on the rise and therefore they constitute a higher portion of P2P commu-nities. In general, P2P users are likely to name and search files with their native languages.
Our study further notes that the queries containing Simplified Chinese characters have appeared on the list of top 10 queries during September 2003 and January 2004. This may imply that the growth rate of Chinese P2P users (mainly residing in Mainland China) is faster than the growth rate of English-speaking
P2P users (mainly residing in the United States). According to a report of CNNIC (2004) , on the one hand, the China Internet population had increased from 45.8millions in July 2002 to 59.1millions in January 2003 (at a 29% growth rate), and finally reached 68millions in July 2003 (at a 15% growth rate). On the other hand, there was almost no growth of the American Internet population during the year 2002, followed by a slight growth during the first two quarters of year 2003 to reach 126millions Internet population ( Rainie &amp; Madden, 2004 ). 5.3. File types
When analyzing the file type searched by P2P users, one interesting finding is that there were approxi-mately 40% of searching queries not specifying any file types over the four different periods, as shown in
Table 5 . One possible explanation is that a significant portion of P2P users would be made up of non-non-professional home users may have constituted a considerable population of P2P communities after P2P file-sharing systems have been widely used since the appearance of Napster.

Another interesting finding is that video and audio file types were mostly clearly specified in the search-ing queries from users. As most of the audio queries specified  X  X  X p3 X  X  format as their targeted files, this shows that the  X  X  X p3 X  X  format has been the most well-known and popular audio file format among P2P user communities in recent years. The portion of searching queries specifying audio files had slightly increased from 24.62% in July 2002 to 26.53% in December 2002, yet followed by gradual decreases to 24.14% in Sep-tember 2003 and finally 18.64% in January 2004. The significant reduction in audio queries during 2002 could probably result from the RIAA lawsuits against online music file sharers. On 25th June 2003, a day in between the data collection periods of December 2002 and September 2003, the RIAA had an-nounced to sue P2P users who shared music files for copyright infringement. RIAA did take action to file lawsuits against the suspected P2P users on 8th September 2003, a day in between September 2003 and Jan-uary 2004. Asurvey conducted by The Pew Internet &amp; American Life Project ( Rainie &amp; Madden, 2004 ) showed that the percentage of American Internet users engaging in sharing music files in P2P network dropped from 35millions during March, April and May 2003 to 18millions during November and
December 2003. As the report stated, the RIAA lawsuits against online music file sharers appeared to have had a devastating impact on the number of those engaging in Internet P2P music sharing.

In contrast to audio queries, specifying video files has shown an increasing trend throughout all periods. Beginning from 25.09% in July 2002, the percentage of video files finally reached the peak of 35.20% in January 2004. This suggests P2P users have increasing interest towards video files. We also found that searching queries specifying  X  X  X vi X  X  and  X  X  X pg/mpeg X  X  constituted the majority of video queries.

Other file types searched by P2P users include Document, Image and Compressed files. Since queries of these file types accounted for only a small percentage of total queries, about 5 X 7.5%, we did not present these insignificant figures in this study. 5.4. Top 1 0queries
The top 10 queries and their percentages are shown in Table 6 . In terms of content, most of the top queries exhibited P2P users  X  strong interest in entertainment topics over the four different periods. This implies that users  X  interests remained more or less the same throughout the 1.5years duration. Usu-ally, entertainment queries could be the name of recently released movie ( X  X  X piderman X  X ,  X  X  X he Lord of the Rings X  X  and  X  X  X he Last Samurai X  X ), name of artist ( X  X  X minem X  X ) and name of anime ( X  X  X across flashback X  X ).

Another finding that draws our attention is that the porn queries have not been among the top 10 queries since September 2003 although some users had explicitly searched for porn materials in the data sets cap-tured during 2002. At the initial phrase of our project in mid-2002, three queries explicitly searching for porn materials ( X  X  X orn X  X ,  X  X  X orn mpg X  X  and  X  X  X ex X  X ) were recorded while two queries looking for erotic mate-rials ( X  X  X orn X  X  and  X  X  X ex X  X ) were captured at the end of 2002.

Besides entertainment and sexual-related queries, several popular queries that only specified the file type, but with no hint of the content were captured. Generally speaking, those top searching queries specifying file types were all specifically looking for video files ( X  X  X ivx X  X  and  X  X  X ivx avi X  X ,  X  X  X m X  X  and  X  X  X vd X  X ).
In terms of the use of language, there were no popular queries in language other than English in all the data sets collected during the six-month period in the year 2002. However, there were three top queries in September 2003 and two top queries in January 2004 containing Simplified Chinese characters. 5.5. Top 2 0terms
In this section, we compare and analyze the most frequently used terms in the distinct queries in the four different periods. Our analysis of the top 20 terms excluded the stop words listed in Table 2 .
With reference to Table 7 , it is observed that the extensions of audio and video files that were frequently specified in searching queries account for the top five terms for all periods. These terms include  X  X  X p3 X  X ,  X  X  X vi X  X  and  X  X  X pg X  X .

Our findings revealed a total of 12 terms commonly appeared among the top 20 terms in the four dif- X  X  X xx X  X . Among them, two terms are probably related to audio files;  X  X  X  X  X  is usually the separator between
We also noted three terms which are related to porn materials,  X  X  X orn X  X ,  X  X  X ex X  X  and  X  X  X xx X  X . The remaining sired files. Based on the most frequent terms that are common in the four different periods, P2P users could be said to focus their interest and attention narrowly and continuously on video files, audio files and porn materials over the 1.5years duration. 5.6. Stop words
Our study found that the stop words generally accounted for 6 X 8% of the total terms used, with a dis-tribution of 6.96% in July 2002, 7.41% in December 2002, 6.41% in September 2003 and 7.01% in January 2004.

As depicted in Fig. 1 , the four data sets captured at different periods of time all exhibited a similar pattern on the distribution of stop words. The stop word  X  X  X he X  X  is the most frequently used stop word in searching queries and accounts for approximately one-third of the total stop words. The second most fre-quent stop word is  X  X  X f X  X  that contributes to about 15% of total stop words. The stop words  X  X  X  X  X ,  X  X  X nd X  X ,  X  X  X n X  X  and  X  X  X o X  X  are other widely used stop words. The percentages of most frequent stop words are listed in Table 8 . 5.7. Number of terms per query
Different data sets of searching queries have exhibited significant differences on the number of terms per query. The average number of terms per query is 3.96 in July 2002 and increased to 6.47 in December 2002. Yet the mean number of terms per query had fallen to 5.63 in September 2003 and finally dropped to 4.74 in January 2004.

The distribution of number of terms per query demonstrated a fluctuating trend throughout the 1.5years duration. As illustrated in Fig. 2 , the distributions of number of terms per query were left-skewed in July 2002, September 2003 and January 2004 such that a significant portion of queries contained either two terms or a single term. However, the number of terms per query in December 2002 ranged from one term to eight terms.

Our analysis of the top 10 queries clearly shows that users were consistently interested in timely enter-tainment contents such as recently released movies. The varying numbers of terms per query recorded dur-ing the different periods were probably related to the name of timely contents. For example, the recently released movies  X  X  X piderman X  X  in July 2002 and  X  X  X he Lord of the Rings: The Two Towers X  X  in December 2002. 6. Discussion From our study, we discovered that more than one-third of the searching queries are duplicate queries. on the infrastructure of Internet Service Providers (ISPs). The impact on the ISP will be more serious as P2P users exhibit increasing interests towards video files that are generally of large file size. Such heavy
P2P network traffic brought by duplicate queries could be reduced by employing a caching mechanism, which temporarily stores and reuses the query results of popular queries, such as audio and video queries.
Without the caching mechanism, a peer who receiving a query will forward it to all its neighboring peers and pass the query results back to the requesting peer. With the caching mechanism, a peer can store the query results of the popular queries temporarily. When the peer receives similar queries, the peer does not have to forward the query to other peers but responds to the requesting peer with the query results residing in cache. The peer is required to update its cache occasionally in order to provide accurate query results.
Such a caching mechanism not only saves the network bandwidth for distributing duplicate queries, but also provides a faster response to popular queries. To achieve this, an intelligent agent can be implemented in P2P client programs.

Our findings also show that large files such as songs and movies are demanding in P2P file sharing. In the current P2P network design, a simple byte-by-byte downloading mechanism is used to retrieve all kinds of duce different operating platforms for different types of file, and apply different downloading mechanisms to them. For example, P2P video streaming could be a better way of distributing video files than download-ing video files byte by byte. This could better utilize the network bandwidth. In addition, separating files more easily and precisely when they perform searches in the corresponding file platform.

From the above findings, we believe that capturing the searching trends enables us to understand the for effective bandwidth utilization.
Future potential research topics include the changes in user search behavior over the day, the reformu-lation of queries and the changes in search behavior when the users perform multitasking search. 7. Conclusion
This paper reported the searching query trends of a Gnutella-based P2P network from July 2002 to Jan-findings, we believe that it is worthwhile for P2P developers to consider (1) system design that supports searching. In addition, our findings could be beneficial for ISP to save bandwidth for other cost-effective activities by regulating P2P activities.
 Acknowledgment
The work described in this paper was partially supported by grants from the Research Grants Council of the Hong Kong Special Administrative Region, China (Project No. HKUST6256/03E).
 References
