 P2P lending is an emerging wealth-management service for individuals, which allows lenders to directly bid and invest on the loans created by borrowers. In these platforms, lender-s often pursue multiple objectives (e.g., non-default prob-ability, fully-funded probability and winning-bid probability ) when they select loans to invest. How to automatically as-sess loans from these objectives and help lenders select loan portfolios is a very important but challenging problem. To that end, in this paper, we present a holistic study on portfo-lio selections in P2P lending. Specifically, we first propose to adapt gradient boosting decision tree , which combines both static features and dynamic features , to assess loans from multiple objectives. Then, we propose two strategies, i.e., weighted objective optimization strategy and multi-objective optimization strategy , to select portfolios for lenders. For each lender, the first strategy attempts to provide one opti-mal portfolio while the second strategy attempts to provide a Pareto-optimal portfolio set. Further, we design two algo-rithms, namely DPA and EVA , which can efficiently resolve the optimizations in these two strategies, respectively. Fi-nally, extensive experiments on a large-scale real-world data set demonstrate the effectiveness of our solutions.
 P2P Lending; Portfolio Selection; Multi-objective Optimiza-tion; Dynamic Feature
Recent years have witnessed the rapid development of on-line P2P lending platforms, e.g., Prosper 1 , Lendingclub a new emerging wealth-management service for individuals, P2P lending allows individuals to borrow and lend money directly from one to another without going through any tra-ditional financial intermediaries. Indeed, P2P lending has become a fast growing investment market which attracts  X  many users (i.e., borrowers and lenders) and generates mas-sive lending transactions. For instance, the total loan is-suance amount of Lendingclub had reached more than $13.4 billion at the end of 2015.

The prevalence of P2P lending and the availability of trans-action data have attracted many researchers X  attentions, which mainly focused on risk evaluation [23, 11], social relation analysis [20, 13] and fully-funded analysis [28, 25]. Recently, authors in [34] proposed to study loan recommendations for lenders. However, due to the specific working mechanism of P2P lending, the problem of loan/investment recommenda-tions in these platforms is still largely underexplored.
In P2P lending, there are mainly two kinds of roles: the borrowers who want to borrow money from others and the lenders who lend money to borrowers. Trading in these mar-kets follows the Dutch Auction Rule 3 [17, 31]. Specifically, for borrowing money, a borrower will first create a listing to solicit bids from lenders by describing herself, the rea-son of lending (e.g., for wedding), the required amount (e.g., $1,000) and the maximal interest rate (e.g., 10%). Then, if a lender wants to lend to this loan within its soliciting du-ration (e.g., one week), a bid is created by describing both how much money she wants to lend (e.g., $50) and the min-imum interest rate (e.g., 9.5%). If this listing receives more than its required amount in its soliciting duration, those bids with lower rates will succeed/win, and other bids with high-er rates will be outbid/fail. In contrast, if this listing can X  X  receive enough bids in time, it would be expired and all the previous bids would also fail [34, 6]. Based on this trading rule, a rational lender Alice may have the following two con-siderations while selecting loans to bid. Multi-objective. While selecting loans, Alice may evaluate a loan from the probability of this loan being fully funded, the probability of winning the bid, as well as the loan risk (i.e., default prob-ability) [4]. Portfolio. To be a successful lender, Alice also has the portfolio [24] perspective in her mind, i.e., she usual-ly wants to select more than one loan (i.e., a portfolio) to bid in each investment. Indeed, some platforms (e.g., Prosper) already instruct lenders to diversify their money on multiple loans to reduce risk. However, it is difficult and boring for lenders to select dozens of loans in each time. Thus, devel-oping an automatic approach to recommend portfolios for lenders is very needed.

In this paper, we present a holistic approach to help P2P lenders select investment portfolios, which can satisfy lender-s X  interest rate expectations, minimize investment risk (i.e., default probabilities ) and maximize trading efficiency (i.e., fully-funded probabilities and winning-bid probabilities ) si-multaneously. Specifically, we first identify active lenders in current market, i.e., the lenders who are most likely to in-vest in the following period, as our target users. Second, we assess each being-auctioned loan from multi-objective views, i.e., the non-default probability, fully-funded probability and winning-bid probability. Here, different from previous work-s which only used static features in assessments, we also extract dynamic features of loans, and adapt an ensemble method (i.e., Gradient Boosting Decision Tree) to combine both static features and dynamic features to improve the prediction performances. Finally, given the identified ac-tive lenders and assessed loans, we attempt to select port-folios for each active lender. As we described above, the selection should take into account multiple economic fac-tors/objectives, and the recommendation for each lender should also be portfolios rather than single loans. Specif-ically, we propose two strategies, i.e., weighted objective op-timization strategy and multi-objective optimization strategy to solve portfolio selections. Weighted objective strategy combines three objectives into a single objective based on a weighted objective vector, and provides each lender with an optimal portfolio. Multi-objective optimization strategy optimizes three objectives simultaneously and gets a Pareto-optimal solution set (portfolios) for each lender. For these two strategies, two efficient algorithms, i.e., DPA (dynamic programming) and EVA (evolutionary algorithm), are de-signed to solve the optimization problems respectively. The contributions of this paper can be summarized as follows.
In this section, we first introduce the preliminaries of port-folio selections. Then, we identify the active lenders and learn their preferences on rate expectation. Finally and most importantly, we introduce how to assess being-auctioned loan-s from multiple objectives. For better illustration, Table 1 lists some mathematical notations used in this paper.
Problem Statement. Formally, given the lenders X  his-torical bidding records, and current being-auctioned loans portfolios from VA for each active lender. Active lenders timal combination of multiple loans, if x j = 1, the j-th loan in VA is selected and put into the portfolio. For each lender i  X  UA , the selected portfolios should satisfy her prefer-ence on rate expectation Re u i with minimum risk (maximal non-default probability) and maximum transaction efficien-cy (fully-funded probability, winning-bid probability).
Framework Overview. For tackling the above problem, we propose a solution framework which is show in Figure 1. There are three major steps (brown backgrounds): (1) i-dentifying the active lenders UA and learning their prefer-each being-auctioned loan v j  X  V A on multiple objectives, (i.e., Non-default probability R j , Fully-funded probability T , Winning-bid probability C j ); and (3) selecting portfolios for all active lenders.

We identify active lenders online (green arrows) and learn lenders X  preferences on rate expectation from their historical investment records. For assessing being-auctioned loans, we train multiple assessment models using the historical loans offline (purple arrows). Given the identified active lenders and the assessed loans, we propose two strategies to select portfolios. Weighted objective optimization strategy pro-vides an optimal portfolio and multi-objective optimization strategy provides a Pareto-optimal (skyline) portfolio set for each lender. In these two strategies, two algorithms, namely DPA and EVA , are designed. This portfolio selection step is also achieved online. The first two steps will be introduced in the rest of this section, and the portfolio selections will be introduced in the next section.
According to the data analysis and observation, we find that, in a certain period of time, only a small part of lenders (usually less than 10%) rather than all lenders will bid on current loans. We call these lenders who are most likely to bid in the following period active lenders . Identifying active lenders in advance can achieve accurate service of portfolio selection, also improve the service efficiency and user experi-ence. Indeed, most lenders often bid periodically, and invest Algorithm 1: ALI : Active lenders identification.
 in a series of loans continuously. Thus, the lenders who bid in recent days have higher probabilities to invest in the fol-lowing period than other lenders. In our study, we select the lenders who have bidding behaviors in a time range TR (e.g., 10 days) before current time CT as our current target users, i.e., active lenders.

In investment, lender X  X  preference is mainly reflected in her return expectation. In P2P lending, the interest rate of a loan declared before auction is often treated as the return [23, 34]. Thus, we can get a lender X  X  preference on return rate through her historical investments. Specifically, lender u  X  X  preference Re u i on rate expectation can be calculated as: where V U i is the loan set that lender u i invested in the past, Re v j is the declared interest rate of loan v j . Algorithm 1 shows the process of identifying active lenders and the calculation of their preferences on rate expectation.
In this subsection, we show the way of assessing the profiles of being-auctioned loans on multiple objectives. According to the previous study [4], there are three major economic factors that lenders take into account when deciding to bid on a loan: lenders X  belief about the probability of a loan be-ing fully funded, the probability of winning the bid, as well as the interest rate. Similarly, we also formalize the loan assessment from a multi-objective view. In our study, we assess a loan v j on the following three objectives. Non-default Probability ( R j ). Since the loan interest rate Re j is given explicitly in market and often taken as a search-ing criterion by many lenders, we take the rate expectation as one important constraint, and formalize another widely-used assessment metric: R isk, i.e., default probability [23, 19, 34]. For consistency, we maximize loans X  non-default probabilities rather than minimizing default probabilities on risk assessment. Formally, non-default probability is the es-timated probability that one loan may repay the principal and interest to lenders in time.
 Fully-funded Probability ( T j ). Fully-funded probability is the estimated probability that one loan may receive e-nough bids in its auction. According to the trading rule, the T ransactions are valid only if the corresponding loan can re-ceive enough bids. Thus, fully-funded probability is another important aspect to assess loans [14, 4].
 Winning-bid Probability 4 ( C j ). Winning-bid probability is the estimated probability that a lender X  X  bid on this loan under current loan status will finally success or participate after the loan X  X  entire auction. Since some popular loans may receive more bids than their required amount, C ompetition among bids on a loan will take place and some bids will fail. Thus, winning-bid probability reflects the biding competi-tion on a loan [4, 18].

Non-default probability R j mainly affects lenders X  profits, while fully-funded probability T j and winning-bid probabil-ity C j mainly affect the investment efficiency, i.e., helping avoid invalid bids. In summary, for each being-auctioned loan v j , we can adopt a three-element vector P j = [ R j to denote its profile. Next, we will introduce how to estimate these profile terms on specific objectives for given loans.
Here, we introduce extracting features for loan assess-ments. In previous works, researchers explored some clas-sification or regression models on some single objective as-sessment tasks, e.g., default [29, 9, 34], fully-funded [14, 28]. However, these studies only explored the static features from both loan (e.g., rate, amount, purpose, ) and borrower (e.g., credit, debt ). In [23], authors evaluated a loan by the char-acteristics extracted from the bidding lenders, i.e., average and variance of the past real returns of bidding lenders. In-deed, a loan receives bids from lenders one by one during its auction. Thus, the features extracted from the lenders who have bid on this loan are dynamic. Besides, we can also extract some dynamic features from loan auctions, e.g., auction phase/time, percent fund . These dynamic features in auction reflect the popularity of a loan directly. In summary, in this paper, we explore both static features and dynamic features for better multi-objective loan assessments. Static Features. Static features are given explicitly before auction, which are extracted from the loan X  X  properties and the associated borrower X  X  properties. These static features directly reflect the basic properties of loans and borrowers. For example, borrowers with high credits are more likely to repay in time than borrowers with poor credits.
 Dynamic Features. Dynamic features are extracted from the temporal auction and incremental bidding lenders of a loan, which are changing from time to time during an auc-tion. Dynamic features can reflect the popularity of a loan. For example, popular loans may receive massive bids rapidly, thus, are more likely to be fully funded. Further, the dynam-ic features extracted from lenders reflect the lenders X  views, such that, loans received many bids from experienced lender-s (lenders whose investments success frequently and default rarely) may be better than other loans. Especially, dynamic features, Def Per, Fun Per, Win Per, extracted from the in-cremental bidding lenders X  historical investments in line with our three assessment objectives, will have great help to the prediction performances on corresponding objectives.
We represent all the features as numerics. For temporal features, such as Cre Dat , we convert raw features to a se-rial date number, which represents the whole and fractional number of days from a fixed preset date [6]. For categorical features, such as Category and Credit , we convert a vari-able with n categories into a n-dimensional binary vector, in which only the value in the corresponding category is set to one. All features are normalized for comparability. For example, Def Per represents the fraction of all default loans of bidding lenders to their total bidding number in the past. Please note that, for non-default objective and fully-funded objective, we extract dynamic features every day, while for winning-bid objective, we extract dynamic features every bid (i.e., the features for winning-bid objective are constructed according to the latest bid on this loan at current). Thus, the training instance numbers are different on different ob-jectives but the feature dimensions are same on all objec-tives. In summary, we use a total of 26 features (i.e., 9 loan features, 4 borrower features, 7 auction features and 6 lender features) in our study and some examples of these features are shown in Table 2.
After the feature extraction and preparation, in this part, we introduce the assessment models. Specifically, we adopt the gradient boosting decision tree ( GBDT ) [10, 12] to assess loans, which has been used to predict P2P lending transac-tion in [6]. The reason for choosing GBDT is as follows. First, we should evaluate the being-auctioned loans with nu-merical or ranking output which is the foundation in the following portfolio selection formalization. GBDT can esti-mate the probabilities (non-default probability, fully-funded probability and winning-bid probability) for each loan. More importantly, GBDT is an ensemble method where an indi-vidual learner is a decision tree which only uses one variable at each node when it is trained/constructed as well as when it is applied to test data. This characteristic prevents us from worrying about heterogeneity in the features we gener-ated [6]. What X  X  more, compared with conventional machine learning models, the performances of ensemble methods are significantly better and well demonstrated [10, 32, 15, 1].
Suppose we have n training instances { ( z 1 ,y 1 ) ,..., ( z for a specific task (e.g., non-default objective), where z the feature vector of loan instance v i , and y i is the label of v on this objective (e.g., if v i repay in time, y i =1; otherwise, y =0) . We train GBDT ( G ( z )) with M weak learners, each is a decision tree h ( z ) with a weight coefficient  X  m ,
Similar to other boosting algorithms, GBDT builds the ad-ditive model in a forward stage-wise fashion. At each stage the decision tree h m ( z ) is chosen to minimize the loss func-tion L given the current model G m  X  1 and its fit G m  X  1
GBDT attempts to solve this above minimization problem numerically via steepest descent, whose direction is the neg-ative gradient of the loss function evaluated at the current the weight coefficients  X  m is calculated by:
Repeat this building trees process until h M ( z ) , and then [ G ( z ) = G M ( z ) . After we get the models GBDT i , i  X  X  1 , 2 , 3 } , on three objectives. For each being-auctioned loan v can get its estimations on three objectives, i.e., the terms in profile P j by the model output probabilities on positive classes of these objectives.

For the scale consistency of different objectives, we re-process the values in each dimension of P j by their relative values, e.g., inverse ranking values in all the being-auctioned loans. For example, P j = [101 , 111 , 51] means loan v j forms other 100, 110, 50 loans on three objectives respec-tively. Now, we assessed the being-auctioned loans on three objectives, in the following, we will make our main effort to help active lenders select portfolios.
In this section, we introduce the detailed information of portfolio selections. Generally, portfolio is a famous theo-ry in finance that attempts to maximize portfolio expected return for a given amount of portfolio risk, or equivalently minimize risk for a given level of expected return, by careful-ly choosing the proportions of various assets [24]. Similarly, in our study, we maximize the formalized multiple objec-tives of portfolio for a given level of expected return ( Re In P2P lending, for a given lender, her bidding amount on specific loans are not significantly different, which are often the smallest allowed amount (i.e., $25) or integer multiple of smallest amount (e.g., $50). Thus, when selecting portfolios, we don X  X  care about the investment amount of a lender and we mainly focus on solving a discrete selection optimization problem. Meanwhile, we also assume  X  X enders are experi-enced and rational X , which is one of the most fundamental assumptions in economics [24, 26].

Specifically, given the active lenders UA with their rate files of being-auctioned loans i.e., P j ,j  X  { 1 ,..., | V A |} , we propose two strategies, i.e., weighted objective optimization strategy and multi-objective optimization strategy to help lenders select loan portfolios. The first strategy combines the three objectives into one single objective via a prede-fined weighted vector and provides one optimal portfolio for each lender through a dynamic programming algorithm that we designed, i.e., DPA . Further, the multi-objective op-timization strategy optimizes all objectives simultaneously, and provides all the Pareto-optimal portfolios for each lender through a novel evolutionary algorithm, i.e., EVA .
Weighted objective strategy supposes there is a weight vec-tor  X  i = (  X  i 1 , X  i 2 , X  i 3 ) from lender u i to balance the impor-tance of three objectives. This setting is practical since some famous platforms, e.g., Prosper or Lendingclub allows users to preset some criteria, e.g., their expected interest rates, before searching. The weight vector can also be integrated into the user profiles.
Through the multi-objective assessments in section 2.3, we get the profile terms of each loan, i.e., P j . Thus, for lender u , we can obtain a single weighted objective on all being-boolean selecting label of loan v j . In this case, the portfolio selection problem for lender u i can be formalized as: where x = ( x 1 ,...,x | V A | ) is the selection vector and x means the j-th loan in VA is selected and put into u i  X  X  port-folio. K is the portfolio size which is given by lender u objective of this function is to maximize the weighted single objective, i.e., f ( x ). The first constraint means that the s-elected portfolio should satisfy the lender u i  X  X  preference on rate expectation Re u i . This formalization is a discrete con-strained optimization problem, which is NP-hard and will need P K i =1 | V A | i computations in the worst case.
This problem is difficult to solve directly by convention-al algorithms since there are two constraints. In this study, we design a dynamic programming algorithm, namely DPA , with two main loops to obtain the optimal solution. First, we convert the declared rate value Re v j of each loan in-to a positive integer representation, e.g., 10 . 50%  X  1050 ( Re v j is a percentage with two decimal places in our data), and denote the largest rate value as Rmax , (i.e., Rmax = loan v j is donated as Pr j (i.e., Pr j =  X  T i P j ) . DPA is shown in Algorithm 2, in which D [ p ][ q ] denotes weighted objective of the portfolio with p loans and q summation of rate.
In DPA , the first loop only considers the second con-straint in problem (7) and can get all the optimal selections under any p and q , and the computational complexity is optimal solution by satisfying the first constraint, and the only the second loop takes the lender X  X  rate expectation into consideration, thus the optimal selections provided by the first loop are the same for all lenders. If we want to get the final solutions for all lenders, we need to compute for all of them in the second loop, and thus, the overall computational
Through DPA , we can get an exact optimal portfolio for each lender. However, in many cases, for most lenders, they are ambiguous or not sensitive about the weights on the mul-tiple objectives. Thus, we propose another strategy, multi-objective optimization, to solve portfolio selections.
Different from the weighted objective optimization strat-egy, multi-objective optimization strategy does not need a weight vector and it optimizes the multiple objectives simul-taneously and obtains a Pareto-optimal portfolio set instead of a single portfolio for each lender. In this strategy, the three objective functions on being-auctioned loans VA can Algorithm 2: DPA : Dynamic programming algorithm.
 be respectively defined by their corresponding profile terms, Pareto-optimal portfolio set ( A* ). Suppose x and x 0 are two feasible solutions/portfolios in the solution space  X . x is said to dominate x 0 (denoted as x  X  x 0 ) if and only f ( x 0 ). Thus, a solution x  X   X   X  is Pareto-optimal if there is no other x  X   X  dominates x  X  , i.e.,  X  X  x  X   X  , x  X  x  X  . The set A* of all Pareto-optimal solutions/portfolios in the decision space is called Pareto-optimal or skyline portfolio set, and each of those solutions can be treated as a specific trade-off among these contradictory objectives.

In fact, Pareto optimality is a state of allocation or selec-tion in which it is impossible to make any objective better off without making at least one objective worse off. Each selection portfolio in Pareto-optimal set is assessed under multiple objectives and no other option can categorically outperform any of the members in this Pareto-optimal set. In the multi-objective optimization strategy, we try to get the Pareto-optimal portfolio set as the recommendation can-didates to each lender. The multi-objective optimization problem for lender u i can be formalized as follows:
This formalized problem is much more complicated than the weighted optimization problem (7). Getting the exact Pareto-optimal solution set for this problem is unpractical. Inspired by previous studies on multi-objective optimization [7, 8, 33], evolutionary algorithms are well-suited to solve multi-objective optimization problems because their inher-ent parallelism allows them to find a set of Pareto-optimal solutions in a single run. Being population-based stochas-tic search approaches, evolutionary algorithms use concepts of population and of recombination inspired by Darwinian evolution. An iterative process is executed, initialized by a randomly chosen population (portfolios) which is also called chromosome (i.e., x in our study, which also conforms bi-nary encoding). In each generation, new solutions or off-springs are generated through recombination and mutation. Besides, selection operation in each generation leads the evo-lutionary process according to the defined fitness function. For multi-objective problems, fitness functions are often de-signed based on Pareto domination, e.g., [8, 16]. Evolution-ary algorithms are often used to solve many complicated problems with providing approximate solutions efficiently.
However, the conventional multi-objective evolutionary al-gorithms, e.g., NSGA-II [8], MOEA/D [33], were designed for one multi-objective optimization problem rather than a series of similar problems, e.g., portfolio selections for al-l lenders in our study. Thus, the conventional algorithms have to run | UA | times independently for all active lenders in our problem which will take much computation cost. In fact, for many lenders, their selection problems are similar, and the only difference is the rate expectation preference Re i in the second constraint. Especially for some lenders with similar preferences, their final optimal selections may also be very similar. Thus, there is no need to reprocess from beginning for all lenders. In this study, we propose a new evolutionary algorithm, namely EVA , to solve these series of optimizations for all active lenders more effectively.
EVA first ranks all active lenders in descending order ac-cording to their rate expectation preferences Re u i . Then, we have the following theorem:
Theorem 1. If A  X  i is the Pareto-optimal solution set for lender u i , each solution x  X  A  X  i must be a feasible solution (satisfy constraints) for each lender u i 0 ,i 0  X  { i + 1 ,..., | UA |} , and A  X  i is a good approximation of the Pareto-optimal solu-tion set of u i  X  X  next neighbor lender, i.e., u i +1 .
Considering Theorem 1, we can simplify and speed up the convergence processes for lenders u i +1 ,i  X  { 1 ,..., | UA |} by taking u i  X  X  Pareto-optimal set as initialization. Besides, EVA adopts a random greedy strategy to repair the infea-sible individual solutions during evolution. Suppose x is an || x || 0 ), in each repair, determine an objective e  X  { 1 , 2 , 3 } where x j  X  is different from x only in the position j , and x j = 0. Set x j 0 = 0, and repeat repairing until x is feasi-ble. What X  X  more, EVA selects population in each generation according to their dominations, which is same with [8, 16]. The whole process of EVA is shown in Algorithm 3.

In each iteration, the computational complication is O ( N ( N is the population size) since EVA adopts the same selec-tion operation with that in [8]. Thus, the whole computa-tional complication is O ( | UA | GN 2 ) ( G is the iteration gen-erations). In fact, the iteration times for lenders u { 1 ,..., | UA |} are much less than that for u 1 because of the special initialization approach in EVA .

Each solution in the Pareto-optimal set is the best under a certain tradeoff of multiple objectives. After getting the Pareto-optimal portfolio set, a lender can select one portfolio from this set autonomously or randomly.
 Algorithm 3: EVA : Evolutionary algorithm.

In summary, for portfolio selections, we first identify the active lenders in market and get their preferences on rate ex-pectation, and meanwhile, assess the being-auctioned loans on multiple objectives. Further, we propose two strategies to help active lenders select portfolios. Weighted objective strategy works efficiently and provides an optimal portfolio for each lender, which depends on a weighted vector from lenders. Multi-objective optimization strategy can automat-ically provide an approximate Pareto-optimal portfolio set for each lender. From the formalizations of these two strate-gies, we can see that both of them can easily expand to other or more objectives. We will evaluate the advantages and disadvantages of these two strategies in experiments.
In this section, we will construct extensive experiments on a large-scale real-world data set. First, we make data anal-ysis and explore the lenders X  bidding behaviors from multi-objective and portfolio perspectives. Second, we evaluate the performances of multi-objective assessments. Finally, we evaluate our portfolio selections holistically. The experimental data set is collected from one famous P2P lending platform in America, i.e., Prosper 6 . This data contains the transaction records in this platform of almost 6 years. We mainly use three tables of this data set. Listing table contains the loan temporal status on auction and some basic credit features of borrowers. This table is mainly used to extract static features. Bid table contains the specific time and some information of bid, e.g., bid amount of money, and the bidding result of each lender on a certain loan. These investment records are the basis to construct dynamic fea-tures. Loan table is used to evaluate the performances of a loan, e.g., default and fully-funded.

We partition the data into five groups, and take four group-s as training data and the remaining one group as test data. In experiments, we adopt five-fold cross-validation and al-l results are the average of five test rounds. The number of training instances for GBDT i is denoted as Tr i , and the number of test instances (being-auctioned loans) is denoted as Te (i.e., VA ). In the test process or portfolio selections, we select portfolios for lenders every a certain period, e.g., two weeks, instead of every day. This is because loans being auc-tioned on neighbor days are almost completely overlapped. Table 3 shows the basic statistics of the experimental data.
In this part, we analyze the lenders X  bidding behaviors from the multi-objective perspective. Figure 2(a) shows the lender distribution on risk, where the X-axis represents the non-default loan percent in one lender X  X  past investments and Y-axis represents the lender percent. The blue bars are raw results and red line is fitting curve by Gauss distribution. Figure 2(b) shows the lender distribution on fully-funded objective, in which the lender distribution is not uniform. Figure 2(c) shows the lender distribution on winning-bid objective. We can see that, only small part of lenders X  bid-s perform well. In other words, many lenders often suffer from risk and investment failure. Our goal is to help lenders select loan portfolios with higher probabilities on all objec-tives. Figure 2(d) shows the lender distribution on lenders X  rate expectations ( Re u i ) which is treated as a personalized restrict in portfolio selections. We can see that most lenders prefer medium and similar rates, e.g., 0.1-0.15, rather than highest rates. This characteristic of similar rate expectation is taken used when designing DPA and EVA .
In this part, we analyze lenders X  bidding behaviors from portfolio perspective. We randomly select 10 lenders with more than 100 bidding records. Firstly, we obtain individu-al loans for each lender, besides, we partition each lender X  X  bidding loans into different portfolios based on the time in-tervals between two neighbor bids, i.e., if the interval of two neighbor bids is more than 30 days, we partition them in-to different portfolios. Thus, we get the loan portfolios for each lender, and we compute the average rate of loans in one portfolio as this portfolio X  X  rate. Figure 4 shows the rates of lenders using box plot, in which the blue boxes represent the rates of single loans and green boxes represent the rates of portfolios of lenders. We can see that, different lenders have different rate preferences; furthermore, for a specific lender, portfolio rates are much more stable and focused than sin-gle loan rates. In other word, rate expectation constraint or preference based on portfolio is more reasonable than that based on single loans. In fact, in an investment, a lender may bid several loans whose rates may be quite different, but the portfolio rate or average rate of these loans is stable and personalized. This finding demonstrates the rationality of portfolio recommendation in our study rather than con-ventional single loan recommendation.
In this part, we report the result of identifying active lenders. Figure 5 shows the statistical result of active lender identification. We select the lenders who have lending be-
Rate haviors in the previous cumulative days (i.e., TR ) before current time CT in each test round, and get their bidding results in the following auctions. We can see that, identi-fied small part of lenders (blue bars) contribute the most bids (red line), e.g., 6% lenders contribute 85% bids. Thus, in portfolio selections, we mainly take the lenders who have bids in previous 10 days before current time CT as the cur-rent active lenders.

In this subsection, we evaluate the performances of multi-objective assessments for loans. Specifically, we evaluate both the utilities of dynamic features and the effectiveness of GBDT models on different objectives.
We denote the GBDT models using all features as GBDT, and GBDT models only using static features as GBDT S. We also adopt two comparison models, e.g., Logistic Regres-sion and Decision Tree, which have been used in previous studies on P2P lending [9, 34, 22]. Similarly, we denote the comparison models as LR, LR S, DT, DT S respectively. All these models get their best performances and parame-ters through training and validation processes. We adopt two widely-used metrics, i.e., ROC curve and AUC [2] (area under ROC curve) to evaluate the assessment results.
The assessment results are shown in Figure 3. We can see that, on three objectives, extracted dynamic features can im-prove the performances of all models significantly, especial-ly on the fully-funded objective prediction, i.e., about 10% improvements on AUC of all models. On the other hand, GBDT models, i.e., GBDT and GBDT S, outperform other models on all three assessment tasks, especially on the non-default objective with more than 10% improvements. Thus, in portfolio selections, we adopt GBDT with all features to assess the being-auctioned loans. (a) Non-default assessments (c) Winning-bid assessments
Besides, we also show the Pearson correlations of assessed loans X  profile values on different objectives in Figure 3(d). This figure tells us that the correlations between loans X  esti-mated profile values on different objectives are not significant (i.e., values are less than 0.5). Thus, we can X  X  get the op-timal loans on all objectives by recommending or selecting loans through conventional one-objective techniques.
In this subsection, we evaluate our portfolio selection ap-proaches holistically.
In EVA , the population size is set as 100; the generations are set as 150 for first lender and 30 for other lenders; the crossover rate is set as 0.5; and the mutation rate is set as 50 K/ | V A | . The portfolio size K is given by each lender. In selections, actually, we can remove some individual loans in advance that are dominated by many (i.e., 50) other loan-s before selecting, since they are almost impossible to be chosen into any portfolios.

Baseline Methods. To the best of our knowledge, there are not relevant works on portfolio selections from multi-ple objectives in P2P lending or other domains. Thus, in this experiment, we compare DPA , EVA and their variants. Specifically, we set the comparison methods as follows. DPA series . For DPA , we adopt multiple different param-eters  X  , (i.e., (0.5, 0.3, 0.2),(0.3, 0.4, 0.3),(0.3, 0.5, 0.2),(0.2, 0.6, 0.2)), and the corresponding algorithms are denoted as DPA 1 , DPA 2 , DPA 3 , DPA 4 .
 EVA series . Since EVA provides a portfolio set rather than a single portfolio for each lender, for comparison, we respec-tively select the portfolios with maximum non-default objec-tive, fully-funded objective and winning-bid objective from the Pareto-optimal candidate set as the final selections. The corresponding methods are denoted as EV A 1 , EV A 2 and EV A 3 . Besides, we can also select a portfolio randomly from the Pareto-optimal portfolio set as the final result, and this method is denoted as EV A R .
 EVAR series . As a variant of EVA , EVAR is a conven-tional evolutionary algorithm similar to EVA , which always adopts random initializations and needs 150 generations for all lenders. The other setups in EVAR are the same with these in EVA . Similar to EVA series, we also get EV AR 1 EV AR 2 , EV AR 3 , and EV AR R .
 SELF . We also get the results selected by lenders them-selves or recommending by criteria match, e.g., rate match, in Prosper, which are denoted as SELF .

Metrics. We adopt the real percents of loans with posi-tive labels on different objectives (Non-default, Fully-funded, Winning-bid) in the selected portfolio as our evaluation met-rics. Besides, we simulate the bidding and repayment pro-cesses of selected portfolios, i.e., a good loan means this loan can be fully funded, a lender bid at current will success after its auction and this loan will repay in time. Thus, through simulation, we can compute the average return rates of port-folios for lenders theoretically, which can be treated as an overall metric considering three objectives. In our data, for repayment, we only know the default boolean labels without knowing the specific installments. Thus, when computing the simulative average return rates, we suppose the default-ing borrowers will default a certain percent principal amount, which is set as 30% and 60% respectively, (i.e., Return-0.3 and Return-0.6 are our two overall metrics).
The selecting results are shown in Table 4. We can see that, DPA series can get good results with some certain tradeoffs on different objectives and EVA series perform best, i.e., EV A 1 , EV A 2 , EV A 3 perform best on Non-default, Fully-funded, Winning-bid metrics respectively. Compara-tively, EVAR series also perform well and a little worse than EVA series in most cases. However, EVAR needs much more time cost than EVA which will be reported later. Even the random selections, i.e., EV A R , from Pareto-optimal set are much better than the lenders X  own selections on all three metrics. On the two overall metrics, i.e., Return-0.3 and Return-0.6, most methods will improve lenders X  returns to varying degrees. Further, EV A 3 and EV A 1 can provide the highest average return rates, i.e., 11.5% and 10.3% return-s, respectively. In other words, EV A could provide lenders
Figure 6: Solutions found by different algorithms. with more economic profits. SELF and several method-s with low performances on non-default objective even get negative return rates on Return-0.6.

Figure 6 visualizes the solutions getting from different methods for a random lender, in which one point represents a portfolio. X-axis represents the non-default assessment val-ues (relative values mapping into 0-1), Y-axis represents the fully-funded assessment values and the color represents the winning-bid assessment values. We can see that, DPA se-ries get one portfolio selection while EVA (and EVAR ) gets a Pareto-optimal portfolio set firstly. In fact, DPA with a certain parameter  X  is a specific tradeoff on three objec-tives. Further, the Pareto-optimal portfolio set getting via EVA is a little better than EVAR  X  since the point skyline or envelope surface of EVA dominates EVAR  X . That may be because EVA adopts the special initialization strategy which can lead to faster convergence and is more conducive to inherit the good individuals/solutions.

We also compare the efficiency results of different algo-rithms. Since DPA only provides one solution for each lender while EVA gets a solution set, for comparison, we also report the results of DPA running 50 (Pareto set size) times, which is denoted as DPAP. The running time results of seconds (in log scale) are shown in Figure 7. We can see that DPA and DPAP are most efficient. EVA needs more time than DPAP does. EVAR takes much more time costs compared with EVA since it needs more evolutionary gener-ations. These comparisons of EVA and EVAR demonstrate the effectiveness and efficiency of EVA .
 Running Time (log (Seconds))
To the best of our knowledge, there are few existing works on portfolio selections in P2P lending. However, there are some relevant studies in the P2P lending domain, e.g., loan risk assessment [9, 23], bidding behavior analysis [4, 18].
Risk assessment and fully-funded prediction are two hot research topics in P2P lending. For assessing the loan risk or credit, some conventional classification models were adopt-ed, such as Logistic Regression [9, 34] and Neural Network [3]. Fully-funded probability is another important aspect to assess loans in P2P lending. Herzenstein et al. [14] stud-ied both the borrower-related determinants and loan loan-related determinants of funding success in Prosper. Their re-sults indicated that borrower-related financial determinants affected funding the most, while loan-related variables me-diate affected the likelihood of funding success. Ryan et al. [28] proposed two regression models combining personal and social determinants and financial determinants for funded percent and number of bids respectively. These works fo-cused on a certain objective assessments, e.g., risk or fully-funded, and none of them adopted or combined the dynamic features extracted from lenders and auctions.

Bidding analysis especially herding [4, 18], and social com-munity [13, 6] were also well studied in previous studies. In [6], authors found lender team was an important community to help lenders make decision and promoted lending activ-ities in P2P lending. In [5], authors predicted how likely a given lender would fund a new loan through a gradien-t boosting tree method. In [34], authors proposed to rec-ommend single personalized loans to lenders by considering both lender preference and loan risk. However, there are few studies in P2P lending from the multi-objective assessments or select/recommend portfolios to lenders in P2P lending.
In addition to the studies in P2P lending, works on recom-mendation may be also relevant to our portfolio selections to some extent. Recommender system provides suggestions of items that may interest users and aims to predict users X  preferences with high accuracy [21, 27]. However, in P2P lending or other financial domains, accuracy may be not as important as in the traditional recommendations, e.g., elec-tronic commerce. In [35, 30], portfolio theory was used on recommendation and information retrieval, but these works still aim to get single items rather than combination items like loan portfolios in our study.
In this paper, we proposed a holistic study on portfolio se-lections in P2P lending. First, we assessed loans on multiple objectives by a gradient boosting decision tree. We extracted dynamic features from lenders and auctions for better assess-ment performances. Then, to help lenders select portfolios, we proposed two strategies, i.e., weighted objective optimiza-tion strategy and multi-objective optimization strategy. The first strategy provided an optimal portfolio and the multi-objective optimization strategy provided a Pareto-optimal portfolio set for each lender. In two strategies, two selection algorithms, i.e., DPA and EVA were designed respectively.
For evaluating our approach, we constructed extensive ex-periments on Prosper data. The analysis and experimental results demonstrated the significance of our study and the effectiveness of our solutions. Specifically, the extracted dy-namic features and GBDT models significantly improved the assessment performances. Further, the portfolio selections, especially the multi-optimization strategy and EVA algorith-m provided lenders with more economic profits by selecting Pareto-optimal portfolios both effectively and efficiently.
This research was partially supported by National Sci-ence Foundation for Distinguished Young Scholars of China (61325010), Natural Science Foundation of China (61403358, 61572032, 71571093), National High Technology Research and Development Program of China (2014AA015203) and National Center for International Joint Research on E-Business Information Processing (2013B01035). Qi Liu gratefully ac-knowledges the support of the Youth Innovation Promotion Association of CAS and acknowledges the support of the CCF-Tencent Open Research Fund.
