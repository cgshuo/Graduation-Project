 A server, such as a web server, is a host computer linked to a network, such as the Internet, which provides data in response to requests by client computers (Fig. 1.). For instance, clients in an on-demand video server environment make requests for a movies to a centralized video server. Client requests may peak at wait time, the number of servers must be increased which also increases the cost of providing services. However, servers are idle and resources are wasted when the demand declines, incurring unnecessary cost. Determining how to allocate losing transfer requests, while catering for varia-tions in demand, is a crucial issue for computer host managers.

The primary objective of this study is to establish an evaluation model for planning server requirements to optimize the profit of providing video or audio on demand. Decision makers may determine the service requirement and the or sounds across the network and on the expected service rate. An objective and effective model is necessary to operate systems optimally. This research implements the empirical Bayesian approach to estimate the network requests requirement based on the actual queuing operation, then constructs a server-dependent queuing system. The controllable system switches a second server on whenever the number of transfer requests in the system reaches a threshold, and switches it off whenever the number of transfer requests in system falls below another threshold. This study has the following specific goals: 1. Consider the randomness of transfer requests arrival and service time and 2. Construct a server-dependent M/M/ 2 /L queuing system, that initiates an-3. Build a model to maximize the expected profit of providing services based amount of transfer requests requirement, then describes the system character-istics and the development of a server-dependent queuing system and discusses the related references. 2.1 Traffic Intensity vs. the Amount of Transfer Requested The definition of traffic intensity  X  is given by the ratio of arrival rate over service rate, and it is an important reference of queuing system, representing the utilization or proportion of the server being occupied. This study utilizes traffic intensity to indicate the number of transfer requests required. A higher amount of service requirement, and eventually blown up [14]. Queues are caused of service time. The waiting time is zero only when transfer requests arrive at arrive at random intervals, and the time needed to serve a transfer request is also random. To avoid the assumption that the transfer requests arrival rate and randomness and uncertainty and ensure that the proposed model is reasonable. 2.2 Server-Dependent Queues Whitt [13] investigated how performance scaling in the standard M/M/n queue with growing congestion-dependent customer demand. Assuming growing con-to the congestion. Zhang et al. [16] presen ted a nonlinear integer optimization model to determine the number of machines at each tier in a multi-tier server network, and utilized a result from an open queuing network model on the av-erage response time. The optimization model minimizes the weighted sum of et al. [5] proposed a procedure to determine how many servers are needed, as a function of time, in a nonstationary stochastic service system. Singh [7] de-veloped a server-dependent queue that provided a new service facility whenever Singh X  X  concept to develop an M/M/ 2 queue with several homogeneous or het-erogeneous servers depending on the queue length. The service rate for the first and the second server are different in a two-server heterogeneous system. Garg et al. also proposed that the second server should be used at queue length N to maximum profit. Yamashiro [15] revised the model of Garg et al. [3] and assumed that a queue with finite capacity was applicable ( M/M/ 2 /L ). Dai [2] proposed the finite capacity M/M/ 3 /L queuing system where the number of servers varies activating the second server.

Most of previous research concentrated on switching the second server on when the queue length reached N . Some approaches are set up so that the first server is not initiated until the queue reach length N . Researchers such as Wang et al. [10] considered the server with unexpected failure to derive the non-reliable M/M/ 1 /L system; Wang et al. [9] drew Erlang distribution into the non-reliable server in a finite and infinite M/H 2 / 1 queuing system. Hsie [4] proposed an M/M/ 1 system that turned the server off to reduce idling cost when it had no one to serve. The above studies all used the optimal queue length N as the decision variable to determine when to turn on the first server, and constructed the objective function for the minimum expected cost.
 Wang et al. [11] and Dai [2] incorporated cost into the objective function. the minimum expected cost. However, Yamashiro [15], Wang et al. [9], Garg et the proposed system is set up so that the first server is always operating, thus fitting most conditions. This study also adopts the queue length as decision variables to switch on/off the second server. This investigation applied the empirical Bayesian approach to estimate the de-mand for service. A server-dependent queuing system using the queue length to activate and close the second server was constructed to maximize the expected profit for a decision maker. In part 1, the required amount of service was es-timated using numerical data from simulation and observation, and the traffic intensity estimated with the empirical Bayesian approach proposed by Thiru-vaiyaru [8]. The probability for each state was then calculated for an M/M/ 2 /L server-dependent queuing system in Part 2. Finally, the parameters of cost were considered, and the results of Parts 1 and 2 were combined to solve the opti-mal queue lengths N for starting a second server, and Q for switching it off. Bayesian approach and obtain observational data. 3.1 Empirical Bayesian Estimator of Traffic Intensity Thiruvaiyaru [8] considered there are H independent M/M/ 1 queues in which k =1 ...H . The arrival rate  X  k ,and { U ik , k =1 ...H } are i.i.d exponential (  X  k ) random variables, where where U k =( U ik ,i =1 ...n ) .
 (  X  k ) random variables, given by where V k =( V j k , j =1 ... m ) .
 and {  X  1 ... X  m } are assumed to be independent of each other. The empirical Bayesian estimator is derived as  X  given by estimator of (  X  2 ,  X  2 )are given by where the marginal likelihood function is and and 3.2 Server-Dependent M/M/ 2 /L Queuing System The major objective of this section is to establish a server-dependent M/M/2/L queuing system with finite capacity L. This system is set up so that the first server is al-ways on. When the number of transfer requests reaches N, the second sever is acti-vated to release the congestion in the system; when the number of transfer requests in systems falls to Q, then the system is no longer congested, and the second server can be switched off to cut cost. The number of waiting line is only 1, as demonstrated in Fig. 2.

The assumptions, parameters and variables used in the model are defined as follows.
 Assumptions 1. The service rule is FCFS. 2. The interarrival time of transfer requests is exponentially distributed with 3. The service time for each transfer request is exponentially distributed with 4. The service system can provide a maximum of two servers, but at least one 5. The system has finite capacity L ,where L N . 6. The service rates of the two servers are identical. 7. 1 &lt; X &lt; 2.
 Definition of symbols  X  : arrival rate of transfer requests;  X  : service rate of server;  X  : traffic intensity =  X  \  X  ; i : number of servers in service, i =1 , 2; j : number of transfer requests in system, j =0 ,...,L ; N  X  1; number of transfer requests in system is j ,where j = Q +1, Q +2,..., N , N +1, ..., N  X  1, L .

This study build a server-dependent M/M/ 2 /L system based on the above assumptions and symbols. Figure 3 depicts the rate diagram of the birth and death process. To solve the birth-death flow balance equations based on Fig. 3, is solved as follows:
P (1 , 0) = Q . The cost parameters can now be adopted to formulate an NLP to maxi-mize the expected profit resulting from waiting for transfer requests and server operation.
 3.3 Formulation of Objective Function An objective function is then built to minimize the expected cost of the M/M/ 2 /L controllable queuing system. The definitions of parameters are as follows: R : expected subscription revenue per day; C : fulltime operating cost for second server per day; C : fulltime idle cost for second server per day; C L : penalty cost for system being fully loaded per day; C : cost for system being empty per day; C o n : start up cost for turning the second server on per day; C of f : shut down cost for turning the second server off per day; C w : the average waiting cost for each transfer request per day,
The expected profit per day is then given by  X  ( N, Q |  X  )= R  X  C s  X  L  X   X  C  X  C ables N and Q .  X  is estimated by substituting an empirical Bayesian estimator and substituting  X   X  EB into (13) to obtain  X  P (1 , 0): The expected profit maximization model is as follows:
Maxi m ize ( N, Q  X   X  EB )= R  X  C s  X  N  X   X   X   X   X   X   X   X   X   X 
The above NLP is hard to solve analytically to prove that its feasible region is a convex set possessing the optimal N  X  and Q  X  and globally maximizing the expected profit. Therefore, this study applied a numerical method to explore how changes in the NLP  X  X  parameters change the optimal solution. This section illustrates some results obtained in previous sections with a hypo-thetical queuing experiment. The Monte Carlo simulation was first conducted 6.954543058). The empirical Bayesian estimator of traffic intensity was calcu-lated to  X   X  EB =1.294695872. A numerical analysis was performed to identify the influence of individual parameter and discover the following rules: 1. When there is no start up and shut down cost for the second server, in order 2. The second server does not readily provide service as the fulltime operating 3. The second server should be kept busy most of the time when its fulltime 4. The service system can provide a maximum of two servers, but at least one 5. As long as the average waiting cost for each transfer request increases, the 6. The variation of penalty cost for system being fully loaded and empty reveal 7. If the second server offered service at no cost, then it would be turned on 8. The greater the traffic intensity, the sooner the second server should be 9. The system capacity L does not affect the optimal solution when it is suffi-Figure 4 depicts the relationship among the expected profit, the queue lengths N for starting a second server, and Q for switching it off. This study built a server dependent queuing system by applying the empiri-cal Bayesian approach to estimate the demand for service. An NLP model of maximum ex-pected profit for a decision maker was then constructed by utiliz-ing the queue lengths as decision variab les for when to activate and deactivate the second server. The optimal value of N and Q to maximize profit was ob-tained from the relationship among the costs of initializing the second server, switching it on and off, and waiting by transfer requests. A sensitivity analy-sis was undertaken to discover the effect of changes in the NLP X  X  parameters reveals the following conclusions: 1. Increasing the fulltime operating cost of the second server and the penalty 2.Increasingthefulltimeidlecostforthesecondserver,theaveragewaiting 3. Increasing the startup and shut-down cost for turning the second server on
