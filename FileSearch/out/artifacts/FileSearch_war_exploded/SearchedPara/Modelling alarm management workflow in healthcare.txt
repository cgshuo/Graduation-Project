 1. Introduction
Many hospital enterprises are rapidly moving to extensive integration of both patient care p rocess and information system, thanks to the advances in informat ion technology and related fields.
In addition, major medical device companies have designed patient monitoring systems that automatically reconfigure themselves for different hospital applications. Moreover, managing alarms of med-ical devices and related clinical data is a life-critical issue in order to avoid exposing patients to serious injuries ( Gehlot and Sloane, 2006 ).
Consequently, an emergent and challenging subject inherent to the healthcare system dependability is the management of the medical alarm devices integrated with the hospital workflow planning. Integrating the Healthcare Enterprise (IHE) (IHE.net Home.
Available at http://www.ihe.net/ ) is an initiative that has the goal ofestablishingareliableintegratedenvironmentformedicaldevices and clinical information systems. Indeed, IHE identifies the key transactions required to automate processes, reduce errors and increase efficiency. The IHE is organized across a number of clinical and operational domains that produce a set of technical framework documents. In particular, the domain of the IHE Patient Care Device (IHE PCD) ( IHE Patient Care Device Technical Committee, 2008 ) addresses the integration of medical devices with healthcare computer systems and intends to improve the flow of information between the point-of-care and the electronic healthcare record ( Ettinger et al., 2009 ; Carr and Moore, 2003 ). Moreover, the IHE PCD technical framework is composed by a set of profiles that address specific integration scenarios including at least one regulated medical device. In particular, in the IHE PCD domain, the Alarm Communication Management (ACM) profile ( IHE Patient Care Device Technical Committee, 2008; Booch et al., 2005 ) establishes interoperability between systems of different manufacturers, and results in a communication standard for alarm messages. It defines the communication of alarms from alarm source systems to alarm manager systems and from alarm manager systems to alarm archiver systems. Hence, ACM  X  X  X s meant to improve clinical effi-ciency by using technology todeliver the right alarms,with the right priority,totherightindividualsviadevicesandtransactionswiththe right content X  X  ( IHE Patient Care Device Technical Committee, 2008 ). The objective of this paper is a better understanding the IHE PCD ACM profile for more effective and integrated implementation. The related literature deals with the problem of analyzing and modelling the IHE scheduled workflow integration profile ( Hussein and Winter, 2008 ) and testing the standards in e-health domain ( Vega et al., 2010 ) in order to facilitate the adoption of the IHE concepts and to study the interoperability scenarios. In particular, Ettinger et al. (2009) devel-oped an extensible open source toolkit based on the ACM profile and interfaced the patient monitoring equipments by means of suitable export interfaces. Moreover, some contributions deal with the work-flow management ( Nie et al., 2009; Dallien et al., 2008 ), and translate the IHE integration profile into P etri Net (PN) workflow models to bridge the gap between traditional applications and process-oriented healthcare solutions. Sloane and Gehlot (2005) use Coloured Timed Petri Nets (CTPNs) to model a medical device alarm management system. However, the model leads just to describe the system behaviour and does not accurately follow the corresponding ACM profile. The aim of the paper is analyzing, modelling and simulating the healthcare information system related to the ACM profile integrated with the wireless m edical device network and the heathcare operators. The modelling procedure follows two steps. First, the ACM profile is described and analyzed by means of the
Unified Modelling Language (UML) (Miles and Hamilton, 2006), a graphic and textual modelling language intended to understand and describe systems from various viewpoints. Second, the behaviour of the ACM profile inside healthcare e nterprises is modelled by regard-ingitasaDiscreteEventSystem( DES), whose dynamics depends on the interaction of discrete events, such as the sending/reception of messages and the actions of the in volved actors (e.g., the nurses).
Among the availableDESmodels,CTPNs (Jensen,1992) are selectedas a graphical and mathematical technique to describe concurrency, conflicts and synchronization. In p articular, CTPNs are an enhance-ment of PNs in which the tokens have  X  X  X olour X  X  or types, and time is introduced to evaluate performances. Moreover, CTPNs are able to combine the strengths of PN with the strengths of a high-level programming language, and are suitable to model healthcare systems ( J X rgensen et al., 2008 ). Indeed, the structure of the CTPN provides the primitives for process interaction, while the programming language provides the primitives for the d efinition of data types and the manipulations of data values. In this paper, the proposed CTPN describes in a unified modellin g framework the heterogeneous system, comprising medical devi ces, information system and human resources. Hence, the paper descr ibes the alarm management system exploiting the two main peculiar ities of the CTPNs: the graphical characteristic of the CTPN, whic h enables the description of the system, easy to build and to verif y; the mathematical and software translation of the CTPN, which al lows simulating the system and evaluating the performances. In order to show the effectiveness of the presented modelling technique, a r eal case study is analyzed and simulated considering a simple IHE PCD ACM profile. The obtained results show how the CTPN model and the performance analysis help in the verification and validation of such a profile.
 The paper is organized as follows. Section2 illustrates the Alarm
Communication Management profile, and Section 3 describes the corresponding CTPN representation. Moreover, Section 4 specifies the simulation experiments, and reports the simulation results.
Finally, Section 5 discusses the conclusions. 2. The Alarm Communication Management profile in IHE PCD domain
This section describes the ACM profile devoted to the alarm disseminationbetweenalarmsourcedevicesandsystems,fromthe connector and within the communication services to the required abstract semantics, in a manner that enables multi-vendor multi-modality interoperation. 2.1. Alarm Communication Management profile description of-care medical device alarm conditions and specifies the commu-nication of alarm data, describing states and events significant for patient care, devices to alarm management systems. These alarms are of two types: (i) physiological, i.e. they represent the physio-logical state of the patient (such as a heart rate above or below a caregiver-specified safe range for the patient); (ii) technical, i.e. they reflect conditions in the patient care devices themselves that may require actions from caregivers (such as ECG leads of the patient).
 the actors involved in the alarm management system and the messages exchanged among them. Here, the message flowing between the involved actors is described by the UML communica-tion diagram that depicts the way in which the objects dynamically cooperate with each other. More precisely, in the UML commu-nication diagrams the rectangles represent the various objects involved, the lines connecting the objects represent the relation-ships between them. Each message is depicted as an arrow that indicates the direction of the message. Moreover, each message is labelled by a number that indicates the sequence of interactions between the actors. Fig. 1 shows the UML commu-nication diagram describing the main actors of the ACM profile and the relevant transactions among them ( Health Level Seven, 2007 ). In particular, the ACM profile defines the following actors: the Alarm Reporter (AR) that represents the medical device, the Alarm Manager (AM) that is the actor that disseminates the messages, the Alarm Communicator (AC) that corresponds to the actor that communicates with the clinical staff, and the Alarm
Archiver (AA) that archives and stores the messages. Moreover, the transactions exchanged between the described actors that are depicted in the UML communication diagram in Fig. 1 , are the following:
Alarm Manager sends the Report Alarm to the Alarm Archiver system and the transaction goes to an end.

The Alarm Communicator visualizes the alarm and answers back to the Alarm Manager the Report Dissemination Alarm message.

The Alarm Manager actor sends to the Alarm Reporter an acknowledgement message by the Report Alarm message.
 The Alarm Manager logs and sends the Report Alarm to the Alarm Archiver system.

The sequence of the messages in the IHE-ACM framework for physiological alarms is described by the UML sequence diagram of
Fig. 2 that explains in detail the order in which the interactions among the involved actors take place. More precisely, a sequence diagram ( Miles and Hamilton, 2006 ) is made up of a collection of participants that interact with each other during the sequence, where the time starts at the top of the diagram and progresses down the page. Hence, the order in which interactions are placed down the page indicates the order and not the duration in which those interactions will take place over time. The columns are associated with the system participants or actors that are the senders and/or the receivers of the messages. When a message is passed to a participant it invokes the receiving participant into doing something; at this point, the receiving participant is said to be active. To show that a participant is active, an activation bar can be shown on the sending and receiving ends of a message.
It indicates that the sending participant is busy while it sends the message and the receiving participant is busy after the message has been received. Moreover, each arrow message depicted by a solid line shown in Fig. 2 stands for a synchronous message that is invoked when the message caller waits for the message receiver to return from the message invocation. The return messages are depicted by dashed arrows and can be at the end of an activation bar to show that the control flow of the activation returns to the participant that passed the original message. 3. CTPN model of the IHE PCD ACM profile
In this section we describe the CTPN that models the data communication processes inside healthcare enterprises in order to detect and prevent situations that could cause risks to a patient. 3.1. Background on coloured time Petri Nets
We define a CTPN as a bipartite directed graph represented by a set of immediate and stochastic timed transitions, Co is a colour function that associates with each element in P [ T a non-empty ordered set of colours in the set of possible colours Cl ( Jensen, 1992 ).Moreprecisely,function Co mapseachplace p A P tothesetof possible token colours Co ( p ) D Cl . Analogously, Co maps each transition t A T to the set of possible occurrence colours Co ( t )
Denoting by the symbol 9 A 9 the cardinality of a generic set A , matrices Pre and Post are the pre-incidence and the post-incidence 9
P 9 9 T 9 matrices, respectively. In particular, Pre ( p , t ) is a mapping thatassociatestoeachset ofcoloursof Co ( p )aset ofcoloursof Co ( t ). Analogously, Post ( p , t ) is a mapping that associates to a set of colours of Co ( t ) a set of colours of Co ( p ). Moreover, Post ( p , t ) ( Pre ( p , t )) is represented by means of an arc from t to p (from p to t ) labelled with the function Post ( p , t )( Pre ( p , t )). For each place p A P , a marking M ( p ) is defined as a mapping M : P -Cl . Moreprecisely, M ( p ) isa set ofelements of Co ( p ) alsowith repeatedelements(i.e.amulti-set)( Jensen,1992 )correspondingto the coloured tokens in place p .

A transition t A T is enabled at a marking M with respect to colour c A transition t A T fires with respect to colour c A Co ( t ), then we get a + Post ( p , t )( c ) Pre ( p , t )( c ).

Considering that the temporization of a coloured PN can be achieved by attaching time either to places, to transitions or to the expression functions of arcs ( Jensen, 1992 ), here we choose the second option and we consider timed transitions. Moreover, function F [ t ( c )] specifies the distribution timing associated to each stochastic transition t A T with respect to colour c A Co ( t ). In parti-cular, for each stochastic timed transition t ( c ) A T , F gives a pair of non-negative real numbers that specify the minimum ( d ) and the maximum ( D ) values of the range in which the firing delay varies, corresponding zero firing time, i.e. F [ t ( c )]  X  [0, 0]. In this method, each token has a time stamp attached to it, in addition to token colours. The time stamp is described by the function s : Co where s ( c ) indicates the earliest delay after which the token of colour c A Co becomes available and can be removed by an enabled transition. Note that R  X  is the set of non-negative real numbers.
Hence, as soon as the c -colour token arrives at place p enabling
Accordingly, after s ( c ) time instants, the enabled transition t becomes ready to fire with respect to colour c .

Finally, a CTPN system / CTPN , M 0 S is a CTPN with initial marking M 0 . 3.2. The CTPN model of the ACM profile
The patient monitoring system and the medical device network according to the ACM profile is here modelled by the CTPN
CTPN  X  ( P , T , Co , Pre , Post , F ) shown in Fig. 3 . In particular, the set of places P is partitioned into the following subsets: P  X  A [ N [ NET [ { AP }. The set A collects the ACM actors: A  X  { AR ,
AM 1 , AM 2 , AC , AA } and a token in a place of A is a message to be sent or received by the corresponding actor. Note that, for modelling purposes, the AM actor is described by two places: tokens in AM are alarm messages to be handled and tokens in AM 2 are handled alarm messages. Moreover, assuming that in the hospital depart-ment there are N n nurses devoted to handling the alarms, the place set N  X  { AN , ON } describes the set of the nurses denoted by
Nu  X  { n : n  X  1, y , N n }: tokens in AN represent the available nurses and tokens in ON denote the nurses that are occupied for handling an alarm. In addition, we indicate by J  X  { j : j  X  1, y , N patients in the hospital department with N p  X  9 J 9 and each patient j A
J is associated with a bed and a medical device. The patients are described by place AP : each token in AP represents a patient and the associated device that can originate an alarm. Finally, the place set NET  X  { NET I , NET O } represents the wireless LAN network access point: each token in NET I is a message that is sent by the AR actor and a token in NET O is a message to be received by the AR actor.

Each coloured token in a place p A A [ NET of the described CTPN represents a message that is associated to a patient and the corresponding medical device. According to the ACM profile, we define three categories of alarm with three different priorities: High Priority ( HP ), Medium Priority ( MP ), and Low Priority ( LP ).
Considering, for example, a pulse oximetry device, HP alarms are reported after alterations of cardiac frequency (physiological alarm), MP alarms are the consequence of a respiratory distress (physiological alarm), and LP alarms are low priority faults of the device (technical alarm). Hence, the colour of each token is defined by the pair denoting the alarm priority and the associated patient. Consequently, the colour domain of a place p A A [ NET is
Co  X  p  X  X f / HP , j S , / LP , j S , / MP , j S for j  X  1 , ... , N domain of place AP is
Co  X  p  X  X f / , j S for j  X  1 , ... , N p g ,  X  2  X  where symbol / , j S means that no alarm (a neutral colour  X  X   X  X ) is associated with patient j A J . In addition, tokens in each place p are nurses and the colour / n S with n  X  1, y , N n allows us to distinguish a nurse from each other. Hence, the colour domain of a place p A N is Co  X  p  X  X f / n S for n  X  1 , ... , N n g :  X  3  X  following: nurse operations: the meaning of each transition with respect to each colour is shown in Table 1 . Furthermore, the set of the possible occurrence colours of each transition t i A T is defined as follows: Co  X  t 1  X  X  Co  X  t 2  X  X  Cl Co  X  t 3  X  X f / LP , j S for j  X  1 , ... , N p g
Co  X  t i  X  X f / HP , j S , / MP , j S for j  X  1 , ... , N p Co  X  t 8  X  X f / n S for n  X  1 , ... , N n g :
ACM profile. The arcs depicted in the graphical representation of the CTPN accordingly define the elements of matrices Post and Pre .
AM 1 make no transformation on the token colours for each p A P and t Moreover, the labelled arcs are the following meanings:
Post ( AP , t 3 )  X  Post ( AP , t 7 )  X  / , j S updates the colour with the colour / , j S for j  X  1, y , N p .

Post ( ON , t 5 )  X  / n S associates to the token in ON the colour that has enabled t 5 .
 Post ( AM 2 , t 5 )  X  / HP , j S , / MP , j S associates with the token in
AM 2 the colour / HP , j S or / MP , j S that has enabled t
The model of the CTPN behaviour is described in detail as follows.Withreferenceto Fig.3 place AR modelstheARactorthatat the initial marking collects all the possible messages to be sent. If place AP is marked by a token of colour / , j S for j A transition t 1 is enabledwithrespect to colours / HP , j S / LP , j
S . When transition t 1 fires, a coloured token representing a report alarm associated to a particular patient j A J is sent to the AM.
In addition, the AR and the AM are connected by a LAN represented by the place NET I . Transition t 1 represents the dispatching of the Report Alarm to the AM and after the firing of transition t coloured token representing the alarm arrives at the place NET then it is sent to AM 1 . Subsequently, if the alarm has colour LP then t fires: AM 1 logs the receipt of the alarm in AA and the tokens of colour / LP , j S and / , j S go back to places AR and AP , respectively.
On the contrary, if the alarm has colour HP or MP, then the dissemination to users is necessary. In this case, the AM sends the
Dissemination Alarm to the AC (i.e. transition t 4 fires and a coloured token marks AC ). If there is an available nurse (place AN is marked), then the alarm can be handled, i.e. transition t 5 is enabled and fires.
Uponthefireoftransition t 5 ,thenursebecomesoccupied(i.e.token in ON ) and the coloured token representing the handled message is in AM 2 . Place AM 2 sends the report alarm to the AA (the immediate transition t 6 fires) and to the LAN. Finally, the report alarm is sent by the LAN to the AR (immediate transition t 7 fires): the coloured token representing the message is again in place AR and the coloured token representing the corresponding patient is in place AP .

Furthermore, the initial marking of the net describes the initial state of the system with N p patients, N p medical devices, N available nurses and no alarm to be handled in the system. Formally, the initial marking is the following:
M  X  AR  X  X  X  / HP , j S , / LP , j S , / MP , j S for j  X  1 , ... , N
M  X  AN  X  X  X  / n S for n  X  1 , ... , N n  X  ,
M  X  p  X  X  X  / 0 S  X  for each p A P = f AR , AP , AN g
Note that symbol M ( p )  X  ( / 0 S ) stands for  X  X  X o token is in place p at marking M  X  X .

The simplicity of the CTPN scheme in Fig. 3 describing the medicaldevice network according to the ACM profile pointsout the main advantages of using CTPNs: (i) the colours enable to represent in a concise structure the different messages with their attributes, and the human actors of the hospital department; (ii) the time-delays associated to tokens allow handling messages in diverse ways; (iii) CTPNs represent an integrated framework that provides a simultaneous description of the ACM profile and the staff workflow. Consequently, the modelling effort in using CTPNs to describe the ACM profile behaviour and the nurse workflow is evidently low and appears as an effective and promising tool to describe more complex systems including the overall workflow of the clinical staff. 4. Simulation specification and results
The described CTPN model of the ACM profile is employed to model a medical device network of a neonatology department of a hospital in the South of Italy. The department has 14 beds ( N eachoneismonitoredbyapulseoximetry,andanurseisdevotedto the pulse oximetry check ( N n  X  1). By the analysis of the real data, the firing delay ranges of the alarms and the nurse operation times are evaluated and reported in the third column of Table 1 . The CTPN model has been analyzed and simulated by the CPN Tools ( http://wiki.daimi.au.dk/cpntools/_home.wiki ) that employ a powerful programming language called CPN ML for declaration and net inscriptions ( Milner et al., 1997 ).

In order to analyze the system behaviour, the following performance indices are selected: the Average Delay (AD) time for nurse X  X  intervention for each type of alarm; the average Maximum Delay (MD) time for nurse X  X  intervention for each type of alarm; the Average Number of Messages (ANM) that are waiting in the place AC .

The defined performance indices are evaluated considering different values of the number of patients (i.e. N p  X  14, 16, 18, 20) and by a simulation run of 76 320 time units (minutes). The performance indices are deduced by 100 independent replications with a 95% confidence interval. Besides, the half width of the confidence interval is about 2.7% in the worst case, confirming the sufficient accuracy of the performance indices estimation. Tables 2 and 3 show the results with the corresponding half width con-fidence intervals obtained for cardiac alarms (HP colours) and respiratory alarms (MP colours), respectively.

Moreover,a simulationvalidationhasbeenperformedthanksto the collaboration of the neonatology department clinical staff. Validation, which is concerned with determining how closely the simulation model represents the actual system, is here performed accordingtothe procedureproposed in( Law,2007 )byapplyingthe well known single mean test. Hence, denoting by RAD the average delay time for nurses in the real case with 14 patients in the department, we obtained RAD  X  25.5 s for respiratory alarms and RAD  X  25 s for cardiac alarms with 14 patients. Tables 2 and 3 show that for each considered performance index it holds: AD r r RAD r AD  X  r :  X  5  X 
Applying the single mean test, the results prove that the simulation closely represents the actual system.

Finally, considering that the average CPU time for a simulation run is about 40 s on a PC equipped with a 2 GHz processor and 2 GB
RAM, we deduced that the presented modelling and simulation approach can be applied to large and complex systems.

Moreover, Fig. 4 compares the maximum and average delays for respiratory alarms. The figure shows, as expected, that when the number of patients increases from N p  X  14 to 20 the average time of intervention slightly increases. Instead, the maximum time of inter-vention is almost unaffected by the number of patients. Such results are a consequence of the fact that the work of a nurse is completely dedicated to the monitoring of the pulse oximetries. However, Fig. 5 shows that the average number of messages that are waiting to be handled in place AC tends to increase with the number of patients.
This result demonstrates that the analysis and the evaluation of the alarm message management and the related nurses X  workloads are of crucial importance for ensuring patient safety.

In the case of the real case simulation, the results show that the alarm system based on the IHE integration profile handles high priorityalarmsalmostimmediatelyandseriousoverloadsituations do not occur. Indeed, the time required to handle critical alarms does not extend beyond 5 minutes, the acceptable limit for intervention on life-critical alarms ( Hunt et al., 2008 ). Hence, the simulation study allows us to verify that the staff department is well dimensioned and robust with respect to the nurses X  workload. 5. Conclusions
The analysis of the IHE integration profiles can provide a useful support for verifying and assessing healthcare processes, with the related information, workflow and workload systems. Aiming at studying and evaluating healthcare processes in which a large number of different medical devices is used, this paper takes into consideration the most recent IHE Patient Care Device domain and in particular the Alarm Communication Management (ACM) system. To this aim, we employ the UML communication and sequence diagrams to describe the ACM profile transactions.
Moreover, the ACM profile integrated with the nurses X  actions is modelled as a discrete event system and its dynamics is described and simulated in a Coloured Timed Petri Nets (CTPNs) framework. shows that CTPNs are an effective tool to predict and evaluate life-threatening data delays. Indeed, the calculated performance indices can be used to depict various configurations of patient devices, wireless networks, information systems, and human resources along with accurate priorities. Hence, the analysis and evaluation of the impact of the ACM profile provide a basic approach to deal with the healthcare system dependability. More-over, the simplicity of the resulting CTPN describing the system showshowtheused frameworkhashighpotentialityfordescribing large and complex healthcare systems.
 willbeappliedtoanalyzecomplexnetworks,includingthedetailed model of the clinical staff workflows, in order to handle and evaluate the clinical risks properly.
 Acknowledgement the simulation runs and the result analysis.
 References seconds
ANM
