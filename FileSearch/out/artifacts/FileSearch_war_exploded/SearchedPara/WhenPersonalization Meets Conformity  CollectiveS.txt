 Existing recommender systems place emphasis on person-alization to achieve promising accuracy. However, in the context of multiple domain, users are likely to seek the same behaviors as domain authorities. This conformity effect pro-vides a wealth of prior knowledge when it comes to multi-domain recommendation, but has not been fully exploited. In particular, users whose behaviors are significant similar with the public tastes can be viewed as domain authori-ties. To detect these users meanwhile embed conformity into recommendation, a domain-specific similarity matrix is intuitively employed. Therefore, a collective similarity is ob-tained to leverage the conformity with personalization. In this paper, we establish a Collective Structure Sparse Rep-resentation(CSSR) method for multi-domain recommenda-tion. Based on adaptive k -Nearest-Neighbor framework, we impose the lasso and group lasso penalties as well as least square loss to jointly optimize the collective similarity. Ex-perimental results on real-world data confirm the effective-ness of the proposed method.
 H.3.3 [ Information Search and Retrieval ]: Information Filtering Multiple Domains; Recommendation; Conformity
The fast growth of Web 2.0 technologies facilitates and encourages various online user behaviors, meanwhile brings tremendous information to the public. Personalized recom-mendation, as critical methods to push the right information to the right users, have attracted large amounts of research in both industry and academia. Among these methods, Col-laborative Filtering(CF) has superior performance than oth-er methods via an underlying assumption about entity sim-c  X  ilarity. Namely, users with common interests in the past would behave much more similarly on items in the future. Traditionally, CF approaches regard mining distinct types of user behavior as a task within a single domain. Neverthe-less, in many real applications, multiple behaviors ranging from reading books, favoring music, to watching videos can reflect the characteristics of users together, and thus train-ing a group of predictors in a unified manner would enhance accuracy for all the domains.

To cope with multi-domain recommendation, a straight-forward scheme is to extend the CF algorithms into a multi-task learning problem solved by propagating similarities a-mong domains [4, 2]. However, somewhat surprisingly, the context of multi-domain often introduces conformity 1 to on-line user behaviors, which cannot be ignored. In particular, the public are inclined to conform to the choices or belief-s of domain authorities [6]. For example, comments from well-known movie critics would be likely to affect the trend of box offices while reading lists of celebrated writers would probably receive admiration. That is to say, compared with ordinary users, opinions of these domain elites are more rep-resentative and thus have considerable influence on recom-mendation results. Unfortunately, this effect has not been fully exploited in existing multi-domain approaches.
The key problem becomes how to detect the domain au-thorities and integrate the conformity effect into recommen-dation. To simplify this problem, we concern that the elites are users whose past behaviors can largely reflect the pub-lic tastes. In fact, if a user has significant similar behaviors to a large number of other users, she/he is probably the elite user who can represent others. To this end, a domain-specific user similarity matrix based on observed behaviors is built to embody conformity. On the other hand, since users X  intrinsic preferences over domains are also decisive, a domain-shared user similarity matrix is utilized to profile users globally. Therefore, a collective similarity combining the effect of conformity with the original personalization is established.
 In this paper, we propose a Collective Structured Sparse Representation(CSSR) method to optimize the collective sim-ilarity for a top-N multi-domain recommendation task. The CSSR is on the basis of the adaptive k -Nearest-Neighbor framework. To learn ranked item lists under each domain for users, a least square regression loss of feedback represen-tation is employed. To encode personalization and confor-
Th e general conformity is a social phenomenon of matching attitudes, beliefs, and behaviors to group norm. Here we narrow the concept to achieving same behaviors as elites. mi ty, regularization with lasso and group lasso are adopted. Also, we show how to use the Alternating Direction Method of Multipliers(ADMM) [1] to efficiently optimize the pa-rameters. Experiments show that our method consistently achieves more accurate results than other state-of-the-arts.
Suppose that there are a set of users U = { u 1 ,  X   X   X  , u D types of domains. Let the matrix X d  X  R m d  X  n record the interactions between the overall user set and item set V d the d -th domain, where d = 1 ,  X   X   X  , D and m d is the size of the item set. Then if a user has any behavior on item, the element entry of X d could be 1 or a positive value, otherwise the entry is set as 0. Note that implicit feedback such as clicks, purchases and posts are easier to obtain than rating records in real-world scenarios. Thus we assume that the multiple feedback matrices are binary.

For a multiple domain recommendation, given a series of user-item feedback matrices { X 1 ,  X   X   X  , X D } , our goal is to recommend a personalized ranking list of the potential en-joyed items under each domain for users.

Here we introduce a general similarity based framework for recommendation without multi-domain. Normally, pref-erence scores are estimated by a function of f ( X ,  X ), where X is the feedback matrix and  X  is the model parameter. The adaptive k -Nearest-Neighbor(kNN) method, which is very popular for collaborative filtering, has been shown its simpleness but effectiveness in top-N recommendation [3]. We establish our model based on the adaptive kNN tech-nique in this paper. Consider a user based kNN problem, the parameter  X  is set as matrix W  X  R n  X  n , and the pre-diction function f (  X  ) could be presented as an aggregation of the feedback values of k nearest neighbors. Mathematical-ly, b x ij = x T i w j , where b x ij is the predicted scores, x denotes the feedback indicator of item v i , and w j  X  R n notes a similarity coefficients of user u j . The parameter W can be regarded as the similarity between user pairs, which can be optimized by the following problem where L is a loss function usually defined as least squares or logistic regression, and  X  is a regularization penalty to enforce parameter with specific structures. Ridge, lasso, or elastic net regularization has been used in previous methods.
Now we consider the problem of multi-domain recommen-dation. As the user set is common across domains, the user based similarity is exploited. The interpretation behind the idea is simple. That is, to learn a set of nearest neigh-bors who are sufficiently similar with the user in terms of multiple behaviors over domains. In other words, a user X  X  interests can be represented by the set of her/his neighbors. The usual approach assumes that all users are ordinary with the comparative ability of representation and thus the per-sonalized neighbors are mined for each users independent-ly. Nevertheless, conformity always occurs in the context of multi-domain. Under a specific domain, elite users X  favorites are more acceptable to the public during recommendation. This indicates that the similarity coefficients between these representative elite users and others tend to be significant. Hence, we propose a collective similarity as where d = 1 ,  X   X   X  , D . Parameter matrix V  X  R n  X  n indi-cates the personalized neighbors with intrinsic similar inter-est across domains, which is a domain-shared component. Parameter matrix V d  X  R n  X  n embodies the representative of elite neighbors in the domain, which is a domain-specific component.

Next, we seek to explore the conformity by regularizing the structure of the parameter set { V 1 ,  X   X   X  , V D } with group lasso. On the one hand, the domain-specific elite users can largely represent other users, which results in more dense for the corresponding rows in V d . On the other hand, the fact that elite users are always the minority leads to the sparsity in columns. Hence, the above structure serves to define a group lasso regularization term where  X  v i d  X  2 is the  X  2 -norm for each row of V d .  X  encourages the row sparsity with jointly selecting the sig-nificant rows as elite users.  X  d encodes the contributions of group lasso for each domain. Without loss of generality, we assume  X  d,  X  d =  X  .

Furthermore, users X  personalized neighbors are also sparse in the overall user set. A lasso constraint is utilized to filter out noised coefficients in V , which is
With above discussion, the collective similarity can be in-corporated into a loss function with a least square loss as L ( W d ) = 1 2  X  X d  X  X d W d  X  2 F . Following the general frame-work in Eq. (1), we propose a CSSR model for adaptive kNN problem in multiple domains as
The parameter set  X  is written as { W d , V d , V } for suc-cinct. And  X  d balances the effect of different domain. In addition, the non-negative constraint is used on similarity for a more interpretable consideration, while diag ( W d ) = 0 ensures that the trivial solution of identity matrix is avoid-ed. From the unified objective function, information of feed-b ack matrices can be transferred among domains by V and distinctions can be captured by V d . The entire model is depicted in Figure 1.
Although non-smooth terms are introduced, our approach maintains convexity of the objective function. We propose to apply the ADMM [1] to split the original problem into several subproblems which can be handled in alternating directions.

To solve the problem in Eq. (5), we first obtain the aug-mented Lagrangian as wh ere Y d is Lagrangian multiplier of the d -th domain, I is the indicator function for the non-negative constraint, and  X  &gt; 0 is a penalty parameter. For the given domain d , optimizing { W d , V d , Y d } are independent with optimizing the set of variables in other domains, thus ADMM proceeds by solving following problems alternately until convergence where U d = 1 Y d lea ds to a scaled form. Then we pro-vide closed-form solutions of the subproblems for Eq.(7a), Eq.(7b) and Eq.(7c) as below.

Update for W d . We first rewrite the problem into an unconstrained problem as S ince Eq.(7a) is smooth, the solution can be found by taking its derivative and set it to be zero Using the Karush-Kuhn-Tucker complementary condition for the nonnegativity of W d , [ X  d ] ij [ W d ] ij = 0, we get T o guarantee the nonnegativity, we decompose matrices with any signs as A = A +  X  A  X  , where A + ij = ( | A ij | + A and A  X  ij = ( | A ij |  X  A ij ) / 2.

Update for V d . For each row of V d , the optimization problem in Eq.(7b) comes to wh ere i is the row index of parameter matrices. Let z i d w operator of group lasso to each row vector as
Update for V. Optimizing the second term with respect to V in Eq.(7c) equals to optimizing 2  X  V  X  1 D V d + U d )  X  2 F wh ich can be substituted into Eq.(7c). Then we have the element-wise optimal solution as wh ere S las ;" (  X  ) is the soft-thresholding operator
To empirically study the effectiveness of our method, we perform experiments on a multi-domain dataset crawled from the publicly available site Douban 2 . It is a famous Web2.0 website containing rating behavior of users, scaled from 1 to 5 stars, on books, music and movies. As we face with a top-N recommendation task, we use the implicit feedback instead of rating scores. For a sufficient evaluation of each user, we filtering out users with less than 10 feedbacks on the three domains and obtained a dataset of 5 , 916 users. The detailed description is presented in Table 1. Dom ain # It ems % Sparsity # Ratings per User Bo ok 1 4,155 99.85 22 Music 1 5,492 99.75 38 Movie 7 ,845 98.87 88
F or personalized item recommendation, we analyze perfor-mance of the model by comparing the top suggestions to the true behaviors taken by a user. We adopt two widely used evaluation metrics in top-N recommendation: MAP(Mean Average Precision), NDCG(Normalized Discounted Cumu-lative Gain) with the setting N = 5. Higher values on the metrics imply better recommendation results.

We compare the proposed CSSR with several popular baseline methods: PopRank, NCDCF U, NCDCF I [5], m-rBPR [2], mrSLIM. Here we extend SLIM [3] to mrSLIM by constructing a feedback matrix that takes all items in three domains as rows. For a comprehensive comparison, perfor-mances of CSSRsh and CSSRsp are shown. They merely consider the domain-shared or domain-specific similarity in Eq. (2), and utilize lasso constrains.

In our experiments, we randomly pick 80% observed feed-backs for each user to form the training set in each domain and the rest of 20% is test set. The random sampling is repeated 10 times and the average performance are report-ed. We set the weights combination of domains in CSSR as h ttp://www.douban.com M ethods P arams B ook Mu sic M ovie Fi gure 2: Performance variation of CSSR with re-spect to  X  and  X  on three domains. {  X  1 = 0 . 2 ,  X  2 = 0 . 3 ,  X  3 = 0 . 5 } based on the MAP perfor-mance on the test set. The impact of group lasso parameter  X  and lasso parameter  X  will be further studied.
Experimental results of above baselines and three variants of the proposed CSSR are shown in Table 2. The optimal pa-rameters we obtained for CSSR are  X  = 0 . 5 ,  X  = 0 . 01. From Table 2 we observed that, our full model CSSR consistent-ly outperforms all the other baselines. Specifically, for the reason that PopRank is not a personalized algorithm and only recommends items based on their popularity, all other baselines can beat it. This proves the importance of person-alization in recommender systems. By comparing the results along with three domains, we discover that recommending movies is a relatively easier task as all the approaches except PopRank perform well on this domain. Thereby, transfer-ring knowledge from movie domain would benefit the oth-er two tasks. Lacking of a properly designed mechanism for multi-task learning, NCDCF U and NCDCF I (with the number of nearest neighbors k = 100 and k = 50) cannot achieve satisfying results in book and music domains. We implement mrSLIM by setting the weights of elastic net as  X  = 5 and  X  = 0 . 1 to find an optimal performance. With the learned item similarity matrix, mrSLIM behaves better than its simple version NCDCF I. Moveover, CSSR surpasses the state-of-the-art ranking method mrBPR with the learning rate as 0 . 01 and the weights of  X  2 -norm as 1 e  X  3. mrBPR focuses on studying the domain consistency to model a shar-ing component, but ignores the heterogeneous part which might be different in domains, in particular, conformity.
To evaluate the effectiveness of collective similarity, we compare the three variants of CSSR. CSSRsh and CSSRsp encode consistency and heterogeneous among domains under the adaptive kNN settings, separately. However, the result-s show that they obtain improvement on Book and Music domains but fail to outperform previous methods in Movie domain. Integrating different aspect of the two variants, our method yields the best performance in multiple domains.
Finally, to understand the influence of regularization terms, we analyze the performance variations with respect to  X  and  X  . As illustrated in Fig.2, by fixing  X  , the performance first increases when  X  gets larger. This verifies our conformity assumption that some users are representative and could be detected by enforcing a group lasso structure. But over-whelmingly large  X  would cause information loss in domains and result in the accuracy declining. By fixing  X  , we can see that the  X  is less sensitive. Another interesting obser-vation is when  X  is improperly large(  X  = 10), decreasing  X  can upgrade results to some extent. This indicates some missing information of domain-specific component could be compensated by domain-shared component.
In this paper, we propose a novel CSSR method for multi-domain recommendation, which integrates personalization with conformity effect to construct a collective similarity parameter. By applying the least square loss, ranking scores can be predicted by the optimized neighbors. To model the different kind of neighbors, lasso and group lasso constraints are used. Experiments on multi-domain dataset show our method outperforms baselines for top-N recommendation.
