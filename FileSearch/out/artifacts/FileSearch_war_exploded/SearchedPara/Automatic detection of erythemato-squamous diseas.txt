 1. Introduction
The differential diagnosis of erythemato-squamous diseases is a real and difficult problem in derm atology. Erythemato-squamous diseases all share the clinical features of erythema and scaling, with very little differences. There are s ix groups in erythe mato-squamous cronic dermatitis and pityriasis rubra pilaris. They are frequently seen in the outpatient der matology departments ( G  X  uvenir et al., 1998 ; G  X  uvenir and Emeksiz, 2000 ; Xie and Wang, 2011 ). Usually a biopsy is necessary for the diagnosis of these diseases, but unfortu-nately these diseases share many histopathological features as well.
Another difficulty for the differential diagnosis is that one disease may show the features of another disease at the beginning stage and may have the characteristic features at the following stages. Patients were first evaluated clinically with 12 features. Afterwards, skin samples were taken for the evaluation of 22 histopathological features. The values of the histopathological features are determined by an analysis of the samples under a microscope ( G  X  uvenir et al., 1998 ; Xie and Wang, 2011 ).

Support vector machines (SVMs), developed by Vapnik (1995 ), is a relatively new machine learning technique and has been studied increasingly in recent years. Due to its many attractive characters and its excellent generalization performance, it was applied for the problem of diagnosis of erythema to-squamous diseases in several demonstrated SVM has great performance since it can handle a nonlinear classification efficiently by mapping samples from low dimensional input space into high dimensional feature space with a nonlinear kernel function. They also compared SVM with recurrent neural network (RNN) and multilayer perceptrons (MLPs) and showed that SVM is significantly more robust than the others. In addition, their research presented t hat radial basis functions (RBFs) is more efficient than polynomial an d linear kernel functions for this problem. Therefore, SVM classifier with RBF kernel function is utilized in present study. When using RBF, two major parameters,
C and s , must be set appropriately. Parameter C represents the cost of the penalty. The choice of value for C influences on the classification outcome. If C is too large, then the classification accuracy rate is very high in the training phase, but very low in the testing phase. If C is too small, then the classification accuracy rate is unsatisfactory, making the model useless. Parameter s has a much greater influence on classification outcomes than C , because its value affects the partitioning outcome in the feature space. An excessively large value for parameter s results in over-fitting, while a disproportionately small value leads to under-fitting ( Lin et al., 2008 ; Pardo and Sberveglieri, 2005 ). On the other hand, particle swarm optimization (PSO), proposed by Kennedy and Eberhart (1995 ), is able to efficiently find optimal or near-optimal solutions in large search spaces ( Lin et al., 2008 ). Therefore, PSO is suggested to simultaneously optimize the parameter values of SVM. As the result, the novel diagnosis method is based on PSO and SVM defined as PSO X  X VM.

Generally, classification problems involve various features. It has been proved that all of the features are not important for a specific task ( Karabatak and Ince, 2009a ; Mehmet Fatih, 2009 ). Some of them may be redundant or even irrelevant. Better performance may be achieved by eliminating some features. In other words, using smaller number of feature helps the classification process to be fast and accurate. This can be achieved using feature selection. Feature selection strategies often are applied to explore the effect of irrelevant features on the perfo rmance of classifier systems ( Ac X r
Therefore, Karabatak et al. suggested a new feature selection method based on association rules (ARs) for diagnosis of erythemato-squamous diseases ( Karabatak and Ince, 2009b ). They compared
ARs with other feature selection methods and showed 24 features selected by ARs can be used to obtain higher classification results than 34 features. As the result, we propose a two-stage method to find the neural networks (NNs) mod el with the highest accuracy for classification of the erythemato-squamous diseases. In the first stage, AR is applied to discard the redundant features, and in the second stage, PSO X  X VM is trained to classify the obtained dataset.
Experimental results show that our proposed method achieves higher classification rate than hybrid AR_MLP and stand-alone SVM.
The rest of this paper is organized as follows. Section 2 provides the problem of erythemato-squamous diseases. Section 3 is feature selection where AR is introduced as a tool for reducing the number of features and Apriori algorithm as the most famous AR mining algorithm. Section 4 presents a general overview about
SVM and multiclass SVM. In Section 5 , PSO is described briefly, and Section 6 presents our proposed method (called AR_PSO X  SVM). Experimental results and conclusions are demonstrated in
Sections 7 and 8 , respectively. 2. Erythemato-squamous diseases dataset
In this study, the UCI erythema to-squamous diseases dataset was used and analyzed ( Blake and M.C.J, 1998 ). There are 366 samples in this dataset and each sample has 34 features which contain 12 clinical and 22 histopath ological features. These features are detailed in Table 1 . The family history feature has the value  X 1 X  if any of these diseases has been observed in the family and  X 0 X  otherwise. The age feature simply represents the age of the patient which has been missed in some samples, so it is removed in our experiments. Every other feature (clinical and histopathological) was given a degree in the range of  X 0 X  to  X 3 X . Here,  X 0 X  indicates that the feature was not present,  X 3 X  indicates the largest amount possible, and  X 1 X ,  X 2 X  indicate the relative intermediate values ( Karabatak and Ince, 2009b ; Xie and Wang, 2011 ). 3. Feature selection
Feature selection methods play an important role in classifying systems such as NNs. To increase t he system performance, they try to segregate the irrelevant and r edundant features from a dataset; thus, the dataset dimension will be reduced. Consequently, its complexity is decreased, and it s performance can be increased. There are many popular methods for dealing this problem such as: principal component analysis (PCA) ( Chatterjee et al., 1998 ), linear discriminant analysis (LDA) ( Duda et al., 2001 ), forward feature selection (FFS) and backward feature selection (BFS) ( Hyvarinen, 1999 ; Hyv  X  arinen and Oja, 2000 ), individual feature selection (IFS) ( Narendra and Fukunaga, 1977 ; Yu and Yuan, 1993 )andARs ( Agrawal et al., 1993 ). Based on the results reported by ( Karabatak and Ince, 2009b ), we applied ARs method to reduce the dimension of erythemato-squamous diseases dataset. The following section presents a brief description to ARs. 3.1. Association rules
ARs find interesting associations (relationships) among large set of data items. ARs show the state of features that occur frequently together in a given dataset. In order to find this association, all possible rules that explain the presence of some features according to the presence of other features are captured. Market basket analysis is the typical and widely-used example of association rules mining ( Agrawal and Srikant, 1994 ; Karabatak and Ince, 2009b ).
 dataset of transaction, where each transaction T is a set of items such that T D I . For a given itemset X D I and a given transaction T , we say that T contains X if and only if X D I . The support count of an itemset X is defined to be sup x  X  the number of transactions in
D that contain X . We say that an itemset X is large , with respect to a support threshold of s %, if sup x Z 9 D 9 . s %, where number of transactions in the dataset D . An AR is an implication of the form X ) Y , where X D I , Y D I and X \ Y  X  | . The X ) Y is said to hold in database D with confidence c % if no less than c % of the transactions in D that contain X also contain Y , and it has support s %in D if sup X [ Y  X  9 D 9 : s % . Thus, ARs aim at discovering the patterns of co-occurrence of features in a dataset ( Karabatak and Ince, 2009b ; Lee and Cheung, 2002 ). 3.2. Apriori algorithm The most famous and influential ARs mining algorithm is
Apriori proposed by Agrawal et al. (1993 ). Fig. 1 gives the Apriori algorithm. The first pass of the algorithm simply counts item occurrences to determine the 1 X  X temsets. A subsequent pass k consists of two phases. First, the large itemsets L k 1 found in the ( k 1)th pass are used to generate the candidate itemsets C .
 Next, the dataset is scanned and the support count of candidate in
C is counted.

The apriori  X  gen function computes the set of potentially large k -itemsets from the set of large ( k 1)-itemsets, and subset function finds all the candidates contained in transaction T . (See
Agrawal et al., 1993 for more details.) 4. Support vector machines
SVM classifier is a supervised learning algorithm based on statistical learning theory introduced by Vapnik (1995 ), whose aim is to determine a hyper plane that optimally separates two classes using training dataset. Assume f x i , y i g N i  X  1 dataset, where x is the input sample, and y A {  X  1, 1} is the label of classes. This hyper plane is defined as w.x  X  b  X  0, where x is a point lying on the hyper plane, w determines the orientation of the hyper plane, and b is the bias of the distance of hyper plane from the origin. To find the optimum separating hyper plane, : w : 2 must be minimized under the constraint y i ( w.x i  X  b ) Z 1, i  X  1,2, y ,n as shown in Fig. 2 . Therefore, it is required to solve the optimization problem given by: min 1 2 J w J 2 s : t : y i  X  w : x i  X  b  X  Z 1 , i  X  1 , 2 , ::: , n  X  1  X  stitute in the optimization problem and allow the method to extend for a nonlinear decision surface. The new optimization problem is given as: min s : t : y i  X  w : x i  X  b  X  Z 1 x i , x i Z 0 , i  X  1 , 2 , ::: , n  X  2  X  where C is a penalty parameter which manages the tradeoff between margin maximization and error minimization. Thus, the classification decision function becomes: f  X  x  X  X  sign where a i are Lagrange multipliers. K ( x i , x j )  X  j ( x metric positive definite kernel function which can map the data into a higher dimensional space through some nonlinear mapping function j ( x )( Wei et al., 2011 ). In our study, RBF, defined as was applied as the kernel function.

However, the classification of erythemato-squamous diseases involves the simultaneous discrimination of numerous diseases.
In order to tackle this problem, a number of multiclass classifica-tion strategies can be adopted ( Melgani and Bazi, 2008 ; Melgani and Bruzzone, 2004 ). One-against-all (OAA) is one of the most popular of them which is considered in present work. Specifically, let O  X  { o 1 , o 2 ,..., o 6 } be the set of erythemato-squamous diseases that we desire to classify. First, an ensemble of six parallel SVM classifiers is trained. Each classifier tries to solve a binary classification problem defined by differentiating one disease cation stage, the winner-takes-all rule is utilized to decide which disease is assigned to each patient. This represents that the winning disease is the one that corresponds to the SVM classifier of the ensemble that shows the highest output.
 5. Particle swarm optimization
PSO, proposed by Kennedy and Eberhart (1995 ), is inspired by social behavior among individuals like the birds flocking or the fish grouping. PSO consists of a swarm of particles that search for the best position according to its best solution. During each iteration, every particle moves in the direction of its best personal and global position. The moving process of a particle is described as: v  X  w n v t id  X  C 1 : rand :  X  p k id x t id  X  X  C 2 : rand :  X  p
X where t denotes the t th iteration; C 1 and C 2 are learning factors; rand is positive random number between 0 and 1 under normal distribution. a is the constraint factor which can control the velocity weight. w denotes the inertial weight coefficient; x denotes the velocity of a particle i ; v id denotes the velocity of a particle i ; p id is the personal best position of particle i ; p denotes the best one of all personal best positions of all particles within the swarm ( Abdi and Salimi, 2010 ; Wei et al., 2011 ). 6. Proposed multiclass PSO X  X VM based on association rules In this section, we describe the proposed diagnosis AR_PSO X 
SVM model for the detection of erythemato-squamous diseases (see Fig. 3 ). The aim of this system is to optimize the SVM classifier accuracy by automatically: (1) Reducing the number of features with AR. (2) Estimating the best values for C and s parameters of SVM by PSO. First, AR method was applied to extract 24 features from UCI erythemato-squamous dataset. In feature selection stage, only large itemsets were found for each disease. All items in these large itemsets were most important for classification. Thus, we only utilized these items to classify all patients. Large itemsets were found using this algorithm for all diseases given as follows: Psoriasis 6-7-8-12-13-15-25-27-28-29-30-31-33
Seboreic dermatitis Lichen planus 7-9-10-11-14-15-20-21-22-23-24-30-31
Pityriasis rosea 6-7-8-9-10-11-12-13-15-20-21-22-23-24-
Cronic dermatitis
Pityriasis rubra pilaris
Therefore, it can be said that 6th, 7th, 8th, 12th, 13th, 15th, 25th, 27th, 28th, 29th, 30th, 31th and 33th features already can define psoriasis and similarly for other diseases listed above.
Consequently, 5th, 6th, 7th, 8th, 9th, 10th, 11th, 12th, 13th, 14th, 15th, 20th, 21th, 22th, 23th, 24th, 25th, 26th, 27th, 28th, 29th, 30th, 31th and 33th features define all disease. So we only used these features in training and testing our proposed model.
Finally, the multiclass PSO X  X VM was chosen to classify all patients based on the OAA strategy which PSO was applied to find the best value for C and s parameters of SVM. We describe the training process as follows: (1) Set up parameters of PSO for six PSO X  X VMs. The training (2) For each PSO X  X VM classifier, compute the corresponding (3) Update the velocity and position of each particle using Eqs. (4) If the specified number of generations is not yet satisfied, 7. Experimental results
The classifiers proposed to diagnose erythemato-squamous disease were implemented using the MATLAB software package version 7.2. The features discussed in Section 6 were used as the inputs of the classifiers. The dataset (366 patients) was divided into two separate datasets, the training and testing datasets (182 samples as training data and 184 samples as testing data). The related parameters of C and s for RBF kernel function were varied in the arbitrarily fixed ranges [10 3 , 200] and [10 3 , 2]. More-over, we considered the following standard parameters in con-cerning PSO algorithm: swarm size S  X  50, inertia weight w  X  0.9, acceleration constants C 1 and C 2 equal to the 2, and maximum number of iterations fixed at 70. For comparison, we implemen-ted the SVM classifier without PSO and AR (SVM) and MLP classifier with AR (AR_MLP).

Classification results of classifiers were presented by a confu-sion matrix. As shown in Table 2 , it gives the number of patients from one disease classified into another or same disease. This way one can observe the frequency with which a patient is misclassi-fied as another.

The test performance of the classifiers is also determined by the computation of specificity, sensitivity and total classification accuracy. The specificity, sensitivity and total classification accu-racy are defined as: Specificity : number of true negative decisions/ number of real negative cases, Sensitivity : number of true positive decisions/number of real positive cases and Total classification accuracy : number of correct decisions/total number of cases. A true positive decision occurs when the positive prediction of the network coincided with a positive prediction of the physician.
A true negative decision occurs when both the network and the physician suggested the absence of a positive prediction.
Table 3 . 8. Conclusions and future researches
This study presents a PSO based a pproach, capable of searching for the optimal parameter values of SVM for diagnosis of erythe-mato-squamous diseases. In addition, the AR method is used to find an optimal subset of features for adopting in both training and testing to obtain optimal outcomes in classification. Comparison of the obtained results with those of other approaches demonstrates that the developed AR_PSO X  X VM approach has 98.91% classification rate which is higher than reported r esults. After appl ying dimension reduction by AR, the PSO approach was used to effectively deter-mine the parameter values of SVM, in turn improving the overall classification results. Experiment al results obtained from UCI data-sets or other public datasets and real-world problems can be tested in the future to verify and extend this approach.
 Acknowledgment always made us clear with their valuable remarks and helpful discussions. Also, we are thankful to our friend Parvaneh Vahidi whom has helped us in editing this paper.
 References
