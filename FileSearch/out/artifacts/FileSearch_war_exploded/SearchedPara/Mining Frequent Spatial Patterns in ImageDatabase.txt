 Data mining has attracted a significant amount of research attention due to its usefulness in many applications, including selective marketing, decision support, business management, and user profile analysis, to name a few [1]. However, most work focuses on extracting information from data stored in alphanumeric databases. Recently, advances in digi tal technologies have led to tremendous growth in the number of image repositories. A lot of studies have addressed the problem of content-based data management [2]. It is known that mining useful patterns from these image databases can not only reveal useful information to users but also help the task of data management [3]. As a result, image mining has emerged as an important research topic.

Compared with the traditional data mining, many new challenges arise in image mining due to the unique properties exhibited by images. We summa-rize these challenges into the followi ng three issues: (1) Image content can be presented in several concept levels, rang ing from pixel values, low-level features [4], visual thesaurus (category of featu res)[5]toobjects[6],[7].Whicharethe features to be used in the mining process? (2) The spatial information of image content conveys important messages to present an image [8]. How do we reflect the spatial information of image content? (3) What are the applications of image mining? In other words, how can we justify the usefulness of the mining results?
In our opinion, the third issue imposes the key challenge. The reason is that the specific features that should be used to represent image content vary with individual cases, and so do the layout forms used to partition the spatial locations of images. Only when we have an intended application in mind, can we select the suitable features and determine the ways of spatial partitions so as to start the mining process.

The main contribution of this paper is that we propose a general framework to mine frequent spatial patterns, which are of the most interest in the image mining context [4], [5], [6], [7]. The framework we propose, called Frequent Spa-tial Pattern mining in images (FSP), aims to mine frequent patterns located in specific spatial locations of images. A pattern in the FSP is associated with a pair of spatial locations and refers to the occurrence of the same image content in a set of images. In order to make this framework general enough to support various applications, we allow FSP to accept different representations of image content and different layout forms of representations of spatial locations. In FSP, an item is used to refer to an abstract object which represents the extracted feature from image content. Associated with each it em is a region label which reflects the spatial location of this item. In this paper, when there is no confusion, spatial location and region are interchangeably used to mean the spatial property of an item.

The mining algorithm, FSP-Mining, in FSP can be decomposed into two phases: (1) Generation of the frequent itemsets in each of the partitioned regions that are covered by S . (2) Generation of the frequent spatial patterns through the frequent itemsets. Let S c be the set of regions covered by S . In the 1st phase of FSP-Mining, the Apriori algorithm [9] or its extensions such as FP-tree [10] or DHP [11], can be used to generate the frequent itemsets in each region R i ,where R i  X  S c . In the 2nd phase, we first use the frequent itemsets generated in the 1st phase to generate the set of candidate patterns. After one scan of the image set, we can obtain the support count of each candidate pattern. Consequently, we are able to generate all the frequent patterns corresponding to the set S of pairs of locations.

A significant amount of research effort has been elaborated upon addressing the problem of image mining. In [4], the authors mine patterns in global image features and associate these features with a class label. In contrast to this work, the objective of our work is to design a general image mining framework. More-over, in our framework, we take the spati al locations of features into account rather than capture the global features. In [5], the authors partition images into regions as well and the regions are labelled using a visual thesaurus. However, in their paper, the patterns are not associated with regions, and the location information is only used to determine region labels. That is, they do not take into account the specific locations to min e the frequent itemsets. In [6] and [7], the authors propose mining objects in images. They both conduct their experi-ments on a synthetic data set composed of basic shapes. It is not clear, however, whether the results can be generalized to real images and be evaluated for their usefulness.
 In the remainder of this paper, we present the design of the framework in Section 2 and conclude this paper with Section 3.
 In Section 2.1, we formally define the problem of mining frequent spatial patterns in images. In Section 2.2, we introduce the FSP-Mining algorithm in the proposed framework, Frequent Spatial Pattern mining in images (FSP). 2.1 Problem Formulation Let D = { I 1 , ..., I n } be a set of images, where I i , i  X  [1 ..n ], denotes an image. In the framework of FSP, we assume that each image I i has been partitioned to a set = { R 1 , ..., R r } of regions (spatial locations) and that the abstract objects in each region have been extracted. Therefore, an image I can be represented as
O 1 , ..., O r ,where O i , i region R i .Let S be the set of pairs of locations in which we are interested, i.e., S  X  X  ( R i , R j ) | 1 i&lt;j r } .
 Definition 1: A pattern p ij , which is associated with regions R i and R j ,is defined to be of the form ( A , B ) , where A  X  O i and B  X  O j denote the itemsets located in R i and R j , respectively.
 Note that in this paper when there is no confusion, we use the notation p , omitting the subscripts i and j , to refer to a pattern whose associated spatial pair could be any of those int eresting location pairs in S .
 Definition 2: A pattern p is called frequent if the ratio of the number of images contain this pattern to the total number of images is no less than the minimum support threshold min sup. That is, p is frequent if |{ I | I contains p }| | D | min sup . The problem of mining spatial patterns can be defined as follows: Given a set D of images, a set S of pairs of spatial locations and a minimum support threshold min sup , we aim to mine the frequent patterns corresponding to each pair of locations in S . 2.2 Algorithm FSP-Mining The mining algorithm, FSP-Mining, in FSP can be decomposed into two phases: (1) Generation of the frequent itemsets in each of the partitioned regions that are covered by S . (2) Generation of the frequent spatial patterns through the frequent itemsets. Let S c be the set of regions covered by S . For instance, if of FSP-Mining, the Apriori algorithm [9] or its extensions such as FP-tree [10] or DHP [11], can be used to generate the frequent itemsets in each region R i , where R i  X  S c .Let L i =  X  k L i k be the set of all frequent itemsets mined in R ,where L i k denotes the set of frequent k -itemsets found in R i . To generate L i in R i , we only have to concern those items found in R i . By restricting that only those items found in R i are counted in the mining process, the well known Apriori algorithm or its extensions can be directly applied to the generation of frequent itemsets in R i .
In the 2nd phase, we first use L i generated in the 1st phase to generate the set of candidate patterns. Then, we discover the frequent spatial patterns by counting the support for these candidate patterns. Let C be the set of candidate patterns for S and C ij the set of candidate patterns corresponding to the pair of locations ( R i , R j ), where ( R i , R j )  X  S .Wecanuse L i and L j to generate C ij as follows: C ij = { ( A , B ) ( A, B )  X  L i  X  L j } .Inotherwords, C ij is set as the Cartesian product of L i and L j because a pattern is frequent only if the items in this pattern are frequent in their corresponding regions as well. Then, FSP-Mining combines all C ij as C , i.e., C =  X  ij C ij ,where( R i , R j )  X  S .Afterone scan of the image set, we obtain the support count of each candidate pattern in C . Consequently, we are able to generate all the frequent patterns corresponding to the set S of pairs of locations.
 Encoding Scheme. For the implementation of the 2nd phase, we devise an en-coding scheme to utilize the hash-tree data structure [9] to speed up the counting process of generating frequent pattern s. The devised encoding scheme is to as-sociate an item with a region label of which this item appears in. For instance, can be encoded to C 13 = {{ a 1 , b 3 } , { b 1 , a 3 , c 3 }} ,where a 1 stands for item a in R 1 and b 3 stands for item b in R 3 and so forth. Similarly, for an image this encoding scheme, the hash-tree data structure can be directly applied to counting the support of a candidate pattern.

Algorithm FSP-Mining is outlined in Figure 1. We omit the pseudo code of gen frequent itemset () because the Apriori algorithm or its extensions, such as FP-tree or DHP, can be used to implement this procedure. Note that for ease of presentation, we explore in this paper patterns located in a pair of spatial lo-cations. However, FSP-Mining can be eas ily extended to mine frequent patterns located in a more diversified combination of spatial locations. To mine patterns other than corresponding to a pair of spatial locations, we can modify both the candidate set C and Procedure gen frequent pattern () accordingly to reflect the new form of patterns. Many new challenges arise in image mining due to the unique properties exhib-ited by images. To cope with these challe nges, we have proposed in this paper a frequent spatial pattern mining framework for images. The mining algorithm in this framework is able to discover frequent spatial patterns in a set of images. This framework is designed to be gener al because the specific features used to represent image content vary with individual cases, and so do the layout forms used to present represent spatial locat ions. In our future work, we will evaluate the usefulness of the mining results by various image applications.
 The work was supported in part by the National Science Council of Taiwan, R.O.C., under Contracts NSC93-2752-E-002-006-PAE.

