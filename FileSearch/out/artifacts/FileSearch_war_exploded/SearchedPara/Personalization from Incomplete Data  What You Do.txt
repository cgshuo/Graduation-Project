 define to be clickstream data collected at a site augmented with user demographics and cookies to identify users [24]/. In a sense, traditional approaches using site-eentric are myopic -they are based on firms building models from data collected at their site only. However, the myopic nature of most current personalization understanding customer behavior; rather, it is due to the nature of data ownership constraints -most sites only have access to their own logfiles. For example, consider two users who browse the web for air tickets. Assume that the first user's session is as follows Cheaptickets l, Cheaptickets 2, Travelocity l, Travelocity2, Expedia 1, Expedia2, Travelocity~, Travelocity4, Expedia3, Cheaptickets3 where X,. represents some page i, at website X. In this session assume that the user purchases a ticket at Cheaptickets. Further assume that the second user's session is Expedial, Expedia2, Expedia~,, Expedia4 and that this user purchases a ticket at Expedia (in the booking page Expedia4, in particular). Expedia's (site-centrie) data would include the following: pages result in no booking. Expedia sees the "same" initial browsing behavior, but with opposite results -one which resulted in a booking and one which did not. The problem confronting Expedia here is the inherent incompleteness of data that the site collects -userl's browsing behavior is not completely known to Expedia. It is easy to see that however sophisticated the personalization algorithms used, it is almost impossible to differentiate these two sessions based on site-centric data alone. Nevertheless, most conventional personalization techniques are asked to do so, despite the lack of complete information. Hence given the incomplete nature of site-centrie data, can personalization models actually 'work' on such data? This paper presents initial results from studying the quantitative and qualitative impacts of learning from incomplete data. To do so, we construct a "complete" version of site-centric data as 1 Site-eentric data is similar to traditional web Iogfile data. We make a distinction since we permit site-centric data to include additional user-level information, such as demographics, that a site ean collect. In general, each record in user-centric data contains user demographics, the complete set of pages visited in a session and the name of the site. The number of records in the user-centric data constructed in this manner is the same as the number of records in the site-eentric data -the only difference being the set of pages represents complete information regarding where else a user visited during this session. In this section we described how to construct site-eentric and user-centric data from commercially available user-level browsing behavior data. In the next section we describe the session-level prediction problem and present a new algorithm for accurate preprocessing of clickstream data for session-level prediction tasks. The session-level prediction problem is predicting at any given point in a user's session at a web site if the remainder of the session will result in a booking at the site. To illustrate the difference in using site-centric data and user-centric data consider the example of Userl's session at Expedia (from Section 1). Models built on site-centric data, for example, make a prediction based on the session fragment Expedial, Expediae, Expedia~ while models built on user-centric data make this prediction based on Expedia~. In this section we first present a new algorithm for preprocessing site-centric data appropriately for this task. We then present a brief overview of preprocessing user-eentric data for this task (since it is similar to the previous method except for one key difference). Given that the goal is to predict at any point if the session will result in a booking, the training and testing data for the model should come from prior eases of user known sessions, some of which resulted in booking and some of which may not have. Assume that the user made a booking in page P4. This single session is not a single data record for modeling. Rather, it provides 5 data records: This distinction is important. It indicates that sessions create data records proportional to their length. Assuming that every additional page accessed provides additional information, this is an appropriate method to preprocess user sessions for the session-level prediction problem. In general, a session of length k provides k data records for modeling. In total, the number of records is therefore the sum of all session lengths (total number of pages accessed). Given the potential explosion in the number of $2 = &lt;2, {&lt;home.html, { (time, 02/01/2001 23:50:10), (IP, 128.122.197.23) } &gt;, 128.122.197.23) } &gt; $3 = &lt;1, {&lt;home.html, { (time, 02/02/2001 07:43:07), (IP, 128.122.195.3) } &gt;, 128.122.195.3) } &gt; accessed in the session as determined from the time each page is accessed. In the above example kth-click(Sl, 2) is &lt;flights.html, { (time, 02/01/2001 23:45:15), (IP, 128.122.195.3) } &gt;. Also we define functionfragment(Si, j, fraglength) that represents data captured from a set of consecutive clicks in the session. In particular, fragment(Si, j, fraglength) is the set of all tuples kth-{ (time, 02/01/2001 23:45:15), (IP, 128.122.195.3) }&gt;, &lt;hotels.html, { (time, 02/01/2001 23:45:45), (IP, 128.122.195.3) } such that f =fragment(Si, j, k). Finally, much prior work [8,11,13,26] in building online customer interaction models assumes that three sets of variables are particularly relevant: Since the specific variables created in these three categories can be application specific, we assume three user-defined functions as inputs to the algorithms: In this section we briefly present the main ideas behind preprocessing user-centrie data for the session-level prediction problem. This involves using the Probabilistic Clipping method partially -only for creating fragments of all sessions in site-centric data and then augmenting these fragments with user-centric information before create the summary variables. For example, consider a single user's session. Let the records in the site-centrie and user-centric data for Expedia contain the following records: site-centric record: Expedia l, Expedia 2, Expedia~ user-centric record: Cheaptickets l, Cheaptickets2, Travelocityl, Clipping procedure for site-centric data, the following 2 fragments of the session are created Expedia~ and Expedial, Expedia2, Expedias. Preprocessing user-centrie data for Expedia would then create the fragments Cheaptickets~, Cheaptickets2, Travelocityb Travelocity4, Expedias. Based on these two fragments, summary variables are created similar to what was done before. with Expedia, will book at some future session based on the historical sessions s~, s2,...s,, where each si is of the form Expedial, Expedia2, Expedias for example. The prediction task sessions with Expedia, will book at some future session based on the historical sessions ul, u2,...Un, where each ui is of the form Expedia2, Travelocity3, Travelocity4, Expedia3 for example. Hence for a user with N total sessions at Expedia, the site-centrie and user-eentric data would each contain N records, each with increasing historical content. Unlike the previous problem, current session summaries are not explicitly created. These are subsumed in summarize_historical, since the prediction task is assumed to be at the end of any session. Hence the input to the user-level preproeessing algorithm are user sessions Sb $2,..., SN and functions summarize_historical and demographics defined as follows: UserLevelDP, an algorithm for data preprocessing of site-centrie and user-eentrie data for the user-level prediction task is presented in Figure 5.1. The preprocessing method creates a summary record at the end of each session based on increasingly additional historical session information. The specific metrics used in this problem are listed in the Appendix. In this section we described the user-level prediction problem and presented algorithm UserLevelDP, for accurate preprocessing of clickstream data for user-level prediction tasks for site-centric and user-centric data. In the next section we present results from building various classifiers for both prediction tasks (session-level and user-level) and compare the results from doing so based on site-centric data to the results from user-centric data. Linear 1 88.2% 88.4% 5.30% 6.40% 
Regressions 2 87.2% 87.69' 5.40% 7.30% 
Legit Models 6 88.40% 88.60% 11.70% 13.80% Classification 11 88.80% 89.50~, 18.40% 23.00% / 
Frees 12 88.60% 89.20%4 16.20% 22.40% 
Neural Net 16 88.70% 89.909 20.60% 29.30 X A based on a comprehensive experiment on user-level clickstream data gathered from 20,000 users' browsing behavior, demonstrated that models built on user-centrie data outperform models built on site-centric data for both prediction tasks. We would like to thank the Wharton e-Business Initiative (WeBI) and Jupiter Media Metrix for their support. [1] Adomavicius, G., and Tuzhilin, A., 1999, User Profiling in [2] Aggarwal, C.C., Sun, Z., and Yu, P.S., 1998, Online [3] Ansari, S., 2000. Integrating E-Commerce and Data Mining: [4] Brodley, C., and Kohavi, R., 2000, Peel the Onion, KDD-1"5] Chan, P.K., 1999. A Non-Invasive Learning Approach to [6] Cutler, M, 2000, E-Metrics: Tomorrow's Business Metrics [7] Johnson, E., Moe, W., Fader, P., Bellman, S., and Lohse, J., [8] Khabaza, T., 2001, "As E-asy as Falling Offa Web Log, [9] Kimbrough, S., Padmanabhan, B., and Zheng, Z., 2000, On [10] Korgaonkar, P., and Wolin, L.D., 1999, A Multivariate [11] Mena, J., 1999, "Data Mining Your Website", Digital Press [ 12] Mobasher, B., Dai H., 2000, Discovery of Aggregate Usage [13] Mobasher, B., Cooley, R., Srivastava J., 1999, Automatic [14] Moe, W., and Fader, P., 2000, Which Visits Lead to 1.15] Moe, W., and Fader, P., 2000, Capturing Evolving Visit [21] Perkowitz, M., Etzioni, O, 1997, Adaptive sites: [22] Pitkow, J., 1998, Summary of WWW Characterizations, [23] Schechter, S., Krishnan, M., and Smith, M., 1998. Using [24] Sen, S., Padmanabhan, B., Tuzhilin, A., White, N., and Stein, [25] Theusinger, C., Huber, K., 2000. Analyzing the Footsteps of [26] VanderMeer, D., Dutta, K., Datta, A., 2000, Enabling 16 Average hits per session 17 Average minutes per session 18 Total no. of unique shopping sites visited 19 Average no. of shopping sites visited per session 20 Percentage of single-site sessions 21 Percentage of total bookings to this site 22 Percentage of total hits to this site 23 Percentage of total sessions to this site 24 Percentage of total minutes to this site 26 No. of sessions the user spends the most time within this site/total sessions of this site 27 No. of sessions end with this site/total sessions of this site 28 No. of sessions start with search engines/total sessions of this site D. Other Variables 29 Sub-category of the site (CD, books etc.) 30 Binary dependent variable indicating if the user has booked in the future 
