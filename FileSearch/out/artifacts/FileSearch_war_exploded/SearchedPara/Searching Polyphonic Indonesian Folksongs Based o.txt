 various formats such as text, audio, image, and video. Research interest in multimedia data such as music has increased in recent years as there is a need to better organize these music files. Music Information Retrie val (MIR) focuses on categorizing, search-ing, and retrieving music files in various formats [1]. 
Before MIR systems exist, one used to utilize a text-based search engine to find a particular musical data by entering keywords. The search engine will identify the searching process has a limitation in representing musical data. An example of the limitation is when a user would like to find a particular song by expressing melody as query. Therefore, a content-based MIR system is preferable as a music search engine. Musical data can be categorized into two types: monophonic and polyphonic. Monophonic musical data has only one melody, usually played by a single musical played at one time. In the beginning, MIR research only focuses on monophonic mu-sic, however one deals with polyphonic music most of the time. 
In this work we explore polyphonic Indonesian folksongs. Research and develop-ment on MIR system grows rapidly. However, almost all of the systems developed are based on Western music [2]. Several MIR studies have started to work on folksongs but only a few researches done on Indonesian folksongs [3]. Indonesian folksongs are of great variety in characteristics as the country has many different ethnicities spread across more than 15,000 islands. interest in MIR explodes. 
In his research, Downie [4] evaluates a si mple approach to MIR by conceiving me-lodic n-grams as text. He considers the interval representation of monophonic melo-dies as words followed by applying traditional text information retrieval techniques using SMART system. The experimental results show that the n-gram approach performs well. The n-gram length affect performance, long queries perform better than short queries, the location of the query does not affect retrieval effectiveness, and minor query errors affect performance. 
The use of n-gram representation is also used in polyphonic MIR studies. Suyoto and Uitdenbogerd [5] implements n-grams indexing for polyphonic melody retrieval based using a symbolic melody matching by Uitdenbogerd and Zobel [6]. The ap-proach reduces a polyphonic file into several monophonic files for n-gram construc-tion. Subsequently, the searching process is done by string matching approach. This simple approach works effectively in retrieving symbolic melody such as MIDI. 
Another approach to polyphonic MIR is done by Doraisamy [7]. She compares in-dexing techniques for polyphonic music data with n-grams without reducing the poly-phonic files and by extending the n-grams to include rhythmic information in addition to intervallic information. The results show that the n-gram approach to polyphonic MIR is a promising and robust approach for indexing large collections of music. 
MIR works on folksongs are investigated by several studies such as: Thai music classification and retrieval [8], MIR system for Malaysian music [2], Korean tradi-tional music notation representation [9], Greek and African traditional music retrieval [10], and Indonesian folksongs classification [3]. In this section we discuss MIR in detail, covering digital music, MIR system, and MIR techniques used in our experiments. 3.1 Digital Music have transformed music documentation form from hand written music scores into uncountable digital music. 
Music data can be encoded digitally in one of several digital music formats. These digital formats are categorized as structured format such as Hundrum, semi-structured format such as MIDI, and unstructured format such as MP3. In structured format, the musical information encoded is detail. However in a semi-structured format such as MIDI not every musical information is encoded. It encodes event information of digi-tal sound, for instance when the notes start and stop. In unstructured format, the raw audio encodes sample of sound energy level [7]. 
MIDI (Musical Instrument Digital Interface) format is a standard protocol of musi-cal information that connects electronic music instrument to computer. A MIDI document may consist of several channels which each represents a play of certain musical instrument. For that reason, MIDI format is also known as a symbolic music format. 
Most MIR research dealing with MIDI files because the processing of an unstruc-tured format, also known as audio format, such as MP3 requires complex computation. Although currently audio MIR research is not as many as the symbolic X  X , a few ap-proaches such as symbolic query [11] and energy distribution [12] are explored. 3.2 MIR System An IR system is designed to retrieve document or information that is needed by user. This system gives the right information to the right user along with its role, bridging the information creator and information user. 
An MIR system is an IR system which deals with musical data and typically the system is content-based MIR system. Typke et al. [13] divides content-based MIR system into two general categories: audio music search engine (e.g. to search MP3 music) and symbolic music search engine (e .g. to search MIDI music). There are also hybrid systems which convert the query from audio signal to symbolic description then do the search process on symbolic music collection [14, 15] and vice versa which use symbolic query to do search process on audio music collection that already con-verted to symbolic music collection [11]. The development of a content-based MIR system is aimed to many goals and users. Usually someone who wants to buy a copy of certain piece of music only remember melody hummed by the user will be really helpful in this case. Content-based MIR system also help musicologist to know how the composers affect each other or how Copyright problem is possible to be solved since the composers may utilize the sys-tem to detect whether someone has plagiari zed their work or whether their new work is potentially considered as plagiarism [13]. 3.3 MIR Techniques Melody Extraction. Polyphonic music might have several notes played at one time, but only particular notes are the main melo dy that representing the content of music. polyphonic music. The melody extraction process is somewhat similar to stopwords [16]. 
Uitdenbogerd and Zobel [17] evaluates some polyphonic melody extraction tech-niques on MIDI format and concludes that certain technique performs well on certain case but not well on another case. The most consistent melody extraction technique is all-mono . All-mono technique combines all musical parts and includes the highest pitch note starting at any instance as part of the melody. 
All-mono technique does not give satisfactory result when the main melody is lo-cated on lowest notes and also when the main melody is distributed on several chan-nels. One approach to solve this problem is by eliminating channels those do not con-tain melodic information before applying the all-mono technique [16]. Text Representation. Music computing, especially symbolic music such as MIDI format, generally transform musical information into text before being processed to the next step. This is a common technique for both monophonic music [4] and polyphonic music [7]. Musical information such as pitch and duration are able to be represented as text. This representation might be absolute measures or relative measures. However, most MIR researchers favor relative measures b ecause it is more flexible when dealing with change in tempo or transposition across keys [18]. Common techniques in repre-senting pitch are contour and interval; both are relative measures. 
Contour representation can be constructed using U for up (if the next note is higher), D for down (if the next note is lower), and S for same pitch (if the next note has the same pitch). For example, the contour for  X 1 2 3 4 5 5 4 3 2 1 X  and  X  X 4 D4 E4 F4 G4 G4 F4 E4 D4 C4 X  is  X  X  U U U S D D D D X . 
Note interval is a distance between notes. As illustrated in Fig. 1, the distance be-tween C to the next C, often called an octave, is 12 semitones. 
In Fig. 2, interval between F4 and F4 is 0, interval between F4 and A5 is 16 semi-Using exact intervals technique, the melody in Fig. 2 is represented as  X 0 0 16 -4 -3 -5 -4 -1 -2 X . Directed modulo-12 intervals technique attempts to modify exact intervals technique by mapping the melody to one octave [5]. For example,  X  X 4 F4 F4 A5 F5 D5 A4 F4 E4 D4 X  is mapped into  X  X  F F A F D A F E X  so that the directed modulo-12 intervals representation is  X 0 0 4 -4 -3 -5 -4 -1 -2 X . 
In content based MIR, although duration information is possible to be represented as text, using only pitch representation is preferable. A study shows that note duration information does not increase the retrieval effectiveness [19]. Indexing and Similarity Measurement. After being represented as text, MIR process continues with indexing and similarity measurement. The techniques are vary one to another depends on the representation used. A commonly used indexing technique in MIR is n-gram indexing which use n-grams of text representation as glossary in inverted index. N-grams are substrings of a string with length n. For example, 5-grams of  X  X ETRIEVAL X  are  X  X ETRI X ,  X  X TRIE X ,  X  X RIEV X ,  X  X IEVA X , and  X  X EVAL X . 
N-gram is effectively used for comparing text documents because every string in limited number of those parts. Besides that, n-gram approach is language independent so that it is more universal to compare text documents [20]. 
To simplify the text representation of musical information, we map the value of di-rected modulo-12 intervals sequence  X -12, -11, ..., -2, -1, 0, 1, 2, ..., 11, 12 X  into  X  X , b  X  mmqijhink  X  and the n-grams (5-grams for example) are  X  mmqij  X ,  X  mqijh  X ,  X  qijhi  X ,  X  ijhin  X , and  X  jhink  X . Next, these n-grams are used as glossary in index document. 
In content-based MIR, generally the query is a music fragment. To continue to the searching process, this music fragment should also be transformed into text. 
Two similarity measurement techniques that commonly used to process the text representation of musical information are language model, as implemented in text-based IR system, and pattern matching such as n-gram matching. In text-based IR ments. In n-gram matching, the similarity measure between a document and a query is obtained by counting the distinct n-grams that they have in common. 
In this study we apply all-mono melody extraction technique for each channel of representation and then apply 5-gram indexing to this sequence. The use of n-gram ranking melody similarity [6]. We compare the performance of language model, as implemented in text-based IR system, and pattern matching such as n-gram matching in searching the polyphonic Indonesian folksongs. We use both distinct and duplicate n-gram in document and query while evaluate the use of text-based IR system. We also evaluate the performance of a full and partial indexing techniques. consist of three channels in full and partial indexing technique. methods. We construct a song collection, 2158 polyphonic MIDI, including 191 In-donesian folksongs. This collection gathered from many sources such as websites of MIDI repository (MIDI Database 1 , Midi Directory 2 , and Mutopia Project 3 ), Balai Budaya Minomartani Yogyakarta collection, websites of Indonesian folksongs, and personal collection. 
We randomly select 30 Indonesian folksongs from our collection as queries to be used in the experiments. Each of these songs has at least one different version of the monophonic queries described as follows: Query Set 1 consists of long queries from 30 selected songs, i.e., the whole main melody track from each of the 30 songs; Query Set 2 consists of short queries taken from the beginning part of each song, i.e., begin-ning part of the main melody track; Query Set 3 consists of short queries taken from the middle part of each song; Query Set 4 consists of short queries taken from the end part of each song; Query Set 5 consists of short queries played and recorded by virtual keyboard representing the beginning part of each song that usually perceived by human. MIR flow in the experiments is illustrated in Fig. 4. We use RMIT MIRT Fanimae MIREX 2005 (FM05) [5] as MIDI parser that transcribes the collection and queries into directed modulo-12 intervals sequences. We then apply 5-gram indexing to these sequences. We implement a program based on a pattern matching technique to measure the similarity between 5-gram indexed texts. We use Indri search engine model is a combination of language model and inference network. Evaluation. In this work, we use Mean Reciprocal Rank (MRR) to evaluate the retrieval performance. MRR is initially used to evaluate a question-answering system. But now MRR is also used to evaluate IR system [22]. A reciprocal rank can be de-fined mathematically as 1/r where r is the highest rank of relevant documents re-trieved. MRR is the average of reciprocal rank in a query set. Higher value of MRR indicates more effective retrieval. Table 1 presents the results of the experiments. The pattern matching technique is represented by 5G. Text-based IR system represented by T followed by NN for allowing 5-gram duplication in both document and query, NU for allowing 5-gram 5-gram in both document and query. The last digit of each initial represents the for one third indexing technique. 
The experiments show that 5G, TNN, TNU, and TUU work very well in retrieving the musical data either in full-indexing or partial-indexing techniques. However, fully indexed songs give better performance than partially indexed songs. Using full-indexing techniques, all aproaches give MRR score 0.99 (i.e. only one query fail). MRR score of a half indexing technique is 0.935 and one third indexing technique is fected even though a document or query contains 5-gram text duplication or not. Overall, both pattern matching technique and text-based IR system are able to retrieve the polyphonic MIDI with MRR average score 0.94. 
In regard to the Query Sets we use, Query Set 1 and 2 both give MRR score 1 in full-indexing and partial-indexing techniques. MRR score for Query Set 3 is 0.92 with MRR score 1 in full-indexing technique, 0.91 in a half indexing technique, and 0.86 in one third indexing technique. MRR score for Query Set 4 is 0.82 with MRR score 1 indexing technique. Query Set 5 give MRR score 0.97 in full-indexing and partial-indexing techniques. These scores imply that partial-indexing technique works as well Otherwise, although folksongs tend to be short and repetitive, full-indexing technique better result than short query. 
In the experiments we find an interesting case where some relevant songs are not found because of different musical arrangements. For example, when a percussive long note is played by repetitive hits of the same note. Such patterns result in musical sequences that do not match the query. This paper has presented a work on content-based polyphonic MIR for Indonesian folksongs. The results of the experiments show that the pitch interval can be represented as text. In retrieving the songs, using text-based IR system or n-gram matching technique, both are effective in retrieving the polyphonic songs, regardless of the query length or position where the query fragment is taken. However, a better performance is shown using fully indexed songs rather than partially indexed songs. culty in creating Indonesian folksongs in MIDI format because most Indonesian mu-microtonality (musical scale) problem. We are in the process of tweaking our MIR system, which is based on the diatonic scale, to process Indonesian folk and tradi-tional music which typically uses pentatonic scales. 
