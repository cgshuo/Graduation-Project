 Arabic morphology is complex, partly because of its richness, and partly because of its complex morpho-syntactic agreement rules which depend on features not necessarily expressed in word forms, such as lexical rationality and functional gender and num-ber. In this paper, we present an enriched ver-sion of the Penn Arabic Treebank (PATB, part 3) (Maamouri et al., 2004) that we manually anno-tated for these features. 1 We describe a process for how to do the annotation efficiently; and fur-thermore, present the first quantitative analysis of morpho-syntactic phenomena in Arabic.

This resource is important for building computa-tional models of Arabic morphology and syntax that account for morpho-syntactic agreement patterns. It has already been used to demonstrate added value for Arabic dependency parsing (Marton et al., 2011).
This paper is structured as follows: Sec-tions 2 and 3 present relevant linguistic facts and related work, respectively. Section 4 describes our annotation process and Section 5 presents an analy-sis of the annotated corpus. Arabic has a rich and complex morphology. In addi-tion to being both templatic (root/pattern) and con-catenative (stems/affixes/clitics), Arabic X  X  optional diacritics add to the degree of word ambiguity (Habash, 2010). This paper focuses on two specific issues of Modern Standard Arabic (MSA) nominal morphology involving the features of gender and number only: the discrepancy between morpholog-ical form and function and the complex system of morpho-syntactic agreement. 2.1 Form and Function Arabic nominals ( i.e. nouns, proper nouns and adjectives ) and verbs inflect for gender: mascu-line ( M ) and feminine ( F ), and for number: sin-gular ( S ), dual ( D ) and plural ( P ). These fea-tures are typically realized using a small set of suffixes that uniquely convey gender and num-ber combinations: +  X  ( MS ),  X  + +  X  h 2 ( FS ), + +An ( MD ),  X  A K + +tAn ( FD ),  X   X  + +wn ( MP ), and H @ + +At ( FP ). 3 For example, the adjective Q X  A X  mAhr  X  X lever X  has the following forms among mAhrwn ( MP ), and H @Q X  A X  mAhrAt ( FP ). For a sizable minority of words, these features are ex-pressed templatically, i.e., through pattern change, coupled with some singular suffix. A typical ex-ample of this phenomenon is the class of broken plurals . In such cases, the form of the morphol-ogy (singular suffix) is inconsistent with the word X  X  functional number (plural). For example, the word
K A X  kAtb ( MS )  X  X riter/scribe X  has two broken plu-dition to broken plurals, Arabic has a class of bro-ken feminines in which the feminine singular form is derived templatically: e.g., the adjective  X  X ed X  nominal duals do not display this discrepancy. Ad hoc cases of form-function discrepancy also exist,  X  X regnant X , and  X K Q X  Tryq  X  X oad X  which can be both M and F ( MS BS ). Arabic also has some non-countable collective plurals that behave as singulars morpho-syntactically although they may translate to English as plurals, e.g., Q X  fl tmr ( MS MS )  X  X alm dates X . 2.2 Morpho-syntactic Agreement Arabic gender and number features participate in morpho-syntactic agreement within specific con-structions such as nouns and their adjectives and verbs and their subjects. Arabic agreement rules are more complex than the simple matching rules found in languages such as French or Spanish (Holes, 2004; Habash, 2010).

First, Arabic adjectives agree with the nouns they modify in gender and number except for plu-ral irrational (non-human) nouns, which always take feminine singular adjectives. For example, tionality is a morpho-lexical feature. There are nouns that are semantically rational/human but not morpho-syntactically, e.g., H .  X  X   X   X   X  wb ( MS MPI )  X  X a-tions/peoples X  takes a feminine singular adjective. 6
Second, verbs and their nominal subjects have the same rules as nouns and their adjectives, except that, additionally, verbs in verb-subject (VSO) order only agree in gender and default to singular number. For example, the sentence  X  X he men traveled X  can appear
Third, number quantification has unique rules (Dada, 2007), e.g., numbers over 10 always take a singular noun, while numbers 3 to 10 take a plu-ral noun and inversely agree with the noun X  X  func-xms ( MS MSN ) TAlbAt ( FP FPR )  X  X ive [female] students X  TAlb  X  h ( FS FSR )  X  X it. fifty [female] student[s] X . Fig-ure 1 presents one example that combines the three phenomena mentioned above. The example is in a dependency representation based on the Columbia Arabic Treebank (C ATIB ) (Habash and Roth, 2009).
Finally, although the rules described above are generally followed, there are numerous exceptions that can typically be explained as some form of fig-ure of speech involving elision or overridden ratio-nality/irrationality. For example, the word  X  k . jy X  (
MSI )  X  X rmy X  can take the rational MP agreement in an elided reference to its members. Much work has been done on Arabic computa-tional morphology (Al-Sughaiyer and Al-Kharashi, 2004; Soudi et al., 2007; Habash, 2010). How-ever, the bulk of this work does not address form-function discrepancy or morpho-syntactic agree-ment issues. This is unfortunately the case in some of the most commonly used resources for Arabic NLP: the Buckwalter Arabic Morphological Ana-lyzer (BAMA) (Buckwalter, 2004) and the Penn Arabic Tree Bank (PATB) (Maamouri et al., 2004). There are some important exceptions (Goweder et al., 2004; Smr X , 2007b; Elghamry et al., 2008; Ab-b X s et al., 2004; Attia, 2008; Altantawy et al., 2010). We focus on comparing with two of these due to space restrictions.

Smr X  (2007b) X  X  work contrasting illusory (form) features and functional features inspired our distinc-tion of morphological form and function. How-ever, unlike him, we do not distinguish between sub-functional (logical and formal) features. His ElixirFM analyzer (Smr X , 2007a) extends BAMA by including functional number and some functional gender information, but not rationality. This ana-lyzer was used as part of the annotation of the Prague Arabic Dependency Treebank (PADT) (Smr X  and Haji  X  c, 2006). In the work presented here, we an-notate for all three features completely in the PATB and we present a quantitative analysis of morpho-syntactic agreement patterns in it.

Elghamry et al. (2008) presented an automatic cue-based algorithm that uses bilingual and mono-lingual cues to build a web-extracted lexicon en-riched with gender, number and rationality features. Their automatic technique achieves an F-score of 89.7% against a gold standard set. Unlike them, we annotate the PATB manually exploiting existing PATB information to help annotate efficiently and accurately. 4.1 The Corpus We annotated the Penn Arabic Treebank (PATB) part 3 (Maamouri et al., 2004) for functional gender, number and rationality. The corpus contains around 16.6K sentences and over 400K tokens. 8 All PATB tokens are already diacritized and lemma/part-of-speech (POS) disambiguated manually. Since verbs are regular in their form-to-function mapping, we annotate them automatically. Nominals account for almost half of all tokens (  X  197K tokens). The unique diacritized nominal types are almost 52K corresponding to 15,720 unique lemmas. 4.2 Annotation Simplification To simplify the annotation task, we made the follow-ing decisions. First, we decided to annotate nomi-nals out of context except for the use of their lem-mas and POS tags, which were already assigned manually in context in the PATB. The intuition here being that the functional features we are after are not contextually variable. We are consciously ig-noring usage in figures-of-speech. Second, we nor-malized the case/state-variant forms of the num-ber/gender suffixes and removed the definite arti-cle proclitic. The decision to normalize is condi-tioned on the manually annotated PATB POS tag. The normalized forms preserve the most important information for our task: the stem of the word and the number/gender suffix. These two decisions al-low us exploit the PATB POS and lemma annota-tions to reduce the number of annotation decisions from 197K tokens and their lemmas to 21,148 mor-phologically normalized forms and 15,720 lemmas  X  an order of magnitude less decisions to make, which made the task more feasible both in terms of money and time. Of all nouns, adjectives and proper nouns, around 4.6% (tokens) and 27.2% (types) have no lemmas (annotated as DEFAULT, TBupdate, or nolemma). These cases make our out-of-context an-notation very hard. We do not currently address this issue. A smaller set of closed class words (778 types corresponding to 35,675 tokens), e.g. pro-nouns and quantifiers, were annotated manually sep-arately. The annotation speed averaged about 675 (words/lemmas) per hour. 4.3 Annotation Guidelines We summarize the annotation guidelines here due to space restrictions. Full guidelines will be presented in a future publication. The core annotation task in-volves assigning the correct functional gender, num-ber and rationality to nominals. Gender can be M , F , B (both), or U (unknown). Number can be S , D , P , or U . And rationality can be R , I , B , 9 N or U . The annotators were given word clusters each of which consisting of a lemma and all of its sim-plified inflected forms appearing in the PATB. We also provided the POS and English gloss. Annota-tors were asked to assign the rationality feature to the lemma only; and the gender and number features to the inflected forms. Default form-based gender and number are provided. As for rationality, adjec-tives receive a default N and everything else gets I . The guidelines explained the form-function dis-crepancy problem, and the various morpho-syntactic agreement rules (Section 2) were given as tests to allow the annotators to make correct decisions. The issue figures-of-speech is highlighted as a challenge and annotators are asked to think of different con-texts for the word in question. 4.4 Inter-Annotator Agreement We computed inter-annotator agreement (IAA) over a random set of 397 lemma clusters with 509 word types corresponding to 4,781 tokens. The type-based IAA scores for words with known lemmas are 93.7%, 99.0% and 89.6% for gender, number and rationality respectively. The corresponding token-based IAA scores are 94.5%, 99.7% and 95.1%. The respective Kappa values (Cohen, 1960) for types are 0.87, 0.97, 0.82 and for tokens 0.89, 0.99, 0.92. Based on these scores, the number features is the easiest to annotate, followed by gender and ratio-nality. This is explainable by the fact that num-ber in Arabic is always expressed morphologically through affix or stem change, while gender is more lexical, and rationality is completely lexical. The corresponding IAA scores for all words (including words with unknown lemmas) drop to 86.8%, 94.9% and 82.9% (for types) and 93.5%, 99.2% and 94.0% (for tokens). The respective Kappa values for types are 0.74, 0.85, 0.73 and for tokens 0.87, 0.97, 0.90 The difference caused by missing lemmas highlights the need and value for complete annotations in the PATB. The overall high scores for IAA suggest that the task is not particularly hard for humans to per-form, and that disambiguating information is cru-cial. Points of disagreement will be addressed in future extensions of the guidelines. We present a quantitative analysis of the annotated corpus focusing on the issues that motivated it. 5.1 Form-Function Similarity Patterns Table 1 summarizes the different combinations of form-function values of gender, number and ratio-nality for nominals in our corpus. In terms of gen-der, the M value seems to be twice as common as F both in form and function. In 91.4% of all nomi-nals, function and form agree. Adjectives show the most agreement (98.8%) followed by nouns (92.5%) and then proper nouns (74.6%). As for number, S is the dominant value in form (91.8%) and func-tion (83.1%). Broken plurals ( S P ) are almost 55% of all plurals. 99.5% of proper nouns are singular, which means that rationality is effectively irrelevant for proper nouns as a feature, since it is only rel-evant morpho-syntactically with plurals. Although the great majority of nouns are irrational, proper nouns tend to be almost equally split between ra-tional and irrational. In terms of gender and number (jointly), 85% of all nominals have matching form and function values, with adjective having the high-est ratio, followed by nouns and then proper nouns. 5.2 Morpho-syntactic Agreement Patterns We focus on three agreement classes: Noun-Adj(ective), Verb-Subject (VSO and SVO orders) and Number-Noun (multiple configurations). We only consider structural bigrams in the C ATIB (Habash and Roth, 2009) dependency version of the training portion of the PATB (part 3) used by Mar-ton et al. (2011). See Figure 1 for an example. The total number of relevant bigrams is 39,561 or almost 11.6% of all bigrams. Over two-thirds are Noun-Adj, and around a quarter are Verb-Subject. For each agreement class, we compare using a simple agreement rule (parent and child values match) with using an implementation of the complex agreement rules summarized in Section 2. We also compare using form-based features or functional features. 10 Table 2 presents the percentage of bigrams we de-termine to agree (i.e. be grammatical) under dif-ferent features and rules. Overall, simple (equality) form-based gender and number agreement between parent and child is only 66.7%. Using functional values, the simple gender and number agreement moves only to 68.5%. Introducing complex agree-ment rules with form-based values (using the default N value for rationality of adjectives and I for other classes) increases grammaticality scores to 80.3% overall. However, with using both functional mor-phology features and complex agreement rules, the grammaticality score jumps to 93.6% overall. These results validate the need for both functional features and complex agreement rules in Arabic. 5.3 Manual Analysis of Agreement Problems The cases we considered ungrammatical when ap-plying complex agreement rules with functional fea-tures above add up to 2,540 instances. Out of these, we took a random sample of 423 cases and analyzed it manually. About 50% of all problems are the re-sult of human annotation errors. Almost two-thirds of these errors involve incorrect rationality assign-ment and almost one-third involved incorrect gen-der. Incorrect number assignment occurs around 5% of the time. Treebank errors (as in POS or tree structure) are responsible for 20% of all agree-ment problems. Structure and POS tags are almost equal in their contribution. The rest of the agree-ment problems (  X  30%) are the result of special rules or figures-of-speech that are not handled. Figures of speech account for about 7% of all error cases (or less than 0.5% of all nominals). The most com-mon cases of unhandled rules include not modeling conjunctions, which affect number agreement, fol-lowed by gender-number invariable forms of some adjectives. After this error analysis, we identi-fied 379 lemmas involved in incorrect rationality-affected agreement (as per our rules). All of these cases had a PI features but did not agreed as FS . Out of these lemmas, 204 were corrected manually as R . The functional agreement with rules jumped from 93.6% to 95.7% (a 33% error reduction). We presented a large resource enriched with latent features necessary for modeling morpho-syntactic agreement in Arabic. In future work, we plan to use both corpus annotations and agreement rules to auto-matically learn functional features for unseen words and detect and correct annotation errors. We also plan to extend agreement rules to include complex structures beyond bigrams.
 We would like to thank Mona Diab, Owen Rambow, Yuval Marton, Tim Buckwalter, Otakar Smr X , Reem Faraj, and May Ahmar for helpful discussions and feedback. We also would like to especially thank Ahmed El Kholy and Jamila El-Gizuli for help with the annotations. The first author was funded by a scholarship from the Saudi Arabian Ministry of Higher Education. The rest of the work was funded under DARPA projects number HR0011-08-C-0004 and HR0011-08-C-0110.
