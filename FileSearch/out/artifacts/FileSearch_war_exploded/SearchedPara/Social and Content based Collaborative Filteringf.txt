 Recently, the appearance of location-based social networks (LBSNs), such as Yelp, Foursquare, and Facebook Places, have offered users abundant Point-of-Interests (POIs) information in social networks. Commonly used in mobile apps and service network, LBSNs enable users to receive check-in data, establish con-nections with each other, and share location preference among social circle. With the rapid development of LBSN, although they are beneficial for users to explore interesting and favorite locations, there is an urgent need for personalized rec-ommendation, because common recommendations are not always appropriate for every user. they still suffer severe cold-start problems, leading to inefficient and poor per-formance for new user and new location. For example, when a new location is appended into a network, it X  X  time-consuming and difficult to label its tags or figure out its target population. Additionally, in spite of many methods building POI recommender system with geographical mobility data [1, 7, 9, 13], or collabo-rative preferences of users X  friends and check-in history [3, 10, 12, 14], few of them seamlessly combine both of the two resources and achieve a good performance in cold-start situation. Moreover, due to the sparsity of users X  check-in data, visit frequency matrix consists of tremendous undefined or uncertain element, leading to degenerated prediction accuracy.
 (Implicit-feedback based Content-aware Collaborative Filtering) [6] algorithm varies the confidence with check-in frequency and incorporates content-aware methodology into collaborative filtering. But it still suffers from the problem of redundant matrix dimension which encapsulates the IDs of both users and locations as additional features, resulting in low prediction accuracy and high complexity. By exploring check-ins from friends in LBSN, POI recommendation model [4] learns a set of potential locations that each user X  X  social friends, lo-cation friends, and neighboring friends have checked-in before and incorporates them into matrix factorization model. However, it fails to take user X  X  personal attributes into account so that the recommendation may deviate from user X  X  actual preference.
 together as a total benchmark of judgement. Since the influential friends X  sugges-tion and users X  personal preference affect a user X  X  decisions on check-ins in many different ways, the influence space is separated into two parts [5], namely So-cial Propagation Influence Space and Individual Attribute Influence Space. Ac-cordingly, a new POI recommendation model termed Social and Content based Collaborative Filtering Model (SCCF) is proposed, which consists of a Social Relation Preference based Model (SRPB) with friends X  preference propagating from social relation, and a User Location Content-based Model (ULCB) match-ing the user content profiles with location profiles. Besides, by incorporating the top-Z influential friends X  preference and the user/location profiles, we reduce the dimensionality of user/location feature matrices in content-based collaborate fil-tering, and take advantage of both sub-methodologies to improve performance in solving cold-start problem. Furthermore, many recent Apps such as Yelp, Tripadvisor, and Meituan allow users to mark grades and make comments for expressing their preference to locations. The grading data in review reflects ex-plicit information about users X  preference towards POIs, and the star level of POIs directly indicates the popularity and reputation of these locations. As a result, useful user explicit behaviors such as users X  grading data, and implicit behaviors from social relation and user/location profiles are appended to our POI recommendation model.
 conducted on the Yelp LBSN datasets using various evaluation metrics. Based on the five-fold cross validation and dataset preprocess principles, two types of evaluations in cold-start situation, namely new user and new POI recommen-dation, are performed on selected datasets. The results show that the proposed SCCF model outperforms the counterpart ICCF for new user recommendation and has remarkably achieved triple performance for new POI recommendation. 2.1 Notation Suppose there are M users and N locations, in user/location profile, X u  X  R P and Y i  X  X  Q are the attribute vectors of user u and location i respectively, where P and Q represent the number of features for user and location respectively. Given a user-friend matrix S  X  R M  X  Z , S u is the set of user u  X  X  friends, where each friend is denoted by f . In addition, C i indicates the popularity of location i , G u,i shows the preference degree of a user u to location i , and W u,i is the confidence level on prediction for user u to location i . All bold capital letters in this paper represent matrices/vectors, which are different from corresponding regular capital ones. The term POI and location are interchangeably used. 2.2 Definition Since users X  choices on check-ins are often affected by both friends X  suggestion and the extent to which locations X  features meet users X  preference, the influence space is separated into two parts as follows, which are regarded as two factors influencing user X  X  check-in preference [5].
 Definition 1 (Social Propagation Influence Space). The social space of user u and preference probability to location set, which affects location recom-mendation for user u by propagating influential friends X  preference.
 Definition 2 (Individual Attribute Influence Space). The individual space of user u is generated by user u  X  X  attributes, all locations X  features and the latent factors among them, which affects location recommendation by matching the user content profiles with location profiles according to attribute similarity. The proposed Social and Content based Collaborative Filtering Model (SCCF) consists of two sub-models, namely Social Relation Preference based Model (SRPB) and User Location Content-based Model (ULCB), corresponding to the two influence spaces respectively. In this way, social friends X  preference and user/location profiles are utilized to propagate social influence and learn user X  X  personal preference. 3.1 Learning Confidence In the existing content-aware CF algorithm [6], location recommendation is based on a user-location matrix C  X  X  M  X  N , where each element c u,i indicates the visit frequency of user u to location i . The reference model treats all unvisited loca-tions as negative samples [2], ensuring that the confidences for negative samples is assigned equally, so the overall confidence w u,i is set as, where  X  ( c u,i ) is a monotonically increasing function of visit frequency. due to the complexity of users X  check-in preference. To address this defect, user X  X  explicit behaviors are appended to promote similarity between prediction and user X  X  preference, such as users X  grading data, reviews, and votes. Accordingly, the prediction is separated into two parts, namely individual prediction based on human mobility data in Individual Attribute Influence Space and social pre-diction based on social relation in Social Propagation Influence Space which will be discussed later in Section 3.2.
 element  X  H i representing the total check-in frequency among all time intervals of location i and each element e H i indicating the average rating for location i in user review. Before being encapsulated into the overall confidence,  X  H i may require further data preprocessing by applying a monotonically increasing func-tion  X  (  X  H i ) to enable the positive confidence increasing with total visit frequency. Denoted by C  X  R N , the location X  X  total check-ins and average rating marked by users who have uploaded their check-in information are combined, with each element C i indicating the popularity of location i as follows, where the tuning parameter  X  controls the importance of the total check-ins. preference degree of user u to location i , is obtained by two sparse user-location matrix T  X  R M  X  N and V  X  R M  X  N , where T u,i represents the star level in review given by user u to location i and V u,i indicates the corresponding votes given by other users towards this review respectively. Furthermore, considering the reliability of this grade, vote information is utilized as weight for star level, and the general grade matrix G is defined as follows, where sigmoid function is used to transform the codomain of V u,i from [0 , +  X  ) to (0 , 1), and control the weight in (0 , 0 . 5] if T u,i is not larger than 3 which implies user X  X  negative preference to location i , otherwise in (0 . 5 , 1) for positive prefer-ence. To avoid data sparsity, the unknown elements in G whose codomain varies in (0 , 3) are supplemented with G u,i = 1, which signifies a general preference of user to specific locations.
 ularity in C and user X  X  preference degree in G , the confidence matrix W is modified as follows, where w u,i is the confidence level for user u to location i , and an initialization value W u,i = 1 is assigned for the unknown elements to avoid invalid confidence. 3.2 Recommendation Models For addressing the cold-start problem in LBSN network, we introduce two novel models corresponding to the two separate influence spaces.
 The Social Relation Preference-based Model Generally, users X  preference and check-in behavior are usually influenced by social relation. For instance, when a user Mary decides to search for a cafe, those coffee shops which her friends in LBSN have been to or have positive preference to are more likely to be considered. In other words, her check-in behavior will be affected by her friends X  preference, even though deviates from her historical check-in inclination. Moreover, since the influence from different friends to specific user is diverse, we analyze social friends X  influence and utilize it to model user X  X  preference. Z friends whose social impact outperforms the rest of friends, with each element S u,f representing popularity and public influence level of friend f . Moreover, grade G f,i is appended as weight to assess the influence from friend f  X  X  preference towards location i and user u , where the linear weighted average of these top-Z friends X  influence level denotes the total social influence. On the other hand, if user has less than Z friends, the SRPB model will ignore the number of friends and only consider all relevant friends X  X  preference, because social prediction is obtained by the average value of all friends X  preference.
 may far deviate from user X  X  preference if social relation is only considered. Hence, in order to connect social friends X  influence with users X  own preference, top-Z friends X  total social influence is multiplied by the confidence level W u,i as follows, where g S u,f is normalized by the fan number of friend f , since S  X  X  codomain varies in [0 , +  X  ) which is too extensive to express friends X  public influence. The User-Location Content-based Model Although being influenced by social relation, users still tend to follow their personal preference, which is re-vealed by user attributes and location features.
 is to incorporate content-based methodology into collaborative filtering [11]. As mentioned in the previous study [2], confidence matrix in implicit-feedback col-laborative filtering steers clear and efficient for sampling negative items. How-ever, state-of-the-art content-aware CF algorithm ICCF [6] whose loss function given as follows suffers from the problem of redundant matrix dimension, encap-sulating the IDs of both users and locations as additional features, where r u,i = I ( c u,i &gt; 0) is in 0/1 rating matrix R , indicating whether user u has visited location i , and of user u  X  X /location i  X  X  ID and user/location attribute value.
 but increases algorithm complexity and the average execution time. To improve this defect, the ULCB model only considers user/location profiles as features and reduces the dimension of transform matrices U and V .
 indicates the user attribute value of user u with P being the number of user attributes. Similarly, location features are encapsulated into a location-location feature matrix Y  X  X  N  X  Q , where the row vector Y i represents location feature value of location i with Q being the number of location features. To constitute the ULCB model, transform matrices and composite confidence are utilized to estimate user X  X  personal preference. Accordingly, the transform matrices U  X  R P  X  L and V  X  R Q  X  L can be obtained by UV matrix decomposition, where L is the number of latent factors. These transform matrices can match users from user attributes, latent factors and location features to locations, and prediction matrix  X  D is shown as below, which connects user X  X  implicit behavior and explicit behavior, by multiplying the composite confidence level W u,i to prediction X u UV 0 Y 0 i . Thus, the objective function is generated as follows, with a regularized term to avoid over-fitting. Integrated Recommendation. Accordingly, being divided into two aspects that complement each other, both social relation based model and individual attributes based model are able to improve performance in solving cold-start problem. Since user X  X  check-in preference is so complex that it may be influenced by time, geographical distance, user X  X  mood and so on, the most influential space of these two differs in diverse situations.
 both user friends X  influence level and user X  X  personal preference modeled in two sub-models through linear weighting, denoted by D as follows, where parameter  X  controls the proportion of these two prediction components. 3.3 Parameter Optimization In the proposed ULCB Model, based on the personal preference prediction for-mula in Eq. (5), transform matrices U and V are learned by minimizing the objective function in regularized optimization problem Eq. (6) by using the gra-dient decent method. where U j is the j -th row of U , and X u j is the same as X u,j representing the attribute value of user u to user attribute j . Hence, the iteration equation to update transform matrix U by using gradient descent method is given as follows, Similar for the update of V .
 rectly, using these methods is of low efficiency in large scale social network. To simplify the optimization process, Alternating Least Squares (ALS) method is adopted with variable substitution, decomposing rating matrix into two matri-ces, the user latent factor matrix P  X  R M  X  L and location latent factor matrix Q  X  R N  X  L . During the process of matrix factorization, the unknown elements will be estimated, enabling the proposed ULCB model to affect location recom-mendation for user based on the estimated rating matrix.
 grated user/location latent factor matrices P and Q . Setting the gradient with respect to P u and Q i to zero, the update principles are obtained as follows, where r u is the u -th row, r i is the i -th column in rating matrix R , and W u is a N  X  N diagonal matrix, W i is a M  X  M diagonal matrix with W u ii = W i uu = W u,i . larly, fix P and solve Q i successively. Operating these two steps alternately until convergence. 4.1 The Experimental Setup Dataset A series of Yelp datasets containing over 100 million reviews of busi-nesses worldwide is utilized in our experiments. Before adopting these datasets to our model, the ratio of active users and sociable users are analyzed and shown in Fig. 1. The statics indicate that approximately 72 percent users comment less than 15 reviews, and around 56 percent users have no friend in this network. For experimental purpose, since our algorithm depends on social information, only users with strongly-connected social relation and enough activity during recent period are considered. Constraining selected users with friend relationship and at least 15 check-in records, we eventually obtain 14,142 users and 2,780 POIs. from each other and inappropriate to recommend simultaneously, geographical barriers are taken into account. Accordingly, the original location dataset is split into four subsets based on locations X  geographical distance, and the number of POIs and sparsity in each subset are shown in Table 1.
 #IL and #WI 14142 678 0.0544% #SC and #NC 14142 840 0.0833% Experiment Settings and Evaluation Metrics The tuning parameter in the proposed SCCF model,  X  and  X  are set as 0.01 respectively. When e H i &gt; 3, which indicates the visited users have positive feedback,  X  is set to 0.05, otherwise  X  is set to  X  0 . 05. Also, according to the average number of user friends, Z = 10 is used for Top-Z friends selection, and number of latent factor is L = 50. The manipulation function  X  (  X  H i ) = 1 + log(1 +  X  H i  X  (10 )) where =  X  1, is used to generate steady monotone increasing value. For evaluation metrics, three widely used metrics, namely recall@K, precision@K and F1-Measure@K are used for top-K recommendation [8, 14].
 Evaluation approach Two types of evaluation approach, new user and new POI recommendation, are conducted to evaluate models X  performance in diverse cold-start situations. For new user recommendation, being divided into five folds randomly, user profiles train a model for each fold to estimate user preference probability by using the other four folds as training sets. In the case of new POI recommendation, randomly choosing one-fifth locations as testing set, the rest POIs are utilized to model preference for all users. Accordingly, to compare performance in diverse cold-start situations, comprehensive analyses based on two evaluation approaches are performed on the proposed SCCF model and other state-of-the-art algorithms respectively. 4.2 Performance Comparison Performance of New User Recommendation To accomplish new user rec-ommendation, elements in rating dataset are initialized to one if visited, oth-erwise to zero. Observing the metrics results of ICF, ICCF and the proposed SCCF model on four sub-datasets shown in Fig. 2, we find that our model far outperforms the state-of-the-art content-aware collaborative filtering. From the results, since ICF X  X  recommendation is based on matrix factorization of rating matrix, it tends to approach zero for the unknown elements and works extremely bad in the cold-start situation. On the other hand, F1-Measure of SCCF outper-forms ICCF X  X  over 30% as shown in Table 2, especially when K is no larger than 3, which indicates high data sparsity problem. Meanwhile, SCCF outperforms ICCF over 35% in terms of both recall and precision. In other words, the pro-posed SCCF model is more accurate than common content-based CF models, and more stable during new user recommendation.
 Performance of New POI Recommendation Similar to new user recom-mendation, the new POI recommendation results are shown in Table 3. And it can be seen that the proposed SCCF model has remarkably achieved triple performance over ICCF in terms F1-measure. Additionally, since ICCF assigns unvisited locations a lower confidence for negative preferences, it outperforms explicit-feedback content-aware CF model, such as LibFM [6], of the best con-figuration by a significant margin. In other words, performing more effective than state-of-the-art implicit and explicit feedback content-aware CF models, the pro-posed SCCF model is much more appropriate to be conducted in complex LBSNs and cold-start situation.
 Discussion Comparing the performance of profiles and content in cold-start situation respectively, it is discovered that profiles are more effective than con-tent [6]. And since content is not so correlated with recommending special loca-tions, the effect of incorporating these two factors is under expect. For exper-iment purpose, we only utilize profiles to generate user attribute matrix. Fur-thermore, social relation also contributes to cold-start situation. When a new user u first registers, even though he only provides an empty user attribute vec-tor, he will bring social relation from the binding social network. Accordingly, friends X  profiles enable us to approach user X  X  preference, which is a probable way to address new user cold-start problem. In this paper, we have proposed a novel integrated SCCF model for POI rec-ommendation which consists of two sub-models, namely SRPB and ULCB, in two influence spaces of user preference respectively. In SCCF, use X  X  social rela-tions are exploited to model social friends X  preference influence level to user, and user/location profiles contribute to generate latent factor matrices in approach-ing user X  X  preference. Experimental results have confirmed that the proposed SCCF model outperforms the counterpart ICCF, and is therefore more appro-priate to reduce algorithm complexity and improve performance for cold-start and sparsity issues.

