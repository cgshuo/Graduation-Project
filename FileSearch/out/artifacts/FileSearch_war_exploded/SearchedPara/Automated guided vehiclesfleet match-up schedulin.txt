 1. Introduction
The productivity of an AGV-served fl ow shop repetitively producing a set of different products, depends on both the job fl ow sequencing (maximizing throughput or minimizing cycle time), and the material handling system required to achieve a pre-speci fi ed throughput, i.e. AGVs fl eet sizing, assignment and scheduling ( Abara, 1989; Clarke et al., 1996; Hall et al., 2001 ).
So, assuming a deterministic system where demand is known in advance and the processing times of each job on each machine is a known constant, in order to improve its productivity, the AGVs fl eet size and the scheduling/dispatching in fl uence on the system throughput are usually examined ( Abara, 1989; Chelbi and Alt-Kadi, 2004; Deris et al., 1999; Hane et al., 1995; Fazlollahtabar and Saidi-Mehrabad, 2013; Qiu et al., 2002 ).

A number of papers are concerned with the fl eet assignment problem ( Abara, 1989; Clarke et al., 1996; Hane et al., 1995 ), and maintenance planning ( Chelbi and Alt-Kadi 2004; Deris et al., 1999;
Papakostas et al., 2010 ). However, few papers have considered the combination of fl eet assignment and maintenance planning ( Clarke et al., 1996; Moudani and Mora-Camino, 2000 ). Most publications on fl eet assignment are focused on the fl eet operation cost minimization ( Abara, 1989; Hane et al., 1995 ). Some papers on maintenance planning have focused on planning maintenance tasks to minimize the maintenance cost ( Chelbi and Alt-Kadi, 2004; Deris et al., 1999;
Papakostas et al., 2010 ). Few papers have considered the integration of fl eet assignment and maintenance planning ( Clarke et al., 1996;
Moudani and Mora-Camino, 2000 ). The inventory policy with pre-ventive maintenance consideration is mostly studied for production systems ( Chelbi and Alt-Kadi, 2004; Rezg et al., 2008; Vaughan, 2005 ). Because of unpredicted situations, rescheduling is required to deal within an online mode to support decision making. Therefore, scheduling and rescheduling fl eet assignment and maintenance planning and inventory policy are implemented in task dedicated decision support systems ( Moudani and Mora-Camino, 2000 ). cyclic steady state, an alternative approach to AGVs fl eet dispatch-ing and scheduling, e.g. following from the Systems of Concur-rently fl owing Cyclic Processes (SCCP) concept ( Abara, 1989; Sharma, 2012; Von Kampmeyer, 2006 ) can be considered as well.
The problems arising concern material transportation routing and scheduling are NP-hard in nature ( Clarke et al., 1996 ). Since the steady state of production fl ows has a cyclic character, hence servicing them AGV-served transportation processes (usually exe-cuted along loop-like routes) also encompasses cyclic behavior.
That means, the periodicity of a Flexible Manufacturing System (FMS) ( Trouillet et al., 2007 ) depends on both the periodicity of the production fl ow cyclic schedule and, following this schedule, the AGVs periodicity. Of course, the Multimodal Transportation
Network (MTP) ( Bielli et al., 2006 ) throughput is maximized by the minimization of its cycle time.

Many models and methods have been considered to date ( Levner et al., 2010; Fazlollahtabar and Saidi-Mehrabad, 2013 ).
Among these, the mathematical programming approach ( Abara, 1989; Vaughan, 2005 ), max-plus algebra ( Polak et al., 2004 ), constraint logic programming ( Bocewicz and Banaszak, 2013a, 2013b; Bocewicz et al., 2012 ) evolutionary algorithms ( S 2011 ), Petri nets ( Song and Lee, 1998 )andmulti-agentsystems ( Bernaer, 2006 )frameworksarethemorefrequentlyused.
Most of these methods are oriented at fi nding a minimal cycle or maximal throughput while assuming deadlock-free processes
In that context our main contribution is to propose a declara-tive framework aimed at re fi nement and prototyping of the cyclic steady states for concurrently executed cyclic processes modeling material handling systems. These systems are of the type such as
AGVs fl eets in the FMSs and are frequently encountered in industry. The following questions are the main focus of the research: Can the assumed material handling system (e.g. AGVs) characteristics meet the load/unload deadlines imposed by the scheduled fl ow of work pieces? Does a given Automated Guided
Vehicle System (AGVS) enable to schedule the AGVs fl eet so as to ensure lag-free service of scheduled work pieces processing? So, the main question is: Can the assumed AGVs fl eet assignment reach its goal subject to constraints assumed on concurrent multi-product manufacturing on hand? In other words, this paper's objective concerns the MTN infrastructure assessment from the perspective of possible FMS oriented requirements imposed by AGVs' fl assignment, sizing, and scheduling. Due to the complexity implied in answering the above questions, the combined problem remains unsolved for all practical purposes. This is especially problematic as many manufacturing companies would stand to reap considerable rewards through better fl eet assignment and scheduling. The presented approach addresses this through solving the combined rather than the separate problems individually.

In that context, the problem considered in this paper can be seen as an extension of the problems formulated in Bocewicz and Banaszak (2013a, 2013b) . Speci fi cally, the problem stated in
Bocewicz and Banaszak (2013a) assumes a given SCCP network composed of a set of interacting cyclic processes and considers the set of local cyclic processes occurring in the SCCP. The question sought concerns of selection of priority dispatching rules assigned in the course of the step-by-step SCCP network reconstruction, guaranteeing cyclic behavior of each consecutive subsystem.
The considered problem belongs to the class of  X  reverse  X 
In turn, the problem considered in Bocewicz and Banaszak (2013b) boils down to examining whether suf fi cient conditions guaranteeing that a given SCCP (supporting the execution of multimodal processes) behaves cyclically exist. A SCCP network composed of a set of interacting cyclic processes and a set of multimodal processes as well as operation times and synchroniza-tion protocols are decision variables occurring in those conditions.
The considered problem belongs to a class of  X  straight  X 
Assuming a given SCCP network, i.e. the set of resources, the set of local cyclic routes, the set of multimodal processes, the set of dispatching rules including ones linking local processes and multi-modal ones as well as assuming cyclic behavior of the whole system, the problem boils down to answering the question: What are the local processes operation times guaranteeing their match-up with the multimodal processes schedule. Since the operation times are sought in the course of the step-by-step reconstruction of both the SCCP networks and supporting parts of the multimodal processes (see Bocewicz and Banaszak, 2013b ) this is a reverse problem.

The remainder of the paper is organized as follows: Section 2 introduces the AGVs modeled in terms of SCCP. Section 3 provides a problem statement concerning AGVs fl eet match-up scheduling with a multi-product manufacturing fl ow schedule. Then the already stated problem formulated in a declarative modeling framework aimed at AGVs fl eet scheduling is considered in Section 4 . An illustrative example of the proposed approach is discussed in Section 5 and the concluding remarks are presented in Section 6 . 2. Model of AGVS
Automated Guided Vehicle Systems (AGVS) are used for mate-rial handling within a FMS, and provide asynchronous movement pallets of products through a network of guide paths between the workstations by the AGVs. Each workstation is connected to the guide path network by a pick-up/delivery station where pallets are transferred to/from the AGVs.

In AGVS literature, most research is related to AGVS design issues, which include determining the number of required vehicles, path design and route planning as well as vehicle dispatching and traf fi c management. Recently, the integrated problem of dispatching and con fl ict free routing of AGVs, i.e. integrating the simultaneous assignment, scheduling and con fl ict free routing of the vehicles, is receiving increasing attention. Since, most processes observed in steady state manufacturing are periodic, and therefore follow cyclic schedules cyclic scheduling metho ds can be considered. Therefore, the proposed cyclic processes modeling approach provides a quite reasonable perspective for cyclic scheduling encompassing the repetitive character of manufacturing processes ( Bernaer, 2006; Bocewicz and Banaszak, 2013a, 2013b; Polak et al., 2004 ).
In order to illustrate the idea standing behind our approach, a case example of a simple FMS is shown in Fig. 1 including some of the design and operational issues that arise in repetitive manu-facturing systems served by AGVs moving within loop-like net-work environment while supporting unidirectional material The concurrent multi-product fl ows are depicted by bold green, blue, and orange color lines, while the transportation loop-like network are distinguished by double solid line. Both kinds of material (jobs) and transportation (AGVs) fl ows shown in Fig.1 can be modeled in terms of SCCPs ( Bocewicz and Banaszak, 2013a, 2013b ) as shown in Fig. 2 . In turn, the SCCP framework provides a formal model enabling to state and resolve problems of AGV size minimization as well as steady state cycle time minimization. The cycle time minimization is required to obtain maximum throughput rate.

Eight local cyclic processes are considered, viz. P 1 P transportation sectors and machines (distinguished in Fig. 2 by the set of resources , R  X f R 1 ; ... ; R c ; ... ; R 33 g , R Some of the local cyclic processes are pipeline fl ow processes, i.e. they contain streams (representing vehicles from Fig. 1 ) of the processes following the same route while occupying different resources (sectors). For instance, processes P 4 ; P 5 ; P streams: P 4  X f P 1 4 ; P 2 4 g , P 5  X f P 1 5 ; P 2 5 g , P
P (vehicles) moving along the same route. The remaining local processes contain unique streams: P 1  X f P 1 1 g , P 3  X f P P  X f P 1 8 g . In other words, the streams: P 1 1 ; P 1 P k th stream of the i th local process P i is denoted as P
Apart from local processes, we consider three multimodal processes (i.e. processes executed along the routes consisting of parts of the routes of local processes): mP 1 , mP 2 , mP
For example, the production route depicted by the orange line corresponds to the multimodal process mP 1 supported by AGVs, which in turn encompasses the local transportation route specifying how a multimodal process is executed can be considered to be composed of parts of the routes of local cyclic processes.

In the system considered each multimodal process consists of four streams: mP i  X f mP 1 i ; mP 2 i ; mP 3 i ; mP 4 i g , i  X  1 along each production route four work pieces are processed serially (four balls on the one production lines in the Fig. 1 ).
Processes can interact with each other through shared resources, i.e. the transportation sectors. The routes of the considered local processes (streams) are as follows (see Fig. 2 ): where R 1 R 2 ; R 4 R 11 ; R 14 ; R 17 R 18 ; R 20 R 29 ; resources shared by local processes, i.e. by at least two streams and R i.e. exclusively used by one stream only.

In the general case the route p k i is the sequence of resources used in order to execute the operations of the stream P k resources (these streams correspond to vehicles moving along the same route).

Similarly the cyclic multimodal processes: mP 1 ; mP 2 ; mP follow the routes (see Fig. 2 ): mp  X  X  X  R 3 ; R 13 ; R 6  X  _  X  R 17 ; R 5  X  _  X  R 21 ; R 8  X  _ mp  X  X  X  R 2 ; R 20 ; R 5  X  _  X  R 24 ; R 4  X  _  X  R 28 ; R 7  X  _ mp  X  X  X  R 1 ; R 27 ; R 4  X  _  X  R 28 ; R 7  X  _  X  R 25 ; R 8  X  _ k  X  1 ; ... ; 4 ; where  X  R 3 ; R 13 ; R 6  X  ;  X  R 17 ; R 5  X  ;  X  R 21 ; R 8 .  X  R 2 ; R 20 ; R 5  X  ;  X  R 24 ; R 4  X  ;  X  R 28 ; R 7  X  ;  X  R ;
R 27 ; R 4  X  ;  X  R 28 ; R 7  X  ;  X  R 25 ; R 8  X  ;  X  R 18 ; R . u _ v is the concatenation of sequences u and v .If u  X  X  u and v  X  X  v 1 ;:::; v b  X  ,then u _ v  X  X  u 1 ;:::; u a ; v
Let us also assume the considered SCCPs follows the constraints stated below ( Bocewicz and Banaszak, 2013b ): a new subsequent operation of the local process may start on a required resource only if the current operation has been completed and the resource has been released; each new consecutive operation in the multimodal process may start its execution on an assigned resource only if: the current operation has been completed and the resource has been released and an appropriate local process begins its consecutive operation on this resource; local/multimodal processes share common resources in a mutual exclusion mode, the operation of a local/multimodal process can only be suspended if the necessary resource is occupied, suspended processes cannot be released, processes are non-perceptible, i.e. a resource may not be taken from a process as long as it is used by it; the SCCP resources can be shared by local and multimodal processes as well as by both of them; multimodal processes encompassing production fl ow conveyed by AGVs follow local transportation routes; different multimodal processes can be executed simultaneously along the same local process; local and multimodal processes are executed cyclically with periods  X  and m  X  , respectively; resources occur uniquely in each transportation route; and in a cyclic steady state, each i th stream must cover its local route the same number of times.

A resource con fl ict (caused by the application of the mutual exclusion protocol) is resolved with the aid of a priority dispatch-ing rule ( Bocewicz and Banaszak, 2013a, 2013b; Bocewicz et al., 2012 ), which determines the order in which streams access shared resources. For instance, in the case of resource R 5 , the priority dispatching rule: s 0 5  X  X  P 2 2 ; P 3 2 ; P 1 5 ; P 2 5 ; which the streams of local processes can access the shared resource R 5 . In the considered case the stream P 2 2 is allowed to access fi rst, then the stream P 3 2 next, then streams P then once again P 2 2 , and so on. The stream P k i occurs the same number of times (in the considered system once) in each dis-patching rule associated with the resources featuring in its route (in the case considered each stream P k i occurs uniquely). The SCCP shown in Fig. 2 is speci fi ed by the following set of dispatching rules:  X   X f  X  0 ;  X  1 g , where  X  0  X f s 0 1 ; ... ; s 0 33 determining the orders of local processes and  X  1  X f s 1 1 the set of rules determining the orders of multimodal processes.
In general, the following notation is used: the stream of a local process P k i (the k th stream of the i th local process P i ). Its components de fi ne the resources used in the execution of operations, where p k i ; j A R the set of resources stream of the i th local process in the j th operation; in the rest of the paper, the jth operation executed on the resource p k process route (all streams of P i are of the same length). x k i ; j  X  l  X  A  X  is the timing of commencement of operation o k l th cycle, local processes , where t k i ; j denotes the time of execution of fi es the route of the stream mP k i from the multimodal process mpr q i a ; b  X  X  X  a ; b A f 1 ; ... ; lr  X  i  X g is the subsequence of the route p mx k i ; j  X  l  X  A  X  is the timing of commencement of operation mo k the l th cycle. times of multimodal processes , where mt k i ; j denotes the time of execution of operation mo k i ; j , lm  X  i  X  is the length of the cyclic process route mp k i , and  X   X f  X  0 ;  X  1 g is the set of priority dispatching rules .
 X  i  X f s i for local ( i  X  0)/multimodal ( i  X  1) processes where mining the order in which the processes can be executed on the resource R c , s 0 c ; d A H (where H is the set of local streams, e.g. in the case presented in Fig. 2 , H  X f P 1 1 ; set of multimodal streams, e.g. in case from Fig. 2 , mH  X f mP k 1 ; mP k 2 ; mP k 3 j k  X  1 ; ... ; 4 g ). Using the above notation, a SCCP can be de fi ned as a tuple: SC  X  X  X  R ; SL  X  ; SM  X  ;  X  1  X  number of resources, and SL  X  X  U ; T ;  X  0  X  the structure of local processes.

Here U  X f p 1 1 ; ... ; p ls  X  1  X  1 ;:::; p 1 n ; ... ; p process, ls  X  i  X  the number of streams belonging to the process P the number of local processes,  X  0  X f s 0 1 ; s 0 2 ;:::; of priority dispatching rules for local processes, SM  X  X  M is the structure of multimodal processes, where M  X f mp 1 mp process, lsm  X  i  X  the number of streams belonging to the process mP i , w the number of multimodal processes, mT  X f mt 1 1 ; ... ; mt times in multimodal processes,  X  1  X f s 1 1 ; s 1 2 ;:::; set of priority dispatching rules for multimodal processes. The SCCP model (1) can be seen as a multi-level model, cf. Fig. 3 , i.e. a model composed of a  X  R level  X  (resources), a (local cyclic processes), and a  X  SM 1 level  X  (multimodal cyclic processes), as well as a  X  SM q level  X  (the q th meta-multimodal process). The SL level is de fi ned by the transportation routes structure following the set of local processes U , and the set of parameters  X  determining the required system behavior. In turn, the SM 1 level takes into account multimodal processes, as well as meta-multimodal processes ( SM 2 level) composed of multimodal processes from the SM 1 level. In other words, it is assumed that the variables describing SM q are the same as in the case of SM , whereas the routes of the multimodal process of the q th level remain composed of the processes from the ( q 1)th level. The presented model is an extended version of a simpli fi ed model limited to R and SL levels, which is introduced in Bocewicz and Banaszak (2013b) .

Therefore, in general, the SC  X  X  X  R ; SL  X  ; SM  X  model can be seen as composed of lp levels:
SC lp  X  X  X  X  X  X  R ; SL  X  ; SM 1  X  ; SM 2  X  ; ... ; SM q  X  ; ... ; The SC lp model emphasizes structural characteristics of the
SCCP modeled. In turn the behavioral characteristics can be speci fi ed in terms of the admissible states reachability concept, i.e. either taking into account the state space concept including: both cyclic steady states and leading to them transient states ( Bocewicz et al., 2012 ) or the cyclic steady state space only ( Bocewicz and Banaszak, 2013a, 2013b ).

The second approach, which does not take into account initial states leading through the transient states to the cyclic steady states, seems to be quite close to the cyclic scheduling methods widely used in many real-life cases ( Levner et al., 2010; Von Kampmeyer, 2006 ).
In that context the relevant multi-level cyclic schedule X encompassing the SCCP behavior on each of its processes level, i.e. local SL and multimodal SM lp processes, can be de fi follows:
X lp  X  X  X  X  X  X  X ;  X   X  ;  X  m 1 X ; m 1  X   X  X  ; ... ;  X  ; ... ;  X  m q X periodicity of local/multimodal ( i th level) processes executions. a sequence of ordered pairs describing the behavior of local ( X and multimodal ( m i X ; m i  X  ) processes, where X is a sequence of timings x k i ; j (for the l  X  0th cycle) of commencement of operations o k i ; j from streams P k i executed along local processes: X  X  mencement of multimodal processes operations (from the q th level, where w  X  q  X  the number of multimodal processes at the q th level, of operations in the q th cycle of the SCCP cyclic steady state
X lp of SCCP is determined by its structure SM lp . Moreover, the multimodal processes behavior ( m i X ; m i  X  ) also depends on the local cyclic processes behavior ( X ;  X  ).
 characteristics of SCCP, the values of the considered variables sion protocol, i.e. the set of priority dispatching rules times, etc. ( Bocewicz and Banaszak, 2013a, 2013b ) as well as on the way the local and multimodal processes interact with each other. For example, in the case of the two levels structure model, i. e. including levels SL and SM as shown in Fig. 2 , the constraints ( Bocewicz and Banaszak, 2013b ): resource p k i ; j awaiting for o i ; j execution: moment of operation o k i ; j beginning for multimodal processes : the timing of commencement of operation mo k i ; j is equal to the nearest admissible value (deter-the release time (lag time  X  tm ) of the resource mp k i ; j moment of operation mo k i ; j beginning  X   X  max  X  moment of mp k i ; j release  X  lag time  X  tm  X  ; i  X  1 ; ... ; n ; j  X  1 ; ... ; lm  X  i  X  ; k  X  1 ; ... ; lsm  X  i  X  X  5  X  X ,( multimodal process may use a required local process),  X  a smallest integer greater than or equal to a in terms of the set B :  X  a  X   X  min k A B : k Z a .

In other words, the timing of commencement of operation mo k belongs to the set X k i ; j elements which are moments of beginning of local operations being prerequisite for execution of operations .

The constraints determining (due to the introduced rules (4) and (5)) the timing of commencement of operations for the
SCCP from Fig. 2 are given in Tables 1 and 2 . 3. Problem formulation
In the domain of SCCPs two main kinds of problem are considered:  X 
Straight  X  problem ( Bocewicz and Banaszak, 2013b ), where: given are : model (2) speci fi ed by the set of resources R , sets of routes U and M 1 ; ... ; M lp , the operation times T and mT ... , mT lp , the sets of priority dispatching rules  X  0
 X  1 ; ... ;  X  lp . Moreover given is the set of constraints (4) and (5) limiting the cyclic schedule X lp encompassing the SCCP behavior.

The response to the following question is sought : are both local and multimodal processes executed in SCCP and modeled by (2), (4), and (5) cyclic?
The idea standing behind this problem can be reduced to the question: Does a cyclic steady state of local transportation pro-cesses matching a given cyclic schedule while following assumed structural constraints exist (e.g. as in the case from Fig. 1 )?
However, in practice because of possible deadlock occurrence the considered problem is NP-hard. Moreover, because most such problems have a Diophantine character, even the existence of a feasible solution cannot be guaranteed. In that context, the opposite problem formulation seems to have more perspective.
Instead for addressing the systems behavior directly one may try to search for a structure guaranteeing the required behavior. In other words, the question is: What priority dispatching rules, which kind of AGVs routing, which operation times, etc. guarantee the SCCP has a cyclic (i.e. deadlock-free) steady state behavior of local and multimodal processes?
Therefore, in this paper, a special case of reverse problem is considered, i.e. for a given set of dispatching priority rules and cyclic as well as multimodal processes routings the transportation operation times are sought.  X  Reverse  X  problem , where: given are : model (2) speci fi ed by the set of resources R , sets of routes U and M 1 ; ... ; M lp , the sets of priority dispatching rules (4) and (5) limiting the cyclic schedule X lp encompassing the SCCP behavior.

The response to the following question is sought : do exist such operation times T and mT 1 , ... , mT lp values which guarantee the cyclic execution of local and multimodal processes?
Solving this type of questions allows one to assess whether in a system with partially known structural characteristics (e.g. as in the case of Fig. 2 ) it is possible to fi nd such AGVs fl and schedule which will be adjusted to a given multi-product manufacturing schedule  X  m 1 X ; m 1  X  . 4. Declarative approach
The problems stated above can be formulated in terms of a constraint satisfaction problem framework. The relevant works have been done in case of the so called straight problems ( Bocewicz and Banaszak, 2013b ), where cyclic schedules X following constraints (4) and (5) were sought. In turn, the reverse problems aimed at fi nding operations times T and mT 1 , ... while following the cyclic schedule X lp requirements and related constraints (4) and (5) can be stated as follows: CS
XT  X  X  X f X lp ; T lp g ; f D X ; D T g X  ; f C L ; C M g X  X  6  X  the sequence of operation times T lp  X  X  X  T ; mT 1  X  ; ... ; D ; D T , D  X   X   X  are domains determining admissible value of deci-sion variables: D f C ; C M g are the set of constraints C L and C M describing SCCP behavior, C L the constraints determining cyclic steady state of local processes, i.e. their cyclic schedule, C M the constraints determining multimodal processes behavior.

The sequence of operations times T lp and the sequence of their commencement timings X lp , both of them follow constraints C , C M which is a suf fi cient guarantee for the SCCP cyclic steady state behavior, that is for solution to the problem (6).
In case of two level systems, i.e. SL and SM (see Figs. 2 and 3 ), the constraints C L ; C M can be speci fi ed in terms of constraints (4) and their extension (5) ( Bocewicz and Banaszak, 2013b ). So, for the sake of simplicity, further considerations will be limited to problem (6), i.e. the two level structures de fi ned in (1) will be considered: CS XT  X  X  X f X 1 ; T 1 g ; f D X ; D T g X  ; f C L ; C M g X  X  7  X 
Problem (7) is an extended version (i.e. where a set of decision variables contains a sequence of operation times T 1 ) of the straight problem presented in Bocewicz and Banaszak (2013b) . The com-putational complexity of the reverse problem (7) has an exponen-tial character, simply because examination of an exponential number of sequence T 1 variants is required. In order to cope with the complexity of problem (7) let us consider its decomposition into subproblems CS XT j .

To do it let us note that structure SC  X  X  X  R ; SL  X  ; SM  X  can be decomposed into the set SC 1 ; SC 2 ; ... ; SC z fg of substructures
SC
SL  X  X  U j ; T j ;  X  0 j  X  the local processes structure (de fi to (1)) including only Rc j resources, SM j  X  X  Mp j ; mT j modal processes structure, where Mp j the set of parts of multi-modal process route (including resources from Rc j ), mT j de fi ned by analogy to (1), if the following conditions hold: resources from R : [ z j  X  1 Rc j  X  R , where some resources can be shared by different substructures simultaneously, the set S includes the substructures consisting of all local however each particular process (part of process) belongs to an unique substructure only:  X  z j  X  1 U j  X   X  ,  X   X  z j  X  1 the set S includes the substructures consisting the all dis-
A solution to problem (7) can be obtained through SC recon-struction using S substructures.

Let Q j CS the substructure SC j 1 A S . Joining SC j 1 with another SC to the new structure SC j 12  X  SC j 1 SC j 2 in turn implying CS are complemented by Q j , values of decision variables X 1 j while taking into account X 1 j straints of the next subproblem CS XT j fg C L ; C M ; Q j ing SC j 3 A S with SC j 12 . This procedure of SC j a joining can be conducted until all substructures of S are spent, under the condition, that the set Q j
As result the values of the all elements from sequences X problem (7)) can be obtained. This means that values of some subsets of variables from sequences X 1 ; T 1 are treated as results of successive solutions of succeeding subproblems and remain constant.
 where cardinality of each variable domain is equal to k , and following the structure which can be decomposed into z sub-structures, its computational complexity can be decreased backtracking-free procedure of solving the problem. Moreover, in case no solution has been found by this method there is no guarantee that the solution sought really does not exist. To check whether an admissible solution to problem (7) exists the cases corresponding to the lower decomposition impact value, including z  X  1, has to be examined.
 omitting of some feasible solutions. In turn, it can be seen as an alternative to the exhaustive search strategy providing fi however at the cost of exponentially growing time required by a solution set down.

The methodology applied, shown in Fig. 4 , emphasizes a way in which the SC substructures decomposition in fl uencing problem (7) can be seen as a resultant search tree (consisting of the all admissible solutions Q  X  q i  X  j of possible subproblems CS exhaustive, i.e. backtracking, search strategy, and the greedy, i.e. backtracking-free, search strategy are distinguished by green and violet/orange color lines, respectively. The computational com-plexity of the exhaustive search strategy has an exponential character, i.e. the same as in the case assuming z  X  1. In turn, the polynomial computational complexity of the greedy search strat-5. Numerical example
Consider AGVs supporting multi-product manufacturing fl ows and its SCCP model shown in Figs. 1 and 2 , respectively. Let us assume the series manufacturing of three different products follow the routes distinguished by different colors (green, orange, and blue) see the bold lines. Each workstation can process only a unique work piece from a unique product kind at a given instance. Successive work pieces following the product route of the given product kind while taking into account local material handling routes are treated as subsequent streams of manufacturing pro-cesses (in the given kind of product manufacturing fl ow) and are modeled as streams of multimodal processes. For instance, see streams of P 1 , mP 2 , mP 3 from Fig. 1 .

A fl eet of 13 AGVs support work pieces movements between workstations along the given manufacturing routes. The AGVs fl ows are modeled by streams: P 1 1 ; P 1 2 ; P 2 2 ; P 3 2
P ;
P ; P 1 8 of local processes P 1  X  P 8 . Each workstation (in general system resource) can be serviced only by one AGV at the moment.
That means both kinds of fl ow, i.e. products and AGVs fl synchronized by a mutual exclusion protocol.

Given are the cyclic schedule of multi-product manufacturing, see Fig. 5 , and AGVs routes of local transportation processes as well as the dispatching rules controlling them (  X  1 from Fig. 2 ).
Due to this schedule four work pieces: mP 1 i ; mP 2 i ; mP product ( i  X  1 ; 2 ; 3) are simultaneously processed in one cycle period m  X  equal to 320 units of time (u.t.), i.e. one work piece of each product is outputted at each 80 u.t. This means the Gantt chart from Fig. 5 can be seen as a cyclic schedule of multimodal processes shown in Fig. 2 .

The operation times mT are de fi ned in Table 3 . The timing mx k of commencement of operations follow constraints (5) assumed for SCCPs.

Note, that operation times from the schedule considered take into account periods required for work piece processing as well as material handling operations, i.e. load/unload periods (1 u.t. for the work piece load, and 1 u.t. for its unload, see Fig. 5 ). Moreover, the assumed time lags  X  tm (see (5) and constraints from Table 2 ) enable to take into account the work pieces transportation between workstations. In the considered case all time lags are the same and equal to  X  tm  X  1. Moreover, it is assumed that the input to workstations R 1 ; R 2 ; R 3 and the output from workstations R ; R 11 ; R 12 are loaded and unloaded respectively by dedicated external conveyors.

In that context the AGVs fl eet schedule matching the timetable of operations executed due to the multi-product manufacturing schedule is sought. In other words the operations times of particular transportation operations guaranteeing the scheduled fl ow of ordered production, imposed by lag-free interactions assumed among workstations and AGVs, are sought. This refers to operations times guaranteeing conjunction of moments of relevant transportation and load/unload as well as machining operations.

The timings of commencement of operations and of streams of multimodal processes (distinguished by bold frames) shown in Fig. 5 , are the following: mx 1 1  X  X  10 ; 67 ; 68 ; 145 ; 146 ; 210 ; 211 ; 231 ; 232  X  mx 1 2  X  X  55 ; 132 ; 133 ; 143 ; 144 ; 164 ; 165 ; 195 ; 196  X  mx 1 3  X  X  9 ; 86 ; 87 ; 136 ; 137 ; 157 ; 158 ; 208 ; 209 of commencement of the stream mP j i operations.

The above stated problem belongs to a class of reverse ones, in which given are the structure SM of multimodal processes and their steady state behavior (determined by the cyclic schedule mX and the period m  X  ) as well as the structure SL of local processes. However, operation times T remain unknown. For such data, the local processes' operations times T matching the cyclic schedule of multimodal processes (see Fig. 5 ) are sought. In terms of the CSP framework the considered problem can be stated as follows: CS
XT  X  X  X f X ;
For a given reference cyclic schedule speci fi ed by mX ; the values of the variables X ,  X  , T and following constraints C (see Tables 1 and 2 ) are sought. Due to the methodology shown in
Fig. 4 , the structure SC has been decomposed into 5 substructures (see Fig. 6 ). A solution to the considered problem has been obtained through step-by-step joining substructures while follow-ing the order: SC 1 , SC 2 , ... , SC 5 ( Fig. 6 ).
 follows succeeding subproblems: CS XT 1 2 , CS XT 1 3 , ... been resolved in the constraint programming environment imple-mented on the OzMozart platform. The fi nal admissible solution has been obtained in 3678 ms (Intel Core Duo2 E8400 3.00 GHz 4 GB RAM). The operation times of local processes guaranteeing assumed multi-product manufacturing schedule (see Fig. 5 )areasfollows:
T  X f t where t  X  X  1 ; 76 ; 1 ; 2  X  ; t 1 2  X  X  1 ; 1 ; 1 ; 1 ; 1 ; 18 ; 1 t  X  X  53 ; 1 ; 1 ; 1 ; 1 ; 1 ; 1 ; 1  X  ; t 3 2  X  X  1 ; 1 ; 1 ; t  X  X  1 ; 77 ; 1 ; 1  X  ; t 1 4  X  X  1 ; 4 ; 1 ; 1 ; 1 ; 1 ; 1 ; t  X  X  1 ; 1 ; 1 ; 1 ; 71 ; 1 ; 1 ; 1  X  ; t 1 5  X  X  61 ; 1 ; 1 t  X  X  1 ; 1 ; 1 ; 1 ; 8 ; 1 ; 1 ; 1  X  ; t 1 6  X  X  13 ; 1 ; 1 ; t  X  X  1 ; 51 ; 1 ; 1 ; 1  X  ; t 1 7  X  X  44 ; 1 ; 1 ; 34  X  ; t  X  X  1 ; 1 ; 1 ; 77  X  ;
The cyclic schedules of local and multi-product manufacturing processes are shown in Fig. 7 . The commencement instances of transportation and material handling operations X assuming the operation times T , shown in Fig. 7 , are presented in Table 4 . The cyclic schedule from Fig. 7 shows coincidence of transportation operations from multimodal and local processes. For instance, an operation from mP 3 2 stream starting its execution at 36 u.t. on resource R 10 requires transportation operation (using AGV: P from the resource R 7 .

In other words the AGV modeled by P 1 7 has to be docked at R during work piece loading, i.e. the last u.t. of mP 3 2 on R be docked at R 10 during work piece unloading, i.e. the fi mP 2 on R 10 . Note that processes mP 3 2 and P 1 7 fl ow simultaneously between workstations (resources) R 7 and R 10 (through transporta-modeled by P 1 7 executes the work piece transport operation mP .

Other work piece transport operations, i.e. the input R 1 and the output R 10 ; R 11 ; R 12 , are realized in the same way.
The solution obtained in the OzMozart environment provides the AGVs' fl eet schedule that matches the requirements imposed by the production fl ow schedule.
 Comparing to the approaches ( Chaar and Hammadi, 2004;
Wong, 2008; Zidi and Maouche, 2006 ) treating similar issues assuming however deadlock-free cases and mostly driven by evolutionary algorithms, our declarative programming based approach provides just cyclic, i.e. deadlock-free, schedules.
Another advantage of the proposed approach follows from its scalability. The concept of the SCCP structure decomposition and then its step-by-step reconstruction implemented into the cyclic scheduling procedure enables to decrease the required computa-tion time, dramatically. To show it let us consider three SCCP structures presented in Fig. 8 a, and let us introduce an aggregation index g de fi ned as follows: g  X  LP  X  lp  X  1  X  m ; g A  X  0 ; 1  X  9  X  where lp is the number of multimodal processes levels in SC , m the number of resources of the structure SC , and LP the number of streams realized in the structure SC .

So, the structures of SCCPs considered have the same values of an aggregation index g 1  X  g 2  X  g 3  X  0.5 but different value of num-ber operations LO 1  X  9, LO 2  X  12, LO 3  X  15. Value of index signi -cantly in fl uence the time required for solution of problem (8), see Fig. 8 b.

The illustration presenting the possibility of the solution time decreasing provides Fig. 9 showing that problem (8) solved (for the SCCP structures speci fi ed by g  X  0.5) without any structure decomposition takes the time about 10 h, and then can be solved requiring just about 10 min while using four decompositions. Such meaningful advantage follows from the greedy strategy employed removing backtrackings from solution searching process. So, the cost we have to pay can be observed in Fig. 9 showing nodes denoted as  X  no solution  X  . 6. Conclusion
The novelty of this research is in the form of solving the sophisticated problem integrating AGVs fl eet assignment, routing, and scheduling while generating a suboptimal cyclic schedule for multi-product serial manufacturing. In that context, AGVs' dispatching problem can be seen a special case of the cyclic blocking fl ow-shop-problems, where the jobs might block either the machine or an AGV at the processing time. Therefore, the considered problem of AGVs fl eet match-up scheduling with reference to the schedule of the production fl ow is NP-hard.
Besides the above mentioned AGVs dispatching/planning issues the research objective regards a quite large class of digital and/or logistics networks that share common properties even though they have huge intrinsic differences. In other words, besides AGVs that can be treated as a kind of internal transport, other emerging trends concerning the logistics (e.g., supply chains management) and city traf fi c (e.g., infrastructure of public transportation sys-tems) issues can be modeled. For instance, the relevant multi-modal processes of passengers traveling between destination points in an environment of local processes encompassing the subway lines network might be considered as well. Therefore, the passenger's itinerary including different metro lines can be considered as a plan of a multimodal process routing within a metro network.
 duling stated in terms of a constraint satisfaction problem pro-vides a uni fi ed method for performance evaluation of local as well as supported by multimodal processes. We believe that this approach leads to solutions based on suf fi cient conditions that allow the designer to compose elementary systems in such a way as to obtain the fi nal AGVs scheduling system with required quantitative and qualitative behavioral features. This provides a step towards a method allowing one to replace the exhaustive search for the admissible control by a step-by-step system's structure design guaranteeing its required behavior.
 Acknowledgments TAPAS.
 References
