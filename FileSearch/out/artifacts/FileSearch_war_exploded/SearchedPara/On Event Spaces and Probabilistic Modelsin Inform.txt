 1. Introduction There have been several attempts recently to reconcile, or at least to understand the rela-tionship between, traditional probabilistic models of information retrieval and the newer language models. Since both treat the retrieval problem probabilistically, it might be ex-pected that they can be formulated in comparable terms. However, this has proved diffi-cult. One question concerns the role of relevance, which takes a central position in some traditional models (such as Robertson and Sparck Jones, 1976, referred to as RSJ), but 1998).

The present author and others (Sparck Jones et al. 2003) have recently claimed that the early language models assume that there is only one relevant document per query. This claim is based on the observation that language models ask the question of each document: What is the probability that this document, or rather the model which generated this document, also generated the query? Since each document is taken to have its own language model, if it turns out that a particular document is relevant (that is, its model did indeed generate the query), it would seem that no other model could have done.

Lafferty and Zhai (2003), on the other hand, in a recent paper, develop a basic probabilistic model from which they derive both the RSJ model and the simple language model. They claim in conclusion (a) that RSJ and the simple language model are equivalent; and (b) that the language model requires no such assumption as that there is only one relevant document per query. 320 ROBERTSON ev ent space assumed, and draws in part from a pair of old papers (Robertson et al. 1982, Robertson et al. 1983). We begin, however, with a discussion of an example which is rather different from the IR case. This example is first used (Section 2) to illustrate the general problem, before event spaces are formally defined. Then (Section 3) the same example is e xplored in more detail in order to tease out some of the implications. In Section 4 we discuss the structure of the IR case, involving queries and documents, and in Section 5 in IR.

The general problem of understanding the connections between and integrating different probabilistic models in IR has been considered by a number of authors (e.g. Fuhr 1992, not necessarily explicitly probabilistic (the vector space model for example), can be given probabilistic interpretations. However, the event space underlying any probabilistic model is seldom discussed or even specified. 2. Random variables, conditional probabilities and event spaces Suppose we have two random variables, X and Y , with some assumed relation between them. We can imagine (though this is not necessary) that there is a causal relation X  X  Y . Then we might consider a model which models the following quantities: Model A: P ( X ) , P ( Y | X ) Can we now, without asking any further questions, apply such equations as: Equation 1 is one of the basic relationships in probability theory. These relationships imply that Model A provides a full description of the event space involving these two random v ariables: that if we have Model A, then we can infer any other quantity involving just these v ariables.

However, the following example will show that we cannot blindly apply Eq. (1) to a situation in which we have all the information for Model A. There is, of course, a simple ex-planation for this apparent contradiction of the laws of probability; however, the explanation needs to be investigated.
 Example .w eh av e stars S , and planets T . Stars either have ( X = 1) or do not have ( X = 0) magnetic fields. Planets either have ( Y = 1) or do not have ( Y = 0) magnetic fields. We have a (complete) universe consisting of 2 stars and 3 planets. Star s 1 has x 1 = 1; it has two y ON EVENT SPACES AND PROBABILISTIC MODELS 321 the universe is complete, but calculated exactly): From these we would infer using Eq. (1) that P ( Y = 1) = 1 4 . But we have three planets, one of which has a magnetic field, so actually we have P ( Y = 1) = 1 3 .

We could construct a similar example using parents and children and some genetically-probability of each eye colour in a child conditional on the parents X  genes ( Y | X ). But problem. 2.1. Brief specification of the problem What is the problem here? In short, it is the event space. The laws of probability are written reasons (which I believe to be unfortunate), the standard notation P ( . | . ) does not provide for the denotation of the event space. If we denote a probability for a particular event space E as P E ( . | . ), then we should rewrite the data we have for the example as: referring to the event spaces of stars and planets. It is immediately obvious that we cannot apply Eq. (1) to this data, because the probabilities are defined in different event spaces. 1
So the answer to our question above is: We emphatically cannot apply the equation without asking any questions.

But this situation deserves much more detailed analysis. The combination of event spaces we have exemplified, involving stars and planets, has a slightly complex but not particularly unusual structure (that of every many-to-one relation in every relational database combinations. 322 ROBERTSON 2.2. Overview of event spaces The traditional view is that the event space is the set of all possible outcomes of an exper-iment, that the probability measure is a measure satisfying certain properties on this event space, that a random variable is a deterministic function of the outcome of an experiment. One could discuss this at length, but it will do for the present discussion. If we want to define a probability P E ( X ), we need to assume that we do indeed have a well-defined event space E , probability measure P , and random variable X defined on E .For P E ( Y | X ), we need both Y and X to be defined on E ; the values of X are used to induce a partition on E .
We will also observe that in a finite event space, the usual simplest probability measure assigns equal probability to each elementary event. However, there are many circumstances in which that is simply inappropriate, to the extent that one would not even consider it a candidate. For example: suppose the experiment consists in tossing two coins, with outcomes ( that the simple one is simply bad.

In the following section, we look at the same example in somewhat more detail, with a view to understanding how we might apply the traditional statistical idea of an event space to this (structured) situation. 3. Detailed analysis of the example one-to-many relation between them. We have this knowledge of the structure, and we need to work out the implications of this knowledge for any probabilistic statements about our models for the event space. We will refer to this full event space as ST .T o help focus the discussion, we will imagine that one question we might want to ask is the following:
What is the probability that a star has a magnetic field, given that I know that it has two planets with magnetic fields? This is a perfectly reasonable question to ask, though it may need some refining. But first we will explore some possible ways of looking at the event space ST .W e can consider several a uniform probability measure on it; this yields the above value for P ( X = 1) = P S ( X = 1) in the specified universe.

The second is T . This is also moderately straightforward, if we look at Y alone; however, it as a straightforward uniform-probability event space will simply ignore. More on this later. But there is another slight complication: we want to consider X as a condition on this space. Is this valid? Well, with a very slight extension, yes: we can ask of any planet, as well as  X  X o you have a magnetic field? X ,  X  X oes your star have a magnetic field? X . This question ON EVENT SPACES AND PROBABILISTIC MODELS 323 is clear and unambiguous, so it is perfectly reasonable to assert that X is defined on T as e xtension of both the event space and the variable; we might refer to these as T + and X . In
T + ,w e associate with each planet not only its own properties but those of the star to which it belongs, and X is the property of the planet of belonging to a star with or without a magnetic field. Then we should rephrase our data about the specified universe as:  X  X  ut it also becomes clear that we need more data to specify the probabilistic properties of this event space more fully. For example, we may need P T + ( X ), which is not deducible from the above and which is different from P S ( X ). This would then allow me to use Eq. (1).
Note that we cannot do the same trick the other way around: we cannot simply ask a star  X  X oes your planet have a magnetic field? X , because the question is ill-defined. We could define an S + in a different way, e.g. by defining a new random variable Y as the proportion of the star X  X  planets that have magnetic fields, and construct a probabilistic model with this combination of event space and random variables. As before, a simple uniform probability measure (on stars) is quite appropriate.

We now have five event spaces: ST , S , T , S + , T + . 2 There are differences between them, some minor, some significant. We have simple, straightforward probability measures on each of the last four of these spaces. We do not, however, have a probability measure of any kind on ST . Nor is it possible to define one which (a) makes sense, and (b) allows me to express all probabilistic aspects of the space.
 Does this mean that we cannot make probabilistic statements about ST ?O f course not. Any statement about any of the other event spaces is also about ST .H ow ev er, none of the other spaces captures all that we might want about ST .G iv en that we need event spaces probabilistic sense of ST .

Now we may return to the question with which we started this section. Of the event spaces we have considered, the one which comes closest to helping us with this question is S + as defined; but this does not quite do the trick. Answering the question would actually need a good understanding of the full structured event space ST , and a combination of models which explicity took this structure into account. It simply does not make sense in T + , because in this event space, there is no such thing as an individual star . (In fact S + does not have individual planets, either.) 3.1. Individuality and T + We said above that in T + there is no such thing as an individual star. This statement deserves further analysis. 324 ROBERTSON
T + consists of a set of elementary events { ( t , s ) } where t  X  T is a planet and s  X  S is a star (together with a uniform probability measure on these events). That is, we take each planet t and its properties, and its associated star s and its properties, as the single event { ( t , s ) } which gives us the values of our random variables. Each such event is distinct as an ev ent from every other; this is the nature of a simple event space. So in some sense there are individual stars; the concept that is missing from this space is that of different planets sharing an individual star. To put it another way: if we take T + as our complete probabilistic model, we are in effect assuming that e very star has just one planet .
 At least, it is clear that the model T + is consistent with such an assumption. Furthermore, I cannot see any way of generating this model under a weaker assumption. 3.2. Final comment None of the above problems arise if X and Y are initially defined on the same event space X  in this case Model A and Eq. (1) go together perfectly well. I believe this is the situation most theorists have in mind when they automatically assume Eq. (1). I also believe this assumption is dangerous.

In the next section, we consider the IR case. 4. Queries and documents: The cross product structure The structure of the ST e xample is not uncommon, but it is not the same as the query/ document/relevance case. We now explore some aspects of this case.

We start with the set of all queries Q .A s with stars, this is the set of all actual queries, representing information needs, not the set of all values of some random variable. We may define one or more random variables on this set, including (following Lafferty) the text of the query. Similarly we have a set D of documents. Ignoring relevance for the moment, queries and documents have at first glance no logical relationship. What this means is that we can pair any document with any query. The logical structure of this space ( QD )isa cross product of the two individual spaces Q and D .

In this case, there is a simple and fairly obvious probability measure on the space, namely one that is uniform over pairs ( q , d )  X  Q  X  D .W e refer to the probabilistic event space defined by this measure over this set of events as QD 0 ; the cross product on its own, without a probability measure, we denote QD on its own. In the probabilistic event space QD 0 , each pair is regarded as a single event, unrelated to any other, and every pair has the same probability.

It might be assumed that this uniform probability measure on pairs ( QD 0 )i si n some sense equivalent to treating the two separate spaces Q and D uniformly. However, this is not the case (or at least, such equivalence has severe limitations). A consequence of choosing the full space QD ,i n the same way that T + loses part of the structure of ST . Consider the following structural aspects: ON EVENT SPACES AND PROBABILISTIC MODELS 325  X  involving this same query with any document (and vice-versa); QD 0 has no such striped character.  X  X n QD ev ery pair has one set of q -siblings (all the pairs sharing the same query-event) and another set of d -siblings; there are no siblings in QD 0 .  X  the question  X  X hat can we say probabilistically about a query, if we know something about two of the pairs to which it belongs? X  has meaning in QD ,b ut none in QD 0 .  X  the concept of an individual query or document is apparently meaningless in QD 0 (but see the following section). 4.1. Individuality of documents and queries If we take QD 0 as our complete probabilistic model of the query-document situation, we are assuming a uniform space of unit events which are query-document pairs. Every such ev ent is distinct, and there is no concept that two such events may share the same individual query event (say). This is equivalent to assuming that every document (individual document ev ent) has exactly one query and every query has exactly one document. Note that this is independent of the relevance variable, which we have not yet introduced. 4.2. Random variables We may define as random variables in the space of query-document pairs the text of the query and the text of the document. However, to be strictly accurate, we must acknowledge that (for example) the random variable which is the text of the query, defined on the event space of all queries, is different from the random variable which is the text of the query, defined on the event space of all query-document pairs. Query-siblings in QD share the same query event and therefore necessarily the same query-text. No such relationship can exist in
QD Thus by reinterpreting the query-text variable as a random variable in QD 0 ,weare at the same time changing its nature significantly.

These random variables will be denoted Q and D respectively. This bare notation will apply to their respective natural event spaces Q and D ; when they are reinterpreted for QD 0 they will be denoted Q 0 and D 0 respectively.

A binary relevance variable may be defined as a random variable on the space of individual of the document naturally reside there, we have to be careful about models involving all three variables. 4.3. Samples If we were to sample query-document pairs, the resulting sample would have the character-istics of QD 0 .O n the other hand, if we were to sample queries and documents separately, 326 ROBERTSON and then take all the resulting pairs, we would have a space with all the above character-istics which QD 0 lacks (stripes, siblings, etc.). (This is close to what we actually do in e xperiments X  X or the very good reason that it preserves aspects of the structure of the full space QD in which we are interested.) This is a perfectly good form of sampling, but one which is simply not described by the probabilistic event space QD 0 .

We might consider constructing a composite space for a probabilistic model from a uniform probability distribution on queries and a separate uniform probability distribution on documents. However, this would not constitute a single probabilistic event space in the usual sense. Can we define a single probabilistic event space which preserves any of the above aspects? As with the ST e xample, it is not possible to find one which preserves ev erything, but different spaces preserve different things.

In the next section, we look at specific models and their apparent assumptions about event spaces. 5. Possible event spaces for IR 5.1. The event space of the RSJ model The RSJ model (Robertson and Sparck Jones 1976) is formulated for a single query. All probabilities are about documents in relation to this single query. We can thus see the event space as the space of documents (with a uniform prior distribution); but this event space is reinterpreted for each query. In terms of the discussion above, we have q -siblings as an implicit part of the model; however, the model cannot see d -siblings. The model thus assumes that there is just one query for every document but not vice versa. In effect, the document collection is reinvented for every query. This means that we can learn about the specific query (relevance feedback in the usual sense), but not about the specific document ove r successive queries. 5.2. The event space of the simple language model This is a little more difficult to see. Since the language model expresses a probability of a query given a document, it is tempting to see it as the dual of the RSJ model. This would document. This would be consistent with the discussion in Robertson et al. (1982), and w ould make the language model equivalent to the original probabilistic IR model of Maron and Kuhns (1960).

However, it is clear that this is not the interpretation placed on the language model by its proponents. The language model is commonly used to derive a score by which documents interpretation of the event space, the scores cannot be comparable, since they come from probability distributions in different event spaces.
 model. Possible solutions would be QD 0 or that proposed by Lafferty and Zhai. Either ON EVENT SPACES AND PROBABILISTIC MODELS 327 of these would imply that the simple language model is not capable of supporting per-query-event relevance feedback (that is, relevance feedback in the usual sense), though it would support relevance feedback across all queries (from different users) sharing the same text. 5.3. The Lafferty/Zhai model The model proposed by Lafferty and Zhai (2003) starts from a further simplification of QD 0 . They consider first the cross-product of values of Q and D (i.e. the texts as above), not of individual events, with a uniform probability distribution on the pairs in this cross-product. However, they now need to avoid the assumption that relevance is completely determined by the texts of the query and the document (this would imply that any two people who ask the same question and see the same document will make the same relevance judgement). To av oid this assumption, they need to introduce the binary relevance value as a component of of the random variables Q 0 , D 0 , R . But the probability distribution is no longer uniform is uniform over the resulting space of { ( q , d ) } pairs.

One consequence of this choice of space is that replicated queries (multiple query-events with the same text) are regarded as having the same probability, irrespective of their fre-RSJ approach is reasonable: all comparisons which the model is intended to allow are be-tween documents for the same query. However, it would be important for inter-query-event feedback.

Despite these qualifications, in many respects the Lafferty/Zhai model seems to be similar to
QD ev ents). In this space, it is not possible to distinguish between query-document pairs which share the same query text because they share the same query-event, and those which share the same query text by accident (because a sampling or generation process has happened to throw up the same value). The space cannot therefore have any of the structural character-istics of QD discussed in Section 4 above (striping, siblings etc.). Thus it seems to assume implicitly with QD 0 that for every document-event there is exactly one query-event and vice v ersa. The assumption is implicit because it is not possible to express either this assumption or its negation in terms of the event space, but it is required because of the absence of structural characteristics.

The assumption of a one-to-one relationship between document and query events is even stronger than the assumption attributed to the simple language model earlier, that each query has only one relevant document.
 The version of RSJ which Lafferty and Zhai derive from their model is a special case of RSJ, since the assumption that each query has just one document is not necessary for RSJ. Therefore the conclusion that RSJ and the simple language model are equivalent is not a v alid general inference from this model. 328 ROBERTSON 6. Conclusions The discussion of Model A and Eq. (1) showed that it is necessary to consider the structure of the event space when constructing a probabilistic model. Although Eq. (1) is valid for a simple event space, it may not be valid for one with a non-trivial structure. In fact an ev ent space may be of such structural complexity that a single probabilistic model (based on a single event space with a single probability measure) would be unable to capture all important statistical knowledge about it.

The information retrieval case involving queries, documents and relevance judgements is a case in point. Properties of queries (such as their texts) belong with queries; properties of documents belong with documents; and relevance belongs in the space of query-document pairs. Important elements of this structure are lost if we consider only the space of query-document pairs.

In this context, the traditional probabilistic model of IR, as represented by RSJ, is seen to have peculiarities and limitations. But it cannot be adequately represented in terms of a simple event space of query-document pairs, and is not equivalent to the simple language model. It is difficult to see what should be an appropriate event space for the language modelling approach to IR. Furthermore, the event space issue is at the heart of comparisons of different probabilistic approaches to IR; if two different models have different assumptions about event spaces, it may not be possible to define a single event space in which they both fit and within which they could be compared.
 Notes References ON EVENT SPACES AND PROBABILISTIC MODELS 329
