 measurements as well as product gaps are used to target customers for specific offers. The current approach, which has widespread use, relies on predictive response models to target customers for offers. These models accurately estimate the probability that a customer will respond to a specific can significantly increase the response rate to a product offering. However, simply knowing a customer's probability of responding to a particular offer is not enough when a company has several products to promote and other business constraints to consider in its marketing planning. 
Marketing departments also face the problem of knowing which product to offer to a customer, not just which customer to offer a product. In practice, many ad hoe rules are used. Prioritization rules based on response rates or estimated expected profitability measures have been used; business rules to prioritize products that can be marketed are sometimes used; and product response models to select customers for a particular campaign are also used. One approach that is easily implemented but, for reasons outlined later, may not produce optimal customer contact plans relies on a measure of expected offer profitability (the estimated probability of response multiplied by the profit given customer response less direct costs) to choose which products to offer customers. However, a shortcoming of this approach is its inability to effectively handle complex constraints on the customer contact plan. 
Database marketing departments face several types of business constraints. Typically, there are 
These are a sample of the constraints that marketing departments must meet when executing a campaign. Ad hoc approaches are also typically used in an attempt to meet these constraints. 
The opportunity costs of the business constraints are generally not known. Constraints are usually negotiated between marketing, product lines and delivery channel management. If the cost of a constraint was known, then the company could choose to tighten or to relax the constraint by removing or adding more resources. For example, channel capacity could be increased if it were known that there was a significant return on the investment by doing so. Knowledge of the opportunity costs could help evaluate these management decisions. Applications of this will be discussed in the "STRATEGIC USAGES" section of this article. 
Ultimately, the database marketer needs a concrete framework to effectively act on "the right product to the right customer at the right time" mantra. The approach we take is to transform the database-marketing problem into an optimization problem that is designed to generate the maximum incremental profit from a limited amount of resources subject to the necessary business constraints. This paper will describe an actionable framework that will satisfy this business problem. 
Although it is not practical to solve problems formulated in this ideal way, it is possible to approximate the ideal formulation and arrive at a formulation that is practical to solve. There are numerous ways to approach this approximation; one approach is to sample from the customer base and use that sample as representative for the optimization. Another approach (and the one that we take) is to aggregate customers based on the coefficients r// in the ideal formulation. Aggregation can be considered natural in this setting particularly when we understand that much of the data is consistent and estimated. For example, the cost data c X  are most likely to be consistent across customers for a given product. Similarly, the estimated expected profit re is most likely the result of data mining techniques such as predictive response models. The implementation of this framework is loosely coupled to the chosen form of the predictive response models. As long as the customer/offer specific response rate is represented as a probability, the proposed framework can handle it. Scotiabank uses standard, accepted statistical and data mining approaches to obtain these estimates. 
The aggregation process we use involves conversion of the raw data into a form that can be used naturally in a linear programming optimization model. The key is to cluster the raw data rq and use the clusters as the aggregate. Unlike the usual use of clustering, the purpose here is not the identification of customer segments or to differentiate groups of customers, but to aggregate customers into similar groups. This is an important distinction to keep in mind since clustering is most frequently used to distinguish, not to aggregate. If the clusters are internally consistent, then the cluster centroids can be used as representative of the data for all the customers within a single cluster. 
This aggregation enables the problem to be reformulated as a linear program so that rather than assigning offers to individual customers, as the ideal integer program does, the program identifies proportions within each cluster for each product offer. 
This can be accomplished with similar constraints to those of the ideal formulation. Moreover, the linear program is much smaller and much easier to solve. Note however, the solution may require that multiple products are offered to proportions of customers within a single cluster. When that happens, a new problem is defined that is a simple assignment problem at the level of the cluster, where multiple offers are to be assigned within the cluster, and it is relatively easy to solve. 
It should also be noted that preliminary experiments solving the approximation with varying numbers clusters indicate that as the number of clusters increases the value of the objective quickly rises then slowly converges to the integer relaxed solution. 
Further study is needed to identify a good number of clusters that work in a "typical" setting. 
Consider the following variables defining raw data as input into the solution algorithm. Let y/j be the number of customers in cluster i that are offered product j; let r'ii be the estimated expected profit given that customer in cluster i is offered of product j; let R be the corporate hurdle rate. Then, a very simplified version of the problem can be expressed as finding the Yii that satisfy 
The expected incremental profit of a specific offer to a customer is an estimate based on response models and detailed product profitability calculations. These response models are used to estimate the probability that a customer will accept a specific offer. Scotiabank's data warehouse has detailed account level profitability calculations for all of its products X  This profitability information is used to estimate the near term incremental profit given that the customer accepts the specific offer. Once a specific offer is made to a customer there are two possible outcomes: the customer can accept or reject the offer. 
Using the offer specific response models the probability of both states is known for each customer. The incremental profit for both states is also known; it is zero if the customer rejects the offer and the mean near-term profitability for new accounts of the specific type if the offer is accepted X  With this information, the expected incremental profit of the offer can be calculated for each customer/offer combination. The cost of making each offer is also known and is largely dependent on the channel through which the offer is made. 
Scotiabank has several distribution channels through which campaigns can be executed. The main channels for direct marketing are direct mail, retail branch centres and call centres. 
For this example we assume that leads sent to the branch officers and call centres are follow-ups from a direct mail piece and that offers designated as direct mail are direct mail only. 
The use of the branch and call centres for follow-ups has been shown to have a positive effect on the probability of response to the offer when compared to direct mail alone X  Of course, the lead delivery costs vary with the channel used. In this example we have used costs per lead of $3.00, $1.50 and $1.00 for the branch, call centre and direct mail only channels respectively X  
Several practical issues surround the campaign execution process that affects the customer/offer selection process, for this application to be acceptable for implementation these business constraints must be maintained. The following business rules have been translated into constraints that can be applied to the optimization model:  X  Campaign costs cannot exceed $1 million.  X  The campaign must have a return on investment of at least  X  The branch and call centre channels have a certain capacity  X  Product offer minimums are also required to satisfy  X  Cannot offer products to customers who already have that 
The Constraint Report summarizes the constraints applied to the problem as well as outlines the chosen level and marginal costs associated with each constraint. 
The last line of the Constraint Report in Figure 3 shows that the objective function, expected profit, was maximized at $3.58 million from an expenditure of $1 million. This results in a 258% return on investment for the campaign. The first two lines in Figure 3, Branch Capacity and Call 
Center Capacity, summarize the results of the branch and call centre capacity constraints respectively. The branch capacity for follow-up contacts was limited to 250,000 and the call centre to 500,000. In the solution, only 2,180 contacts were assigned to the branch, and 202,258 to the call centre, for follow-up calls. This low quantity of follow-up contacts, at either the branch or the call centre, is due to the conservative estimate of the increased response rates resulting from the follow-up and the significantly higher cost, $3.00 for branch and $1.50 for call centre, as compared to direct mail only, $ 1.00. its capacity. This means that for campaigns with a budget less than $1,500,000 there is excess capacity in this channel and its value is lost. The additional $500,000 expenditure results in an additional $670,000 return with a 34% ROI and no excess branch capacity. 
The shortcomings of this approach can be broadly classified into two categories: business and technical. From a business perspective there are three perceived shortcomings of this solution. These shortcomings are related to the required inputs to the solution, changes in the types of campaign design decisions, and post analysis, which are performed by the business user. From a technical perspective there are two general shortcomings of this approach. The first is related to the constraints, and the second is related to the acceptable problem size. 
The approach requires as an input the expected incremental profit associated with each offer and customer combination. 
Fundamentally this implies the creation, and maintenance, of offer specific probability of response models and detailed profitability measurements. Both of these inputs require ongoing maintenance and enhancement, as the marketplace is ever changing. This requirement does not seem to be too onerous as most organizations that would consider implementing this solution are likely already are producing these inputs. 
The types of decisions made by business users will be altered with the adoption of this approach. The business users will be making decisions that affect the objective function and constraints but not directly about how many offers to make of each type or through which distribution channel. At first the business users might resist this solution, as the decisions that are being made by the business are more abstract than those made during the business as usual campaign design process. Although the business users are making more abstract decisions about campaign design, they are actually gaining more effective control over the campaign. Thus the successful adoption of this process would likely involve some amount of business user education with respect to the design of the optimization problem. 
The solution was designed to explicitly maximize the expected incremental profitability from running a campaign, not to maximize the overall response rate of the campaign. For instance, a customer might have a higher estimated response probability to a low rate credit card offer than a high rate card. 
However, the profitability given offer acceptance could be substantially higher for the high rate card. If the goal were to maximize the response rate, then the low rate card would be offered. Whereas, if the goal were to maximize profitability then the offer with the greatest expected profitability would be made. This is only a shortcoming in the sense that business users' expectations have to be managed as campaign response rates are more easily and quickly measured than is campaign profitability. 
As this solution was developed in a linear programming framework the constraints must be expressed as linear functions of the choice variables, A couple of examples of plausible 
