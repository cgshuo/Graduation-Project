 Information retrieval process on the p2p networks has been performed by propagating a certain message containing a certain queries to neighbor peers and their neighbors. We assume that the queries for interactions between peers (from source peer to desti-nation peer) are simply represented as a set of concepts derived from the ontology of source peer. For high accessibility, the queries can be transformed into the concepts of destination peer ontology. The concepts in th e original query can be replaced to the cor-respondent concepts resulting from ontology alignment between p eer ontologies. More importantly, we propose a novel meas urement of seman tic centrality ( SC ), which ex-presses the power of controlling semantic information on semantic p2p network, and show that it is applied to search for the most proper peers for concept-based query transformation.

Thereby, in this study, we introduce a three-layered structure 1 made of superposed networks that are assumed to be strongly linked: Social layer relating peers (or people) on the basis of common interest; Ontology layer relating ontologies on the basis of explicit import relationships or Concept layer relating concepts on the basis of explicit ontological relationships or We may call this stack of interlinked networks a semantic social space.

Generally, the networks will be characterized here as a set of objects (or nodes) and a set of relations. A network N, E 1 ,...E n is made of a set N of nodes and n sets of object pairs E i  X  N  X  N the set of relations between these nodes. These networks can express the relationships between people or many other sort of items. As usual, a path p between node e and e is a sequence of edges e 0 ,e 1 , e 1 ,e 2 , ... , e k  X  1 ,e k in which e 0 = e and e k = e . The length of a path is its number of edges (here k )andthe shortest path distance spd ( e, e ) between two nodes e and e is the length of the shortest path between them. By convention, spd ( e, e )=0 .
 Definition 1 (Distance network). A distance network N , E 1 , ... , E n is made of a set N of nodes and n sets of distance functions E i : N  X  N  X  X  X  [0 1] defining the dis-tance between nodes (so satisfying symmetr y, positiveness, minimality, and triangular inequality).
 It is clear that any network is a weighted network which attributes either 0 or 1 as a weight. The definition of social network analysis can be adapted to distance networks if each time the cardinality of a set of edges if used, it is replaced by the sum of its distances. The distance of a path is obtained by summing the distances of its edges.
In the three-layered model we design to propagate the relational information (e.g., the distance or similarity) not only within a layer but also between layers. We have pro-vided the principles for extracting similarity between concepts in different ontologies and propagating this similarity to a distance and an alignment relation between ontolo-gies. We compute semantic affinities betw een peers, so that the semantic subgroups can be discovered. By using topological features of the discovered subgroups, two centrality measurements (e.g., local and global centralities) can be obtained. Finally, these cen-tralities are applied to determine the best path on which the queries can travel in p2p network. The numerous relationships that can be found by construction of the concept layer, new relationships can be inferred between the entities. One particularly interesting re-lationship is similarity: in order to find relationship between concepts from different ontologies, identifying the entities denoting the same concept is a very important fea-ture. As a matter of fact, most of the matching algorithms use some similarity measure or distance in order to match entities.

A distance between two ontologies can be established by finding a maximal matching maximising similarity between the elements of this ontology and computing a global measure which can be further normalised: Definition 2 (Ontology distance). Given a set of ontologies N O , a set of entities N C provided with a distance function E dist C : N C  X  N C  X  X  X  [0 1] andarelation Defines : N
The resulting measure is minimal (  X  o  X  N O ,E dist O ( o, o )=0 ), but is not guarantee to be a distance unless we apply a closure with the triangular inequality.
This is the measure that is used in the OLA algorithm for deciding which alignment is available between two ontologies [2]. Ho wever, other distances can be used such as the well known single, average and multiple linkage distances.

This ontology distance introduces a new relation on the ontology layer which pro-vides a good idea of the distances between ontologies. It is, in turn, a clue of the diffi-culty to find an alignment between ontologies. It can be used for choosing to match the closest ontologies with regard to this di stance. This can help a newcomer in a commu-nity to choose the best contact point: the one with whom ease of understanding will be maximised.

It can however happen that people have similar but different ontologies. In order for them to exchange their annotations, they need to know the alignments existing within the ontology network. As the result of applying alignment algorithms, the similarity or distance on the network is the basis for many matching algorithms [2]. Manually extracted alignments can also be added to this relation.
 As a result, from concept similarity these algorithms will define a new relation E align at the ontology level.
 Definition 3 (Alignment relation). Given a set of ontologies N O , a set of entities N C provided with a relation E dist C : N C  X  N C , and a matching algorithm Match based on E
C , the alignment relation E If one has a measure of the difficulty to use an alignment or of its quality, this net-work can also be turned into a distance network on which all these measures can be performed. Of course, when an alignment exists between all the ontologies used by two peers, there is at least some chance that they can talk to each others. This can be further used in the social network.

This new relation in the ontology layer allows a new agents to choose the ontology closeness for the alignment network are those for which the benefit to align to will be the highest because they are aligned with more ontologies. In the peer-to-peer sharing application, choosing such an ontology will bring the maximum answers to queries.
This is the occasion to note the difference be tween the relations in the same network: in the ontology network, the hub ontologies for the import relation are rather complete ontologies that cover many aspects of the domains, while hub ontologies for the E align relation are those which will offer access to more answers.

Once these measures on ontologies are obtained, this distance can be further used on the social layer. As we proposed it is possible to think that people using the same ontologies should be close to each other. Th e affinity between people can be measured from the similarity between the ontology they use.
 Definition 4 (Affinity). Given a set of people N S , a set of ontologies N O provided with a distance E dist O : N O  X  N O  X  X  X  [0 1] and a relation Uses : N S  X  N O , the affinity is the similarity measure defined as Since this measure is normalised, it can be again converted to a distance measure through complementation to 1.

Introducing the distance corresponding to affinity in the social network allows to compute the affinity relationships between people with regard to their knowledge struc-ture. Bottom-up inference from C allows to find out the semantic relationships between users based on this space. Affinity measurements between people (in Equ. 1) can play a role of the strength of social tie on a semantic social network. Then, we can apply various social network analysis methods to discover meaningful patterns from the social layer S . In this study, by using cohesive subgroups (c ommunities) identification [3], the linkages on the p2p network should be re-organized to discriminate which peers are more proper to support interoperability among peers.

Basically, the interactions between peers are based on exchanging messages, includ-ing either a certain query or answer sets. To make queries understandable on hetero-geneous peers, the queries have to be transformed with referring to the corresponding peer ontologies. The peer sending queries should select some other neighbor peers to ask query transformation with their own peer ontologies.
 Definition 5 (Query). A query q can be embedded into a message p src ,p dest ,q sent from peer p src to p dest . The ontologies of two peers are denoted as o src = Use ( p src ) and o dest . The query grammar is simply given by q ::= c | X  q | q  X  q | q  X  q where c  X  Define ( o ) .
 In this study, we are interested in queries consisting of a set of concepts from the peer ontologies, so that the queries can be transformed by concept replacement strategy based on correspondences discovered by ontology alignment.
 Definition 6 (Correspondence). A set of correspondences discovered ontology align-ment process between two ontologies o i and o j is given by where rel indicates a relation between two classes (e.g., equivalence, subclass, super-class, and so on).
 ontologies o  X  and o  X  , a peer query  X  q  X  = c 1  X  c 2  X  from  X  can be transformed to  X  q
However, we have to deal with the problems;  X  what if the correspondences are not enough to transform the queries sent?  X  which peers can efficiently help this transformation process? Thereby, main scheme of our approach is to find out the best transformation path, minimizing information loss from ontology alignment process. In order to reduce in-formation loss caused by ontology mismatching during transforming queries, we can intuitively consider two heuristic criterion; i ) minimizing the number of transformations (or length of transformation path), and ii ) maximizing the semantic similarities (or corre-spondences) with neighbors. Instead of meeting these two objectives, we focus on search-ing for the most powerful peer, most likely to help them communicate with each other. 3.1 Measuring Semantic Centrality When sending a query on semantic p2p network, we need to find out which peer (more exactly, peer ontology) is most useful to transform the query for interoperability be-tween source and destination peer. Thereby, SC of each peer is measured by peer on-tology alignment. By mapping peer ontologies, consensual ontology can be built and applied to semantic community identification.

Based on the strengths of social ties E af f between pairs of peers, we can apply a non-parametric approach, e.g., nearest neighborhood method [4]. As extending [3], this task is to maximize  X  X emantic X  modularity function Q on social layer S . With the number of communities k predefined, we find out that the given peer set in a social layer S can be partitioned into a set of communities (or subgroup) G = { g 1 ,...,g k } . The users can be involved in more than one community. It means that a certain peer p in g can also be taken as one of members of g j , because the semantics in his ontology is relatively close to both consensus semantics of g i and g j . Thus, the modularity function where E af f ( p a ,p b )  X   X  af f should be considered. Thus, G ( S ) can be discovered when Q ( S ) is maximized. For computing this, in this paper, we applied an iterative k -nearest neighborhood methods. As changing k , consequently, the social layer is hierarchically re-organized.

Generally, centrality measures of a user are computed by using several features on the social network, and applied to determine the structural power. So far, in order to extract the structural information from a given social network, various measurements realize the social relationships among a set of users. Especially, the centrality can be a way of representing the geometrical power of controlling information flow among participants on p2p network.

We define two kinds of semantic centralities, with respect to the scope and the topolo-gies of communities;  X  Local semantic centrality C L , meaning the power of semantic bridging between the  X  Global semantic centrality C G , implying the power of bridging for a certain target because we are concerning only E af f ( p a ,p b )  X   X  af f and regarding them as most potential transformation paths. This is similar to the closeness centrality.
On the other hand, global SC C G of peer p  X  g i toward a certain target commu-nity g X is based on three factors; i ) the number of available transformation paths (s.t. E af f  X   X  af f ), ii ) the strength of each path E af f ,and iii ) the local SC of the peer in target community. Thus, we formulate it as three different ways; While Equ. 3 can take into account all possible paths to taget community by measuring the average centrality, Equ. 4 and Equ. 5 are focusing on only the maximum affinity path. We empirically evaluated these three different heuristic functions in Sect. 4. 3.2 Query Transformation Strategy We establish query transformation strategy in accordance with the semantic position of peers in social layer S . Query transformation between heterogeneous peers should be conducted by referring to the following strategies;  X  If the peers p and p are located in a same semantic comm unity, a set of transformation  X  If the peers p i  X  g i , p j  X  g j are in different semantic communities, a set of transfor-Thereby, the best transformation path hav e to be selected by comparing all candidate ones. In order to evaluate the proposed approach, we invited seven students and asked them to annotate a given set of images by referring to any other standard ontologies (e.g., SUMO, WordNet and ODP). While annotating the images, we could collect peer on-tologies for buildin g semantic social space. 4.1 From Peer Ontologies to Social Ties Here, we want to show the experimental results of building social semantic space by ontology alignment. They are compared with simple co-occurrence patterns be-tween the annotated images by Mika X  X  social centrality C M [8], which is formulated by C M ( U i )= on social network. The results are shown in Table 1. We found out that the number of annotated resources are barely related to the social centrality. SL annotated the least number of resources, so that his centrality also lowest among people. But, even though JE X  X  annotations were the largest one, JP has shown the most powerful centrality. 4.2 Heterogeneous Query Processing From the organized three groups g A = { JE,AZ } , g B = { JJ,JP } ,and g C = {
AS, F AK, SL } (the number of communities k =3 ), we compared the image re-sults retrieved by ten concept-based queri es generated by every peers, according to the transformation strategies. In Table 2, w e show  X  X recision X  performance, because we are emphasizing the information loss effected from query transformation. We found out that Equ. 3 has outperform the others by about 19 % and 11%.
 Semantic overlay network Various applications (Edutella, Bibster, and Oyster) for shar-ing resources on p2p network have been released. Most similarly, semantic overlay network [9] concerns query processing for i nformation sharing on p2p network, but it is based on simple keyword matching to estimate the relationships between nodes.
As another important issue, we want to carefully discuss information loss by seman-tic transformation. While equivalent correspondences (e.g., c, c , = ) are acceptable, subsumption correspondences make the transformed queries more specific, and the re-sources retrieved from peers may (possibly) show higher precision and lower recall results.

As a conclusion, in this paper, we claim a new centrality measurement for provid-ing query-based interactions on p2p network. Especially, we found out very efficient transformation path selection mechanism (e.g., Equ. 3). Moreover, by peer ontology alignment, consensus ontology has been built and applied to identify some semantic communities. We believe that it will play a role of generating semantic geometry to quantify social roles on p2p network.

