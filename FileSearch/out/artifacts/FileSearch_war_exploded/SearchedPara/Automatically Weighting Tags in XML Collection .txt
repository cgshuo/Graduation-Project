 In XML retrieval, nodes with differe nt tags play different roles in XML documents and then tags should be reflected in the relevance ranking. An automatic me thod is proposed in this paper to infer the weights of tags. We first investigate 15 features about tags, and then select five of them based on the correlations between these features and ma nual tag weights. Using these features, a tag weight assignment model, ATG, is designed. We evaluate the performance of ATG on two real data sets, IEEECS and Wikipedia from two different pe rspectives. One is to evaluate the quality of the model by measuring the correlation between weights generated by our model a nd those given by experts. The other is to test the effectiveness of the model in improving retrieval performance. Experimental results show that the tag weights generated by ATG ar e highly correlated with the manually assigned weights and th e ATG model improves retrieval effectiveness significantly. H.3.1 [ Information Storage and Retrieval ]: Content Analysis and Indexing Algorithms, Measurement, Performance XML Retrieval, Tag Weighting Model, Topic Generalization. In XML information retrieval, re levance is assessed based on the statistics about appearance of que ry terms in the XML elements, especially about the frequency of the terms, whereas the positions of the terms are usually neglected. In fact, in XML documents, tags can be used to describe th e contents of XML elements, and elements with different tags may have different implications and play different roles. Intuitively, if the same term with the same statistics appears in different el ements, they will have different influences on relevance evaluati on. For example, suppose that there is an XML-labeled electronic article collection. For query  X  xml retrieval X  , if the terms appear once in the abstract element of document A and once in reference element of document B , document A is likely to be more relevant to the given query. The reason is that the abstract of a document is more important than the references. Moreover, the se mantics of tags in XML should also be taken into consideration when the returned nodes of XML search are inferred. For example, given a query  X  John XML retrieval X  , the reference and preamble elements are all adequate to be return nodes. It is strai ghtforward to conclude that the former is more competent, because its tag is more important. From above examples, we can obs erve that to get reasonable meaningful results for the XML retrieval, we need to differentiate different elements and tags in XML documents based on their importance. This problem has been addressed by several previous works [1, 2], and effort has been made in the following steps: (1) Read the XML documents and/or document schema by experts and gain a full knowledge of the m eanings of the tags as well as their roles in the document. (2) According to the semantics of the tags, assign each element or tag a weight to quantify its importance. (3) Adjust the weights of the terms related to the tags based on the weight of tags and elements. The main disadvantages of setting tag weight manually are heavy workload, subjective interpretation and many false alarms. In this paper, we propose a nove l tag weight assignment model, ATG, based on the Average Topi c Generalization. ATG takes advantage of collection to weight tags automatically, which not only reduces heavy burden borne by experts, but also solves the problem introduced by subjec tive guess and misjudgments. The proposed model is based on the fo llowing observation that, in an XML document, if a node summarizes the major contents of the whole document, it is more impor tant in the document and has greater impact on the search results. The remainder of this paper is organized as follows. Secti on 2 introduces the procedure of feature selection. The tag weighting model ATG is proposed in Section 3. Section 4 presents the experimental results and finally Section 5 concludes the paper. We first enumerate a large set of features which have potential impact on the semantics of the ta gs. Then we construct a training set where each tag is assigned a weight between 0 and 5.0 by a group of experts. Using the trai ning set we try to discover the correlations between the features and the weights of the tags. Based on these observations, the f eatures that will be used to weight tags finally establis hed. We randomly select 250 documents out of IEEECS dataset for INEX 2005 to form a small dataset (denoted as IEEECS250) for experts. Three experts are asked to read through the documen ts, infer the meanings of the tags, and set a weight between 0 and 5.0 for each tag. The factors influencing weights of tags can be classified into two categories: the positions of tags in an XML document, and the contents of element nodes. We consider a total number of 15 feature candidates from both categories. They are: (1) AL average length of all nodes with tag t in the XML document set  X  ; (2) ANL t : ANL t is defined analogously to AL t , but the length of node e with tag t is normalized by the maximal length of all nodes occurring in the same XML document as e ; (3) ALV average level of all nodes with tag t in  X  ; (4) ANLV defined analogously to ALV t , but the node level is normalized by the maximal level of all nodes occurring in the same XML document; (5) AB t : the average number of brothers of all nodes with tag t in  X  ; (6) ANB t : ANB t is defined analogously to AB but the number of brothers of a node is normalized by the maximal number of brothers of all nodes occurring in the same XML document; (7) AC t : the average number of children of all nodes with tag t in  X  ; (8) ANC t : ANC t is defined analogously to AC t , but the number of children of a node is normalized by the maximal number of children of all nodes occuring in the same XML document; (9) AD t : the average number of descendants of all nodes with tag t in  X  ; (10) AND t analogously to AD t , but the number of descendants of a node is normalized by the maximal numbe r of descendants of all nodes occurring in the same XML document; (11) AP t : the average position of all nodes with tag t in  X  ; (12) ANP t : ANP analogously to AL t , but the node position is normalized by the maximal position of all nodes occurring in the same XML documents of  X  ; (14) ANF t : ANF t is defined analogously to AF but the frequency is normalized by the maximal frequency of all tags in the same XML document; (15) ATG t : the definition and calculation method of this feature are presented in Section 2.1. In an XML document, the content in every element is related to the document topic on some level and it can be regarded as a generalization (summary) of the entire document. It is evident that nodes tagged differently and differe nt nodes with the same tags have different gene ralization strengths. ATG t feature (Average Topic Generalization) of tag t means the average strength that all elements with tag t generalize the document it occurring, which is measured on the whole collection  X  . ATG t is defined as follows: where FR t , d is the frequency that tag t occurs in document d , 
DF is the document frequency of tag t in  X  , TG e,d generalization strength that element e generalizes document d , which is measured by the similarity between element e and the document. Clearly, the longer an element is, the more content it contains, consequentially, its simila rity to the document is higher. But a long element does not necessarily have very strong generalization ability. So, while computing TG e , d latent semantic indexing t echnique to obtain the core  X  X  concept  X  X  of documents and elements, and punish long elements while compensating short elements. where e and d are the vectors of element e and document d after singular value decomposition (SVD) process. Weight of term document d j (or element e i ), denoted as w i , j Pivoted Normalization weight (PNW) [3] as follow: where tf is the frequency of term i appearing in d length of document d j (or e i ), and avdl , N , and df correspond to the average length of the documents (or elements in a document), number of documents (or elemen ts in a document), and the number of documents (o r elements in a document) that contains term j , respectively. Parameter s in Formula (3) is set to 0.2 according to [3] in our experiments. The influence of tag features on tag weight is measured by Pearson coefficient between manual weights and tag feature values. We use statistical software SPSS v16.9 to compute correlation under  X  X  two-tailed  X  X  significance test. Among 15 features candidates, so me are strongly related to manually set weights, and appropriate to be selected as the basis of tag weighting, e.g., ATG . Some candidates, although not being noticeably correlated with manually set weight, they have strong relationships with features alread y selected, and thus should also be selected as the basis of tag weighting. According to significance test, five features are picked, TG e , d LV e , d , and FR t , d . Section 4.1 compares the correlations between manual weights and AT G weights which resp ectively generated by the other two ATG models, ATG-7F with seven features, TG Through correlation analysis, we find that the ATG feature has the strongest correlation with manua l weight compared with other 14 features. Therefore, feature ATG is employed as the core component in our tag weighting model, and we call the model ATG model. On the basis of ATG, we incorporate the effect of other selected features. Tag weight is calculated according to Formula (1) in the ATG model, where one of key stages is to define and compute the weight of term i in element e , w i , e , to get TG Now we consider more features besides element length in ATG model, and we need to alter the weight of term i below: where tf is the frequency of term i occurring in element e , r r , r LV , and r FR are the length factor, the children number factor, the level factor and the frequency factor, respectively. They are defined as follows: where AVGLG d , AVGPO d , AVGCH d , AVGLV d and AVGFR denote the average length of elements, the average position of elements, the average number of ch ildren of elements, the average level of elements, and the aver age frequency of those tags in XML document d , respectively. The constants LG  X  , LV  X  , and FR  X  are the parameters between 0 and 1 to accommodate ATG model to different kinds of collections. In this work, we use nonlinear regression method to get the constants LG  X  , PO  X  , CH  X  , LV  X  , and FR  X  in the ATG model. Let the element weight be the dependent variable, and the 5 feature values of element be independent variables. According to Formulae (2), (3), (4) and (5), element weight can be calculated by the following formula. where X 0 is calculated by Formula (2) and term weight are transformed to ) ln( 1 tf + in vector e, etc. We divide IEEECS250 collection into three groups and all elements in each group are used as a training dataset, where the element weight is set, by averag ing manual weights of all tags in the element path in our work. We use nonlinear regression function in SPSS to train ATG mode l and obtain 3 values for each constant on 3 groups of training dataset. The estimation method and loss function in nonlinear regression function are set a "sequential quadratic progra mming" and "sum of squared residuals" respectively, and all parameters to be trained are restricted to [0.05, 0.95] so that all corresponding factors can work for the ATG model. The final value of each parameter is the mean of the three values tr ained on three groups, that is,  X  =0.94, PO  X  =0.19, CH  X  =0.08, LV  X  =0.25, FR  X  = 0.05. We evaluate ATG model from two perspectives. One is the correlation comparison between AT G weight and manual weight of the tags, where higher correlati on means being more reasonable. The other one is the improvement we gain on the XML retrieval system by using the ATG model. In order to evaluate the robustness of ATG model under diffe rent datasets, we use another dataset, Wikien, which is Wiki pedia collection used in INEX 2008. Documents in Wikien are different from those in IEEECS because most of them are a bout concepts or entities. To calculate the tag weights by ATG model, 250 documents are randomly selected from IEEECS and Wikien respectively. They are denoted as IEEECS250-T and Wiki en250-T. In our experiments, those tags with document frequency below % 5  X   X  are excluded. For tags in IEEECS250-T and Wi kien250-T, tag weights are set manually by three experts whose research interests include XML retrieval, where the collections are investigated in detail by one of them, h1, and the other two, h2 a nd h3, set tag weights according to the explanation by h1. Tab. 1 s hows the correlations between tag weights set by ATG model and different experts. 
Table 1. Correlations between tag weights set by ATG model Five conclusions can be derived from Tab. 1: (1) Tag weights set by ATG model are reasonable because ATG weights and manual weights on both IEEECS250-T and Wikien250-T are  X  X  significantly correlated  X  X  . (2) ATG model is rather good in terms of robustness. Although trained by IEEECS250, the ATG model and its parameters suit both I EEECS250-T and Wikien250-T well. (3) Manual tag weights are directly impacted by how well experts understand the collection. It is apparent from Tab. 1 that correlation between h1 and ATG model is much greater than that between h2 or h3 and ATG model, where only h1 investigates both collections deeply. (4) Tag weights set manually are subjective. Tab. 1 reveals th at, whether on IEEECS250-T or Wikien250-T, the average correlati ons between tag weights set by 3 different experts are less than 0.75, which indicates there is great divergence for people to infer the importance of different tags in XML document. (5) In all these 15 candidate features taken into account, five features in ATG model are necessary and sufficient because the tag weights generated by ATG-7F with seven features and ATG-4F with four features have lower correlation with the manual tag weights in general compared to the ones generated with five features. In this set of experiments, we embed the ATG model in XML retrieval system to study the effect of the model on retrieval results. The official corpus, t opics, and evaluation methods for Ad-Hoc track in INEX 2008 are used in this section [4]. Considering the limitation of length, the evaluation results for only one task, focused retrieval, are presented in this paper. Experiments are conducted in the following steps: (1) Obtaining tag weights by a pplying ATG model (trained by IEEECS250) on Wikien250-T datasets. If the weight of a tag in Wikien is not given by ATG mode l, the weight is set to be 5% of the maximum weight. That to say, weight of the most important tag is set 20 times higher than the default value, 1. (2) Computing element weights. In an XML document, different elements with the same tag may play different roles and have different importance. In order to compute weights in a comprehensive way, we take the av erage weight of all tags in the element path, EW e , as the element weight. (3) Retrieval. In INEX 2008 Ad-H oc track, a total of 135 topics were collected, numbered from 544-678, and in this work, we use 70 of these topics which had been fully assessed by assessors. We use Indri [5], a language model based and open source search engine, which is able to process XML document, as the retrieval system. The CO queries are generated automatically from title fields of the 70 topics, where  X + X  boolean operator included in the initial topic description is not take into account, and the trailing term of  X - X  operator is excluded. Parameters in Indri are set as follows: documentLambda is set to 0.2, and stopw ords removed. To reflect the importance of each element, the original weights of every term in element e are multiplied by EW e . To compare tag weights generated by ATG model and differe nt experts, 3 systems based on Indri are used in this work, they are Indri-auto (Indri without tag weight), Indri-ATG (using tag weights set by ATG model), Indri-avgh (using average weights set by 3 experts). (4) Evaluation of retrieval performance. For the focused task, the official measure is (mean) interpolated precision at 1% recall (iP[0.01]). Tab. 2 shows the scores obtained by our three runs in focused task. For comparison, we also list the scores of three runs submitted by Ibekwe-SanJuan etc. [6], which are also based on Indri search engine and using query expansi on technologies. The number in the bracket is the rank of a run in a task in INEX 2008. Results in Tab. 2 reveal that the ATG model is helpful for the XML retrieval. Observing on the scores in Tab 4, we can draw the conclusion that Indri-ATG system, which multiplied term weight by tag weights set by ATG model, is persistently better than the Indri-auto system at all given levels of recall in focused retrieval task, where the official score iP[0.01] significantly increases from an 0.5951 to 0.6268, by 5.33%. Surp risingly, ATG weights also significantly outperform manual weights for XML retrieval on Wikien collection, where score iP[0.01] are 0.6285 and 0.6536 for Indri-avgh and Indri-ATG respectively. For documents rather than elements returned in our experime nts, the higher scores mean that those documents relevant to the given query ranked more reasonably by Indri-ATG system. For instance, top 3 relevant documents of query  X  meaning of life  X  returned by Indri-auto are 2293590.xml, 431221.xml and 648543.xml, whereas those returned by Indri-ATG are 2293590.xm l, 20347.xml and 1142439.xml, where document 2293590.xml, 431221.xml and 1142439.xml are assessed not relevant by assessors. Although both Indri-auto and Indri-ATG return 1 relevant docum ent in top 3 answers, this relevant document ranks 2 in Indr i-ATG X  X  answers but it ranks 3 in Indri-auto X  answers. Moreover, although the score rises by only about 5.33% in focused retrieval task, the growth rate is still higher than both the increase between ID92_manualQE and ID92_m anual and the one between ID92_manual and ID92_ma nual_weightingQE. Text-centric XML documents not only contain a lot of text contents, but also contain many descriptive and informative structures (tags). For the XML retrieval, it is an e ffective method to improve retrieval effectiveness by adjusting term weights using the tag weights provided that the tag weights are reasonably set. In spite of the importance of the tag weights, it is not feasible to assign weights to tags by experts because of the following reasons: (1) the method may involve a great amount of human labor which is very inefficient. (2) The method is basi cally a subjective method, and is thus not stable and robust, without the guarantee of the effectiveness. In this paper, we propose an XML tag weighting model, ATG, based on the average topic genera lization. The model considers multiple influencing factors of ta g weights, and is built around the topic generalization strength of nodes. Experiments on IEEECS and Wikipedia datasets show that, th e tag weights obtained by the ATG model is highly correlated with manual tag weights. The ATG model, trained by 250 IEEECS documents, leads to significant improvement on retrieval effectiven ess on Wikipedia collection that includes more than 0.65 million documents. Moreover, the performance of ATG model is better than manually method in respect to Ad-Hoc retrieval track on Wikipedia datasets. We thank the anonymous reviewer s for their useful comments. This work is supported by Natural Science Foundation of China (No. 60803105 and 60763001) and Scie nce &amp; Technology Project of Department of Education of Jiangxi Province (No. GJJ08508). [1] Maria Chowdhury, Alex Thomo and William W. Wadge. [2] Changxuan Wan and Yuan Lu. 2008. Structural query [3] Amit Singhal, John Choi, Donald Hindle, David Lewis and [4] Jaap Kamps, Shlomo Geva, Andrew Trotman et al. 2009. [5] Carnegie Mellon University and the University of [6] Fidelia Ibekwe-SanJuan and Eric SanJuan. 2008. Use of 
