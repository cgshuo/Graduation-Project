 This work investigates personalized social search based on the user X  X  social relations  X  search results are re-ranked ac-cording to their relations with individuals in the user X  X  social network. We study the effectiveness of several social network types for personalization: (1) Familiarity-based network of people related to the user through explicit familiarity con-nection; (2) Similarity-based network of people  X  X imilar X  to the user as reflected by their social activity; (3) Overall net-work that provides both relationship types. For comparison we also experiment with Topic-based personalization that is based on the user X  X  related terms, aggregated from several social applications.

We evaluate the contribution of the different personal-ization strategies by an off-line study and by a user sur-vey within our organization. In the off-line study we ap-ply bookmark-based evaluation, suggested recently, that ex-ploits data gathered from a social bookmarking system to evaluate personalized retrieval. In the on-line study we an-alyze the feedback of 240 employees exposed to the alter-native personalization approaches. Our main results show that both in the off-line study and in the user survey so-cial network based personalization significantly outperforms non-personalized social search. Additionally, as reflected by the user survey, all three SN-based strategies significantly outperform the Topic-based strategy.
 H.3.3 [ Information Systems ]: [Information Storage and Retrieval] [Information Search and Retrieval] Algorithms, Experimentation at IBM Haifa Research Lab.
 Personalization, Social search, Social networks
Personalizing the search process, by considering the searcher X  X  personal attributes and preferences while evaluating a query, is a great challenge that has been extensively studied in the information retrieval (IR) community but still remains a stimulating task [6]. It is of great interest since user queries are in general very short and provide an incomplete specifi-cation of individual users X  information needs. For example, searching for  X  X R X  by an information retrieval student has a completely different meaning than searching by another who is interested in infra-red radiation.

Search personalization requires the capability of modeling the users X  preferences and interests. This is usually done by tracking and aggregating users X  interaction with the sys-tem. In general, such aggregation includes users X  previous queries [31], click-through analysis [20, 12], and even eye-tracking during the search session [20]. Users X  interactions are structured into a user profile that can be utilized during search [2]. A user profile is usually employed in two main scenarios, either through personalized query expansion , i.e., adding new terms to the query and re-weighting the original query terms based on the user profile [9], or through re-ranking and filtering the search results while incorporating users X  interests accordingly [30].

However the aggregation of user interactions comprises some difficulties. First, many users consider user profiling as an activity which may violate their privacy. Users may feel uncomfortable with a system that accumulates their inter-actions and can potentially exploit that data for malicious actions such as spamming, phishing, or exposing it to the general public. Privacy issues are the main reason for new regulations enforced by many countries that put constraints on systems X  sufferance to aggregate users X  activity [23].
Second, previous user interactions do not always provide a good indication of current needs. This is especially true for new users for whom only limited personal information exists, or when user preferences evolve over time. Moreover, the benefits that can be achieved through personalization vary accross queries [33]. For some queries, different people may expect the same results, whereas for others different re-sults are expected by individuals even for identical querie s. Finally, personalized search results make justifying the r ele-vance of a specific result for a given query more difficult, as they are biased by query-independent personalized conside r-ations. Some users may be confused when receiving different results for the same query due to the fact that their profile evolved during successive submissions.
There are several alternative definitions of the concept social search [18, 7, 3]. In this work we use the notion of so-cial search to describe the search process over  X  X ocial X  dat a gathered from Web 2.0 applications, such as social book-marking systems, wikis, blogs, forums, social network site s (SNSs), and many others [7, 3]. Such a social search system represents different entity types (documents, persons, com -munities, tags) and their interrelations, and allows searc hing for all object types related to the user X  X  query.

Social search provides an ideal testbed for personaliza-tion due to the explicit user interactions through Web 2.0 tools. A user profile that is derived from user feedback such as bookmarking, rating, commenting, and blogging, pro-vides a very good indication of the user X  X  interests. Furthe r-more, user profiles that are only based on explicit public so-cial activity can be safely utilized without disrespecting the user X  X  privacy 1 . Consequently, several previous works stud-ied search personalization by profiling user interests base d on public bookmarks aggregated from a social bookmarking system [22, 27, 35, 8].

In addition, when the user X  X  social network (SN) is avail-able, the preferences of the user X  X  related people can be uti -lized to assist in obtaining the user X  X  preferences, assumi ng closely related people have similar interests. This is the m ain assumption behind collaborative filtering methods for rec-ommendation systems, when user interests and preferences are predicted based on the preferences of  X  X imilar X  persons . User similarity relationships are typically inferred thro ugh user feedback in the form of item rating. However, more recent approaches leverage implicit interest indicators [ 11], such as tags, views, or comments, as well as direct familiar-ity relationships [21], e.g., as reflected through connecti ons in SNSs. We note that we refer to social networks in their broad definition, i.e., networks of people. Connected edges may represent any type of relationship, not only explicit fa -miliarity [15].
In this work we study personalized social search in the enterprise based on the social relations of the searcher. We focus on re-ranking of search results by considering their r e-lationships to users that belong to the searcher X  X  social ne t-work. The assumption behind this personalization approach is that the preferences of other people, who are expected to have  X  X imilar X  interests as the searcher, provide a good pre -diction for the searcher X  X  preferences and can thus assist i n revealing the search results that might subjectively satis fy the searcher X  X  needs.

Personalized re-ranking of search results is done as fol-lows: given a list of (non-personalized) results retrieved for the user X  X  query, and a list of related users extracted from
For full transparency, Web 2.0 tools should better clarify t o their users that any public social data provided by them can potentially be utilized by other social software applicati ons. his/her social network, search results are re-ranked by con -sidering their relationship strength with those users. Thu s, documents that are strongly related to the user X  X  related people are boosted accordingly.

To retrieve the user X  X  social network, and the user-documen t relationship matrix, we use SaND [29], an enterprise social search system used in our organization. For each user, SaND provides related people extracted through the user X  X  SN. This is a ranked list of people, who relate to the user either through explicit familiarity connections (e.g., co-autho rship of a wiki page or a connection within an SNS), or by some kind of similarity as reflected by their social activity (e.g ., usage of the same tags or commenting on the same blog en-try). People ranking is determined according to a weighting scheme that takes into account the overall related activity between two users [15]. In addition, SaND provides for each user all related documents ( e.g., web-pages, blog entries) , each associated with relationship strength to the user. A user may relate to a document through authorship, tagging or commenting, or by being mentioned in the page X  X  content. The relative strength of each relationship type is determin ed by an appropriate weight [15].

We experiment with SN-based personalization considering three social network types: (1) Familiarity-based network, (2) Similarity-based network, and (3) Overall network that implies both relationship types. In addition to the user X  X  SN, we consider the relevance of the search results to the user X  X  topics of interest. These topics are approximated by a set of terms that are related to the user, including tags used by the user to bookmark documents, and tags used by others to bookmark that user [13]. We assume that these related terms represent the user X  X  interests, thus ca n be used to personalize the search results accordingly. We note that this assumption only holds for active taggers, or for users that were heavily tagged by others. Personalization i s achieved by promoting search results that were tagged with these user X  X  terms, either by the user or by others. We call this approach Topic-based personalization. As mentioned above, this approach has been extensively studied by pre-vious works on personalized social search which construct users X  profiles based on the tags they used for bookmark-ing [22, 27, 35]. We use it as a comparative baseline for an SN-based personalization approach for social search.
The different personalization approaches are evaluated by an off-line study and by a user survey within our organiza-tion. In the off-line study we follow the work of Xu et al. [35], and Carman et al. [8], which evaluates search personaliza-tion as follows: given a user u who bookmarked a document d with the tag t , we assume that if u will search for t he will consider d relevant for t . Thus, any triplet ( u, d, t ) given by a social bookmarking system can be used as a personal-ized query for evaluation. The higher the rank of documents tagged by u with t , while simulating u searching for t , the better the personalization method is. The main drawback of this approach is that documents that were not tagged by u are considered irrelevant  X  a weak assumption that is not necessarily true. However, predicting u  X  X  tagging behavior indicates the system X  X  personalization capability. We dis cuss the advantages and limitations of this evaluation approach in more detail in Section 4.

In the on-line study, we analyze a survey of 240 employees exposed to the different personalization approaches studie d in this work. Our main results are: (1) Personalized social search based on the user X  X  SN significantly outperforms non-personalized search. A maximal improvement was achieved by the Overall social network which integrates familiarity and similarity relations. (2) As reflected by the user survey , all three SN-based strategies significantly outperform the Topic-based strategy, which improves only slightly over no n-personalized results. (3) The integration of related terms with related people in the user profile slightly improves the search results. (4) The off-line evaluation is consistent wi th the user survey in confirming the superiority of SN-based personalization strategies, and the contribution of addit ional related terms to the SN-based user profile. However, sev-eral discrepancies between the two evaluation methods rais e concerns about its reliability in ranking alternative pers on-alization approaches.

The rest of the paper is organized as follows. Section 2 discusses related work on search personalization in genera l and in particular for social search. Section 3 discusses the different personalization approaches we study in this work. Section 4 describes the off-line experiment and the on-line survey, and the results we obtained. Section 5 concludes and raises several direction for future work.
In recent years many researchers utilize query log and click-through analysis for web search personalization. In [28], the authors combine a topic-sensitive version of PageR-ank [16] with the history of user clicks data for search result personalization. Joachims et al. [20] study clicks applica bil-ity as implicit relevance judgments. They show that users X  clicks provide a reasonably accurate evidence of their pref er-ences. Tan et al. [31] propose a language modeling approach for query history mining. Their small-scale study demon-strates significant improvement of personalized web search with a history-based language model over regular search. The user modeling approach described in [30] is based on a decision-theoretic framework to convert implicit feedba ck into a user profile that is used to re-rank search results. Agichtein et al. [2] introduce an alternative user modeling method, in which a set of rules is applied to a query log. While user models are usually targeted at search personal-ization, they could also be applied for personalized inform a-tion filtering, as was shown in [37] who analyze click history for the identification of regular users X  interests. Recent w ork of Teevan et al. [34] on X  X roupization X  shows that combining implicit user profiles from several related users has a posit ive impact on personalization effectiveness.

In addition to regular web log data, several works consider personalization using desktop data and external resources . For example, in [32] the authors index desktop information and experiment with different representations of users, doc -uments and queries for personalized web search. Chirita et al. [9] explore personalized query expansion based on users  X  desktop information. Several approaches for personalized Web search are based on global interests using the Open Directory Project (ODP) categories [24, 10, 35]. In [24] the authors map previously visited pages to ODP categories and use this mapping to build a user profile. Another work [10] proposes a personalized version of PageRank , in which a hand-picked set of preferred users X  categories are applied for result re-ranking.

Recently, new approaches for adaptive personalization fo-cus on the user task and the current activity context . There are several approaches trying to predict applicability of p er-sonalization while considering the current context of the user X  X  task on query submission [33, 12, 25].
The amount of social data is rapidly growing and has be-come a main focus of research on social search. Recent work [17] reports that in 2008 around 115 million bookmarks were available on the del.icio.us social bookmarking site. A page popularity measure, SBRank , proposed in [36], is propor-tional to a number of existing social bookmarks. Following the language modeling approach, a theoretically sound gen-erative model for social annotations is presented in [38].
Tags and other conceptual structures emerging in social systems are called folksonomies and are typically modeled as graphs. A formal model for folksonomies and ranking algo-rithms called Adapted PageRank and FolkRank are defined in [18]. FolkRank is used for the generation of personalized rankings of entities within the folksonomy and for the rec-ommendation of tags, users and resources. Lately, Bao et al. [5] propose two alternative algorithms, SocialSimRank and SocialPageRank . Both are based on social annotations and corresponding connections between pages, annotations and users. A comparative evaluation study of these algorithms and a few novel algorithms are described in [1].
Several approaches for directly or indirectly employing users X  social relations for personalization exist. A re-ra nking method presented in [27] is based on users X  tag profiles which are derived from his/her bookmarks in del.icio.us . The tags of each search result on the site are matched against the user X  X  profile. The problem of automatic user profile gener-ation is addressed in [4]. The authors investigate how accu-rate user profiles can be generated from del.icio.us data.
Another approach described by Bender at al. [7] directly exploits social relations by combining semantic and social factors in the ranking. The users, tags and documents are represented as nodes in a  X  X riendship graph X , in which edges are extracted from relationships like links, content, tagg ing and rating. Ranking is based on UserRank , an algorithm derived from the PageRank computation on the friendship graph. A document receives an extra X  X riendship X  X core when tagged by a user X  X   X  X riend X . Similarly to this approach, our work personalizes the score of a document for a specific user if it has been bookmarked, authored or commented by peo-ple related to the user, or tagged with terms related to her/him. We further analyze the value of personalization according to different relationship types, in particular fa mil-iarity and similarity.

Xu et al. [35] recently developed another personalization appraoch which uses social relations indirectly. Their Topic Adjusting algorithm is built on top of ODP data and folk-sonomies such as del.icio.us and Dogear [26]. Users X  in-terests are inferred using the topics of their tagged pages. The relationship weights in the user-page matrix are defined based on the number of user annotations assigned to a page. This work has some similarity with our approach, however, our personalization method explicitly uses familiarity an d similarity scores to model direct and indirect relations be -tween users. For evaluating the Topic Adjusting algorithm, Xu et al. introduce a new method for automatic evalua-tion of personalized search, in which the user X  X  tags are use d as queries and all documents bookmarked by this user with that tag are considered relevant. More details on automatic evaluation of personalized search based on social bookmark -ing data can be found in [8]. We adopt a similar evaluation approach for our work and complement it with a large-scale user study.
In this section we describe the social search platform used for our study, and the types of user profiles we experimented with.
IBM Lotus Connections (LC) 2 is a social software applica-tion suite for organizations that was introduced in 2007. It contains (as of version 2.0) five social software applicatio ns: profiles  X  of all employees, a social bookmarking system, a blogging service, a communities service, and activities (n ot discussed in this work). In our study we experimented with LC tools as used in our organization. Dogear[26], LC X  X  so-cial bookmarking application, allows users to store and tag their favorite web pages. Over 90% of the bookmarks are public (visible to all other users) and about half are intran et pages, while the other half are external internet pages. Do-gear includes 743,239 public bookmarks with 1,943,464 tags by 17,390 users. Blog Central [19], LC X  X  blogging system, has 16,337 blogs, 144,263 blog entries, with 69,947 users. LC X  X  communities service contains over 2,100 online com-munities, each with shared resources and discussions, with a total of over 50,000 members.

Social Networks and Discovery ( SaND ) [29], is an aggre-gation tool for information discovery and analysis over the social data gathered from all LC X  X  applications. It leverag es complex relationships between content, people and tags, an d its integrated index supports a combination of content-bas ed analysis and people-based analysis. SaND provides several social aggregation services including social search, pers onal-ized item recommendations, personalized people recommen-dations, finding social paths between people, and additiona l social network services. SaND provides social search over the social data using a unified approach [3] in which all sys-tem entities (documents, persons, groups, tags) are search -able and retrievable. As part of its analysis, SaND builds an entity-entity relationship matrix that maps a given en-tity to all related entities, weighted according to their re la-tionship strength. The entity-entity relationship streng th is composed of two types of relations: http://www-01.ibm.com/software/lotus/products/conne ctions/ Figure 1: Direct relations between entities modeled by SaND . The relative relationship strengths appear on the graph X  X  edges. Familiarity relations are col-ored red (bolded).

The overall relationship strength between two entities is determined by a linear combination of their direct and indi-rect relationship strengths. More details on score calcula tion and implementation issues are described in previous work on social network aggregation and social search [15, 3].
We experimented with three types of social networks for personalization. Each network maps a user to a list of re-lated users weighted according to their relationship stren gth. Familiarity between two individuals is considered accordi ng to indicators that they know each other [15]. A direct fa-miliarity relation exist if both persons are marked as frien ds in one of the enterprise SNSs, or when one is the direct-manger/employee of the other. In addition a person is fa-miliar with those s/he tagged, but not vice versa. Indirect familiarity relations are defined when the two persons are both authors of the same paper, patent, or wiki-page, or when both have a common manager (team members).
 In order to extract the user X  X  Familiarity network, we use SaND to extract all the user X  X  related people and to filter out all non-familiar people which do not obey the above con-straints. In addition, the relationship strength between t he two is modified to be based on familiar relations only. More details on the familiarity relationships and the calculati on of the familiarity score can be found in [14].
Currently, only indirect relations of level two are consid-ered, i.e., two-length path in the entity graph. However, th e model can easily be extended to support indirect relations of any level . Similarity between two individuals is considered accordin g to common activity in the context of LC X  X  social software: co-usage of the same tag; co-tagging of the same document; co-membership of the same community, or co-commenting on the same blog entry. Similarly to the familiarity case, in order to extract the user X  X  Similarity network, we use SaND to extract all related people and retrieve (and re-weight) only people which obey the above constraints.
 Besides the Familiarity and Similarity networks, we also ex -amine the user X  X  Overall social network, which contain all related persons according to the full relationship model. The user X  X  topics of interests are represented by a set of terms that are closely related to the user. Directly related terms are tags used by the user to tag documents and other people, and tags used by others to tag that user. Indirectly related terms are those that are related to the user through other entities (e.g. all tags of a document bookmarked by the user). The user X  X  top related terms retrieved by SaND serve as the user X  X  Topic-based profile.
A user profile is constructed on the fly when a person logs into the system. For a user u , SaND retrieves N ( u )  X  the ranked list of users related to u , and T ( u )  X  the ranked list of related terms. These two lists are then used as the user profile to personalize the search results for all user X  X  quer ies during the search session.

Given the user profile, P ( u ) = ( N ( u ) , T ( u )), the search results are re-ranked as follows: S ( q, e | P ( u )) =  X S np ( q, e ) + (1  X   X  )[  X  X
S p ( q, e | P ( u )) is the personalized score of entity e to query q given the profile of user u . S np ( q, e ) is the non-personalized SaND score of e to q . Since we only re-weight the search re-sults, only entities with positive score are considered. w ( u, v ) and w ( u, t ) are the relationship strength of user v and term t to u , as given by the user profile. Similarly, w ( v, e ) and w ( t, e ) are the relationship strength between v and t to en-tity e , as given by SaND .

Thus, an entity is first scored by SaND according to its non-personalized scoring mechanism, and then the entity score is modified according to its relationship strength wit h users and terms in the user profile.

The equation has several parameters that control the amount of personalization. First N ( u ) is determined according to the SN type used for personalization (Familiarity, Similar -ity, Overall). Second, the number of users and terms in the profile are configurable. Third, the parameter  X  controls the relative weight of the personalization score compared to th e original non-personalized score, and  X  controls the relative weight between people and terms for personalization. In the next section we describe several experiments we conducted with some of these controllable parameters.
In this section we describe the experimental methodology used to evaluate the SN-based personalization approach, th e results of an off-line study using a bookmark-based evalua-tion, and a user survey we conducted in our organization.
Evaluating personalized search is a great challenge since relevance judgments can only be assessed by the searchers themselves  X  only the users can subjectively judge whether a specific result answers their personal need. Therefore, ex -isting IR evaluation benchmarks based on judged queries, each associated with a set of relevant results objectively a s-sessed by experts, cannot be utilized for personalized sear ch evaluation.

Existing evaluation approaches for personalized search ar e often based on a user study, where participants are asked to judge the search results for their personal queries in a per-sonal manner, thus alternative personalization technique s can be comparatively analyzed. However, appropriate user studies with a reasonable number of participants are very expensive to accomplish, therefore, such studies are uncom -mon and often limited to a small and a biased sample. Al-ternatively, users X  implicit feedback such as clicking on a specific result (while un-clicking other results), can be in -terpreted as personal relevance judgment. Clicks, however , are not necessarily the best indicators for user satisfacti on with results -clicking on a result does not necessarily mean it is relevant, while un-clicking does not always imply irre l-evance. Furthermore, such evaluation is only feasible for a live system with enough users who use it on a regular basis.
Social search applications provide richer sources for user feedback that can be used for regular personalized search evaluation. User feedback such as rating, tagging, and com-menting, indicates the user X  X  interest in a specific documen t. Recently, several works utilized data from Delicious to eval-uate personalized search methods [35, 8]. In this approach, any bookmark ( u, d, t ) which represents a user u who book-marked a document d by a tag t , can be used as a test query for personalized search evaluation. The main assumption behind is that any document tagged by u with t (including d ) is considered relevant for the personalized query ( u, t ) (i.e. u submits the query t ).

Therefore, the bookmark triplets ( u, d, t ) extracted from a social bookmarking system provide an almost unlimited source of personalized test queries to be used for personal-ized search evaluation. Given the bookmark ( u, d, t ), a per-sonalized search system is evaluated according to its abili ty to highly rank the corresponding documents. A good per-sonalization policy is expected to differentiate between tw o while serving ( u 1 , t ), and d 2 for the query ( u 2 , t ). There is a delicate issue with bookmark-based evaluation. The search system is already  X  X ware of X  the association be-tween d and t , as realized by u , hence this information can be exploited for over tuning. For example, given the query ( u, d, t ), a personalization approach that retrieves only the documents tagged by u with t will inevitably outperforms other personalization alternatives, since any other docum ent is considered irrelevant. However, this X  X ver-tunned X  X er son-alization policy is restricted to queries that were previou sly used as tags by the user, hence it will totally fail for other personalized queries. This limitation cannot be disclosed by the bookmark-based evaluation methodology.

In order to eliminate the dependency between personal-ization and evaluation, and to simulate the personal query ( u, d, t ) with no prior knowledge on the user X  X  association between t and d , we have to mask u bookmarking of d . Masking is done as follows: for each personal query ( u, d, t ), we first  X  X ide X  that bookmark from the search system before handling the query ( u, t ). The system is instructed as this specific bookmarking has never happened  X  d content is not enriched by the tag t (unless d was tagged with t by others), t is taken out from the user profile (unless t relations with u is derived from other resources) and u  X  X  relations with other entities that are based on this bookmark are modified ac-cordingly. This masking guarantees that personalization i s evaluated without any prior knowledge on u relations with d and t .

Note that personalized methods that better predict their users X  interests, as reflected by their tagging activity, wi ll be favored by that evaluation methodology. This is definitely one of the main characteristics that are expected from a per-sonalized search system, hence such evaluation can success -fully prioritize alternative personalization strategies . How-ever, the bookmark-based evaluation approach still suffers form the incompleteness problem  X  not all documents tagged by u with t are relevant for u while searching for t , and not all documents not tagged by u with t are necessarily irrelevant. This limitation is partially handled by the hug e amount of personalized queries available for evaluation. B ut we believe that conclusions based on such evaluation should be supported by alternative evaluation methods -an ap-proach that was taken by us in this work. We first eval-uate and tune our personalized social search system with the bookmark-based evaluation, using Dogear X  X  bookmarks as personalized queries, and confirm our findings with an extensive user survey based on 240 participants that subjec -tively judge the results for their 577 personal queries. To t he best of our knowledge, this is the first study that (1) elim-inates the dependency between personalization and evalu-ation that inherently exists in bookmark-based evaluation ; (2) validates the bookmark-based evaluation methodology for personalized search by comparing its findings with the results of an independent user survey.
We experimented with several personalization methods that are based on the the user X  X  social network, and on the set of the user X  X  topics. A user profile, P ( u ) = ( N ( u ) , T ( u )), is based on N ( u ), a ranked list of the user X  X  related people, as given by the user X  X  SN, and T ( u ), a ranked list of the user X  X  related terms. The user profile is constructed on the fly while the user logs into system and is used to personalize (re-rank) the search results by Equation 1 throughout the search session 4 .
In the off-line study we used Dogear X  X  bookmarks as per-sonal queries. For each personalization method, we ran-
In the off-line study, since a bookmark is hidden prior to handling the personal query, we re-construct the user profil e after bookmark masking and before query submission, to guarantee that the user profile has no dependency on the tested bookmark. domly selected 2000 bookmarks, and for each bookmark ( u, d, t ) we masked its existence from the search index and the user profile, to completely hide the relations between u , d , and t . Then, t was submitted as a query to SaND and 1000 results (documents) were retrieved. Other retrieved e n-tities such as persons and tags were ignored, as they are not suitable for evaluation by the off-line approach. The search results were re-ranked using u  X  X  profile, and were evaluated by measuring average-precision (AP) and reciprocal rank (RR), while considering all documents tagged by u with t as relevant answers. After completion, the hidden bookmark was returned to the collection before processing the next tested bookmark.

Note that due to the masking process, d will be retrieved for t only when t appears in the original content of d , or when d was associated with t by others. The personaliza-tion methods differ in the way they re-rank d . SN-based personalization methods will advance d when it is related to at least one person in u  X  X  social network. Topic-based personalization will boost d if tagged by at least one of the terms related to u .
Table 1 shows the mean-AP (MAP) and mean-RR (MRR) results for the configurations we experimented with, settin g  X  =  X  = 0 . 5. The top rows show the results of SN-based personalization with top-5 related people and with no re-lated terms. The bottom rows show the results with top-5 people and top-5 terms.
 Table 1: Bookmark-based evaluation of personalized social search. User profile is based on the top-5 re-lated people and top-5 related terms.
 There are several interesting insights from these results. First, all personalization methods significantly outperfo rm non-personalized search (one-tailed unpaired t-test, p &lt; 0.001). The MAP of the Similarity-based strategy is almost three times higher than that of non-personalized search. Second, the Similarity-SN significantly outperforms the Familiarity and the Overall networks, and maybe surpris-ingly, the Overall-SN is slightly inferior (almost identic al) to the Familiarity-SN. This indicates that similarity rela -tions better predict the user X  preferences than familiarit y relations. We do not have good explanation to the inferi-ority of the Overall network, especially when this result is in contrast to the results of the user survey discussed in the following. We hypothesize that better integration of th e similarity and familiarity relations by SaND might result in better performance of the Overall network.

Third, Topic-based personalization with no SN data im-proves the search significantly, and outperforms the Famil-iarity and the Overall SN. Integrating the user X  X  related terms with the related people improves the search perfor-mance of all network types. The best result achieved while integrating the top-5 similar people with the top-5 related terms. In the following we further experiment with that integration task.
The size of the user profile is determined by the lists N ( u ) and T ( u ). These lists boost the search results through their relationship strengths with those related people and terms . There is a risk that adding too many people or terms to the user profile may personalize too much, disregarding new rel-evant items that have not been discovered yet by the user X  X  community. Therefore, finding an  X  X ptimal X  user profile size is an important factor that significantly affects personaliz a-tion effectiveness.

The size of N ( u ) is controlled by two parameters, max N which sets the maximum number of (top scored) related peo-ple in the profile, and  X  N which determines a threshold on the relationship score. This threshold guarantees that onl y closely related people will be part of the user profile. There -fore,  X  X ocially active X  users will have max N related people in their profile, while others may have much less. Similarly, max T and  X  T determine the number of terms in the user profile.

We experimented with max N and max T , while fixing the  X  values to 0 . 0 (i.e., each user has max N people and max terms in the profile, unless SaND retrieves fewer related peo-ple or terms for that user). Figure 2 shows the MAP for the different SN types, averaged over 2000 personal queries, while fixing the number of related people to 5 and varying the number of related terms. Similarly, in Figure 3 we fix the number of terms to 5 and vary the number of people in the profile.
 Figure 2: MAP for the different SN types, averaged over 2000 personal queries, for different number of related terms while fixing the number of related peo-ple to 5.

According to Figure 2, the maximum performance is achieved while adding 4-6 related terms to the the user profile, im-proving the MAP by 4-5% for all network types. Adding too many terms degrades the performance, even lower than with no terms at all, probably due to overstated personalization .
Figure 3 shows the performance of adding related peo-ple to a user profile with 5 related terms. We can see im-provement only while adding similar people to the profile. Maximum improvement is achieved with 3 similar people, then the performance is dropped for additional people. In contrast, familiar people constantly harm the search perfo r-mance while added to the profile. These results suggest that according to the bookmark-based evaluation, an  X  X ptimal X  Figure 3: MAP for the different SN types, averaged over 2000 personal queries, for different number of related people while fixing the number of related terms to 5. user profile should be based on a few similar people and a few related terms. However, we note that these results fit an  X  X verage user X  while it is quite clear that user pro-files should be subjectively adapted according to the user X  X  personal characteristics. For future work we intend to ex-perimenting with the  X  values, adapting the optimal profile size for each user in a personal manner.

The off-line bookmark-based evaluation can be easily ap-plied in very large scales, without any user intervention, hence it can be efficiently used for tuning the system param-eters, and to efficiently examine alternative personalizati on strategies. However, due to the limitations of this approac h, conclusions based on that evaluation should be validated by applying complementary evaluation methods.
To complement and validate the results of the off-line eval-uation, we ran a user survey in our organization, asking participants to assess the search results for their queries in a personal manner. Each participant was asked to assess two personal queries and was given the opportunity to evaluate more queries, as much as s/he likes. In order to simulate per-sonal queries, for which the user has personal information needs, we recommended the participant a set of tags s/he was tagged with in our organization X  X  people tagging appli-cation [13], to be submitted as personal queries, assuming that such tags represent interesting topics, or at least fa-miliar to the user. The participant was asked to select two terms out of the recommended tags, or alternatively submit their own (personal) queries for assessment. After comple-tion, participants were encouraged to comment on the search experience with the system.

We considered users who had at least 30 people in both their Similarity and Familiarity networks, and at least 30 related terms. We note that this sample does not represent the entire population of employees, but rather active users of the LC system, who are the target population for our search system. We sent a link to the survey with a request for par-ticipation to a random sample of 645 of these users and got a response from 240, who judged 577 personal queries (91% of the queries were personal terms suggested by us while the rest were original queries selected by the participants). O ur survey participants originated from 28 countries, spannin g over the globe and over all our organizational divisions.
Each participant that took the survey was first classified randomly into one of eight classes, each associated with a different personalization strategy; the eight strategies w e ex-perimented with are shown in Table 2. Participants were not aware of the personalization type selected for them. For each participant who took the survey, the user profile was set according to the strategy of the class s/he was associate d with, and for each user query, the search results retrieved b y SaND , which were re-ranked according to the correspond-ing user profile, included 10 top relevant pages and 10 top relevant people, each judged by the user as non-relevant, re l-evant, or highly relevant. Figure 4 shows the entrance page users obtained while taking the survey, including the terms suggested as personal queries, and the results to be judged after the query was issued. Looking at the figure, please note that most terms suggested as personal queries for this specific user are ambiguous and can be interpreted in sev-eral ways. For example, the subjective meaning of  X  X asta X  for this user is probably a code-name of a research project and not a noodle type.
 Figure 4: User survey pages. Top: the entrance page with instructions and the personal terms sug-gested for querying. Bottom: a snapshot of the re-sults page.

Most of the comments we got were very positive. One participant wrote:  X  [...] thanks for the opportunity to try out the research project! The results were quite interestin g, I found content on the topic I didn X  X  know to exist [...] X  . An-other one wrote:  X  X ...] I am eager to see the evaluation met-rics from these experiments. Such an outcome motivates to pay a lot more attention to social factors in all personalize d applications [...] X  .

The quality of search results was measured by the normal-ized discount cumulative gain (NDCG) and by precision at 10 (P@10), averaged over the set of judged queries, for each of the classes. For DCG calculation we used gains (0,1,2) for the three relevance levels respectively, and the discou nt function used was  X  log ( rank + 1). Normalization (NDCG) was done by dividing the DCG value with an ideal DCG value calculated as all results are highly relevant. For P@1 0 calculation, we considered any positive judgment as releva nt.
Table 2 shows the precision of the search results, as mea-sured by NDCG@10 and P@10, for the eight personaliza-tion strategies. The general high satisfaction from the so-cial search system is reflected by the high NDCG@10 ( &gt; 0 . 5) and P@10 ( &gt; 0 . 6) achieved in all classes.
 Table 2: User survey: The precision of the search results of the personalized search strategies, mea-sured by NDCG@10 and P@10. The Delta column shows the improvement in NDCG@10 over non-personalized search.

The main outcomes of the survey are: (1) As in the off-line study, all personalization methods outperform the non -personalization strategy. These differences are found to be significant for all strategies except for the Topic-based on e (one-tailed unpaired t-test, p &lt; 0.05). (2) A maximal im-provement was achieved by the Overall network, 16.9% im-provement in NDCG@10 without terms and 13.8% with terms. (3) The Similarity network outperforms the Familiar -ity network with and without terms, and both significantly outperform the Topic-based strategy. (4) Related terms slightly improve search effectiveness when applied alone (1 .4%), and when added to the Similarity and the Familiarity SN, in agreement with the off-line study; however, they decrease the performance of the Overall network. This result in-dicates that optimal integration between SN and personal terms should be further studied for each of the networks separately, as currently system parameters are commonly set to all user profile types.

There are several substantial differences between the two evaluation methods. Both methods confirm the significant contribution of personalization for social search, and the su-periority of using similar people over familiar people in th e user profile. However, the Overall network, the  X  X hining star X  of the user survey, performs the worst according to the off-line study. Similarly, the topic-based strategy, wi th marginal contribution in the survey, perform very well in the off-line study. In Section 5 we discuss possible reasons for these discrepancies and whether the conclusions derive d from the bookmark-based evaluation have any value at all.
Table 3 shows the distribution of the relevant people re-trieved by the different SN based strategies (accumulating all positive judgments as relevant). On average, people re-trieved by the Familiarity network were judged as more rel-evant for the user queries compared to to other networks and to the non-personalized search. We can clearly see an increase in the percent of relevant people while moving from non-personalized, to Overall, Similarity, Familiarity, r espec-tively. However, this result is likely to be affected by the natural bias of users to people they are familiar with. Table 3: The relevance distribution of retrieved peo-ple for the different SN types.

Several participants mentioned the difficulty in judging the relevance of people to their query, mostly because of unfamiliarity. Someone wrote X   X ...It would be good to include more information on the people that are shown on the results, like their Job Role/Title. This would help to identify on a first look their relevance or not. X  .

Actually, participants had the opportunity to open the home-page created by SaND for each retrieved person, view-ing his role, communities, list of publications, blogs, and more. However, it seems that judging unfamiliar people X  X  relevancy is more difficult than judging unfamiliar docu-ments X  relevancy. Indeed, 21% of the retrieved people were not judged by the participants, relative to 9% only of re-trieved pages. We therefore plan for future work to examine personalization of people search in more detail, e.g., by in -specting user behavior on a live social search engine.
In this work we investigated personalized social search based on the user X  X  social relations. We studied the effectiv e-ness of several social network types for personalization, a nd evaluated their contribution by an off-line study and by a user survey within our organization. Our results showed that according to both evaluations, social network based personalization significantly outperforms non-personali zed social search. In addition, as reflected in our user survey, all three SN-based strategies significantly outperform the Topic-based strategy, which improves only slightly over no n-personalized results.

The bookmark-based evaluation for search personalization has the advantage that it can be easily applied in very large scales, without any user intervention. To validate its out-comes we compared the results we got from the off-line study with those of the user survey. Our results show that there are several substantial discrepancies between the two eval u-ation methods. In particular, according to the off-line stud y, the Overall network is inferior to the Similarity and Famil-iarity networks, and to the Topic-based strategy, while in contrast, according to the user survey, the Overall network performs the best.

These disagreements are not unexpected  X  there are sev-eral differences between the two evaluation approaches. In the off-line study, participants were randomly selected fro m all Dogear users, while in the on-line study we focused on heavy users of the LC system. In addition, off-line queries were based on the user X  X  tags while on-line queries were based on the tags the users were tagged with. Furthermore, the bookmark-based evaluation method predicts the user X  X  bookmarking activity while the on-line survey measures di-rectly the users X  personalized relevance judgments. As a re -sult, the off-line approach discriminates against authored or commented documents, and biases tagged documents, while this discrimination does not exist in the user survey.
The extreme success of the Similarity network in the off-line study, in contrast to its comparable performance with other networks in the user-survey, can be explained by the fact that social activity of similar people better predicts the user X  X  social activity than the activity of familiar peo -ple. This also interprets the difference in performance of the topic-based strategy, which performs reasonably well in the off-line study while exhibiting inferior effectivenes s compared to SNs in the user survey. It seems that simi-lar related people and related terms are strongly associate d with the tested bookmark X  X  document, therefore, in the off-line run, this document is advanced even after bookmark masking. In contrast, according to the survey results, inte r-esting/relevant documents are associated with similar and familiar related people much more than with related terms.
The disagreements between the bookmark-based evalua-tion and the user survey put a question-mark on its reliabil-ity for personalized search evaluation, especially for ran king different personalization approaches. Considering the sur vey results as ground truth, some of the  X  X onclusions X  derived from the off-line evaluation were proved to be wrong. How-ever, we believe that it might have some benefits, mostly for parameter tuning while fixing the personalization strategy . For example, finding a good combination of related people and terms in the user profile, or searching for appropriate  X  and  X  for Equation 1. In any way, it seems that conclu-sions based on bookmark-based evaluation should better be confirmed by an independent evaluation method.

In this work we mostly focused on document retrieval, while abandoning other retrievable entities such as people , tags, and groups. Our user-survey evaluated people search quality, and indeed showed the superiority of Familiarity network over other networks for personalized people search . However, this results should be confirmed as many retrieved people were not judged due to participants X  unfamiliarity (20%). In addition, we assume that familiar people were favored by participants in their judgments over non-famili ar ones. Therefore, reducing that bias is needed in order to objectively evaluate personalized people search. However , we believe that people search will benefit from emphasizing familiar people for the searcher, as these people are the mos t reasonable sources of additional information, as expected from people search results.

As previous work showed not all queries should be per-sonalized [33]. We hypothesize that this is also true for per -sonalized social search. In this work we simulated personal queries with tags used for bookmarking by the user, in the off-line study, and with tags the user was tagged with, in the user survey. In both cases these types of personal queries are limited and do not cover the whole spectrum of possible personal queries, but rather a subset that is likely to ben-efit from personalization and which can be judged by the methods in use. For future work we would like to expand our study to other types of personal queries, to better un-derstand what types of queries should be personalized, and for the long run, to enhance our personalized social search system to be able to decide on-line, per each user and query pair, the most suitable search policy.
Our personalization approach is extremely simple and is based on re-ranking the search results based on their rela-tionship strength with the user X  X  related people and topics . The high effectiveness of this approach for social search im-plies that the social relations used for personalization, a s derived from the user X  X  social network, are highly reliable in predicting user interests and preferences. This claim hold s for enterprise social data, as shown in this work. The high quality social data that is available today for individuals in the enterprise, allows the identification of social relatio ns that can be utilized for search personalization and for othe r applications. The question whether social data out of the firewall, typically with lower quality, can be used effective ly for search personalization remains open for further resear ch.
