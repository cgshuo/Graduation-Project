 Abstract The explosion of multimedia content in social media networks raises a great demand of developing tools to facilitate producing, sharing and viewing media content. Flickr groups, self-organized communities with declared common interests, are able to help users to conveniently participate in social media network. In this paper, we address the problem of automatically recommending groups to users. We propose to simultaneously exploit media contents and link structures between users and groups. To this end, we present a probabilistic latent topic model to model them in an integrated framework, expecting to jointly discover the latent interests for users and groups and simultaneously learn the recommendation function. We demonstrate the proposed approach on the dataset crawled from Flickr.com.
 Keywords Flickr group Recommendation Social topic model 1 Introduction Recent years have witnessed an explosion of multimedia contents, involving images, reproduce content in a number of social scenarios, and even interact with media to create additional metadata such as tags and comments. To facilitate users to conveniently digest media content, a lot of tools, such as tag-based image search and Flickr groups in Flickr, have been developed, and a lot of research efforts have been conducted. Particularly, in this groups and address the problem of automatically recommending Flickr groups to users.
Flickr groups, a social connection feature on Flickr, are self-managed communities with common interests, where users can share and comment on photos. An example of Flickr group is shown in Fig. 1 and example photos from its members are shown in Fig. 2 . Flickr social media. Groups are created spontaneously but not randomly: people participate in groups for specific intentions (e.g., interested in the visual content or introduced by other users with similar interest), and the photos in the group are usually with a common theme. search and discover groups of interest. However, in order to make users access to desired groups more easily, it is necessary to deploy an automatic group recommending system upon the social media infrastructure.

Our principle for recommending groups to users is that the users and the recommended covered and mined from the rich information available in social media networks including metadata, uploaded and shared images in the groups. Moreover, rather than separately discovering the latent interests and subsequently learning the recommendation function from the available links between users and groups, we propose a social topic model to simultaneously discover latent interests for users and groups and estimate the recom-impose the restriction that these two topics models share the common latent topic bases. connect the common interest topics between users and groups. Simultaneously, a recom-mendation function is embedded over the social connections underlying the discovered latent topics. An effective inference approach based on Gibbs sampling is applied to efficiently learn the latent topics and the recommendation functions. 2 Related work Flickr group has become one of the most representative social media networks connecting hundreds of thousands of interest groups. Its commercial success has been attracting more research attention to study many interesting social phenomenons occurring in this platform. One of the pioneer works is analyzing the Flickr group ecosystem (Negoescu and Gatica-Perez 2008a , 2010 ) and designing new group-search strategies by a topic-based representation for groups computed from group tags. Topickr (Negoescu and Gatica-Perez 2008b ) explores discovered topic-based representations for users and groups and further-more ranks users and groups for each topic for another Flickr exploration experience. Hypergroup (Negoescu et al. 2009 ) presents an approach to cluster Flickr groups in order to help search Flickr groups. The semantic hierarchies of Flickr groups are also exploited in (Lu and Li 2010 ). Flickr groups are also used to help finding landmark photos (Abbasi et al. 2009 ).

All these works encourage to develop and deploy an automatic group recommending latent events or topics by mining the visual contents and tags from images and then recommend photos to groups by matching their latent events or topics. The SheepDog system (Chen et al. 2008 ) recommends Flickr groups to photos by detecting photo con-cepts. A semi-automatic approach is presented to loop human into the process of sug-gesting Flickr groups to users (Cai et al. 2011 ) that combines the group classifiers. Recommending Flickr groups to users is more challenging because user X  X  profile contains a set of photos and extra existing user-group relations. This motivates us to investigate a new way to perform group recommendation.

Suggesting groups to users was ever studied in (Zheng et al. 2010a , b ) by simply casting it into the collaborative filtering framework and directly applying tensor-based approaches for recommendation. Those approaches neglect the rich visual information associated with the photos. In contrast, our approach explores both visual contents and social relations to discover and match the latent interests of users and groups for recommendation.
Besides social media networks, social communities have also been investigated and studied in other social networks, including Facebook, Orkut and so on. An approach to model social groups is presented in (McCarthy et al. 2007 ) by aggregating individual user models, in order to cope with the potentially conflicting preferences of multiple users when selecting items for recommendation. A group recommendation approach is presented in (Boratto et al. 2009 ) by detecting intrinsic communities of users whose preferences are similar. The group personality composition is investigated in (Recio-Garc X   X  a et al. 2009 ) for group recommendation. A combinational collaborative filtering approach (Chen et al. 2008 ) is proposed to fuse both semantic and user information for community suggestion. Essentially most current approaches can be cast into the collaborative filter framework. In users and groups and can help group recommendation.

General recommendation systems have been well investigated and a comprehensive survey can be found in (Adomavicius and Tuzhilin 2005 ; Herlocker et al. 2004 ). Roughly speaking, recommendation techniques are divided into three categories. The first one is content-based recommendation, in which the user (or other modules) will be recommended items similar to the ones the user preferred in the past. The widely-used methods are based latent semantic analysis (Hofmann 1999 , 2004 ; Negoescu et al. 2009 ; Negoescu and Gatica-Perez 2008b ), and latent Dirichlet allocation (Blei et al. 2003 ). The second one is collaborative filtering, in which the user will be recommended items that people with torization (Herlocker et al. 2004 ; Koren 2008 , 2010 ; Koren and Bell 2011 ; Su and Khoshgoftaar 2009 ), and some probabilistic matrix factorization methods, such as (Ma et al. 2008 , 2009 ), are proposed to deal with large scale data and noises. The last one is hybrid recommendation that combines collaborative and content-based methods and essentially benefits from both the two methods. The proposed approach in this paper can be viewed as a hybrid approach and exploits both visual contents and the existing links between users and Flickr groups. 3 Latent beta composition Before moving further, we first propose a generative probabilistic model X  X atent Beta composition (LBC), based upon which the group recommendation model is built. The basic idea is that users are represented as mixtures over latent topics, where each topic is characterized by a Gaussian distribution. Its graphical representation is shown in Fig. 3 . LBC assumes the following generative process for each user u . 1. Sample a random vector h  X  X  h 1 h D T so that h i * Beta( a , b ). 2. Sample each element / ij of U so that / ij * Gaussian( l , k 2 ). 3. For each of the N images I i ,
The variables in this model consist of three categories: model parameters including Compared with topic modeling for a corpus of document, a user (or group) in our problem corresponds to a document, and an image corresponds to a word.
 characterized by the latent variables h and an image can be composed of a few of topics selected from a dictionary U  X  X  / 1 / D . In the mathematical form, U Diag  X  z  X  w ; z is a topic vector, and Diag( z ) is a diagonal matrix with the diagonal entries valued from z , and serves the role of selecting the atoms from the dictionary. w is the projection coefficient vector in which the entries corresponding to the selected atoms are valid. Each entry in z is valued as 1 if the i -th topic is used to compose the image and valued as 0 otherwise.
Each entry of the D -dimensional random vector h satisfies a Beta distribution, and then the vector essentially satisfies a joint distribution, total probability integrates to unity. Here we use a Beta distribution instead of the Dirichlet analysis is a single word and often has a single meaning in the context of the document. feature vector f , which is composed of an image and its textual feature represented by the vector space model, is itself also a mixture of topics. This is natural because an image may topic, even it only contains a single concept due to the various appearances of the same concept.

The topic vector z i satisfies the following joint distribution, Then f i satisfies the following distribution, 4 Formulation Let U represent the set of m users. Each user u 2U is associated with a set of photos I the content feature of an image I ( I i u or I j g ). Denote the user-group relation by an m 9 n matrix R , in which r ug = 1 means that the user u is a member of the group g . Initially, only a part of the entries are valued as 1 and the rest are unknown. The task is to find the pairs ( u , g ) that have large probabilities to be 1, which indicates that the user u will tend to join the group g . 4.1 Joint topic model We present a social topic model to jointly discover both interests for users and groups and find the prediction function that checks the matching degree of users to groups. The joint model links users and groups together by building a prediction edge over related users and groups to bridge their interests. There are several advantages in the joint model. On the one other. The join-in relation of a user to a group implies that they share common interests, and the joint topic model with this connect will result in that the interests discovered are more consistent. On the other hand, the prediction function and interest discovery will help each other since these two are simultaneously computed. The graphical representation is shown in Fig. 4 . The joint LBC assumes the following generative process. 1. Sample each element / ij of U so that / ij Gaussian  X  l ; k 2  X  . 2. The generative process for each user u 3. The generative process for each group g 4. Sample the relations between users and groups R = [ r ug ] so that
In the above process, the superscripts u and g denote the user-related or group-related variables. Additional descriptions of this joint model are as follows. We model the topics for users and groups by assuming that they share the same latent topic dictionary U , which results in that the comparison of interests can be directly obtained by comparing the latent model and the difficulty of the optimization. We propose to use different conjugate prior parameters ab for users and groups based on the observation that users and groups essentially have different interest distribution. The variance parameters r u and r g in the Gaussian distribution are also different because the photos from users and groups have different diversities.
 groups. The user interest y u is the averaged aggregation, y u  X  1 N u interest for a group is similarly defined. Besides the relations between users and groups, we also aim to discover the latent interests from the image content and in addition explore the similarity of the latent interests between users and groups. We observed that the photos from a user may contain multiple topics while the photos from a group often cover a single or a few topics. Figures 1 , 2 and 5 show such an observation. Based on this point, we design the prediction function using the max-min criterion, Here the inner min operator aims to find the consensus over the d -th topic between the user u and the group g , and the outer max operator aims to find the dominant common topic between the user and the group. 5 Inference In this section, we present a Gibbs-sampling algorithm to infer the model parameters. In latent variables are integrated out. For the convenience of the description, we may drop the superscripts u or g and subscripts i if not affecting the understanding.
 Integrating out h
Given a user or a group, we have the likelihood p  X  z ij j h j  X  X  Bernoulli  X  h j  X  and the con-jugate prior distribution, p  X  h j ; a ; b  X  X  Beta  X  a ; b  X  . Our goal is to integrate out h , Integrating out U where P u is the number of all images that belong to users, F u  X  X  f 1 f P u ; X u  X   X  Diag  X  z 1  X  w 1 Diag  X  z P user, Tr  X  X  is the trace operator.

Similarly, the conditional distribution over { f i g }is where P g is the number of all images that belong to groups, F g  X  X  f 1 f P g ; X g  X   X  Diag  X  z 1  X  w 1 Diag  X  z P group.
The distribution over U is where E is a D 9 D matrix whose elements are all equal to 1.

With the above equations we have Joint distribution
The joint distribution over { z i u } is computed as follows, Similarly, the joint distribution over { z i g }is The joint distribution over { z i u }, { z i g } is computed as follows, The joint distribution over { z i u , f i u }, { z i g , f i g } is computed as follows, estimated.

The distribution over the links is as follows, 5.1 Algorithm The algorithm consists of two steps: conditional sampling and parameter estimation. The first step samples latent topics according to the conditional distribution, and the second step mainly estimates the parameters.
 Conditional sampling
Given the current topic parameters { z i u }, { z j g }, the conditional distribution with respect to the d -th topic z id u of the i -th image of user d can be written as follows, p ( z g | -).
 Parameter estimation
The parameters are estimated in a coordinate-wise manner and for each coordinate the gradient descent algorithm is adopted. The parameters a U and b U for users can be estimated by maximizing the likelihood,
The partial derivatives are written as follows, where w  X  X  is the digamma function. Then a gradient descent algorithm can be adopted to estimate the two parameters.

The parameters, l , k , r U and r G , are then sequentially estimated by maximizing the loglikelihood computed from Eq. 10 in a gradient descent manner. The parameters w i u and w g are estimated by jointly considering Eqs. 5 and 10 in a gradient descent manner. The prediction function h (; g , q ) with the Bernoulli distribution is essentially equivalent to the iteration of the algorithm, this prediction function is not involved into the process. After leaving the rest unknown according to the maxmin values. In the later iterations, the pairs with known values are used to estimate the parameters. 6 Experiment In this section, we conduct experiments to evaluate the performance of our proposed approach for Flickr group recommendation and demonstrate its effectiveness by comparing with other widely-used techniques. 6.1 Setup 6.1.1 Dataset There is no public benchmark of Flickr group recommendation that is available for per-formance evaluation. We collect the dataset using Flickr API 1 . We crawled 200 popular Flickr groups based on the tag-based group search in Flickr, by selecting 20 popular tags and selecting top 10 groups for each tag. Then we collect the information of 53,858 users in these 200 groups, including the photos and the associated tags they uploaded as well as 3,711,319 user-uploaded photos, 2,892,271 user-favored photos, and 142,495 photos in the group pools.

For each photo, we extract two types of features: visual feature and textual feature. We extract the dense sampling-based visual words as the visual feature that has been shown to Specifically, we divide the image into uniformly distributed blocks. Then raw SIFT fea-tures (Lowe 2004 ) are extracted for each block, and quantized to visual words (Sivic and Zisserman 2009 ) with a vocabulary of 1,024 visual words obtained by k-means clustering. A histogram of visual words is formed to represent the visual content information. We also extract the textual features from the tags associated with the images. As a preprocessing, we remove stop words with the snowball stop word list, and filter the tags whose frequency is less than 5 in the whole corpus, which are viewed as noise or typo. After modeling the continuous latent topic representation for the textual features by latent Dirichlet allocation, image. 6.1.2 Evaluation The performance evaluation metrics of group recommendation (Herlocker et al. 2004 ) consist of three classes, predictive accuracy metric, classification accuracy metric and rank accuracy metric. In this paper, we choose classification accuracy as the evaluation metric, which measures the frequency of a recommender system making correct or incorrect decisions. Specifically, we adopt one popular metric, i.e., the precision at the first N position Precision@N to measure the percentage of groups that the user would like to join. We randomly sample 10% of the user-group links (i.e., the user has joined the group) for prediction, sample another 10% for validation, and use the rest user-group links as the training set. 6.2 Illustration We show experimental results on the Flickr group recommendation. We first present visual illustration, then show the effectiveness in convergence and correctness of the inference process. 6.2.1 Visual illustration Figure 6 shows the latent topics learned from the joint topic model. We show the repre-sentative images from the four latent topics of different users and the associated tags and owners. We have the following observations. One the one hand, these images are classified into different semantic meanings. On the other hand, the photos in the same topic may be similar in low-level visual contents (e.g., color and texture) but with missing or noisy tags, or similar in textual information with dissimilar visual contents, or even dissimilar in both visual and textual information but with the same semantic meanings which is thanks to the content feature are helpful for latent topic discovery. 6.2.2 Convergence log-joint probability at each iteration and the maximum log-joint probability among this iteration and the previous iterations. We can see that the probability reaches a very high analysis on the convergence of Gibbs-sampling has been discussed in (Liu 2002 ). Our experiments validate that the Gibbs-sampling based inference is effective for our model.
Figure 7 b shows the mean absolute error (MAE) in each iteration (MAE@iteration) and the minimum MAE among this iteration and the previous iterations (Minimum MAE). The MAE value is calculated by E k r gu r 0 gu k . It describes the error between the actual result r gu and predicted score r 0 gu , with the lower value showing a better performance. One can see that consistent to Fig. 7 a the MAE value drops much in the early 10 X 20 iterations and is stably decreasing in the later learning progress. 6.2.3 Latent topics The best dimensionality of the latent space, i.e., the number of latent topics D , is achieved from the validation set. We check different D from 6, 8, 10 to 50 and test the results over the validation set by calculating the P@N for each D. The results are shown in Fig. 8 . One can see that the best performance is reached when D is set to 20. D with a smaller value may be not able to discriminate the topics with different meanings, and D with a larger value higher may generate too many latent topics that separate photos with similar meaning in different topics. Although the validation can help find the optimal D , this process is a future, we will investigate more efficient determination schemes to determine the number of topics. 6.3 Comparison We compare the joint topic model with several state-of-the-art techniques adopted in other recommendation applications for various social media applications, which can be directly adopted to solve this problem. According to the taxonomy of recommendation in related work, the competitors fall in the following categories.  X  Content . We compare our approach with the content analysis approaches, which try to  X  Collaborative Filtering . We also compare the result from collaborative filtering  X  Hybrid . We also compare our approach with one representative method, RankBoost
Figure 9 shows the comparison results, in which we can clearly see the competitive results of our approach compared with other methods. More specifically, the content-based approach gets the worst performance, due to the low effectiveness of low-level visual features and noises in the tags. However, the collaborative filtering approach performs much better. The hybrid approach, combining both content and collaborative filtering, mendation system.

Our approach simultaneously makes use of the content, and in addition the relations between users and groups, while the content-based approach and the collaborative filtering-based approach only explores one cue. Hence, our approach is more capable to model the problem. In addition, the joint discovery of latent topics for users and groups makes the discovered topics more accurate and more capable of capturing the underlying user-group interaction. Compared with previous hybrid-based methods, our approach models the more discriminative and informative features and remove useless information for our specific problem, the relation mining, while the whole content may affect the performance topic learning can benefit from each other. This means that the prediction function is more thermore make the prediction stronger. All these make our approach more robust and perform the best among the state-of-the-art approaches. 7 Conclusion In this paper, we systematically study the problem of recommending groups to users in social media network. A joint topic model is proposed, which makes use of content feature, collaborative information and social relations in an integrated framework. The proposed approach discovers the topics for users and groups jointly and simultaneously learns the prediction function to match latent topics. All these characteristics of the proposed algo-rithm make the discovered latent structure more accurately reflect the underlying user-group interaction, which results in a more effective group recommendation. An efficient inference algorithm is proposed based on Gibbs sampling. Experimental results on Flickr group recommendation show that our approach is more effective and efficient compared with the state-of-the-art group recommendation methods for social media networks. Reference
