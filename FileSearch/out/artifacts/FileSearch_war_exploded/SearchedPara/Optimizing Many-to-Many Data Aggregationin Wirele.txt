 A sa ni mp o rta n t w a y f o rpe o p l et o acqu i re data fr o mph y s i ca lwo r l d ,wi re l ess se n s o r n et wo rk (WSN) has rece iv ed much c on cer n fr o m research s o c i et y [1,3,6]. O n e o fthem o st c o mm on usage o fa WSN i sdatac oll ect ion/ aggregat ion. B ecause o f li m i ted p ow er o fase n s o r , e n erg y effic i e n c yi s the pr i mar y c on cer n.
Rece n t ly, at y pe o f data aggregat ion in se n s o r n et wo rks ,n ame ly many-to-many data aggregation , has bee n prese n ted [ 2 ]. In ma ny-t o-ma ny data aggregat ion, producers ,w h il ea no ther set o f no des requ i re the aggregated data fr o mpart o f the pr o ducers ,w h i ch are ca ll ed consumers .T he re l at ion sh i pbet w ee n c on sumers a n dpr o ducers i sma ny-t o-ma ny, i. e ., on epr o ducer ma y be n eeded in c o mput in g aggregates acqu i red b y mu l t i p l ec on sumers , a n d on ec on sumer ma y requ i re data aggregated fr o mmu l t i p l epr o ducers .

In th i spaper ,w estud y the pr o b l em o fh ow t o ge n erate e n erg y-effic i e n t aggre -gat ion p l a n sf o rma ny-t o-ma ny aggregat ion in ase n s o r n et wo rk .Diff ere n tfr o m f o cuses on a n e w pr o b l em in w h i ch the in put only in c l udes the n et wo rk t o p ol-o g y, the pr o ducer a n dc on sumer sets a n dthe i r supp ly a n ddema n dre l at ion s . T he o utput , a n aggregat ion p l a n, c on s i sts o ft wo parts : the first on e i stheset o f r o ut in gtreer oo ted at a pr o ducer a n dspa n sa ll c on sumers o fth i spr o ducer , a n d the sec on dpart i sthef o r w ard in gstrateg i es ad o pted b y each no de in the r o ut in g trees ,i. e ., the dec i s ion t o f o r w ard the aggregated data o rt o f o r w ard the data separate ly w he n t wo data r 1 a n d r 2 arr iv eat i t .

T he c on tr i but ion s o fth i s paper are li sted as f ollow s .Fi rst ,w ef o cus on the ma ny-t o-ma ny aggregat ion pr o b l em in WSN wi th b o th r o ut in gch oi ces a n dag -gregat ion schemes that i sc on s i dered b y fe wwo rks , a n dsh ow the hard n ess o fthe pr o b l em ,i. e ., the pr o b l em i s NP-C o mp l ete .S ec on d ,w epr o p o se three appr oxi-mat ion a l g o r i thms t o get c lo se t o the o pt i ma l s ol ut ion f o rthreed iff ere n tcases o f the pr o b l em ,inw h i ch the t wo cases are c o mm only-used spec i a l cases .Fin a lly, w epr ov ed the rat io b o u n ds o fthethreea l g o r i thms . A se n s o r n et wo rk i s abstracted as a c onn ected , u n d i rected graph G ( V, E ), w here V in d i cates the set o fse n s o rs a n d E sta n ds f o rthe lin ks o fthese n s o rs .L et | V | has on eread in g r i ,w h i ch i sarea ln umber ,i. e ., r i  X  R .
 T he c l ass o f aggregate fu n ct ion s w ec on cer n meets the f ollowin grequ i reme n t . Fo ra ny fu n ct ion f in the c l ass , f : 2 R  X  R , a n d f ( S )= f ( { f ( A ) ,f ( B ) } ) f o r arb i trar y rea ln umber sets S , A a n d B that A  X  B = S a n d A  X  B =  X  .

G iv e n aset o fc on sumers C ( C  X  V ) that c on s i sts o f n se n s o rs ,  X  c i  X  C , c i the pr o ducer set o f c i .D e no te the set o fpr o ducers as P =  X  n i =1 P c i a n d l et the n umber o fpr o ducers i s m ,w eca n a n a lo g o us ly defi n ethec on sumer set C p i f o r p  X  P , t ow h i ch p Definition 1 (Aggregation plan). Given a connected graph G ( V, E ) ,theset of consumers C = { c 1 ,c 2 ,...,c n } and the set of producers P = { p 1 ,p 2 ,...,p m } , an aggregation plan A consists of a set of routing trees and the forwarding strate-gies of all the nodes on these trees. A is valid if  X  c i  X  C , c i is able to calculate f ( P c i ) according to the data it receives.
 Fi gure 1 sh ow st wo aggregat ion p l a n s wi th d iff ere n tr o ut in gstrateg i es .In th i s e x amp l e , v 7 a n d v 8 requ i re v 0 + v 1 a n d v 1 + v 2 , resp .
 Definition 2 (The Optimization Problem for Many-to-Many Aggrega-tion). The O ptimization problem for many-to-many A ggregation (in short, the OA problem) problem is to find out an optimal aggregation plan A opt , so that E (
A T he O A pr o b l em i s NP-C o mp l ete , h ow e v er , because i ts spec i a l case wi th on e c on sumer i s NP-C o mp l ete .In th i scase , s in ce e v er y pr o ducer has a d i rected path t o the c on sumer , the c on sumer a n d the pr o ducers are c onn ected .D e no te the n umber o fedges o fam ini ma lS te in er tree MST ( P  X  C ) that spa n s P  X  C as | MST ( P  X  C ) | , a n d E ( A opt )  X | MST ( P  X  C ) | . O n the o ther ha n d ,on e ca n c on struct a n aggregat ion p l a n A based on | MST ( P  X  C ) | s o that E ( A )= |
MST ( P  X  C ) | .H e n ce the spec i a l case i sequ iv a l e n tt o a MST pr o b l em on the graph ,w h i ch i sk nown as NP-C o mp l ete [ 8 ], s o the O A pr o b l em i s NP-C o mp l ete . In th i spaper ,w ef o cus on the appr oxi mat ion a l g o r i thms t o the O A pr o b l em . B ef o re o ur stud y f o rthege n era l case ,w ed i scuss t wo spec i a l cases o f the pr o b l em a n dpr o p o se t wo c on sta n t -appr oxi mated a l g o r i thms , resp .W ed ono tg iv ethe pr oo fs o fthethe o rems due t o page li m i tat ion. 3.1 Special Case I T h i sspec i a l case restr i cts that a ll the c on sumers requ i re the aggregated resu l t mecha ni sm that first aggregates the data o fthe w h ol e n et wo rk t o ara n d o m ly se l ected c on sumer c 0 vi aaspa nnin gtree o fthe n et wo rk , a n dthe n d i ssem in ate the data t o a ll the c on sumers a lon g the paths o f a tree that spa n sthec on sumers . Algorithm 1. Opt i ma l aggregat ion I Theorem 1. Algorithm 1 outputs an optimal aggregation plan A opt for special case I, i.e., E ( A opt )= | V | X  1+ | MST ( C ) | .
 on graph MST pr o b l em i s  X  =1+ ln 3 2  X  1 . 55 [ 7 ], s oAl g o r i thm 1 ca n emp loy th i s c o st o fthetreege n erated b y the appr oxi mat ion a l g o r i thm be | MST ( C ) | ,i t mea n sthat | MST ( C ) | X   X   X | MST ( C ) | .B ecause | V | X  1  X  MST ( C ), the e n erg y c o st o fap l a n A app ge n erated b y the appr oxi mat ion a l g o r i thm i sb o u n ded b y 3.2 Special Case II W ec on t in ue t o stud y am o re ge n era l case ,inw h i ch e i ther P c i  X  P c j = P c i = P c j c on sumers C i that requ i re f ( P c i ). L et a cluster o f no des be D i = P c i  X  C i a n d the n umber o fd i st in ct c l usters n c  X  n , a n dde no te the n c c l usters wi th the i r
T he ke yi dea o f the appr oxi mat ion a l g o r i thm f o rspec i a l case II i sthatc on-struct in gt wo r o ut in g trees f o reachc l uster in depe n de n t ly. T he first r o ut in gtree o f D i spa n s P i , a n dthe v a l ue f ( P i )i s o bta in ed b y apr o ducer v i in the tree , w h il ethesec on d on espa n s C i  X  X  v i } s o that f ( P i ) ca n be d i ssem in ated t o a ll the no des in C i fr o m v i .T he pseud o c o de i ssh own in Al g o r i thm 2 . Algorithm 2. N ear -o pt i ma l aggregat ion II Theorem 2. Algorithm 2 outputs an aggregation plan A for special case II with in g o ut a m ini ma lS te in er tree t o ge n erate a n aggregat ion p l a n A ,i t i seas y t o see that Al g o r i thm 2 ru n s in p olyno m i a l t i me a n d E ( A ) E ( A 3.3 General Case In the ge n era l case , the c on sumers ca n ha v earb i trar y pr o ducers a n d vi ce v ersa . T he bas i c i dea i st o d ivi de the c on sumers a n dpr o ducers in t o groups , a n dthe n perf o rm data aggregat ion on these gr o ups in depe n de n t ly. No des in the same pr o ducer gr o up se n dthe i rread in gs o rpart i a lly aggregated data t oon epr o ducer in the gr o up ,w h il e no des in the same c on sumer gr o up share the data that has bee n aggregated on aspec i fic c on sumer .
 Theorem 3. Algorithm 3 generates an aggregation plan A that its energy cost A the c o mputat ion a l c o mp l e xi t y. In th i scase E ( A ) E ( A Algorithm 3. N ear -o pt i ma l aggregat ion III Effic i e n t data gather in ga n d aggregat ion in wi re l ess se n s o r n et wo rks has bee n a n dpr ovi de fused in f o rmat ion t o the base stat ion [10].
 E xi st in g data aggregat ion tech ni ques ca n be categ o r i zed in t o se v era l t y pes . O n e o fthem i sc l uster / gr i d -based appr o aches [11,1 2 ,13], w h il ea no ther t y pe o f wo rks f o cus on the effic i e n ta l g o r i thms f o rc on struct in gr o ut in g trees in aggre -gat ion [5,15,6]. T he c on cept o fma ny-t o-ma ny data aggregat ion i spr o p o sed b y aggregat ion re lyin g on g iv e n mu l t i p l er o ut in g trees wi th o pt i ma l s ol ut ion s . N umer o us appr oxi mat ion a l g o r i thms has bee n pr o p o sed f o rthec l ass i ca l S te in er tree pr o b l em on graph ,inw h i ch [ 7 ] has the best appr oxi mat ion rat io 1+ ln 3 2 t oo ur best k nowl edge .T he hard n ess o f the pr o b l em i spr ov ed in [ 8 ]. W estud y the O A pr o b l em w h i ch requ i res a n effic i e n t aggregat ion p l a n f o rma ny-t o-ma ny data aggregat ion in se n s o r n et wo rks , a n dsh ow that the pr o b l em i s NP-C o mp l ete c on s i der in gb o th r o ut in ga n d aggregat ion strateg i es .W ethe n pr o p o se three appr oxi mat ion a l g o r i thms t o ha n d l ethreed iff ere n tcases o f the pr o b l em . Fo rthet wo spec i a l cases ,w epr ov e that the pr o p o sed a l g o r i thms ha v ec on sta n t appr oxi mat ion rat io s , a n df o rthege n era l case , the appr oxi mat ion rat io i s no l arger tha n( 2 +ln3)  X  m in { n p ,n c } .
 s in ce n c a n d p c ma y be l arge in the wo rst cases ,on ep o ss i b l e future wo rk will seek f o rt i ghter appr oxi mat ion rat io s .

