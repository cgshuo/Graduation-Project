 Document and query expansions ha ve been used separately in previous studies to enhance the representation of documents and queries. In this paper, we propose a general method that integrates both of them. Expansion is carried out using multi-stage Markov chains. Our experiments show that this method significantly outperforms the existing approaches. H.3.3 [ Information Search and Retrieval ]: Retrieval Models Algorithms, Theory, Experimentation, Performance Information Retrieval, Langua ge Model, Markov Chain, Expansion Statistical language modeling (LM) has been widely used in information retrieval (IR) in recent years [2, 7]. Several attempts have been made to improve e ither document model or query model [6, 8] by smoothing. However, these approaches still suffer from the underlying assumption of term independence, which implies that a term of a query is independent from a different term instance, if  X  X omputer X  appears in a query and  X  X rogramming X  in a document, the terms are not independent; so are the query and the document. Several studies ha ve been conducted to relax the independence assumption by integr ating the relationships between query terms and document terms [1 , 2, 4]. In doing this, we are indeed making inferences according to term relationships. In the previous studies, inference has been implemented either as document expansion or query expa nsion, and inference has been limited to using direct term rela tionships. We argue that these limitations are unnecessary. By pe rforming both expansions and by allowing indirect inferences, we can gain larger inference capabilities. In this paper, we thus propose a general model to achieve this goal. Traditional LM approaches to IR try to determine a relevance score according to the following formula: where )|( QwP i is the probability of a term in the query model, usually estimated by Maximum likelihood; and )|( DwP i is the A stationary distribution ) | ( Q w  X  [3] can be reached after a number of transitions, a nd this corresponds to: that we can construct from the information available, i.e. Q and terms relations. So, we define the final query model ) | (  X  Q w P as ) | ( Q w  X  . In the same way, the document model ) | (  X  D w P is also defined as the stationary probability ) | ( D w  X  , which is determined similarly to equation (5). The initial distributions are now determined as follows: 0 C w P D where P ( w|F ) and P ml ( w|C ) are respectively the feedback model collection. The coefficient  X  is set at 0.3, as our experiments show that the retrieval effectiv eness is relatively insensitive to  X  when ] 1 , 1 . 0 [  X   X  . We use three TREC collections in our experiments: AP88-90, WSJ and SJM on TREC disks 2-3. The parameters are determined using queries 101-150 and 201-250 (title+description), and topics 51-100 are used for testing. Table 1 shows a comparison between Unigram model ( UM ), document and query expansion models alone ( MC-DE and MC-QE ) and our general model ( GM ). From this table, we see that both MC-DE and MC-QE outperform UM to some degree. The improvement scales of MC-QE are much higher than MC-DE , because MC-QE has incorporated a feedback model, which has proven to be very helpful to captu re the information need [8]. The most important observation for this study is that the general model GM is better than using MC-DE or MC-QE separately. Although the improvements of GM over MC-QE are not very large, they are consistent on all the collections. This result shows that the combination enables the system to benefit from both approaches. In order to see the impact of multi-step expansion, we use different numbers of transitions in query expansion in Figure 1. We observe that when we increase the transition steps, the effectiveness is also improved, in particular, between 1 and 5 steps. These increases are directly attributed to the increased steps of transition. They show that mu lti-step transition is superior to one-step transition. Query expansion and document expansion have been used in a number of previous studies, either with LM or vector space model [1, 4, 6, 8]. The experiments ha ve produced encouraging results. In comparison with the previous attempts, in this paper, we propose to extend the expansion process further on the two following aspects: Using MC to enable multi-step inference; 
