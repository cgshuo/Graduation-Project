 Since containers have been introduced to the world trade over thirty years, the container transportation becomes the most important worldwide transportation. An continuously facing the increasing growth of container throughput and more large ships in shorter time. This leads to the necessity of scheduling highly expensive these resources at the optimal level. 
Many researchers have developed allocatio n optimization approaches for container terminal logistics. Chan in [1] and Etsuko Nishimura in [2] adopted GA to determine allocation, the berthing time and berthing position of a containership are determined. W.C.Ng in [3] discussed quay crane allocation problem and developed a dynamic programming-based heuristic to solve the scheduling problem. 
This paper discusses the allocation of another important resource tugboat. There are limited studies on tugboat allocation problem. Liu Zhixiong in [4] simulated tugboat operation, but didn X  X  optimize this problem. In this paper, we develop a new mixed heuristic algorithm GA-ACO combined with Genetic Algorithm and Ant Colony Optimization Algorithm. Our aim is to employ the satisfactory allocation plan and improve the productivity of container terminals. 
The rest of paper is organized as follows: in section 2, we present the tugboat allocation problem and illustrate why GA and ACO are used in this problem. In we describe the experiment and analyze the results. Finally, we make conclusions and introduce the future work in section 5. There are many factors such as the arriving time of vessels and the number of containers to be handled influencing the allocation decisions. When ships arrive, they can not enter into the berth directly and need to be tugged by the tugboats. Moreover, the moving and leaving of ships also need to be tugged. Tugboat operation is a stochastic, dynamic and discrete process because the arriving time of vessels is stochastic and discrete. Vessels with different sizes and types should schedule tugboat for big vessel. If the number of tugboat allocation is low, the arriving vessels can not enter into the berth for operation in time so that long waiting time and waiting because some tugboats leave unused. Proper allocation of tugboats can improve operation efficiency and economic benefits of container terminals. 2.1 Allocation Model The allocation optimization process includ es three models shown in Fig.1. The allocation of tugboat is influenced by the investment money, arriving vessels and responsible for generating allocation solutions and finding the best by Genetic average utilization rate of tugboat, average waiting time of vessels and maximum length of waiting queue. Because of the discrete and dynamic characteristics of parameters must be attained by simulation. But only simulation technology can not solution. We have already studied the effectiveness of Ant Colony Optimization for scheduling problem in container terminals in [5]. Hence, ACO is applied to optimize the fitness evaluation. The evaluation module uses Bayes Net method described in [6] to calculate the fitness for GA. 2.2 Reasons for GA in Allocation Model and ACO in Scheduling Model Meta-heuristic methods are explored to resolve this complex allocation problem. Compared with other algorithms, Genetic Algorithm is robust, self-learning and can get preferable solutions. Moreover, the most important is tugboat allocation plan can be easily represented by chromosome and we can get satisfactory solution through self-learning mechanism. So GA is adopted for allocation model. 
ACO was first proposed for combinatorial optimization. The basic idea is inspired by the way ants explore the environments in search of food . It is expanded to resolve nodes. We consider that the nodes and ants can change according to the different numbers of resources and jobs. So ACO is suitable for dynamic tugboat scheduling instead of GA, in which the changeable chromosome is difficultly represented. GA-ACO Algorithm is described as Fig.2. 3.1 Genetic Algorithm chromosomes are represented as character strings. The length of string represents how horsepower. We give one tugboat allocation of six types in Fig.3 including 1 tugboat with 1200ps, 6 tugboats with 2600ps, 2 tugboats with 3200ps, 3 tugboats with 3400ps and 2 tugboats with 4000ps. 
The underlying fundamental mechanism of GA consists of three main operations: (1) Reproduction: Reproduction is a process in which individual chromosomes are copied according to their fitness values. The chromosomes with a higher fitness value would have more copies in the next generation. (2) Crossover: Crossover is performed to introduce new chromosomes by recombining current genes. We employ 2-point crossover operator shown in Fig. 4. and j=4. Then, the substring between i and j of A is interchanged with B so that two children are formed. (3) Mutation: Mutation introduces random changes to the chromosomes by altering the value to gene. In Fig.5, the third character changes from 2 to 5. We describe the flowchart of GA in Fig.6. 3.2 ACO Algorithm 
Different from basic ACO, we introduce a new path selecting method to avoid local optima. We consider that ants as a simply animal has its own consciousness. At randomly. With the pheromone accumulating, the communication among ants the path with more pheromone. According to this feature, we introduce the concept of avoid fast convergence into the local best. by ants randomly and for scheduling problem L i is the cost of scheduling solution;  X  is the integer parameter usually 3 or 4. 
The node transition rule is as follows: when the average pheromone of all the paths is fewer than PI , ants select path randomly; otherwise, ants select path by pheromone. An ant k in R i chooses R j to move to following the rule: well as pheromone information. The pheromone information is denoted by  X  ij and the ability generated from the container terminal operations, which has been discussed in [5]. With probability q 0 , the ant chooses R j from the set of tugboats that have not been the relative influence of the pheromone values and the heuristic values on the decision determined by p k ij . 
In ACO, all ants are allowed to deposit pheromone after completing their tours. The updating rule is as follows: future. Q min is the minimal cost for task k , Q k is the real cost of completing task k. 
The algorithm stops when some stopping criterion is met, e.g. a certain number of generations. number of present tugboats and add up new tugboat with 5000 horsepower. 
We simulate about 2800 records of arriving vessels in the year of 2003. There are two constraints: (1) the available number of every type of tugboat is between [1,10]; (2) the maximum investment money. 
The parameters in GA-ACO Algorithm can be determined by experiments. For GA, max generation ( NC max ) is 100. For ACO, the number of ants is changed according to 
The allocation fitness of generation 1, 20, 40 and 60 are given in Table.2. The evaluation results of scheduling of some allocations are shown in Table.3. 
The GA algorithm converges after about 80 generations. The best allocation is shown in Table.4. The comparison of the two allocations is shown in Table.5. 
Compared with the old plan, the new allocation plan can improve the utilization rate of tugboat, reduce the waiting time and waiting queue of vessels. Using the new allocation, container terminal can improve the efficiency of equipment and serve more ships and larger ships in the future. In this paper, we develop GA-ACO Algorithm for resource allocation problem in container terminals. GA is responsible for generating allocation plans and ACO is responsible for simulating the plans for scheduling. We examine the performance of optimization of tugboat allocation in container terminals and obtain satisfactory results. 
In the future, we will explore how to apply this method for other equipments or resources in container terminals, such as quay cranes, trucks and so on. Moreover, we and better performance. Acknowledgments. This research was supported by China Scholarship Council and the Natural Science Foundation of Hubei Province(2006ABA218, 2001ABB058). 
