 known in the AI community. The ideas behind CP were first proposed by Waltz [5] 1 Yet, CP has received considerably less attention than BP lately.
 generalization of constraint propagation and have simple interpretations in that context . centrates on the aspects that are relevant to this paper. 2 A constraint network (CN) is the graphical model for CSPs used in the AI community. Of interest a tree graph is referred to as a tree CN , and a CN with an arbitrary graph as an arbitrary CN . Constraint propagation is typically used as part of a depth-first search algorithm for solving CSPs. The search algorithm works by extend-ing partial assignments, usually one variable at a time, during the search. The algorithm is called backtracking search because one can backtrack and change the value of a previously assigned variable when the search reaches an illegal assignment.
 CP is often applied either as a preprocessing step or after an assignment to a variable is made. The objective is to reduce the domains of the variables by making them locally consis-tent with the current partial assignment. The propagation process starts with the belief that for every value assignment v i in the domain of each variable i there exists a solution with v i as-signed to i . The process then attempts to correct this a priori belief by locally propagating con-straint information. It is well-known that CP, unlike BP, always converges, regardless of the structure of the CN graph. This is because no possible solution is ignored at the start and none ever removed during the process. In the end, CP produces potentially reduced variable domains that are in fact locally consistent. In turn, the made it a popular algorithm in the CSP community. Let V ( a ) be the set of variables that appear in constraint a and C ( i ) the set of constraints in which variable i appears. Let also V i ( a )  X  V ( a )  X  { i } and C a ( i )  X  C ( i )  X  { a } . In k -SAT, the constraints are the clauses, each vari-able is binary, with domain { 0 , 1 } , and a solu-tion corresponds to a satisfying assignment. If i  X  V ( a ) , denote by s a,i the value assignment to variable i that guarantees the satisfiability of clause a ; and denote the other possible assign-ment to i by u a,i . Finally, let C s a ( i ) and C u a ( i ) be the set of clauses in C a ( i ) where variable i appears in the same and different literal form as it does in clause a , respectively.
 The k -SAT formula under consideration is de-noted by f . It is convenient to introduce no-tation for formulae associated to the CN that results from removing variables or constraints from f . Let f a be the function that results from removing clause a from f (see figure 2), and f domains of the variables during the propagation process. Each subset A of a set S of size m is and [11] represent { 0 } , { 1 } and { 0 , 1 } , respectively. ( x S all i , W i is the consistent domain of variable i in f .
 Constraint Propagation. In CP for k -SAT, the message M a  X  i that clause a sends to variable i M x M a  X  i , respectively.
 In summary, we can write CP for k -SAT as follows. It is convenient to express CP mathematically as follows. during the propagation process.
 Once CP converges, for each variable i , its locally-consistent domain becomes { x variables in k -SAT, as can be easily seen from the expressions above. finds a satisfying assignment without the need to backtrack. We can express CP in a way that looks closer to SP and BP. Using the reparametrization  X  a  X  i = 1  X  M u a  X  i , we get the following expression of CP. Survey Propagation. Survey propagation has become a very popular propagation algorithm for satisfiability threshold  X  c .
 pretation (details omitted). domain of f : for all W  X   X  , hard to compute P f . (CNs with graphs of bounded tree-width are a notable exception.) abilistic structure. X  a as a (Bernoulli) random variable in some probabilistic model with sample space  X  and a, now x  X  X  0 , 1 } , we define x , we can use them to dynamically order both the variables and the values they can take during The objective is then to compute or estimate those probabilities. survey propagation process.
 independent.
 C a ( i ) are independent.
 C a ( i ) are independent.
 Without any further assumptions, we can derive the following, by applying assumption 1 and the expression for M u a  X  i that results from 1: Similarly, by assumption 2 and the expression for M s i  X  a that results from 2, we derive passing procedure. We can then use assumption 3 to estimate p u i  X  a as Q b  X  C s p the final messages uniquely identify P = P f .
  X  X robabilistic satisfiability structure X  of the k -SAT formula. Assumption 4. For some  X   X  [0 , 1] , for each clause a and variable i , 1) = 1 .
 Let us introduce a final assumption about the random variables associated to the messages from variables to clauses.
 independent.
 i , the random variables M u b  X  i for all clauses b  X  C a ( i ) are independent. The following theorem is the main result of this paper.
 procedure that results from CPR as presented above is even 5 might be obvious to some readers, but assumption 4 might not be, and it is essential. Proof. As in the last subsection, assumption 1 leads to p u a  X  i = 1  X  Q j  X  V allows us to express which implies If  X  = 0 , then the last expression simplifies to Otherwise, if 0 &lt;  X   X  1 , then using the reparametrization  X  a  X  i  X  P ( M u a  X  i = 0) , and applying assumption 5 leads to SP(  X  ) .
 The following are some remarks that can be easily derived using CPR. On the Relationship Between SP and BP. SP essentially assumes that every sub-formula f a  X  i SP(  X  ) for 0  X   X  &lt; 1 , seems to be.
 On the Solutions of SAT formula f . Note that P f may not satisfy all or any of the assumptions. holds, but not both of course. That implies f must have a unique solution! On SP. This result provides additional support to previous informal conjectures as to why SP is assumes that the set of satisfying assignments has in fact special structure. f under those conditions (see Maneva et al. [3] for more information). pessimistic in this sense.
 { s concentrating its efforts on finding satisfying assignments without free variables. On Variable and Value Ordering. To complete the picture of the derivation of SP(  X  ) via CPR, We can use the following, slightly stronger versions of assumptions 2 and 3 for that. independent. independent.
 Q On Generalizations. The approach provides a general, simple and principled way to introduce possibly uncertain domain knowledge into the problem by making assumptions about the structure effective propagation algorithms for specific contexts.
 Related Work. Dechter and Mateescu [10] also connect BP to CP but in the context of the in-Braunstein and Zecchina [12] showed that pure SP is equivalent to BP on a particular MRF over P distribution P for which applying CPR leads to SP(  X  ) . propagation proposed here. The general approach presented not only provides a new view on survey easily develop potentially better algorithms tailored to specific classes of CSPs.
