 K e ywo rd search i sapr ov e n user -fr i e n d ly w a yo fquer yin g XML data in the Wo r l d Wi de W eb [1, 2 ,3, 4 ,5]. I ta llow suserst o fi n dthe in f o rmat ion the y are in terested in wi th o ut l ear nin gac o mp l e x quer yl a n guage o rk nowin gthestruc -ture o ftheu n der lyin gdata .How e v er , the n umber o fresu l ts f o rake ywo rd quer y ma y bec o me v er yl arge due t o the l ack o fc l ear sema n t i cre l at ion sh i ps am on g ke ywo rds .T here are t wo ma in sh o rtc o m in gs :(1)i tma y bec o me i mp o ss i b l ef o r users t o ma n ua lly ch oo se the in terest in g in f o rmat ion fr o mtheretr i e v ed resu l ts , a n d ( 2 ) c o mput in gthehuge n umber o fresu l ts wi th l ess mea nin gma yl ead t o t i me -c on sum in ga n d in effic i e n tquer y e v a l uat ion. A s w ek now, users are ab l et o i ssue a structured quer y, such as XP ath a n d X Quer y, i fthe y a l read y k now a lo t ab o ut the quer yl a n guages a n d the structure o fthe XML data t o be retr i e v ed . T he des i red resu l ts ca n be e ff ect iv e ly a n deffic i e n t ly retr i e v ed because the struc -tured quer y ca n c onv e y c o mp l e x a n dprec i se sema n t i cmea nin gs . Rece n t ly, the stud yo fquer y re l a x at ion [6, 7 ] ca n a l s o supp o rt structured quer i es w he n users ca nno tspec i f y the i rquer i es prec i se ly. N e v erthe l ess , there are ma ny s i tuat ion s w here structured quer i es ma yno tbeapp li cab l e , such as a user ma yno tk now the data schema ,o r the schema i s v er y c o mp l e x s o that a quer y ca nno tbeeas ily f o rmu l ated ,o r a user prefers t o search re l e v a n t in f o rmat ion fr o md iff ere n t XML d o cume n ts vi a on equer y.

C on s i der the e x amp l e in Fi gure 1 sh owin gthesameb i b lio graph y data ar -ra n ged in t wo d iff ere n tf o rmats .In th i scase , auserca n qu i ck ly i ssue a ke ywo rd quer y X  Philip , 2006 , xml  X  t oo bta in a li st o fa n s w ers .No de # 4 book a n d no de # 8 article will be retur n ed as re l e v a n ta n s w ers .F r o m Fi gure 1( a ), w eca n see that only no de # 4 book sat i sfies the search in grequ i reme n t .Fo r no de # 8 article ,only the abstract c on ta in stheterm x m l, as such i td o es no t meet the users  X  X  r i g in a l the sema n t i cs , e . g .on etermca n represe n td iff ere n tmea nin gs in d iff ere n tp o s i-t ion s .In add i t ion, w he n the s i ze o f XML d o cume n ts bec o mes l arger ,i t i sd i fficu l t t o ch oo se the mea nin gfu l a n s w ers fr o mthe l arge n umber o fretur n ed resu l ts .A s a n a l ter n at iv e , users ca n c on struct a nX Quer y t o represe n tth i ss i mp l equer y a n dspec i f y the prec i se c on te x t .B ut there are t wo cha ll e n ges : first , the y ha v et o k now that  X  pub li cat ion X  in the schema i sactua lly prese n ted as book a n d article in b o th schemas ; sec on d , the y ha v et o k now that title a n d author are the ch il d e l eme n ts o f  X  pub li cat ion X , w h il e year c o u l dbee i ther a ch il d o ras i b lin g .W r i t -in ga n accurate X Quer yi s non-tr ivi a l e v e n f o rth i ss i mp l ee x amp l e due t o the c o mp l e x structure o f XML schemas .T heref o re ,i t i sh i gh ly des i rab l et o des i g n a n e w ke ywo rd search s y stem that no t only perm i ts users spec i f y m o re e x press iv e quer i es , but a l s oi mp l eme n tke ywo rd search as effic i e n t ly as structured quer i es .
To address th i spr o b l em , af o rma li zed ke ywo rd quer y c on s i st in g o faset o f l abe l-term pa i rs i sdep loy ed in [ 4 ] a n d [ 8 ]. In [ 4 ], l abe l s in the g iv e n ke ywo rd quer y are used t o fi l ter the no de li sts .In[ 8 ], l abe l sareusedt o c on struct a n s w er temp l ates that in c l udes a ll c o mb in at ion st o gether acc o rd in gt o the schema o f XML data stream .W he n the data stream i sc o m in g , a ll matched no des will n eed t o be ma in ta in ed u n t il the temp l ate -matched resu l ts are ge n erated o rthee n d o f the stream i s reached .Diff ere n tfr o mthem ,in th i s wo rk w ede v e lo pake ywo rd search s y stem ca ll ed XBridge that first in fers the c on te x t o ftheset o f l abe l s a n dtherequ i red in f o rmat ion t o be retur n ed acc o rd in gt oXML data schema . An dthe ni tma y ge n erate a set o fprec i se structured quer i es a n de v a l uate them b y us in ge xi st in g XML search e n g in es .To e v a l uate the qua li t yo ftheresu l ts , in XBridge w epr o p o se a sc o r in gfu n ct ion that takes in t o acc o u n t the structure a n dthec on te n t o ftheresu l ts t o gether .In add i t ion, w ea l s o des i g n a n e x ecut ion t o pr o cess t o p -k ke ywo rd search .

C on s i der the same e x amp l e aga in, the user ma y cha n ge t oi ssue  X  author : Philip , year : 2006 , title : xml  X  as a ke ywo rd quer y t o search the re l e v a n t pub li cat ion s .Fo r th i ske ywo rd quer y, XBridge i sab l et o aut o mat i ca lly c on struct d iff ere n tstruc -tured quer i es f o r XML d o cume n ts c on f o rm in gt o d iff ere n t XML schemas .Fo re x-amp l e , f o rthes o urce schemas o fthet wo XML d o cume n ts sh own in Fi gure 1, w e ca n c on struct t wo sets o f structured quer i es as sh own in Fi gure 2 a n d Fi gure 3, re -spect iv e ly. A fter that ,w eca n e v a l uate the structured quer i es t o a n s w er the o r i g i-n a l ke ywo rd quer y. T he b oo k no de # 4 will be retur n ed as a n s w ers .W ed ono t n eed t oi de n t i f yw hether o r no tthet i t l e no de #5 a n dtheauth o r no de #11 be lon gt o the same pub li cat ion s .A ssuch , the pr o cess in gperf o rma n ce wo u l dbe i mpr ov ed great ly due t o the spec i fic c on te x t in structured quer i es .

C on tr i but ion s o fth i spaper :(1)Fo rd iff ere n tdatas o urces , XBridge ca nin fer d iff ere n tsema n t i cc on te x ts fr o mag iv e n ke ywo rd quer ywi th l abe l-term ,w h i ch ca n be used t o c on struct adapt iv e structured quer i es .( 2 )A sc o r in gfu n ct ion i s pr o p o sed t o e v a l uate the qua li t yo fthea n s w ers b y c on s i der in gthec on te x t o f the ke ywo rd -matched no des a n dthec on te n ts o fthe no des in the a n s w ers .(3) An e x ecut ion p l a n, adapt in gt o the pr o p o sed sc o r in gfu n ct ion, i sdes i g n ed t o effic i e n t ly pr o cess t o p -k ke ywo rd search .( 4 ) E x per i me n ts sh ow that XBridge ca no bta in i mpr ov ed perf o rma n ce ov er pre vio us ke ywo rd search appr o aches .
T he rest o f the paper i s o rga ni zed as f ollow s :S ect ion 2pr ovi des the defi ni t ion o f XML schema a n dprese n ts h ow t oi de n t i f y the c on te x t o ftermsa n dder iv ethe retur n ed no des .S ect ion 3 pr o p o ses a sc o r in gfu n ct ion t o e v a l uate the qua li t yo f retur n ed a n s w ers .S ect ion 4 descr i bes o ur XBridge s y stem a n dthea l g o r i thms f o rc on struct in ga n de v a l uat in gthege n erated structured quer i es .T he e x per i-me n ta l resu l ts are rep o rted in S ect ion 5. Fin a lly, w ed i scuss the re l ated wo rk a n dc on c l ude the stud yo fth i s wo rk in S ect ion 6 a n d S ect ion 7 , respect iv e ly. In th i s sect ion, w esh ow h ow t oi de n t i f y the c on te x ta n dthet y pes o fretur n no des f o rake ywo rd quer yw. r . t .XML schema .H ere ,w euse XML schema tree t o represe n t the structura l summar yo f XML d o cume n ts .Fo rma lly, ake ywo rd quer y c on s i sts o fthef o rms l : k , l :o r : k w here l i sa l abe l a n d k i saterm in [ 4 ]. T he quer y m o de lino ur wo rk XBridge perm i ts users t o d i st in gu i sh the sema n t i cs o fpred i cates fr o mtheretur n ed no des , such as w ee x te n d l : t o l :  X  a n d l :?. T he f o rmer mea n sthat on e no de sh o u l de xi st in the retur n ed a n s w ers w here the no de  X  stag n ame i ssamet o the l abe l l a n dthe no de  X  s v a l ues ma y be a ny th in g .T he l atter sh ow s that the in f o rmat ion o fthe no des will be retur n ed as a n s w ers i fthe no des  X  tag n ame i ssamet o the l abe l l .
 Definition 1. (XML Schema Tree) An XML Schema Tree is defined as T =( V , 2.1 Identifying Context of Keywords F r o mtheset o f l abe l sg iv e nin ake ywo rd quer y, w eca nin fer the c on te x ts o fthe terms f o radatas o urce based on i ts c on f o rmed XML schema . Each no de in a n XML d o cume n t , a lon g wi th i ts e n t i re subtree , t y p i ca lly represe n ts a rea l-wo r l d e n t i t y. Si m il ar ly, g iv e n a li st o f l abe l s l 1 , ..., l n a n da nin put XML schema tree T , a n e n t i t yo fthese l abe l sca n be represe n ted wi th a subtree o f T such that i t c on ta in sat l east on e no de l abe l ed as l 1 , ..., l n .W edefi n ether oo t no de o fthe subtree as a master e n t i t y.
 Definition 2. (Master Entity) Given a set of labels { l i | 1  X  i  X  n } and an XML B ased on D efi ni t ion 2 , amastere n t i t y ma y c on ta in on e o rm o re tha non eschema no des tak in ga l abe l as the i rtag n ames .I f on emastere n t i t yno de only c on ta in s on eschema no de f o reach l abe l, w eca n d i rect ly ge n erate F OR a n d WH ERE c l auses .Fo re x amp l e ,l et q ( year : 2006 , title : xml , author : Philip ) be a ke ywo rd quer yov er the XML d o cume n t d 2 in Fi gure 1( c ). B ased on the schema t 2 in Fi gure 1( d ), w eca no bta in t wo master e n t i t i es book a n d article .Sin ce the mas -ter e n t i t y book only c on ta in s on e no de l abe l ed as year , title a n d author re -spect iv e ly, w eca n d i rect ly c on struct  X  X o r $ b in b i b lio graph y/ b i b / b oo k  X  a n d  X  Philip  X ) X . Si m il ar ly, w eca n pr o cess a no ther master e n t i t y article .T he c on-structed quer i es are sh owninFi gure 3.

I f on emastere n t i t yno de c on ta in sm o re tha non e no des tak in gthesame l abe l, t o c on struct F OR a n d WH ERE c l auses prec i se ly, w e n eed t oi de n t i f y a n dc l uster the no des based on the sema n t i cre l e v a n ce o fschema no des wi th in the master e n t i t y. To d o th i s ,w ema y dep loy the on t olo g y k nowl edge t o prec i se ly est i mate the sema n t i cre l e v a n ce bet w ee n schema no des .How e v er , the c o mputat ion add in g add i t ion a l measureme n tma y be e x pe n s iv e .T heref o re ,in th i spaper w e wo u l d li ke t oin fer the sema n t i cre l e v a n ce o ft wo schema no des b y c o mpar in gthe i r desce n da n t attr i butes o rsube l eme n ts .Fo re x amp l e , g iv e n a ny t wo schema no des v 1 a n d v 2 a n d v 2 are sema n t i c -re l e v a n t no des i fthe y h ol d : semi ( v 1 ,v 2 )  X   X  .H ere  X  i sthe s i m il ar i t y thresh ol d .I f  X  i ssett o0. 8 , the ni tmea n sthat v 1 a n d v 2 c on ta in 8 0% s i m il ar attr i butes o rsube l eme n ts .

C on s i der the same quer y q a n dthed o cume n t d 1 in Fi gure 1( a ). B ased on the schema t 1 in Fi gure 1( b ), w ek now there e xi sts on emastere n t i t y bib that c on ta in s on e no de wi th the l abe l year a n dt wo no des wi th the same l abe l s title a n d author respect iv e ly. In th i scase ,w efirstc l uster the fi v e no des as C : { year , { title , author } book , { title , author } article } bib , a n dthe ni de n t i f yw hether o r no tthesubc l usters in C are sema n t i c -re l e v a n tschema no des .Fo r in sta n ce , a l th o ugh {} book a n d {} article ha v ed iff ere n t l abe l s , b o th o fthemc on ta in the same no des title a n d author ,i. e ., the t wo no des book a n d article c on ta in 100% s i m il ar attr i butes .T heref o re , the c l uster C i spart i t ion ed in t o t wo c l usters : C 1 : { year , { title , author } book } bib a n d C 2 : { year , { title , author } article } bib .W he n a ll subc l usters ca nno tbepart i t ion ed aga in, w eca n ge n erate d iff ere n tsets o f F OR a n d WH ERE c l auses .Fo r C 1 ,w eha v e  X  X o r $ b in b i b lio graph y/ b i b  X  f o r {} bib a n d  X  X o r $ b2 in $ b / b oo k  X  f o r be represe n ted as  X  X  here $ b /y ear = X  2 006 X  a n dc on ta in s ($ b2 / t i t l e , X  X  m l X ) a n d Si m il ar ly, w eca n pr o cess C 2 t o ge n erate i ts F OR a n d WH ERE c l auses .Fi gure 2 sh ow sthee x pa n ded structured quer i es .

T he c on te x ts o fthetermsca n be i de n t i fied b y c o mput in ga ll the p o ss i b l e master e n t i t i es fr o mthes o urce schemas first , a n dthe n spec i f yin g the prec i se paths fr o m each master e n t i t y t oi ts l abe l sb y check in gthesema n t i c -re l e v a n t schema no des . O n ce the c on te x ts are o bta in ed ,w eca n ge n erate the F OR a n d WH ERE c l auses o f the structured quer i es f o rake ywo rd quer y. By spec i f yin g the deta il ed c on te x t in F OR c l auses ,w eca nli m i tthera n ge o fe v a l uat in gthe structured quer i es ov er the XML data s o urces ,w h i ch ca ni mpr ov etheeffic i e n c y o fpr o cess in gtheke ywo rd quer i es .
 2.2 Identifying Returned Nodes G iv e n ake ywo rd quer y q = { l i : k i | 1  X  i  X  n } a n da nXML schema tree T =( V, E, r, Card ), w ema y retr i e v easet o fmastere n t i t i es V m  X  V f o r q w. r . t . T based on the ab ov ed i scuss ion. In th i s sect ion, w e will der iv etheretur n ed no des only b yi de n t i f yin gthet y pes o fthemastere n t i t i es V m .Fo ra ny master e n t i t y v m  X  V m ,i fCard ( v m )= X  *  X , w eca n determ in e that the no de v m ca n be take n as retur nno des in the c o rresp on d in gRE TU R N c l auses because the no de represe n ts the rea l e n t i t y at the c on ceptua ll e v e l. How e v er ,i fCard ( v m ) =  X 1 X , the no de v m ma yno treprese n ta n e n t i t y. In th i scase ,w epr o be i ts a n cest o r no des u n t il w efi n d i ts n earest a n cest o r v a , such that Card ( v a )= X  *  X .
C on s i der a no ther ke ywo rd quer y q ( title : xml , author : Philip )ov er the XML d o cume n t d 1 c on f o rm in gt o t 1 .W eareab l et oo bta in t wo master e n t i t i es book a n d article .Sin ce Card ( book )= X  *  X  a n dCard ( article )= X  *  X , w eca n take them as the retur nno des in the c o rresp on d in gRE TU R N c l auses .How e v er ,i fusers i ssue a s i mp l equer y q ( t i t l e :x m l) ov er d 1 , the master e n t i t yo fth i squer yi sthe title that i s only a n attr i bute o ftheb oo k o rart i c l e no des .In th i scase ,w eca n trust that users wo u l d li ke t o see the in f o rmat ion o fthe w h ol ee n t i t y( b oo k o rart i c l e ), rather tha non es in g l e attr i bute .T heref o re , t o ge n erate mea nin gfu l RE TU R N c l auses ,w eha v et o e x te n dthet i t l e no de t oi ts pare n tb oo k o rart i c l e no desastheretur nno des because b oo k o rart i c l e no des be lon gt o * -no de t y pe .
I fthereares o me l abe l-term pa i rs in the f o rm o f { l j k :? | 1  X  k  X  m  X  n  X  1  X  j  X  n } in q = { l will c o mpute the master e n t i t yo f { l j k } a n duse i tt ow rap a ll retur nv a l ues o f l k in the RE TU R N c l ause .T h i s i s because users prefer t o see th o se no des wi th the l abe l s { l j k } as the tag n ames . G iv e n ake ywo rd quer y q a n da nXML schema tree T , aset o f structured quer i es Q ma y be c on structed a n de v a l uated ov er the data s o urce c on f o rm in gt o T f o r a n s w er in g q .T he a n s w er t o the XML ke ywo rd quer y q ma y be a b i g n umber o f re l e v a n t XML fragme n ts .In c on trast , the a n s w er t o the t o p -k ke ywo rd quer yi s a no rdered set o f fragme n ts ,w here the o rder in gre fl ects h ow c lo se ly each frag -me n tmatchestheg iv e n ke ywo rd quer y. T heref o re ,only the t o p k resu l ts wi th the fu n ct ion c on s i sts o fthec on te x t o ftheg iv e n terms a n dthe w e i ght o feachterm .
L et a fragme n t A be a n a n s w er o fke ywo rd quer y q .I t i struethat w eca n determ in e a structured quer y q i that matches the fragme n t A .T h i s i s because w e first c on struct the structured quer y q i fr o mtheke ywo rd quer y q a n dthe no bta in the fragme n t A b y e v a l uat in g q i ov er XML data .T heref o re ,w eca n c o mpute the c on te x tsc o re o f the fragme n t A b y c on s i der in g the structure o fthequer y q i . Definition 3. (Context Score) Assume the structured query q i matching the answer In o rder t o e ff ect iv e ly capture the w e i ght o feach in d ivi dua lno de ,w earem o t i-v ated b y the tf  X  idf w e i ght m o de l. Diff ere n tfr o m I R research ,w ee x te n dthe gra n u l ar i t yo fthem o de l fr o md o cume n t l e v e l t o e l eme n t l e v e l. In tu i t iv e ly, the tf o faterm t i in a no de v i represe n ts the n umber o fd i st in ct o c -curre n ces wi th in the c on te n t o f v i w h il ethe idf qua n t i fies the e x te n tt ow h i ch the no des v wi th the same tag n ame as v i in XML d o cume n t no de set V d c on ta in the term t i .T he fe w er v i no des w h o se c on te n ts in c l ude the term t i , the l arger the idf o faterm t i a n da no de v i .Wi th o ut lo ss o fge n era li t y, w e will a l s o assume that the w e i ght v a l ue o feach no de i s no rma li zed t o be rea ln umbers bet w ee n0 a n d 1. Definition 4. (Weight of Individual Keyword) The answer A contains a set of Definition 5. (Overall Score of Answer) Given a generated structured query q i and A ssume q c on s i sts o f three pa i rs  X  author : Philip , year : 2006 , title : xml  X . W ee v a l uate the ke ywo rd quer y q ov er the XML d o cume n t in Fi gure 1( c ). A fter that , the frag -me n t book in the b ox will be retur n ed as a n a n s w er .B ased on the pre -c o mputat ion, w eca n get the w e i ght o feachke ywo rd -matched no de in the fragme n t w here w e assume each term only o ccurs on ce a t i me in the c o rresp on d in g no des .

A cc o rd in gt o Equat ion 1, Equat ion 4 , Equat ion 5, w efi n d that the ov era ll sc o re o fa n a n s w er i sequa l t oi ts c on te x tsc o re w he n the w e i ght o feachke ywo rd i ssett o1( the ma xi ma lv a l ue ). T heref o re , the c on te x tsc o re ca n be take n as the upper b o u n d o fthea n s w er . In o ur XBridge s y stem , f o rag iv e n ke ywo rd quer y, w efirstc on struct a set o f structured quer i es Q based on the l abe l s in the ke ywo rd quer y a n dthe XML schemas ,i. e ., quer y structur in g .T he n Q will be s o rted acc o rd in gt o the i rc on te x t sc o re based on D efi ni t ion 3. A fter that ,w egetaquer y q i  X  Q wi th the h i ghest c on te x tsc o re fr o mtheset o f structured quer i es a n dse n d i tt oX Quer y e n g in e .W e will e v a l uate the quer y q i ov er XML data a n dretr i e v ea ll the resu l ts that match q .A t l ast ,w e will pr o cess a ll the curre n tresu l ts ,i. e ., c o mput in gthe ov era ll sc o re f o reachresu l ta n dcach in gthe k resu l ts wi th the h i gher ov era ll sc o res .A fter w e c o mp l ete the e v a l uat ion o fthequer y q i ,w e n eed start a n e wloo pt o pr o cess a no ther structured quer y that c o mes fr o m the curre n tset { Q  X  q i } u n t il the t o p k qua li fied resu l ts ha v ebee n f o u n d .Nowl et us d i scuss the deta il ed pr o cedures o fquer y structur in ga n de x ecut ion p l a n. 4.1 Query Structuring Quer y structur in g i sthec o re part o f XBridge w here w ec o mpute the master e n t i-t i es ,in fer the c on te x ts a n dder iv etheretur nno des .To search the master e n t i t i es qu i ck ly, D e w e yn umber i susedt o e n c o de the XML schema . G iv e n ake ywo rd quer y q = { l i : k i | 1  X  i  X  n } a n da nXML schema tree T =( V, E, r, Card ), w e first retr i e v ea li st o f no des V i  X  V f o reach l i in T a n ds o rt them in a desce n d in g o rder .To c o mpute master e n t i t i es ,w epr o p o se t wo appr o aches :(1) Pipeline: W e take each no de v i fr o mthe li st V i w here | V i | = m in {| V 1 | , | V 2 | , ..., | V n |} a n d c o mpute the N C A(n earest c o mm on a n cest o r )o f v i a n dthe no des in the o ther li sts V j (1  X  j  X  n  X  j = i )in aseque n ce .A t l ast ,w epreser v ethe N C Ano des as the master e n t i t y ca n d i dates in V m ; a n d ( 2 ) Pipeline+  X  : W he nw egeta ny no de v ix fr o m V i ,w ema y take i ts n e x t no de v ix +1 as a thresh ol d  X  i fthe no de v ix +1 e xi sts in V i .D ur in gthec o mputat ion o f N C A, w e only pr o be the subset o f no des V in the o ther li sts such that f o r v  X  V w eha v e v  X  v ix +1 .A sa n o pt i m i zat ion appr o ach , the sec on d on eca n reduce the n egat iv ec o mputat ion s o f N C Aw h il e i tca no bta in the same structured quer i es as the first on ed o es . Algorithm 1. C on struct in g structured quer i es
Sin ce the subtree o famastere n t i t y v m ma y c ov er on e o rm o re tha non eschema no des l abe l ed wi th the same l abe l a n dthe no des ma y ha v ed iff ere n tsema n t i c re l e v a n ces ,w ede v e lo pafu n ct ion C l uster Do ma in() t oi de n t i f y a n dc l uster the no des match in g wi th the l abe l s l i (1  X  i  X  n )in thesubtreeacc o rd in gt o the l abe l sa n d the data t y pes o fthe i r attr i butes o rsube l eme n ts .Fo reachc l uster c , w ed ono tge n erate a structured quer yi fthec l uster c only c on ta in sapart o fthe l abe l s in the g iv e n ke ywo rd quer y. Other wi se ,w ec on struct a structured quer y f o rthec l uster c .In th i scase ,w efirstge n erate a set o f F OR c l auses acc o rd in g t o the c l ass i fied c l usters in the c l uster c a n dthe n c on struct a WH ERE c l ause f o r c .Fin a lly, aRE TU R N c l ause i sder iv ed b yi de n t i f yin gthet y pe o fthemaster e n t i t yno de v m .A fter a ll the c l usters are pr o cessed ,w ema y ge n erate a set o f structured quer i es Q .T he deta il ed pr o cedure has bee n sh own in Al g o r i thm 1. 4.2 Execution Plan for Processing Top-k Query G iv e n ake ywo rd quer y q a n d XML d o cume n ts D c on f o rm in gt oXML schemas , w ema y ge n erate a set o f structured quer i es Q .Too bta in t o p -k resu l ts , as i mp l e meth o d i st o e v a l uate a ll the structured quer i es in Q a n dc o mpute the ov era ll sc o re f o reacha n s w er .An dthe nw ese l ect a n dretur n the t o p k a n s w ers wi th the k h i ghest sc o res t o users .How e v er , the e x ecut ion i se x pe n s iv e w he n the n umber o f structured quer i es o rretr i e v ed resu l ts i s l arge .

To i mpr ov etheperf o rma n ce ,w edes i g n a n effic i e n ta n dd yn am i ce x ecut ion p l a n p o ss i b l eb y detect in gthe in termed i ate resu l ts . Our bas i c i dea i st o first s o rt the ge n erated structured quer i es acc o rd in gt o the i rc on te x tsc o res , a n dthe n e v a l u -ate the quer ywi th the h i ghest sc o re w here w etakethec on te x tsc o re o fthe n e x t quer y as the curre n tthresh ol d .T h i s i s because the w e i ght o feachke ywo rd i s Algorithm 2. Dyn am i cE x ecut ion Pl a n assumed t o be set as 1( the ma xi ma lv a l ue ). In th i scase , the ov era ll sc o re wo u l d be equa l t o the c on te x tsc o re .T heref o re ,i fthereare k o rm o re tha n k resu l ts ,w e will c o mpute the i r ov era ll sc o res based on Equat ion 5 a n dcache k resu l ts wi th the k h i ghest sc o res .A tthesamet i me ,w e will c o mpare the sc o res o fthe k resu l ts a n d the thresh ol d .I fa ll the sc o res are l arger tha n the thresh ol d ,w e will st o pquer y e v a l uat ion a n dretur n the curre n t k resu l ts ,w h i ch mea n s no m o re re l e v a n tresu l ts e xi st .Al g o r i thm 2 sh ow s the deta il ed pr o cedure o f o ur e x ecut ion p l a n. W e i mp l eme n ted XBridge in J a v aus in gthe A pache X erces XML parser a n d B erke l e y DB.To ill ustrate the e ff ect iv e n ess a n deffic i e n c yo f XBridge ,w ea l s o i mp l eme n ted the S tack -based a l g o r i thm [9] because the o ther re l ated appr o aches in [10,11,1 2 ] are b i ased t o the d i str i but ion o ftheterms in the data s o urces .All the e x per i me n ts w ere carr i ed o ut on a P e n t i um 4 ,wi th a C PU o f 3 G H za n d 1 G B o fR AM, ru nnin gthe Win d ow s XP o perat in gs y stem .W ese l ected the Si gm o d Rec o rd XML d o cume n t (500 k ) a n dge n erated three DBLP XML d o cume n ts as the dataset .In th i spaper ,w ee v a l uated the f ollowin gke ywo rd quer i es : q 1 ( author : David , title : XML ) a n d q 2 ( year : 2 00 2 , title : XML ).

A s w ek now, the S tack -based a l g o r i thm ma y a voi ds o me u nn ecessar y c o m -putat ion sb y e n c o d in gthed o cume n ts wi th the D e w e y scheme .B ut i thast o them ma yno tpr o duce the resu l ts .How e v er , XBridge ca nin fer the prec i se c on-te x ts o fthep o ss i b l eresu l ts based on the s o urce schemas bef o re quer y e v a l uat ion. T heref o re , XBridge ca no utperf o rm the S tack -based a l g o r i thm .Fo re x amp l e , the S tack -based a l g o r i thm spe n t 1 88ms t o e v a l uate q 1 on Si gm o dRec o rd .x m lw h il e XBridge only used 78ms t o pr o cess the same ke ywo rd search .In add i t ion, i fthe s i ze o fa nXML d o cume n t in creases , m o st o fthet i me i tma y c on ta in m o re no des that match a s in g l eke ywo rd .B ut the n umber o fretur nno des that match a ll the ke ywo rds ma yno tbe in creased s i g ni fica n t ly. In th i scase , the perf o rma n ce o fquer y e v a l uat ion ma y be re l at iv e ly decreased .

Fi gure 4 ( a ) a n d Fi gure 4 ( b ) ill ustrate the t i me c o st o fb o th meth o ds w he n w ee v a l uate q 1 a n d q 2 on the g iv e n three DBLP datasets respect iv e ly. F r o mthe e x per i me n ta l resu l ts ,w efi n dthat in XBridge the cha n ge in t i me i s no t o b vio us w he n the s i ze o f dataset i s l ess tha n 50M. B ut w he n the s i ze o fd o cume n t i s n ear ly 7 0M, the pr o cess in g speed w as decreased b y 8 0%. T h i s i s because c o mpared wi th db l p 01 o rdb l p 0 2 , db l p 03.x m l c on ta in sahuge n umber o f no des that match each s in g l eke ywo rd but fa il t o c on tr i bute t o retur nno des .T he figures a l s o sh ow s that XB r i dge wo u l d o utperf o rm ov er S tack -based a l g o r i thm in o ur e x per i me n ts .
Fi gure 4 ( c ) a n d Fi gure 4 ( d ) c o mpare the perf o rma n ce o fthemeth o ds w he n k i s n ear ly same t o pr o cess ge n era l quer y. How e v er , XBridge depe n ds on the d yn am i c no m o re qua li fied resu l ts e xi st in the data s o urce . Ge n era lly, XBridge i ssu i tab l et o pr o cess t o p -k ke ywo rd search a n dm o st o fthet i me ,i t only n eeds t o e v a l uate parts o fthege n erated structured quer i es .B ut w he n the n umber o fre l e v a n tresu l ts i s l ess tha n k , XBridge a l s on eeds t o e v a l uate a ll the ge n erated structured quer i es .Fo r e x amp l e , as w ek now the d o cume n tdb l p 01 only c on ta in s2qua li fied a n s w ers f o r the ke ywo rd quer y q 1 .W he n the spec i fied v a l ue o f k i s 10, there i s no cha n ge o fthe resp on se t i me .T heref o re ,in th i sspec i a l case ,i ts effic i e n c y ca nno tbe i mpr ov ed . Rece n t ly, ke ywo rd search has bee ninv est i gated e x te n s iv e ly in XML databases . G iv e n ake ywo rd quer y a n da nXML data s o urce , m o st o fre l ated wo rk [9,5,10,11,1 2 ] first retr i e v ethere l e v a n t no des match in g wi th e v er y s in g l eke ywo rd fr o m the data s o urce a n dthe n c o mpute L C A s o r SL C A s o fthe no des as the resu l ts t o be re -tur n ed .X R ANK [9] a n d S chema -F ree X Quer y[5] de v e lo pstack -based a l g o r i thms t o c o mpute L C A sastheresu l ts .[10] pr o p o ses the In de x ed Loo kup Eager a l g o-r i thm w he n the ke ywo rds appear wi th s i g ni fica n t ly d iff ere n tfreque n c i es a n dthe S ca n Eager a l g o r i thm w he n the ke ywo rds ha v es i m il ar freque n c i es .[13] takes the a n d SL C A. [11,1 4 ] takes the s i m il ar appr o aches as [10]. B ut i tf o cuses on the d i s -cuss ion sh ow t oin fer RE TU R N c l auses f o rke ywo rd quer i es w. r . t .XML data .[1 2 ] des i g n sa MS appr o ach t o c o mpute SL C A sf o rke ywo rd quer i es in mu l t i p l e w a y s . In add i t ion, there are se v era lo ther re l ated wo rk that pr o cess ke ywo rd search b y in tegrat in gke ywo rds in t o structured quer i es .[15] pr o p o ses a n e w quer yl a n guage XML-Q Linw h i ch the structure o fthequer y a n dke ywo rds are separated .[5] em -beds ke ywo rds in t oX Quer y t o pr o cess ke ywo rd search .Diff ere n t ly, XBridge first c on structs the st ructured quer i es f o rtheg iv e n ke ywo rd quer y based on the s o urce schemas a n dthe n e v a l uates the ge n erated structured quer i es in aseque n ce .Fo r at o p -k ke ywo rd quer y, XBridge ca n retur n the k qua li fied a n s w ers as ear ly as p o ss i b l e wi th o ut pr o cess in ga ll the ge n erated quer i es .

Ra n k in g schemes ha v ebee n stud i ed f o r XML ke ywo rd search .XK e ywo rd [16] ra n ks quer y resu l ts acc o rd in gt o the d i sta n ce bet w ee n d iff ere n tke ywo rds in the d o cume n t .T he ra n k in gscheme in XS Earch [ 4 ] takes the summar yo fthe w e i ghts o fa ll ke ywo rds wi th in aresu l tt o e v a l uate i ts re l e v a n ce .T he ra n k in gscheme in X Ra n k [9] takes in t o acc o u n tresu l tspec i fic i t y, ke ywo rd pr oxi m i t y a n dh y per lin k a w are n ess t o gether .How e v er ,o ur sc o r in gfu n ct ion c on s i ders the c on te x t o fthe matched ke ywo rds a n dthe w e i ght o feachke ywo rd -matched no de .
 In th i spaper ,w eha v epr o p o sed XBridge -a n adapt iv e XML ke ywo rd search appr o ach t o pr o cess ke ywo rd search b y c on struct in ge ff ect iv e structured quer i es , w h i ch ca ni mpr ov etheperf o rma n ce o fke ywo rd search great ly b y spec i f yin gthe prec i se c on te x ts o fthec on structed stru ctured quer i es .In add i t ion, w eha v ea l s o pr ovi ded a sc o r in gfu n ct ion that c on s i ders the c on te x t o ftheke ywo rds a n dthe w e i ght o feachke ywo rd in the data s o urce t o gether . Espec i a lly, a n e x ecut ion p l a n f o rpr o cess in gt o p -k ke ywo rd search has bee n des i g n ed t o adapt t oo ur pr o p o sed sc o r in gfu n ct ion.

