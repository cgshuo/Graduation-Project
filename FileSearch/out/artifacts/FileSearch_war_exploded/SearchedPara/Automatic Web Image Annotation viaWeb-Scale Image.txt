 A ut o mat i c I mage Anno tat ion(AIA) has attracted a great dea lo f research in ter -ests [11, 7 ,6,10,13], due t oi ts cr i t i ca l r ol e in ke ywo rd based i mage retr i e v a l a n d br ow s in g .How e v er , the lon g l ast in g Semantic Gap pr o b l em st ill cha ll e n ges the e ff ect iv e n ess o f AIA. I t i surge n tt oi mpr ov ethea nno tat ion perf o rma n ce t o meet the in creas in grequ i reme n t o fpract i ca l app li cat ion s .

Rece n t ly, the c o rre l at ion bet w ee n a nno tated ke ywo rds w as e x p lo red t oi m -pr ov etheperf o rma n ce o f i mage a nno tat ion. Fo r in sta n ce , ke ywo rd set { sk y, grass } usua lly has a l arger pr o bab ili t y t o be a ni mage capt ion tha n { o cea n, grass } . O nly afe wwo rk had bee n d on et oinv est i gate the ke ywo rd c o rre l at ion on AIA, such as C LM [ 8 ] a n d Wo rd N et -based appr o aches [9,16]. T he f o rmer em -p loy ed the c o-o ccurre n ce o fke ywo rds in d i rect ly b y us in gE M a l g o r i thm t o fit a l a n guage m o de l f o rge n erat in ga nno tat ion s ,w h il ethe l atter made use o f Wo rd -N et t o e x p loi ttheh i erarch yo ftheke ywo rds . Zh o u [ 22 ] pr o p o sed a ni terat iv e i mage a nno tat ion appr o ach w h i ch l ear n the ke ywo rds c o rre l at ion b y X  X  ut o mat i c Lo ca lAn a ly s i s  X . Ru i et a l. [13] prese n ted a b i part i te graph re in f o rceme n tm o de l (B GR M) f o r i mage a nno tat ion, w h i ch e x p loi ttheke ywo rds sema n t i cc o rre l at ion based on a l arge -sca l e i mage database ma in ta in ed b y themse lv es .In ge n era l, m o st o f the pre vio us wo rk in fer the c o rre l at ion sbet w ee n ke ywo rds acc o rd in gt o the c o-o ccurre n ce o fke ywo rds in the tra inin gset o rtheh i erarch yo f l e xi c on. How e v er , f o rthesce n ar io o fa nno tat in g W eb i mages , the ke ywo rds c o rre l at ion est i mat ion i sm o re subt l ea n dc o mp li cated in s o me e x te n t , due t o the pr o b l ems o ftheu nli m i ted n umber o fke ywo rds a n dthe in tr in s i cd iv ers i t yo f W eb data space .
 To i mpr ov etheperf o rma n ce o fthe W eb i mage a nno tat ion, w ee x p loi t W eb So c i a lM ed i a , that i s ,w eusethep o pu l ar W eb P h o t o C o mmu ni t y s i te Fli ckr [1] as a W eb -S ca l e I mage S ema n t i c S pace t ol ear n the ke ywo rds c o rre l at ion graph . T he nw epr o p o se a nov e lW eb i mage a nno tat ion appr o ach ,w h i ch in c o rp o rates the ke ywo rds c o rre l at ion sa n dthesema n t i cc on tr i but ion s o f vi sua l features a n d ass o c i ated te x ts o f W eb i mage . Our meth o dc on ducts the pr o bab ili t y est i mat ion us in g no t only W eb i mage te x tua l a n d vi sua l features , but a l s o the sema n t i c c o rre l at ion sbet w ee n the ke ywo rds a n da nno tated ke ywo rd subset ass i g n ed pre -vio us ly. In part i cu l ar , f o rthe W eb sca l esema n t i cspace l ear nin g ,w e subm i t sema n t i cke ywo rds o fthea nno tat ion vo cabu l ar y t oFli ckr t oo bta in the Re l a -t iv e T ag ( R T) 1 set as the n e i ghb o rh oo df o rke ywo rd graph ge n erat ion. W eest i-mate the c on tr i but ion o fthete x tua l features in der ivin gthesema n t i cs o f W eb i mage b y a n e w c on stra in tp i ece wi se pe n a l t yw e i ghted regress ion m o de l. T he ke y-wo rd w h i ch br in gs the ma xi mum a nno tat ion c on d i t ion a l pr o bab ili t yi sse l ected t o be added in t o the a nno tat ion set . E x per i me n ts on 4 ,000 rea lW eb i mages data set dem on strate the e ff ect iv e n ess o f the pr o p o sed W eb AIA appr o ach .
Our c on tr i but ion sareasf ollow s : 1. W ee x p loi tthep o pu l ar W eb P h o t o C o mmu ni t y s i te Fli ckr as a W eb -S ca l e 2 .W epr o p o se a n e w c on stra in tp i ece wi se pe n a l t yw e i ghted regress ion m o de l t o
T he rest o f the paper i s o rga ni zed as f ollow s .S ect ion 2 in tr o duces the re l ated wo rk .S ect ion 3 prese n ts o ur W eb i mage a nno tat ion frame wo rk .W ed i scuss the e x per i me n tresu l ts in S ect ion 4 .S ect ion 5 c on c l udes th i spaper . In rece n t y ears , much atte n t ion has bee n pa i dt o the research on AIA. V ar i-o us o fmach in e l ear nin gtech ni ques o rstat i st i ca l m o de l sha v ebee n emp loy ed t o de v e lo pa v ar i et yo f AIA m o de l s ,w h i ch ca n ma inly be d ivi ded in t o t wo categ o r i es  X  pr o bab ili st i cm o de l based meth o ds a n dc l ass i ficat ion based meth o ds . T he first categ o r y f o cuses on in ferr in gthec o rre l at ion s o r join tpr o bab ili t i es be -t w ee ni mages a n da nno tat ion ke ywo rds .T he represe n tat iv e wo rk in c l ude T ra n s -l at ion Mo de l(TM) [ 4 ], C M R M[ 7 ], CR M[10],MB R M[6], etc .T he c l ass i ficat ion based meth o ds tr y t o ass o c i ate ke ywo rds o rc on cepts wi th i mages b yl ear nin g c l ass i fiers .M eth o ds li ke SVM-based appr o ach [3] a n d M u l t i-in sta n ced l ear nin g [ 2 1] fa ll in t o th i scateg o r y. How e v er , these appr o aches d ono tf o cus on a nno tat -in g W eb i mages a n d n eg l ect the a v a il ab l ete x tua lin f o rmat ion o f W eb i mages , s o the y ca nno tbeapp li ed d i rect ly t o a nno tate W eb i mages .

S a n ders on a n d D u nlo p [1 4 ]w ere am on g the first t o m o de li mage c on te n ts us in gac o mb in at ion o fte x ts fr o mass o c i ated W eb pages , h ow e v er , the y m o d -e l ed the c on te n ts as a bag o fke ywo rds wi th o ut a ny structure in f o rmat ion. W a n g et a l. [ 2 0] pr o p o sed a search -based a nno tat ion s y stem  X  X nnoS earch .T h i ss y s -tem requ i res a nini t i a l ke ywo rd as a seed t o speed up the search b yl e v erag in g on te x t -basedsearchtech nolo g i es .Li et a l. [11] pr o p o sed a search a n dm inin g frame wo rk t o tack l ethe AIA pr o b l em . G iv e n a n u nl abe l ed i mage , c on te n t -based i mage retr i e v a l( C BI R )w as first ly perf o rmed t o fi n daset o f vi sua lly s i m il ar i mages fr o ma l arge -sca l e i mage database .T he n c l uster in g w as perf o rmed t o fi n dthem o st represe n tat iv eke ywo rds fr o mthea nno tat ion s o ftheretr i e v ed i m -age subset .T hese ke ywo rds , after sa li e n c y ra n k in g ,w ere used t o a nno tate the u nl abe l ed i mages e v e n tua lly. I ts a nno tat ion perf o rma n ce w as h i gh ly depe n de n t on the resu l t o fC BI R .F e n geta l. [5] descr i bed a b oo tstrapp in gframe wo rk b y ad o pt in gac o-tra inin g appr o ach involvin gc l ass i fiers based on t wo o rth o g on a l set o ffeatures  X  X i sua l a n dte x tua l. T se n geta l. [1 8 ] bu il tt wo m o de l sbased on i mage vi sua l a n dte x tua l features , a n d w e i ghted them t o a nno tate the u nl abe l ed W eb i mages .X ueta l. [19] prese n ts a W eb I mage S ema n t i c An a ly s i s (WISA) s y stem t o adapt iv e ly m o de l the d i str i but ion s o fthesema n t i c l abe l s o fthe w eb i mage on i ts surr o u n d in gte x t .

So me pre vio us wo rk dem on strated that ke ywo rd c o rre l at ion sca n be ut ili zed t o i mpr ov etheperf o rma n ce o f i mage a nno tat ion. Jin et a l. [ 8 ] address the pr o b l em b y us in gE M a l g o r i thm t o fit a l a n guage m o de l t o ge n erate a n a nno tat ion ke y-wo rd subset .How e v er , the a nno tat ion speed i s low er due t o the E M a l g o r i thm . M u ni rath n am et a l. [16] pr o p o se a h i erarch i ca l c l ass i ficat ion appr o ach f o r i mage a nno tat ion. T he y use a h i erarch yin duced on the a nno tat ion wo rds der iv ed fr o m Wo rd N et .Jin et a l. [9] make use o fthek nowl edge -based Wo rd N et a n dmu l t i p l e e vi de n ce c o mb in at ion t o pru n e i rre l e v a n tke ywo rds . Zh o ueta l. [ 22 ] pr o p o sed a ni terat iv e i mage a nno tat ion appr o ach w h i ch l ear n the ke ywo rds c o rre l at ion b y  X  X  ut o mat i c Lo ca lAn a ly s i s  X . W a n geta l. [ 2 ] a nno tate i mage in the pr o gress iv e w a yw h i ch e x p lo re the ke ywo rds c o rre l at ion b y the c o-o ccurre n ce o fke ywo rds in the tra inin g i mages .T a n geta l. [1 7 ] pr o p o se a graph -based l ear nin g appr o ach SSM Rt o measure the pa i r wi se c on cept s i m il ar i t y. How e v er , these appr o aches usua lly l ear n the ke ywo rds c o rre l at ion sacc o rd in gt o the appeara n ce o fke ywo rds in the tra inin gset o r l e xi c on, a n dthec o rre l at ion ma yno tre fl ect the rea l c o r -re l at ion f o ra nno tat in g W eb i mages . Rece n t y ears ,wi th the rap i dde v e lo pme n t o f W eb s o c i a l k nowl edge n et wo rk , the app li cat ion s w h i ch e x p loi tthema n ua lly tagg in gres o urces o f W eb i mage , such as Fli ckr , ha v e attracted researcher  X  sgreat in terests [15]. In th i spaper ,w epr o p o se t ol ear n the ke ywo rds c o rre l at ion graph b y e x p loi t in g W eb s o c i a l k nowl edge n et wo rk Fli ckr . 3.1 The Overview of Web Image Annotation Framework Fo rag iv e n tra inin gset L train , each l abe l ed i mage J  X  L train i sdem o ted b y J = {
W, V, T } ,w here the a nno tat ion ke ywo rds W i sab in ar y a nno tat ion ke ywo rd v ect o r in d i cat in g w hether a ke ywo rd i sthea nno tat ion o f J ; V i saset o freg ion-based vi sua l features o f J ; a n d T = { T 1 ,T 2 , ... ,T n } i saset o fthet y pes o f ass o c i ated te x ts .
 Our a nno tat ion frame wo rk a nno tates W eb i mages in a ni terat iv e w a y[ 22 , 2 ]. T hat i s , g iv e n a n e wi mage I , the a nno tat ion ke ywo rds set after i  X  1i terat iv e i s de no ted as AN i  X  1 ( i =1 , ... ,k,AN 0 = null ,w here k i sthes i ze o fthea nno tat ion ke ywo rds set ). In the i th i terat iv e , the pr o bab ili t yo fke ywo rd w t o be a nno tated f o r I i s : w here I V a n d I T i sthe vi sua l a n dte x tua l feature o f i mage I respect iv e ly. A s -sum in gthat P ( w )i su ni f o rm ly d i str i buted , a n d I V a n d I T are in depe n de n t ,w e ha v e : T he n No te that the ma xi mum li ke li h oo dest i mat ion f o r P ( w | AN i )i s : w here # { J | w, AN i  X  J } de no tes the n umber o f i mages in w h i ch ke ywo rd w a n d ke ywo rds subset AN i appear t o gether .Fo ra li m i ted tra inin gset ,w he n | AN i | i s l arge , the c o-o ccurre n ce o f w a n d AN i i srare ,w h i ch mea n sthere will be ma ny li m i ted tra inin gsetd o es no tmea ni t n e v er happe nin the future , thus sm oo th in g i s n ecessar y.

In the te x t in f o rmat ion retr i e v a l, sm oo th in g i susua lly perf o rmed b y mak in g use o fa l arge backgr o u n dc oll ect ion t o ass i g n a non-zer o pr o bab ili t y t o the u n-happe n ed e v e n t in curre n tm o de l. Fo r in sta n ce ,w eca n ch oo se a l arger tra inin g i mage set f o rsm oo th in g .How e v er ,i t i shardt oo bta in suffic i e n ttra inin g i mages f o rthe W eb -sca l e i mage a nno tat ion task .T heref o re ,w epr o p o se t o e x p lo re the W eb So c i a lM u l t i med i at oin fer sema n t i cc o rre l at ion, rather tha n ma in ta inin g a l arge sca l e i mage database b yo urse lv es ,o rus in gthe li m i ted tra inin g i mage set t o ge n erate the ke ywo rds c o rre l at ion graph .I t i se x pected that W eb -sca l e sema n t i cspace l ear nin g i sm o re fl e xi b l et o dea lwi th the sca l ab ili t y pr o b l em o f W eb i mages a nno tat ion.

D e no t in gtheke ywo rds c o rre l at ion graph as Sim , the nw eca n sm oo th the ma xi mum li ke li h oo dest i mat ion f o r P ( w | AN i ) b y the ke ywo rd sema n t i cs i m il ar -i t y graph [1 2 ] as f ollow s : w here  X  i sthesm oo th in gfact o r . V i sthe v erte x set o f the graph Sim . Degree + ( v ) i sthe o uts i de degree o f v erte x v in Sim , that i s :
Diff ere n tke ywo rds ha v ed iff ere n t i mp o rta n ce f o rsm oo th in g , here Degree + ( v ) captures the i mp o rta n ce o fke ywo rd v , that i s ,i fke ywo rd v only ass o c i ates t o fe w ke ywo rds , the n v i sm o re i mp o rta n tf o rsm oo th in gtha n th o se ass o c i at in gt o m o re ke ywo rds . Eq n.5 sh ow s that the m o re s i m il ar bet w ee n ke ywo rd v a n d w , the m o re i mp o rta n t o fke ywo rd v f o rsm oo th in g the pr o bab ili t yo f w .
T he vi sua l ge n erat ion pr o bab ili t y P ( w | I V )i sc o mputed as the e x pectat ion ov er the i mages in the tra inin gset , that i s :
P ( w | I V )  X  P ( w, I V )= w here P V ( I | J i )i s the pr o bab ili t yo f I be in gge n erated fr o m J i based on the i r vi sua l features . P ( w | J i ) de no tes the pr o bab ili t yo f wo rd w ge n erated fr o m J i , w h i ch ca n be est i mated b y ma xi mum li ke li h oo dest i mat ion. An d w e assume P ( J ) i su ni f o rm ly d i str i buted .
 B ased on the assumpt ion that the reg ion s o f i mage are in depe n de n teach o ther , P
V ( I reg ion a l ge n erat ion pr o bab ili t y P V ( f j | J i ) ca n be est i mated b ynon-parameter ker n e l-based de n s i t y est i mat ion [10]. 3.2 The Keyword Correlation Graph Generation by Web Semantic T he d i rected ke ywo rd c o rre l at ion graph i sde no ted b y Sim = &lt;V,E&gt; ,w here the v erte x set V c on s i sts o fa ll the a nno tat ion ke ywo rds , a n dad i rected edge fr o mke ywo rd w t o ke ywo rd w i sde no ted b y e ww  X  E w h i ch i sestab li shed i f a n d only i f Sim ( w, w ) &gt; 0, w here Sim ( w, w )i sthes i m il ar i t y bet w ee n w a n d w .No te that in o ur ke ywo rd c o rre l at ion graph , Sim ( w, w ) ma yno tequa l t o Sim ( w ,w ).

Fi gure 1 g iv es the ge n erat ion pr o cess o fke ywo rds c o rre l at ion graph .Fi rst ly, w e subm i tthea nno tat ion vo cabu l ar y t oFil ckr t o retr i e v ea n e i ghb o rh oo d I m -age S ema n t i c S ubspace (ISS), w h i ch i sc o mp o sed o ftheretur n ed Re l ated T ags ( R T)(o rc on cepts ). In o rder t o further e x p lo re the c o rre l at ion sbet w ee n the pa i rs o fc on cepts ( ke ywo rds ) that ca nno tbed i rect ly o bta in ed fr o m Fli ckr ,w ebu il da d i rected graph G = &lt;V ,E &gt; t o represe n tthesema n t i cc o rre l at ion s o bta in ed fr o m Fli ckr d i rect ly, w here the v erte x set V c on s i sts o ftheke ywo rds in ISS, a n d ad i rected edge fr o mke ywo rd w t o ke ywo rd w i sde no ted b y e ww  X  E w h i ch i s estab li shed i fa n d only i f w  X  RT ( w ), w here RT ( w )i stheset o fRe l ated T ags ( R T) o f w .

T he defi ni t ion o fthed i rected graph G sh ow sthat ,i fc on cept ( ke ywo rd ) w i s s i m il ar t o w , the n there e xi sts a path fr o m v erte x w t o w .I fc on cept ( ke ywo rd ) w i s access i b l efr o m w 1 a n d w 2 in G , a n dthe n umber o f the access i b l ec on-cept ( ke ywo rd )o f w 1 i s l arger tha n w 2 , the nw eca n c on c l ude that the s i m il ar i t y bet w ee n w 1 a n d w i ssma ll er tha n the on ebet w ee n w 2 a n d w .T heref o re w eca n est i mate the sema n t i cs i m il ar i t y bet w ee n w a n d w as f ollow s : w here dis ( w, w ) refers t o the d i sta n ce fr o m w t o w in graph G ,w h i ch i smea -sured b y the l e n gth o fthesh o rtest path fr o m w t o w in graph G , acess ( w )i s the set o f the access i b l ec on cepts ( ke ywo rds ) fr o m w , a n d | acess ( w ) | a n d | ISS | de no tes the n umber o fke ywo rds in acess ( w ) a n d ISS respect iv e ly. 3.3 The Estimation of Textual Generation Probability P ( w | I T ) The Object Function. W ead o pt the lin ear bas i ce x pa n s ion m o de l f o rest i mat -in gthete x tua l ge n erat ion pr o bab ili t y P ( w | I T ). L et H ( T ) de no te the set o fe x-pa n s ion fu n ct ion s ,w h i ch represe n ts the ass o c i ated te x ts T a n dthe i r in teract ion structures ;  X  = {  X  1 , ... , X  N } represe n ts the w e i ghts o fsema n t i cc on tr i but ion s o f H ( T ) t o I .T he n the pr o bab ili t y P ( w | I T ) ca n be est i mated b y a lin ear m o de l as f ollow s : w here N i sthe n umber o f o r i g in a l a n de x te n ded parts o ftheass o c i ated te x ts . The Estimation of Probability p ( w | h j ( T )). W ee x te n d the structure o f the ass o c i ated te x ts t o further e x p lo re the re l at ion sh i pbet w ee ni mage sema n t i c l abe l sa n dthed iff ere n tt y pes o fass o c i ated te x ts .T hat i s ,w ec on s i der the h i gher o rder pa i r wi se structures o fthed iff ere n tt y pes o ftheass o c i ated te x ts b y est i-w here ( k = l )  X  n a n d p ( w | T i ) ca n be est i mated b y the te x tua l mu l t ino m i a l d i str i but ion est i mat ion [ 22 ]. H ere w edefi n ethee x pa n s ion fu n ct ion set H ( T ) t o represe n ttheass o c i ated te x ts a n dthe i rh i gher -o rder in teract ion structures i de n-data T a n dthe i r o rder 2 in teract ion structures .T he pr o bab ili t yo fke ywo rd w be in gge n erated b y h j ( T )  X  H ( T )i sest i mated as f ollow s : The Estimation of Weights  X  ( w, I ). A cc o rd in gt o Eq n.9, the w e i ghts d i s -tr i but ion are cruc i a l t o est i mate the te x tua l ge n erat ion pr o bab ili t y P ( w | I T ). T hus w epr o p o se the f ollowin gc on stra in tp i ece wi se pe n a li zed w e i ghted regres -s ion m o de l t ol ear n the w e i ght d i str i but ion  X  ( w, I ): 1. Fo rag iv e n u nl abe l ed i mage I a n dthec o rresp on d in gass o c i ated te x ts T , a n e i ghb o rh oo d in the tra inin g W eb i mage set ( de no ted as neighbor ( I )) i sfirst ge n erated u n der the vi sua l a n dte x tua l features s i m il ar i t y measureme n t . 2 .Sin ce the te x tua l structures ha v eh i gher o rder ,w e i mp o se d iff ere n tpe n a l t y t o the ass o c i ated te x ts a n dthe i rpa i r wi se h i gher o rder structure .W epart i t ion the o rder in teract ion structures . Our a i m i st o shr in kage the regress ion c o effic i e n ts b yi mp o s in ga L 2 pe n a l t y t o each part ,w here the pe n a l t y parameters are  X  = {  X  1 , ... , X  k b y the li m i tat ion o fthetra inin gdata ,w e add the add i t ion a l pr io rk nowl edge in t oo ur regress ion m o de l. D e no te the pr io rk nowl edge as D pre ,w h i ch i sthe set o f i mp o rta n td i me n s ion s , a n dthec o rresp on d in gpe n a l t y parameter i s  X  pre . T he n the c on stra in tp i ece wi se pe n a l t yw e i ghted regress ion est i mat ion i sdefi n ed as f ollow s : Eq n.11 equa l st o the f ollowin gc on stra in tp i ece wi se pe n a l t yw e i ghted res i dua l sum o fsquares : w here K i sthe n umber o f i mages in neighbor ( I ), X ij = p ( w | h j ( T )), y i refer t o the li ke li h oo d o fthesema n t i cc on cept w as the l abe lo f i mage J i ( i th W eb i mage in neighbor ( I )), a n d T i de no tes the te x tua l features o f i mage J i ,  X  i de no tes the s i m il ar i t y bet w ee ni mage I a n d J i . All the data used in o ur e x per i me n ts are cra wl ed fr o m In ter n et .T he i mage data set i s o bta in ed b yHTML pars in ga n dsma ll i c on sarefi l tered o ut .T he s i ze o f the i mage data set L i s4 000. W euseaheur i st i cmeth o dt o ge n erate tra inin g set aut o mat i ca lly fr o mthed ownlo ad W eb pages .T he i dea i ss i m il ar t o tf /i df heur i st i c , here w ec on s i der t wo k in ds o ftermfreque n c y, that i s , the freque n c y o ftheke ywo rd w appears in on et y pe ass o c i ated te x t , a n d the freque n c y that acc o u n ts f o rthe n umber o fthet y pes o fass o c i ated te x ts that w appears in. T he heur i st i cru l e i s that the ke ywo rd wi th h i gher freque n c yi sm o re i mp o rta n t f o rthec o rresp on d in g W eb i mage .A t l ast ,w e o bta in 6 4 0 tra inin g i mages , a n d the rest i susedastestset . Each test i mage i sma n ua lly l abe l ed wi th 1-7ke y-wo rdsasgr o u n dtruth .T he vo cabu l ar yo fma n ua l a nno tat ion sc on s i sts o fab o ut 13 7ke ywo rds . Each i mage o f L i ssegme n ted in t o36 b lo bs based on fi x ed s i ze gr i d , a n d 5 28 d i me n s ion a lvi sua l feature f o reachb lo b i se x tracted acc o rd in gt o MPEG 7sta n dards . Each i mage ass o c i ates 5 t y pes o fass o c i ated te x ts :i mage fi l e n ame ,ALT te x t (ALT tag ), capt ion te x t (H ead in gtag ), ass o c i ated te x ta n d page t i t l e .

W epart i t ion ha l f o fthetra inin gsetas v a li dat ion set t o determ in ethem o de l parameters , such as the sm oo th in g parameter  X  , the regu l ar i zat ion parameter  X  , X  2 a n d  X  pre .T he i r v a l ues are set t o0.6,0. 7 ,0. 4a n d 0. 2 5 respect iv e ly in o ur e x per i me n ts .T he recall , precision a n d F1 measures are ad o pted t o e v a l uate the a nno tat ion perf o rma n ce .T hat i s , g iv e n aquer y ke ywo rd w ,l et | W G | de no te the n umber o fhuma n a nno tated i mages wi th l abe l w in the test set , | W M | de no te the n umber o f i mages a nno tated wi th the same l abe l b yo ur a l g o r i thm . T he recall , precision a n d F1 are respect iv e ly defi n ed as : Recall = | W M  X  W G | | W ke ywo rds i ssett o5, a n dthea v erage recall , precision a n d F1 ov er a ll ke ywo rds are ca l cu l ated as the e v a l uat ion s o fthe ov era ll perf o rma n ce .
 4.1 The Overall Performance of Our Annotation Approach Fi gure 2 c o mpares the Mo de lI ter appr o ach pr o p o sed in th i spapera n dthe Mo de lFMD appr o ach [1 8 ]. T he Mo de lFMD m o de l d on X  tusetheke ywo rds c o r -re l at ion a n d l ear n afi x te x tua l m o de l f o rest i mat in gthesema n t i cfr o mthe ass o c i ated te x ts o f W eb i mage in the tra inin g stage .A cc o rd in gt o the figure , the perf o rma n ce o f o ur appr o ach i ssuper io rt o the Mo de lFMD meth o ds i g ni f -i ca n t ly. Our a nno tat ion frame wo rk in c o rp o rates t wo appr o aches : the ke ywo rds c o rre l at ion a n dthec on stra in tp i ece wi se pe n a l t yw e i ghted regress ion, w e n eed t o test the i re ff ect iv e n ess f o r i mpr ovin gtheperf o rma n ce o f W eb i mage a nno tat ion respect iv e ly. 4.2 The Effectiveness of the Web Semantic Space Learning Based To test the e ff ect iv e n ess o f o ur W eb sema n t i cspace l ear nin gbasedke ywo rds c o rre l at ion, w ec o mpare the perf o rma n ce o f o ur a nno tat ion appr o ach w h i ch uses the W eb c on cept space l ear nin gbasedke ywo rds c o rre l at ion(Fli ckr ) a n d the Wo rd N et -based ke ywo rds c o rre l at ion(Wo rd N et ), aga in st the a nno tat ion ap -pr o ach wi th o ut us in gke ywo rds sema n t i cc o rre l at ion(noKW C o r ), that i sthe pr o bab ili t y est i mat ion( Eq n.1) d o es n X  tc on s i der the ke ywo rds c o rre l at ion. Bo th meth o ds use the c on stra in tp i ece wi se pe n a l t yw e i ghted regress ion m o de l t o es -t i mat ion the sema n t i cc on tr i but ion o ftheass o c i ated te x ts , a n dc on s i der the c on tr i but ion o f vi sua l features .Fi gure 3 g iv es the c o mpar i s on resu l t .
A cc o rd in gt oFi gure 3, the perf o rma n ce o f Fli ckr a n d Wo rd N et b o th be supe -r io rt onoKW C o r ,w h i ch sh ow that the ke ywo rds c o rre l at ion c o u l dbea n e ff ect iv e w a y t o sm oo th the ma xi mum li ke li h oo dest i mat ion t o e x p loi ttheke ywo rds c o r -re l at ion in the pr o cess o f W eb i mage a nno tat ion. M ea nw h il e ,w ef o u n d that the perf o rma n ce o f Fli ckr i s better tha nWo rd N et s i g ni fica n t ly, th i sdem on strates o ur W eb sema n t i cspace l ear nin gmeth o d i sm o re e ff ect iv etha nWo rd N et f o r measur in gtheke ywo rd c o rre l at ion t oi mpr ov etheperf o rma n ce o f W eb i mage a nno tat ion. 4.3 The Effectiveness of Prior Constraint and Piecewise Penalty W e i ghted Regress ion(PPW R )in the pr o cess o fass o c i ated te x ts based ge n erat ion pr o bab ili t y est i mat ion, w ec o mpare the perf o rma n ce o f o ur appr o ach ( Ctr +PPW R ) a n d the appr o aches w h i ch only c on s i der the c on tr i but ion o fCtr o r PPW R .T he base lin e appr o ach d o es no tc on s i der the pr io rk nowl edge c on stra in ta n dapp li es R i dge Regress ion( RR ) t ol ear n the w e i ghts d i str i but ion. All appr o aches c on s i der the c on tr i but ion s o ftheke ywo rds c o rre l at ion a n dthe vi sua l features .Fi gure 4 g iv es the c o mpar i s on resu l t .

T he resu l ts in Fi g . 4sh ow that :( a )T he  X  Ctr + RR  X  appr o ach i ssuper io rt o RR appr o ach .T h i sdem on strates that i t i se ff ect iv et oi mp o se the pr io rk nowl edge c on stra in ts in the regress m o de l f o r W eb i mage sema n t i ca nno tat ion. ( b )T he  X  Ctr +PPW R  X  appr o ach i ssuper io rt o X  Ctr + RR  X  appr o ach .I tdem on strates that PPW Ra l g o r i thm i sm o re e ff ect iv etha n r i dge regress ion in l ear nin gthe w e i ght d i str i but ion o ftheass o c i ated te x ts a n dthe i rh i gher o rder structures w he n a nno tat in g W eb i mages .
 U b i qu i t o us i mage res o urces on the W eb ha v e lon gbee n attract iv et o research c o mmu ni t y. W eb -based AIA i sapr o m i s in g w a y t o ma n age a n dretr i e v ethefast gr owin g W eb i mages .How e v er ,i ts e ff ect iv e n ess st ill n eeds t o be i mpr ov ed .In th i spaper ,w ede v e lo ped a n de v a l uated a nov e l aut o mat i c W eb i mage a nno tat ion appr o ach ,w h i ch in c o rp o rates the i mage sema n t i cke ywo rds c o rre l at ion sa n dthe sema n t i cc on tr i but ion s o f vi sua l features a n dass o c i ated te x ts o f W eb i mage .In part i cu l ar ,w eest i mate the ke ywo rds sema n t i cc o rre l at ion b y us in g W eb i mage sema n t i cspace l ear nin g , as w e ll as adapt iv e ly m o de l the d i str i but ion o fsema n t i c l abe l s o f W eb i mages on the i rass o c i ated te x ts b y us in g the pr o p o sed c on stra in t p i ece wi se pe n a l t yw e i ghted regress ion. T he e x per i me n ta l resu l ts dem on strate that b o th the W eb sema n t i cspace l ear nin gbasedke ywo rds c o rre l at ion a n dthe c on stra in tp i ece wi se pe n a l t yw e i ghted regress ion m o de li mpr ov etheperf o rma n ce o f W eb i mage a nno tat ion s i g ni fica n t ly.
 T h i s wo rk w as part i a lly supp o rted b y the N atura lS c i e n ce Fo u n dat ion o fCh in a u n der Gra n t No.60 4 0301 8a n d No.60 77 30 77 .

