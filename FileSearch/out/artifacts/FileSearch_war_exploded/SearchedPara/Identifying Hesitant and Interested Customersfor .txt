 Recent years have witnessed the development of the social networking services and famous companies usually have their official accounts on many social net-work sites. For instance, Samsung, Huawei, HTC, and Xiaomi, all have their official accounts on Weibo, (weibo.com, the largest social platform in China). As users on social networks will follow the users (companies) they are interested in and receive messages and information posted by these followees [ 1 ], social net-work sites (e.g., Twitter, Facebook and Weibo) have become new resources and platforms to conduct marketing campaign [ 2 ].
 Like traditional marketing strategies, it is also essential to figure out one or a few customer segments to target on for social marketing [ 3 ]. These targeted users should have high utilities, and then the marketing efforts (e.g., personalized rec-ommendation [ 4 ], viral marketing [ 5 ]) could be concentrated on them. Generally speaking, both user profiles [ 6 ] and user X  X  historical consumption records [ 7 ]are helpful for measuring their potential interests to the given company (product). On the other hand, since multiple companies simultaneously have their accounts in the social network, they will significantly influence social users X  choice [ 8 , 9 ]. Thus, when conducting targeted social marketing, the given company should consider both user interests and the social influences as they will contribute to the users X  final consumption behaviors.
 find three candidate targeted users u 1 , u 2 , u 3 may be interested in the products of Samsung (Interested Customers, i.e., mined based on their consumption records). Then, the problem becomes who is the most valuable user among them? Sup-pose there are two other competing companies of Samsung: Huawei and HTC, and suppose we could compute that the influence value distribution from these three companies to the three users are [0 . 8 , 0 . 1 , 0 . 1] for u [0 . 35 , 0 . 34 , 0 . 31] for u 3 , respectively. Let X  X  take u u 3 has the probability of 35%,34%,31% to be influenced by Samsung, Huawei, HTC, respectively. If these three users showed the similar interests to Samsung, then the most valuable user for targeted marketing should be u and u 2 . Actually, u 1 is already a big fun of Samsung and thus we do not have to market on him, while u 2 is deeply influenced by our competitor (i.e., HTC) and thus he will have lower probability to choose our product means we should spare our energy for other users, e.g., u deeply influenced by any company and has no bias on any company (we call these users as the  X  X esitant Customers X ). If we pay attention on u may choose our products. Thus, u 3 is actually the most valuable user that Sam-sung should market on. In summary, we argue that when the companies want to market their products, it X  X  energy-efficient for them to target on the users, who not only have the interest to buy the specific product (e.g., one Smartphone) but also have no bias on any company and have not yet decided to choose which company X  X  products (such as Samsung Galaxy or HTC one).
 like u 3 , as an Identifying Hesitant and Interested Customers (IHIC) problem. As a matter of fact, there are several challenges along this line, e.g., how to compute the multiple companies X  influences on users efficiently, how to measure the user hesitancy and the user interest. To address these challenges and to solve the IHIC problem effectively and efficiently, we design a novel framework. Specifically, we first propose an efficient algorithm(MIP) to compute the multiple companies X  influences on users, and identify the hesitant customers by using hesitant functions. Then, we use the collaborative filtering approaches to measure the user X  X  utilities (interests). Finally, the targeted users are those having the best balanced hesitancy scores and utility scores. Extensive experimental results demonstrate that the targeted users selected by our framework could bring in more benefit for the company than the users who are only interested or hesitant. study of targeted marketing that considers both user interests and multiple social influences. Our solution could identify the most profitable potential targeted users to optimize the marketing performance. Meanwhile, the proposed targeted marketing approach is a general framework and each step could be open to some other algorithms. Marketers incline to conduct marketing campaign on social networks by employ-ing various techniques and approaches [ 2 ], and some of them focus on (1) iden-tifying the targeted customers who maybe interested in the specific product, or (2) exploiting the information diffusion effect to influence social customers X  consumption decisions.
 For identifying targeted customers [ 10 , 11 ], the techniques that are related to recommender systems could be easily adopted. Along this line, there are gener-ally three types of techniques: content-based, collaborative filtering and social recommendations. The content-based methods leverage users X  profile (e.g., age, job, and location) to predict whether the user X  X  interest matches the product [ 12 ]. In contrast, collaborative filtering usually relies on users X  past behaviors without requiring the explicit profiles[ 13 ]. Furthermore, the social recommendation takes the users X  social ties into consideration and predicts a user X  X  interest based on his neighbors X  interests [ 10 ]. In real world scenarios, hybrid techniques are also widely used, for instance, Jamali et al. proposed to combine the social-based and the collaborative filtering approaches together to infer customer preference [ 7 ]. Unfortunately, few existing studies in this category pay attention to mining the influences coming from the companies to customers.
 For exploiting the information diffusion effect, i.e., social influence, resear-chers first try to learn the information propagation probability between two social neighbors [ 14 , 15 ]. Then some related work proposed to model/simulate the entire process of information propagation, e.g., Independent Cascade (IC) model [ 16 ] and Linear Threshold (LT) model [ 17 ] are two widely used ones. However, both of them require Monto Carlo simulations to estimate the influ-ence spread, which is very time-consuming; some efficient (or tractable) influ-ence models are proposed, such as the stochastic information flow model [ 18 ] and the linear social influence (Linear) model [ 19 ]. Though it X  X  convenient for these models to get the influences of a given node on others, the computation of the influences from multiple seed nodes on a given node is still inefficient. Actually, we will address this inefficiency problem by proposing a novel way of computing the influences from multiple companies on users. Meanwhile, note that social influence is often used to change customers X  consumption decisions in viral marketing (e.g., via social influence maximization) [ 5 , 9 ], in this paper, we will show that it could also be helpful for targeted social marketing (i.e., identifying targeted customers). The nodes in social networks could generally be classified into two categories, namely users X  personal accounts and companies X  official accounts. Usually, each company may maintain several official accounts at the same time. E.g., both  X  X iaomi mobile X  and  X  X iaomi Company X  are all official accounts of the Xiaomi Company on Weibo. Here, let the directed graph G ( V, E, T ) represent a social network, where V = C  X  U = { 1 , 2 , ..., c } X  X  c +1 , ..., n nodes in this network, i.e., C = { C 1 ,C 2 , ..., C | C | |
C | companies X  official accounts and U is the users X  personal account set with |
U | = n  X  c users. Specifically, C i denotes the set of associated accounts of the i-th company, thus we have | C | i =1 C i = c . E represents the relationship/links between nodes and T =[ t ij ] n  X  n is the influence propagation probability matrix. For each directed link ( i, j )  X  E , t ij  X  (0 , 1) denotes the influence propagation probability from node j to i 2 ; for any link ( i, j ) /  X  by the same company. We use a user-item matrix R | U | X | M | past consumption behaviors/records, where M is the item set. In R , the value of r uj denotes user u  X  X  consumption for item j . In fact, the detailed value r depends on the applications. E.g., it could be binary, indicating whether users bought this product before. Also, it could be a rating value, (e.g., 1 to 5 rating). market their products, it is energy efficient to target on the most valuable users that have not been deeply influenced by any company (being  X  X esitant X ) and are also interested in the marketed products (being  X  X nterested X ). In this paper, we formulate this problem as an identifying hesitant and interested customers (IHIC) problem.
 past consumption behaviors R | U | X | M | , when a company wants to market a product t to K customers with energy efficient, our goal is to automatically identify these K targeted customers S who have both the hesitant quality and interested quality. Fig. 1 shows the flowchart of the proposed framework for solving the IHIC prob-lem. Given a social network G ( V, E, T ) and the users X  consumption behaviors R | U | X | M | , our proposed framework could identify the hesitant users and the inter-ested users in parallel. On one hand, we first propose an efficient MIP(Multiple Influence Propagation) algorithm to construct an influence matrix F where f ij represents the j -th company X  X  influence on node i . Then we define a function H ( u ) to measure the hesitancy of user u  X  U . On the other hand, based on R | U | X | M | , we infer the user preference by using collaborative filtering approaches. For each user u , we use a utility function r ( u, t ) to measure the user u  X  X  interest. Finally, we combine the two functions H ( u )and r ( u, t ) together and use a parameter  X  to balance the effect between user hesitancy and user interest. In the following subsections, each step is illustrated in detail. 4.1 Identifying Hesitant Users In social networks, multiple companies influence each user simultaneously and the users also influence each other. Since we only identify the hesitant users, we focus on the influences of companies on users.
 Multiple Influence Computation. Following the modeling of influence propagation [ 19 ], we propose to compute the influence of j -th company on each node as: where N ( i ) is the neighbors of node i . In this definition, if the node i belongs to the j -th company X  X  official accounts, then f i  X  j = 1,which means a company always influence its official accounts; if i belongs to the other companies X  official accounts, we assign f i  X  j = 0 for the reason that the company X  X  official accounts is hard to be influenced by other companies; if i represents a user, we assign the f to the sum of the influence of j -th company on user i  X  X  neighbors. Based on the definition above, we define an influence matrix F the first c rows represent the company nodes and the remaining resent user nodes; the j -th column represents the j -th company X  X  influence on nodes. We propose the MIP (Multiple Influence Propagation) algorithm to con-struct F =[ f ij ] | V | X | C | , and Alg. 1 shows the details of the MIP. There are 4 steps: (1) Initialize the F 0 (lines 1-7 in Alg. 1 ); (2) Multiple influences propaga-tion (line 9 in Alg. 1 ); (3) Reset the companies X  influences (lines 10-15 in Alg. 1 ); (4) Repeat step 2 and 3 until F converges (lines 8-16 in Alg. 1 ). We should note that step 3 is critical: Instead of letting the company nodes X  influences  X  X ade away X , we reset their values to the entries in F 0 , so the influence probability mass is concentrated on these company nodes.
 Algorithm 1. The MIP algorithm For better presentation, we split F after the c -th row into 2 sub-matrices and split T after the c -throwandthe c -th column into 4 sub-matrices, namely, we are solely interested in F | U | . Obviously, F | U | = T are the top c rows and the remaining | U | rows of the initial F .Accordingtostep1, we know that F 0 c = 0 . It X  X  obvious that F | U | =( I  X  point. Therefore, the iterative algorithm converges to the unique fixed point. F | V | X | C | ), we use a hesitant function H ( u ) to measure the user hesitancy and identify the hesitant users (like u 3 ,not u 1 and u 2 in the example of Introduction). The higher of the value H ( u ), the higher the  X  X egree of hesitancy X  of the user u . If the value H ( u ) is very low, that means the user u is influenced deeply by some company. In this part, we introduce two different hesitant functions and compare their performance in the experiments. The first H from the information entropy [ 20 ] and the second H D ( u ) is transferred from the information diversity [ 21 ]; their formulations are as below: Please note that other rational functions H ( u ) are also acceptable, such as the Gini index [ 20 ]. 4.2 Identifying Interested Users Besides measuring the user hesitancy, another key point for selecting targeted users is to measure the user interest, i.e., users X  preference on a product and how likely users would consume the product. Many proposed recommendation methods estimate a utility function r ( u, t ) to measure the user u  X  X  interest on item t and predict how the u will like t [ 13 ]. Since the focus of this paper is not to devise more sophisticated recommendation methods, we choose the two existing methods of collaborative filtering : item-based collaborative filtering (ICF) [ 22 ] and user-based collaborative filtering (UCF) [ 13 ]. The corresponding formulas are as below: where M ( u ) is the items that user u have consumed, S ( u ) is the users who are is the similarity between users u and v ; both of them are computed based on the user X  X  past consumption behaviors R | U | X | M | . In this paper, we choose the Jaccard measure to calculate the similarities, and the formulas are as below: where U k and U t represent the users who have consumed k and t , respectively; I and I v represent the items which have been consumed by u and v ,respectively. Without loss of generality, we use ICF and UCF to select users with highest values as the interested users, and we will experimentally compare the perfor-mance of them. 4.3 Targeted User Selection According to the illustrations above, we could compute the H ( u )and r ( u, t )to measure the user hesitancy and the user interest. Finally, we combine the two characters of user and propose the function P ( u, t ) to measure the overall quality of each user. The final function P ( u, t ) is as follows: where  X  is used to balance the effect of the hesitancy and the interest, and the  X  the  X  , the more we pay on the interest measure. When  X  reduces to 0, the function only considers the user interests, thus the approach turns to traditional collaborative filterings.
 Finally, a set S of K users with the highest value of P ( u, t ) will be selected as the targeted customers for the given company when it wants to market the product t .
 5.1 Experimental Setup The experiments are conducted on real-world social datasets: Weibo and Epin-ions . resent the users or the companies X  official accounts, and edges are nodes X  fol-lowships. When a user posts a message in Weibo, the sending device (e.g., the mobile devices like Samsung Galaxy Note and iPhone5) are also recorded. That is, we can obtain the mobile purchasing behaviors of users by their posted mes-sages. For instance, if a user send messages using Samsung Galaxy Note, we say he is a consumer of Samsung, and then he send another message by using  X  X iaomi 2 X , we say the user is also a consumer of Xiaomi 4 in March 2013. For better illustration, we sample a small network which only contains the verified users and the official accounts of the five( mobile companies (namely, Samsung, Huawei, Xiaomi, HTC and ZTE) specifically, each mobile company contains two or three official accounts(namely, C i =2 or 3). In this way, we could obtain the consuming records R . site. In this site, registered users can submit their personal opinions on some topics such as products, movies or the reviews issued by other users, and assign products or reviews integer ratings from 1 to 5. These ratings and reviews will influence future customers when they are about to decide whether a product is worth buying or a movie is worth watching, and each rating could be regarded as a consumption from a user to an item (product or movie). Every member of Epinions maintains a  X  X rust X  list which presents a social network of trust relationships between users. To use this dataset, we select the users (having the most followers) and treat them as the companies (i.e., for this dataset as each selected user/company has only one account). Then, the items are the opinions/products shown by each user/company.
 each dataset, we split it into a training set and a test set, by selecting the first 80 percentage of the consumptions for training and the remaining ones to be part of the test set. In this way, we could validate the performance of our methods on the test set. 5.2 The Correlation Analysis In this subsection, we use Weibo as an example to show the strong correlations between social follow-links (between users and companies) and users X  consump-tion behaviors.
 First, we calculate the product (mobile) adoption rate of each company X  X  followers and the results are shown in Fig. 2 . From each subfigure (with respect to one company), we could observe that most of the followers adopt each company X  X  products (Due to space limitation, we omit the result on ZTE). For instance, the first subfigure shows the product adoption rate of Xiaomi X  X  followers, where 50% of these followers use the products (cellphones) produced by Xiaomi. Then, we calculate the following rate of the companies X  consumers (the percentage of each company X  X  consumers that follow this given company) and the results are showninFig. 3 . We can see that most of each company X  X  consumers incline to follow this company X  X  accounts. For instance, the first subfigure of Fig. 3 shows that among the users who consumed Xiaomi X  X  products, 71% of them followed Xiaomi X  X  official accounts in Weibo, while only 13%, 8%, 4% of them followed the official accounts of HTC, Huawei and Samsung, respectively.
 The above results demonstrate that there exists an obvious correlation bet-ween the social relations (influence) and the users X  consumption behaviors. Thus, it is necessary to exploit the social influence for targeted marketing. More deeply understanding will be shown in the following subsection. 5.3 Evaluation of the MIP Algorithm We further validate the assumption (the users who are deeply influenced by a company have much higher probability to choose the company X  X  new product) by our MIP algorithm, and then demonstrate the performance of MIP.
 influence matrix F | V | X | C | on the training data. Then we select the top K users who have been deeply influenced by each company j =1 , 2 , ..., 5, and compute the adoption (buy or rate the company X  X  products) rate of these deeply influenced users on the test data, i.e., InfRate. We compare this InfRate with the average adoption rate of all users, i.e., AvgRate. The results are shown in Fig. 4 , where we set K =30for Weibo and K = 500 for Epinion due to the different data sparsity. Specifically, the left and middle subfigures of Fig. 4 are the comparison results on Weibo and Epinion, and the right subfigure shows the Growth Rate of InfRate compared to AvgRate. For instance, On Weibo , the users who are deeply influenced by HTC (Company ID 1 in the right subfigure) have 60% probability to choose HTC X  X  products (the left subfigure) and this rate is 16 times higher than AvgRate (the right subfigure). Once again, we could conclude that the users who are deeply influenced by a company have higher probability to choose the company X  X  new product and lower probability to choose the competitors X . Hence, when conducting targeted marketing, the company should pay more attention to the hesitant customers, since the deeply influenced customers will choose the influencer X  X  product. (such as IC [ 5 ], LT [ 17 ] and Linear [ 19 ]) have been proposed to compute the influ-ence of one node to another, none of them are efficient or suitable for measuring the influences from multiple companies on users. Without loss of generality, we use the recently proposed Linear model (which is both efficient and effective) as the baseline of our MIP algorithm, and the parameter settings (including the entries in T ) are same to that in [ 19 ].
 compute the users X  hesitant value H ( u ). We run the process 100 times for dif-ferent number of companies (i.e., | C | equals to 1,2,..., or 5) and then compare the average runtime of the two methods. The results shown in Fig. 5 demon-strate that MIP is much more efficient and is also invariant to the number of companies. In addition, we compare the average hesitant values ( H ( u ) H ( u ) Linear ) of the randomly selected 25 nodes, and then compute the differ-ence rate ( H ( u ) MIP  X  H ( i ) Linear ) /H ( u ) Linear showninFig. 6 . The results illustrate that the value of H ( u ) are very similar as the difference rate are almost less than 0.05. In other words, MIP has the similar ability to measure the social influence prorogation process as Linear, while MIP is much more efficient for computing the influences from multiple companies on users. 5.4 Evaluation of Function P ( u,t ) In this subsection, we first show the effects of the parameter  X  for final targeted user selection, and then compare the performance of P ( u, t ) with two baselines. Finally, we generalize the P ( u, t ) with different functions of H ( u )and r ( u, t ). Specifically, we choose H E ( u ) to identify hesitant users, and use r ( u, t ) identify interested users (the generality of other functions will be evaluated later). Then the quality function P ( u, t )=  X H E ( u ) /  X  H ( u )+(1 is used to select targeted users (i.e., IHIC). We select two related benchmarks:  X  ICF is short for item-based collaborative filtering, only takes the user inter-est into consideration. Actually, ICF is a special case of IHIC when  X  =0.  X  IHC is short for identifying hesitant customers. The IHC method only con-siders the user hesitancy and is a special case of IHIC when  X  =1for P ( u, t ). The Effects of  X  . We first show whether different values of  X  can help select different targeted customers. For comparison, we first use ICF to identify a targeted user set S ICF . Then we change the values of  X  from 0 to 1 with a stepsize of 0.1, and each time we select another targeted use set S value and compute the Jaccard similarity between the two targeted user sets. We also further compute the Jaccard similarity of the consumed items of the selected users. In practice, the size of the targeted user set is set to 30 and the results are averaged over 50 randomly selected items. The final results are shown in Fig. 7 ; we can see that the larger the  X  , the bigger the difference between the user sets and the consumption behaviors of the selected targeted users. We conclude that users also have different item preferences.
 Performance Comparisons. For a marketing item, we select the targeted users S on the training data by each method. Then, we compute the precision and recall of S on the test data to measure the performance of these methods, e.g., precision equals to the percentage of these targeted users that consumed the item.
 best  X  for our proposed IHIC model. We randomly select 50 items and get the target users by IHIC with different  X  values under different target user respectively, which illustrate that the performance (both precision and recall) of IHIC changes with different  X  ; additionally, IHIC could achieve the better per-formance with some value  X   X  (0 . 1 , 0 . 4). This implies that we could change the performance of selected targeted users by considering the user hesitancy with different weight(  X  ), and choose the  X  leading to the best performance. selected by the three methods (IHIC, ICF, IHC); we set  X  =0 . 2 for better per-formance 6 . Fig. 10 and Fig. 11 show the results of the performance comparisons on Weibo and Epinions respectively. The results illustrate that the traditional recommendation method ICF not always achieve the best results. Nevertheless, IHIC, which considers both the user interest and hesitancy, usually obtains bet-ter performance. This implies that many higher interested users selected by ICF are deeply influenced by another company, and they incline to choose the similar products of the competitor X  X . Hence, it X  X  necessary to consider the user hesitancy when conducting product marketing. erality of the P ( u, i ), that is, we will compare the performance of P ( u, t ) with different H ( u )and r ( u, t ). For better comparisons, we combine these functions reported in Section 4 and propose the following methods to calculate P ( u, t ):  X  X E-ICF. P ( u, t )=  X H E ( u ) /  X  H E ( u )+(1  X   X  ) r ( u, t )  X  X E-UCF. P ( u, t )=  X H E ( u ) /  X  H E ( u )+(1  X   X  ) r ( u, t )  X  HD-ICF. P ( u, t )=  X H D ( u ) /  X  H D ( u )+(1  X   X  ) r ( u, t )  X  HD-UCF. P ( u, t )=  X H D ( u ) /  X  H D ( u )+(1  X   X  ) r ( u, t ) We randomly select 30 items for marketing. For each item, we select tar-geted users ( | S | = 30) by the 4 methods under different  X  validate the precision and recall of the users on the test data. Fig. 12 shows the average precision and recall of these select targeted users on Weibo demonstrate that the performance of the 4 methods are affected by different  X  and all of them could achieve the best performance under some  X  value. For instance, HD-UCF achieves its best performance under  X  =0 . 1. Then, we set  X  =0 . 1 for the 4 methods and use them to select targeted users with different size |
S | =5 , 10 , ..., 50. Fig. 13 shows the average precision and recall of these targeted users; the results demonstrate that the different H ( u )or r ( u, t ) also affect the performance of the selected targeted users. Hence it X  X  necessary to devise more rational hesitant function H ( u ) and propose more accurate r ( u, t ). In summary, when using recommending methods to conduct product mar-keting, we should take both the hesitant quality and the interest of users into consideration. In this paper, we proposed a novel framework to solve the problem of identi-fying hesitant and interested customers (IHIC) for targeted social marketing. Specifically, we first proposed an efficient MIP algorithm to calculate the mul-tiple companies X  influences on users, and defined two hesitant functions H ( u ) to measure the user hesitancy. Then we measure the user interest on items by using two collaborative filtering approaches. Finally, we combined the two types of measures together and proposed the function P ( u, t ) to identify the hesitant and interested customers. Extensive experiments validated the performance of our proposed approaches.

