 Yan Zhuang  X  Simon Fong  X  Meilin Shi Abstract This paper focuses on knowledge empowered automated negotiation systems for buyer-centric multi-bilateral multi-attribute e-Procurement. We propose two knowledge empowered models, namely KERM and KACM. KERM is used for the buyer to determine a list of suppliers which are the best qualified candidates to negotiate with. The use of knowl-edge features largely in the model, which incorporates both the buyer X  X  and supplier X  X  profiles in evaluating a quote. Historical trade records of a supplier contribute to the supplier X  X  profile credit and therefore the rank of the supplier X  X  quote. KERM also allows the flexibility to assign appropriate weights, based on buyer X  X  interests, to each knowledge factor affecting the overall evaluation result of a quote. The resulted list of quotes of high rank is believed to produce satisfactory negotiation result for the buyer. KACM enables an automated conces-sion process, while at the same time facilitates a flexible negotiation via the use of concept switch and tagged rules. Different from other negotiation models, KACM emphasizes the utilization of knowledge originated from the historical negotiation data in estimating and fine-tuning the negotiation parameters, for improving the performance of automated negotia-tion. Graph results show that our software prototype system makes significant improvement in the satisfaction level of negotiation results.
 Keywords Automated negotiation  X  e-Commerce  X  Knowledge management 1 Introduction Buyer-side e-Procurement is usually characterized by that the buyer solely owns and controls the system. Consider an e-Marketplace in which a buyer wants to purchase a product with multiple attributes. Many suppliers may provide the same product but perhaps with different partially matching attributes. The buyer would use the buyer-side system mainly for his own procurement. He is the only buyer in the system, being able to interact with many sellers for the advantage of letting the sellers compete among each other in order to obtain the best deal. One way is done by tendering where the prices and terms quoted by one seller are probably visible to the other sellers, as in the general practice of simple bidding [ 17 ] and various types of auction [ 3 , 11 ]. The other approach is through private negotiation with each selected seller after they have returned their offers in each round [ 12 , 14 ]. Our research work is focused on the latter approach, where there is one buyer that solicits quotes from multiple sellers, evaluates and shortlists the qualified sellers, then proceed to individually negotiates with the selected sellers for the best deal.

Aiming at the efficiency and capability to cover many sellers in a session, high speed and automation are two main requirements to shorten the process time. In practice, one of the approaches to achieve this is to employ autonomous agents [ 7 ] as representatives of human buyers and sellers. In many real-life scenarios it is important that the agents should not only bargain over the price of a product, but also take into account of other variables such as delivery time, payment methods, and any product specific properties which are considered negotiable.

With agent-mediated negotiation in e-Commerce, a big challenge resides in knowledge management. A huge amount of data generated from transactions include but are not limited to products specifications, orders, shipping information, customs information, particulars of traders and related parties, and also possibly dialogues of negotiations. It is a matter of what and how these data could be reused as some form of knowledge in both current and subsequent dealings. Some previous research [ 13 ] attempted fusing knowledge into agent communica-tion languages and negotiation functions, based on mostly rule-based and/or logic-based approaches. Here, we provide an alternative approach in directly integrating knowledge into negotiation functions. 2 Multi-bilateral multi-attribute negotiation life cycle In a buyer-side e-Procurement system, the buyer is engaged in multi-bilateral multi-attribute negotiations with selected suppliers, and will seek for a most satisfactory deal with one of the suppliers from the negotiations. The state of the art of negotiation life cycle is represented by three classical models: Robinson X  X  model [ 15 ], Kersten X  X  phase model of negotiation [ 6 ]on which negotiation support systems (NSSs) are usually based, and Li X  X  negotiation life cycle model [ 10 ]. Robinson X  X  model includes three phases in the negotiation life cycle: analysis, interaction design, and negotiation implementation. Analysis is to describe and formalize the negotiation goals. Interaction is to plan for achieving the negotiation goals by interactions with the counterparts using appropriate techniques. Negotiation implementation is to engage in the interactions using appropriate negotiation protocols and tools. However, there is little work on knowledge utilization on the analysis and negotiation implementation phases. The paper [ 15 ] discusses negotiations in the context of labor/management negotiations as a con-ceptual model. Details about implementing an automated system to support the negotiation life cycle are not there. The conflict resolution methods discussed in the paper are largely based on alternative searching, instead of mutual concession, which is frequently used in e-Business negotiations. Kersten X  X  phase model divides negotiation into three phases: pre-negotiation, conduct of negotiation, and (optional) post-settlement. The model is relatively simple. However, it has not emphasized on knowledge use.
Li X  X  negotiation life cycle model [ 10 ] combines the phases of the above two models and introduces a four-phased model including analysis, design, execution, and post-negotiation analysis. The analysis phase mainly deals with the specifications of negotiation contexts, policies, and goals. The design phase deals with the design and specification of alternative decision X  X ction rules to be used by a negotiation system and strategic rules. The execution phase deals with the processing of negotiation transactions in an automated negotiation sys-tem. The outcomes of negotiation processes are gathered and used in the post-negotiation analysis phase to provide feedback to all the preceding phases. However, as the author claims, We opt to have a model where replied quotes from multiple suppliers would be evaluated together, and multi-lateral negotiation will be subsequently followed. In general, the clas-sical model did not cover the aspects of making use of experience, knowledge, and history negotiation records in the current negotiation.

We therefore extend Li X  X  negotiation life cycle model in two ways. First, in order to locate a group of suppliers that the buyer can potentially negotiate with, an evaluation and ranking phase is needed before the negotiation execution phase. Second, knowledge about buyer X  X  preference, suppliers X  profiles, and experience from past negotiation records should be in some way utilized in both the evaluation and ranking phase, and the negotiation execution phase. Based on the above three models, we propose a four-phased multi-bilateral multi-attribute negotiation life cycle model, as shown below (Fig. 1 ). 3 Knowledge empowered automated agent negotiation model We define the model of knowledge empowered automated agent negotiation as a 5-tuple &lt; C , A , NP , KERM , KACM &gt; .

C stands for clients. Clients in automated negotiation are people who represent the inter-ests of different business enterprises that participate in negotiations [ 10 ]. These people may play different roles and serve different functions in negotiations. For example, the role of the Buyer defines the procurement requirement, preferences scoring, and aggregation methods. The role of the Supplier provides the specifications of products and services. The role of the Negotiation Expert provides the domain knowledge and negotiation expertise needed to conduct a satisfactory automated negotiation.

A stands for agents. Three kinds of agents are defined for performing tasks on behalf of their clients: information agents, knowledge agents, and negotiation agents.

NP stands for negotiation protocol. To conduct an automated negotiation, negotiation agents must follow a well-defined protocol, which specifies what alternative actions can be taken at different states of a negotiation process.

KERM stands for knowledge empowered evaluation and ranking model. This model is used by the buyer to short-list some suppliers which are the best candidates to negotiate with. The knowledge used to assist in the decision making process includes buyer X  X  preferences and suppliers X  profiles. During an automated negotiation process, evaluation of quotes or proposals is also needed to form the counter-proposal.

KACM stands for Knowledge empowered automated concession model. This model is used to compute the concrete concession amount in constructing a counter-proposal during each negotiation round. We extend the Jonker X  X  model [ 9 ] to allow the setting of automated negotiation parameters rely on history records, so that the past experience can be utilized in the current negotiation and better results can be achieved (Table 1 ). 3.1 Agents in the proposed model Knowledge management is important in many scenarios where agent negotiation is performed based on knowledge instead of rules and logics alone. To incorporate necessary negotia-tion knowledge, three kinds of agents are defined in the knowledge empowered automated negotiation model: information agent, knowledge agent, and negotiation agent. The agents from the buyer X  X  perspective are illustrated in Fig. 2 .

An information agent is responsible for manipulating data about the negotiation context stored in a data repository. It works locally on a client X  X  machine, processes on the elemen-tary information provided by the client, and provides information to both knowledge agent and negotiation agent whenever necessary. The role of information agent on behalf of buyer includes specifying procurement requirement, preference scoring and aggregation methods.
A knowledge agent is equipped with knowledge management capabilities. The workspace of it consists of a knowledge repository that keeps the general knowledge, and a rule base that maintains the rules specified by the buyer. A knowledge agent formulates the negotia-tion knowledge from domain knowledge and expertise provided by the negotiation expert. It serves a negotiation agent as a back-end assistant in providing the knowledge which is needed in a negotiation scenario.

Given a negotiation context with all the information specified and knowledge formulated, a negotiation agent is responsible for the following steps: (1) receive a preliminary set of quotes from suppliers; (2) perform assessment on collected quotes and screen for a qualified set of quotes according to buyer X  X  procurement requirement; (3) rank the qualified quotes into a short list of decreasing order of the satisfaction levels perceived by the buyer; (4) select a list of quotes of high rank. For each supplier on the short-list, conduct a bilateral negotiation with the supplier X  X  agent in an automated way. Coordinate and evaluate the multiple bilateral negotiations; (5) Determine the best deal from the multiple bilateral negotiation results. 3.2 Knowledge models Adequate knowledge is important for the buyer to reach a satisfactory deal with his suppli-ers. We propose two models for this purpose: KERM in the quotes evaluation and ranking phase, and KACM for automated negotiation concession. They are designed to operate under a knowledge framework called knowledge bead (KB). More details on the knowledge rep-resentation using KB X  X  and its methodology can be found in [ 4 , 19 ]. 3.2.1 Knowledge empowered evaluation and ranking model (KERM) The proposed evaluation and ranking model provides a quantitative measure of the quotes and suppliers. The buyer applies a utility function over all the collected quotes and their suppliers. The value of the utility function, namely U is a real number ranging from 0 to 1.
Agents are assumed rational; they try to maximize their utilities and behave according to their predefined preferences. The nature of the utility function depends on the negotiation knowledge used in the evaluation. In general, a received quote i is evaluated according to the requirements specified in the RFQ: U RFQ i : Q i  X  R  X  [0, 1].

The utility gives the buyer a basic perception about how much the quote has matched his procurement requirement. Most of the procurement systems [ 1 , 2 , 5 , 16 ] select the best offers based on this quote utility. However, in a real procurement scenario it is quite often for the buyer to take other factors into account. A specific payment method is one example. Besides, if two offered quotes have the same utility, the buyer may prefer a supplier who has a better reputation. The reputation evaluation is based on the experience obtained from the supplier. It comes from the past negotiation and trade records, and is stored in the supplier X  X  profile at the buyer X  X  local knowledge base. The supplier S i which provides the quote Q i is evaluated according to the appropriate knowledge domain (K) other than RFQ: U K i : Q i  X  S i  X  R  X  [0, 1].
 Combining the evaluation results based on both the RFQ and other relevant knowledge, KERM produces a ranked list according to some specific ranking criterion set by the buyer. 3.2.2 Knowledge empowered automated concession model (KACM) After the quotes evaluation and ranking phase, bilateral negotiation with each short-listed supplier is carried out in an automated way in the negotiation execution phase. During the evaluation of a received quote, a negotiation agent may find that some of the requirements of its client are not fully satisfied. In this case, some of these requirements need to be changed via exchanging a series of counter-proposals. This usually involves adjusting the concession in constructing the next counter-proposals along the way.

In finding the concession amount to be made in a counter-proposal, two types of conces-sion models are widely used: static concession and dynamic concession. Static concession controls the amount of concession based on some pre-defined functions. This may lead to sub-optimal results. To improve on this, dynamic concession models take the negotiation behavior of the other negotiation party into consideration. A model of automated concession is proposed in [ 8 , 9 ]. This model takes the heuristic approach by using the incomplete prefer-ence information revealed by the negotiation partner in order to improve the efficiency of the reached agreements. History of the supplier X  X  bids in the current negotiation is used to predict the supplier X  X  preferences. Jonker X  X  model [ 8 ] further allows agent to take into account not only their own weights, but also those of the supplier in order to compute the next bid.
However, in Jonker X  X  model the past negotiation and trade records were not taken into account. We argue that history data comprises important knowledge to improve the satisfac-tion level of the reached agreements. The history knowledge provides a heuristic by which an agent can estimate the progress to be made in the concession computations.

The concessions in the multi-bilateral negotiations will then reflect the difference in nego-tiation partners X  profiles. For example, when the buyer is dealing with a supplier who has a good credit in the buyer X  X  history record, the buyer may consider to bargain further in the current negotiation. Moreover, the past concession of a particular supplier can also be used as a reference in the determination of the current concession. After the concession has been determined for the counter-proposal, the selection of a proper value for an attribute or an alternative concept can be automatically guided by a rule, which is predefined in the specification and design phase.

Reasoning in KACM is characterized by a heuristic model that applies the history knowl-edge into the current negotiation context to improve negotiation efficiency. A thorough description of KACM is presented in the subsequent section. 4 Knowledge in automated negotiation In the multi-bilateral multi-attribute negotiation life cycle, there is plenty of data which can be collected, manipulated and utilized. In this section, we describe what and how knowledge plays a role in automated negotiation. We define the types of knowledge namely general knowledge and negotiation knowledge, respectively, in the negotiation process. 4.1 General knowledge General knowledge in the negotiation life cycle contributes to the formation of the funda-mental knowledge framework of the current negotiation context. It is used for estimating and fine-tuning the key parameters for negotiation that in turn improves the success rates and average utility of the negotiation agreements for the buyer (Table 2 ). 4.2 Negotiation knowledge While general knowledge describes the whole negotiation context, negotiation knowledge provides the necessary knowledge used to carry out the negotiation in an automated way (Table 3 ).

Negotiation knowledge is formulated and specified as procurement rules and constraints by negotiation experts. The fundamental type of constraint is to define a valid range for an individual attribute, or an inter-attribute relation for multiple attributes within the same knowledge item. Another type of constraint is defined between a particular knowledge item and other relevant ones. This kind of constraint usually exists in a bill-of-material (BOM) consisting of multiple RFQs defined for different product items, respectively. Constraints are usually used in quotes evaluation and ranking phase to screen for qualified quotes. They are also used in negotiation to screen for attributes within some predefined range. Rules are widely used to describe the negotiation knowledge about relationships. 5 Automated negotiation This section describes the automation of agent negotiation in the proposed framework. The discussion is in accordance with the two phases in the proposed multi-bilateral multi-attribute negotiation life cycle: quotes evaluation and ranking phase, and negotiation execution phase. 5.1 Quotes evaluation and ranking using KERM Submitting a RFQ invites reply of a set of potential quotes, PQ. Quite often a potential quote may partially match all of the buyer X  X  requirements. This provides a negotiable space where the buyer and the supplier can explore options to mutually agree on a deal. After the nego-tiations, we potentially can have more than one supplier whose quotes may be agreed upon. Hence we rank these potential quotes in the post-negotiation phase, and select a top one that has the highest utility to be the final deal. 5.1.1 Utility of the quote Given a quote Q i composed of a attributes, the following equation is used to calculate the quote X  X  utility U RFQ i based on the specification in the RFQ: where a is the number of attributes that compose a product or a service in the quote; m RFQ , j i is a matching score of the j th attribute in the quote, indicating how much it matches that in the RFQ, ranging from 0 to 1; and w RFQ , j i is the normalized attribute weight value between 0 of U RFQ i the more favourable the Q i is perceived by the buyer.
In KERM, the degree of matching is computed by means of a fuzzy function, which is defined for each preference over each attribute. There are two types of attributes in the current KERM implementation. One is of discrete enumerated type (e.g., Boolean type). The other is specified by a value range (e.g., an integer range). When a RFQ/quote template is filled, every attribute is also associated with a tag to indicate the rank of the possible values. For the example in Table 4 , the color of the requested product is one of the attributes in concern. The matching score of a given color is a fuzzy function which returns a value within [0, 1] interval according to a predefined preference template. For instance, if the quote offers a pink color, the matching score will be 0.75.

In the case of the enumerated type, the ranking can take any integer value. We assume that a smaller number is a higher rank and 1 is the highest rank. Given the rank number r , and the maximum rank number max_rank, the matching score m i of the given value of rank number r is calculated as: where i is the index of rank number r in the range [1,max_rank]. The greater the value of the rank is, the lower is the value. For example, max_rank is the lowest rank in value.
Now consider a numeric type with a given range. The matching score of the given value is a fuzzy function with certain slope information associated to the preference. For values valid within the range, the evaluation criteria can be specified as one of the three: (1) the bigger the better, e.g., memory of a computer; (2) the smaller the better, e.g., weight of a laptop; (3) the same if within a certain range, namely, flat, e.g., a buyer is not particular on which week day of the week the delivery falls. If there is no monolithic ranking in the range, the range can be further divided into a number of sub-ranges, each with a monolithic ranking and a matching score. For example in Table 5 , assume that the valid range of an integer attribute is [10, 100]. Given the ranking criteria for each sub-range, the matching score of the sub-ranges is calculated using the same way as for the enumerated type. If the quote offers a value 85, the matching score will be 0.762. 5.1.2 Computing utility of the quote in KERM Knowledge empowered evaluation and ranking model aims at incorporating different con-cerns with client X  X  knowledge into the evaluation of multiple quotes. Every concern is eval-uated as a component factor, with index f , of the total utility U i of quote i . It has a utility U i in some knowledge domain K f and U different concern factor carries different weight in computing the total utility. To combine all the concern factors, the total utility is therefore computed as: where t is number of concern factors in evaluation of the total utility.

Based on the principle of multi-attribute utility theory (MAUT), U K f i in turn is computed in a similar way. There are further different concerns in obtaining U K f i . For each pertinent factor, a matching score m K f j is associated to denote how close the factor X  X  current status is compared to the ideal case; a greater matching score denotes a better status. A normalized weight is associated to denote the respective importance level of the pertinent factor; a bigger weight indicates a more important factor. The following formula is used to calculate U K f i : where s is the number of concern factors in domain K f .

In the proposed model, the main concern factors, other than the requirements in RFQ, include the buyer X  X  preferences, the situation of the current market, suppliers X  profiles, as well as the suppliers X  trade history.

When constructing a RFQ, besides the product and service requirements, other preferences seem to be a secondary consideration. However, when it comes to the selection and nego-tiation process, the buyer X  X  preferences become prominent, especially when there is more than one potential quote available. Common preferences include different payment methods, quality levels, packing and delivery, warranty, maintenance, and etc. These preferences can be assembled and stored in a preference profile for an individual buyer. 5.1.3 Incorporating buyer X  X  preference profile in KERM To incorporate knowledge into utility calculation of a certain quote, the weights that indicate how important the corresponding preference is in the current RFQ are defined by the buyer. On the other side, when suppliers receive the RFQ that has one part on the product-related attributes and the other part on the buyer X  X  preferences, the suppliers are required to respond to every item in the RFQ correspondingly. Assume that a quote Q i composed of b attributes is responding to buyer X  X  preferences, the quote X  X  utility U BP i according to buyer X  X  preferences is computed by using the following formula: where b is the number of buyer X  X  preferences. 5.1.4 Incorporating supplier X  X  profile in KERM In the supplier X  X  profile, two factors are important to assess a supplier: the supplier X  X  base reputation and his accumulated credit based on past trade records if any. The base reputation is a number between 0 and 1 which denotes how much publicity gained by the supplier in the particular procurement category. Every supplier has a base reputation number. A higher number indicates a supplier with a better potential to get a contract dealt. For example, a well-known supplier always obtains a higher base reputation than an unknown one, despite neither of them has ever traded with the buyer. If it is the first time the buyer is dealing with the supplier, the base reputation will be the only factor affecting the evaluation about the sup-plier X  X  credit. Otherwise, if the buyer has ever traded with the supplier, the supplier X  X  profile should also include the credit accumulated in the past trades. It is the supplier X  X  accumulated credit, contributed mainly by two factors. One is the number of past successful contracts traded between buyer and the supplier. The other is the average utility of all these past con-tracts. The more contracts the supplier got, the more credits he accumulates. In KERM, the knowledge about a supplier X  X  profile is therefore updated whenever there is a trade conducted.
Thus, the base reputation of a supplier S i providing Q i is represented as a constant r i , ranging between 0 and 1. Note that in real practice, the value of constant r i can be manually adjusted by a negotiation expert from time to time, to cover other intangible factors, like politics or internal policies in a dynamic market. The total credit U SP i of S i based on the supplier X  X  profile is evaluated as: the weights of the two factors correspondingly. The accumulated credit U ACredit i is computed as: where c denotes the normalized value between 0 and 1 corresponding to the number of past the two factors correspondingly. The normalized c depends on buyer X  X  procurement status. 5.1.5 Combining evaluation and selective ranking The main objective of KERM is providing a flexible way to incorporate adequate knowledge into quotes evaluation. With KERM, the supplier X  X  offer represented by a quote is checked not only against the requirements specified in the RFQ, but also against the knowledge about buyer X  X  preferences and may be other market factors. Moreover, the supplier is evaluated thoroughly based on the supplier X  X  profile. After respective evaluation based on different knowledge concerns, the evaluation results can then be combined to produce the overall utility U i of a quote Q i provided by supplier S i : 5.2 Automated negotiation using KACM After the buyer has obtained a ranked list of negotiable quotes, he may choose the top-k of them, where k is a positive integer (e.g. k = 10) defined by the buyer. The chosen potential sup-pliers would be negotiated bilaterally with the buyer at the same time. A bilateral negotiation process takes place between the buyer and a particular supplier by exchanging proposals and counter-proposals. KACM combines three approaches in constructing a counter-proposal to facilitate an efficient automated negotiation: concept switch [ 18 ], automated concession and rules. Concept switch provides a flexible way for the buyer to switch from one set of require-ments to another set under a certain condition. Figure 3 illustrates the automated negotiation process on the buyer side in a negotiation round in KACM when a message is received from a supplier. It is conducted bilaterally between the buyer and each of the suppliers in T k _PS, his own supplier profile respectively. 5.3 Automated concession algorithms Now we introduce the algorithms used for the buyer to propose a counter-proposal with automated concession. 5.3.1 Target utility computation Let U T represent the target utility of buyer X  X  next counter-proposal. At the beginning of every negotiation round with automated concession, U T is computed. In principle, the target util-ity is the old utility minus a concession step CS that buyer counter-propose to the supplier, calculated using the following formula: where  X  is the minimal utility threshold specified by the buyer, and  X   X  [0, 1]. The minimal utility threshold is a lower limit indicating how far the concessions can be made. A higher value of  X  denotes a higher demand from the negotiator. The formula places a restriction that the target utility can not be lower than the minimal threshold. CS is the automated concession step determined as: where  X  stands for the negotiation speed, and  X   X  [0, 1]. The negotiation speed is a mea-sure of how fast the negotiation is set. A higher  X  denotes a wider concession step. Factor ( 1  X   X / U B ) expresses that CS will decrease to 0 eventually when the U B approximates the minimal utility threshold. In principle CS is a negative number because U i &lt; U B , as long as no agreement has been reached yet. If U B + CS &lt; X  ,then U T =  X  .If U T  X  U i , it means that buyer X  X  counter-proposal is no better than what the supplier just offered. Then instead of a counter-proposal, an Agree message is sent to the supplier. 5.3.2 Target attribute matching score computation When U T &gt; U i , the target utility U T is used to compute the individual attribute value in the counter-proposal. The bid utility is determined on two factors: the matching score of each attribute and the associated weight. The weights remain unchanged during the automated concession process once they are set by the buyer in the original RFQ. Based on U T ,the target matching score of each attribute can then be computed. Thereafter the attribute value can be determined based on its target matching score. In order to compute the target matching score of an attribute, both the buyer X  X  previous proposal and the supplier X  X  previous quotes are taken into consideration. When only buyer X  X  previous proposal is considered, the target matching score of each attribute j , m B , j is computed as: where m O , j is the matching score for attribute j in buyer X  X  previous bid,  X  j can be chosen arbitrarily, and N is a normalization factor.  X  j / N is a percentage which denotes how much of the total concession CS that the attribute j can give-in to the supplier. Factor N is defined as the weighted sum of the  X   X  X  where N is designed in such a way that the following relation always holds:
Due to this normalization factor, the utility is determined as a combination of the target evaluations leads to exactly the target utility. A full proof of this property can be found in Jonker and Treur [ 9 ]. The choice for the  X   X  X  is made as: where w j is the weight associated with attribute j . The first factor ( 1  X  w j ) expresses the influence of buyer X  X  own preference: a heavier w j implies a smaller concession. This is because a heavier w j denotes a more important attribute, and usually the buyer will be less willing to yield on it. The second factor ( 1  X  m O , j ) assures that the target matching score remain scaled in the interval between 0 and 1; a bigger m O , j implies a smaller concession. When N = 0, either the only attribute has weight equal to 1, or all the attributes have their old matching score equal to 1. The two cases are treated in a different way in computing m 1. In the first case, since there is only one attribute, i.e. n = 1 , U B = m O , j ,CSisalsothe 2. In the second case, when n &gt; 1, and for any j  X  X  1 , n ] , m O , j = 1 , since  X  j can be m
B , j only takes into account the buyer X  X  own previous bid. Using only this value would work, though it may lead to sub-optimal results because the attribute values of the supplier X  X  bid are not considered in any way when making concessions. To improve on this, the following step takes into account also the supplier X  X  previous quote, the target matching score m T , j of each attribute i is computed as: where m j is the matching score for the j th attribute in supplier X  X  current proposal, and  X  j is the concession tolerance parameter for the j th attribute.  X  j is called a configuration tolerance parameter which is a measure of how much the buyer is willing to make concessions to the supplier on the j th attribute at each negotiation round, and  X  j  X  [0, 1]. Values closer to 0 imply a buyer who is less willing to make concessions, while values closer to 1 mean a buyer who is interested to reach a deal quickly, thus will make more concessions to the supplier. 5.3.3 Converting attribute matching score to attribute value To determine an attribute value based on its matching score, the reversed function of calculat-ing matching score from attribute value is used. With an obtained matching score BNew_ m j , the corresponding range will be located. If there is more than one valid range containing BNew_ m j , by default the first of such range will be taken. The rank of value is then com-puted as: where r j is the rank for the matching score m T , j within a certain range, and r j is an integer rounded off from the computed result for the j th supplier; max_rank is the maximum rank number, namely, the lowest rank defined for the range. The rank will be used as an index to obtain the corresponding attribute value within the range.

After the counter-proposal has been constructed, it is sent out to S i . Then the buyer waits until a next message is received from S i . Upon receiving a message, the iterative process pro-ceeds following the protocol as described in Fig. 3 . Following the protocol, KACM responds to the negotiating party by sending one of the following: a counter-proposal, Accept, Reject, or Terminate message, in an automated way. To construct a counter-proposal, the algorithm matching scores, and finally converts each attribute matching score to an attribute value in the counter-proposal. 5.4 Automated concession using knowledge So far we have not taken into account any negotiation knowledge in calculating automated concession. KACM aims at knowledge assisted automated negotiation so that satisfactory results can be achieved. Satisfactory results are measured in different aspects. We argue that three satisfaction indexes are important to characterize satisfactory results of multi-bilateral order to achieve these indexes, KACM incorporates history records and past experiences in fine-tuning the negotiation parameters which are crucial in constructing counter-proposal.
In the earlier discussion, automated concession in constructing a counter-proposal depends on both negotiation parties X  proposals. Furthermore, the concession step computed at each negotiation round depends on the three negotiation parameters, namely, negotiation speed  X  , minimal utility threshold  X  , and concession tolerance parameter  X  j (of the j th attribute). The three parameters control the progress of the negotiation in which the concession vari-able would be dynamically calcuated, that would directly impact on the negotiation result. The three negotiation parameters must be set appropriately in order to yield the satisfactory negotiation results. However, parameter setting is not a trivial task for the users. For minimal utility threshold  X  , a higher value indicates a higher demand from the buyer. If the negotiation can reach an agreement in the end, the agreement utility would be high. Too low the value of  X  will induce loss for the buyer, a too high  X  gives little space to bargain with the supplier, and the overall success rate of multiple negotiations would then be lowered. For conces-sion tolerance parameter  X  j of the j th attribute, a higher value indicates a bigger concession towards the supplier X  X  offer, and will also speed-up the negotiation process. However, a too high  X  may induce buyer X  X  loss, while a too low  X  may slow down the negotiation process, thus may also lead to a failed result. For negotiation speed parameter  X  ,atoohighvalue increases the possibility that an agreement can not be reached in the end. Different behaviors of the negotiation processes using different settings of the negotiation parameters can be found in [ 20 ].

If a user does not give any explicit specification on the parameter setting, or is unsure about what and/or how the value setting should be, the negotiation process can start with the three parameters of default value, such as 0.5. However, experiment results indicate that appropriate parameter values can help to achieve more satisfactory results for the automated negotiation. The main problem to be solved here is the efficient and effective setting of the negotiation parameters. One can tell from the trading experience in reality that if the buyer is dealing with a regular supplier or bargaining on a regular product, it will be helpful to refer to the past experience on parameter setting, instead of starting with an arbitrary value. Jonker X  X  model did not relate the parameters with any past records. In KACM, the negotiation agent can learn from historical records on setting of the negotiation parameters. Besides, depending on different requirement on the three satisfaction indexes, KACM allows the flexibility in using negotiation knowledge in different ways to achieve different results.

Mainly there are two kinds of negotiation knowledge employed in KACM. One is sup-plier-related, and the other one is trace-related. Supplier-related knowledge is the experience learnt from regular suppliers in past negotiations. For example, it may give an indication that a faster negotiation and/or higher utility can be obtained when the supplier has a higher credit. Recall that supplier X  X  credit is calculated in terms of his general reputation, number of past contracts dealt, and the average utility of past contracts. If the credit value is high, it means that the supplier is a trustworthy partner to deal with. Thus a smoother negotia-tion is expected with a relatively fast speed, sufficient negotiable space, and higher utility obtained. Trace-related knowledge comes from the past records of negotiation traces. There are two categories of negotiation traces. One type is supplier-specific which negotiated with the same supplier. The products provided by the supplier in the past could be different from the buyer X  X  current request. As long as the current supplier is not new to the buyer, any past negotiation behavior can be referenced in the current negotiation. The other type is product-specific which negotiated on the same RFQ as the current one, but not necessary with the same supplier. KACM can learn from the past successful negotiation traces about the ideal negotiation parameter setting and use it in the current negotiation process. Though negotia-tion knowledge can be used in current negotiation process, KACM allows users to modify the parameters by themselves.

Knowledge empowered automated concession model has three factors that can influence negotiation traces. Each negotiation parameter is computed as follows: where p  X  X   X ,  X ,  X  j }; p B is the parameter value set by the buyer, or, takes a default set of values by the system; p S is the parameter value obtained based on supplier X  X  credit; p T is the parameter value obtained from negotiation traces; w B denotes how much the buyer is willing to count on his own input value in parameter setting; the weights k S and k T denote how much the buyer is willing to rely on the two kinds of knowledge to obtain the negotiation parameter p , respectively. Each impact depends on the respective weight. A weight closer to 1 denotes a buyer who is more willing to count on the corresponding factor on setting p . A value closer to 0 denotes a buyer who is less willing to count on the corresponding factor.
When there is more than one history trace that can be referred to, p T is defined as the average of the parameter values from all the relevant history traces. Let n be the number of relevant history traces, p T is computed as: where p i is the negotiation parameter value used in the i th history trace.

We now discuss how the negotiation knowledge affects each of the three negotiation parameters in a specific way which may be different from that of others. 5.4.1 Minimal utility threshold  X  Minimal utility threshold determines the negotiation space within which buyer can bargain with the supplier. It also determines the minimal utility of bid that buyer can accept from the supplier. Different negotiator may have different practice in dealing with regular opponent. For example, some give more value to regular suppliers and aim at successful negotiations. They lower the minimal utility threshold to allow more negotiation space. What they want most is to keep regular business with regular suppliers. The utility of final agreement and the time used in negotiation may concern them less. Yet some may practice the opposite and aim at the current agreement with high utility. They raise the minimal utility threshold so that less concession can be made from their side. It is unwise for one to use only one strategy on setting the parameters in all negotiations. We therefore argue that different strategies should be used to fulfill different expectation based on opponent X  X  credit. Assume that the buyer is negotiating with a regular supplier. Regular suppliers can be further differentiated by their credits. Assume that the regular supplier has a good credit which signifies him a trustworthy business partner. Here we assume that the buyer is quite confident of a successful negotiation with a trustworthy supplier. He is also a bit aggressive that aims at obtaining a high utility. So a high minimal utility threshold is used. Under this assumption, the parameter setting is high threshold versus high credit.

While sophisticated computation of  X  S based on U SP i is possible, a general way is to set the threshold  X  S based on the value of the supplier X  X  credit is as follows: threshold  X  S is set by the buyer.

Second we assume that the buyer is less aggressive and only aims merely at a successful negotiation with the supplier without a high utility value. Therefore a low threshold is used to ensure a successful negotiation. Under this assumption, the parameter setting is low threshold versus high credit. The following computation is used: where the higher credit U SP i the supplier has, the lower threshold  X  S is set by the buyer. The factor 1  X  U SP i also assures that  X  S remains scaled in the interval between 0 and 1.
Now consider the history negotiation traces. An agreement is produced in the end of a successful negotiation. The utility of this agreement gives a reference for the buyer in future negotiation. The buyer can then set the utility threshold around the average of the history values or that of the similar successful case with that particular supplier. The choice of for-mula in calculating the utility threshold would have respectively conservative or aggressive negotiation effects. (More discussion will be on our sequel paper). For conservative or lin-ear negotiation effects, we used the following approach in computing the minimal utility threshold  X  T obtained from negotiation traces as follow: where U Agreement i is the utility of the agreement obtained in the i th history trace. 5.4.2 Negotiation speed  X  Same reasoning is applied here for setting the minimal utility threshold. Assume that the buyer is negotiating with a supplier having good credit. Assume also that he aims at a high utility of the agreement in case of a successful negotiation. Then a low negotiation speed is helpful because it slows down the concession step for the buyer side. Under this assumption, the parameter setting is low negotiation speed versus high credit. A general way is to set the speed  X  S based on the value of the supplier X  X  credit as follows: where the higher credit U SP i the supplier has, the lower negotiation speed  X  S is set by the buyer.

Concerning negotiation traces, in principle, the negotiation speed determines the actual time elapsed from buyer sending out the first RFQ till an agreement is reached or the nego-tiation terminated. During this process, the negotiating parties exchange their proposals and counter-proposals repeatedly. Two factors determine the negotiation time. One is the time used in each negotiation round; the other is the number of negotiation rounds executed between the two parties. A negotiation round is defined as the time duration elapsed from that a bid is received from the opponent to that of the next proposal is received from the communication time of sending and receiving the bids. The bid processing time is spent on evaluating the received proposal and preparing the counter-proposal. It depends on the software and algorithms used, database employment, hardware configuration, and etc. From buyer X  X  perspective, assume that all the computation and comparison are performed using the same configuration, and that the proposals are communicated within a limited time on a regular base, then the processing time for each negotiation round is a finite value with an upper bound. Based on the assumption, only the number of negotiation rounds executed is considered when referencing the negotiation speed in history traces. Relation between the number of negotiation rounds and the negotiation speed parameter value  X  i can be estimated based on experiments, in relative to a negotiation round number.

The negotiation speed  X  T obtained from negotiation traces is computed as: where  X  i is the negotiation speed used in the i th history trace. 5.4.3 Concession tolerance parameter  X  Concession tolerance parameter  X  j of the j th attribute represents how much the buyer is willing to accept the supplier X  X  bid on the attribute at each negotiation round. When effect of supplier X  X  credit is concerned, the general concession tolerance parameter  X  S is used for all the negotiable attributes j . Similarly, assume that the buyer is negotiating with a supplier having good credit. Assume also that he aims at a high utility of the agreement in case of a successful negotiation. Then a low tolerance value is helpful because the buyer tends to give fewer concessions to the supplier. Under this assumption, the parameter setting is low concession value versus high credit. A general approach is to set the concession parameter  X  based on the value of the supplier X  X  credit as follow: where the higher credit U SP i the supplier has, the lower tolerance value  X  S is set by the buyer. For all attributes j , the concession tolerance parameter  X  S , j obtained based on supplier X  X  credit is set as follows:
Concerning negotiation traces, since the parameter is attribute-specific, the referable traces must contain the same attribute. To learn  X  T , j from a certain trace, the main idea is to compare the total concession made by the buyer in an agreement, and the total concession made by the opponent. If the buyer X  X  concession is bigger in history, then it is reasonable to make more concessions towards the supplier; otherwise, if the supplier X  X  concession is bigger in history, then fewer concessions will be made towards him. As  X  j is used to compute the target matching score of the attribute in counter-proposal, the concession in trace is also calculated in terms of matching score. The tolerance parameter  X  T , i , j of the j th attribute obtained from the i th history trace is computed as: which is the difference between the matching score of the j th attribute in the agreement the difference between the matching score of the j th attribute in the original quote offered by the opponent and that of the original RFQ requested by the buyer in the i th history trace. Since m RFQ i , j is the matching score of the buyer X  X  bid specified in the original RFQ, thus m the concession tolerance value obtained from the trace remains scaled in the interval between m , j = m Agreement i , j = m RFQ i , j , which implies that no concession will be necessary to make for the supplier in the current negotiation. Take  X  T , i , j = 0 in such a case. Therefore, bigger the value of the current  X  j and bigger the concession will be made in the current negotiation. The concession tolerance parameter  X  T , j obtained from negotiation traces is computed as: where  X  T , i , j is the concession tolerance parameter used in the i th history trace. 6 Experiment A prototype system is established to simulate a buyer-centric multi-bilateral multi-attribute e-Procurement environment. Suppose a buyer requires an e-Procurement of office furniture. The negotiation is about the sale of a number of office chairs. The relevant attributes include product-specific attributes, for example, chair frame, color, style, arm, seat, back, adjust-ment, and general procurement attributes, such as price, quantity, and due time. A RFQ is first created for buyer X  X  procurement. The prototype system then simulates multiple quotes have been received from different suppliers. Each received quote can be evaluated according to the RFQ, buyer X  X  preferences profile, and supplier X  X  profile, respectively. After evaluation, a ranked list is provided for the buyer determining the best potential suppliers to negotiation with. An automated bilateral negotiation can then be started between the buyer and each supplier chosen from the list. Finally, the scoring results of all the negotiations are shown in the ranked list for the buyer selecting the final deal.

Two experiments are performed on the prototype system. One is to compare the negotia-tion results with different assumptions in the quotes evaluation and ranking phase. The other experiment is to compare the negotiation results with and without history knowledge when automated concession is computed. The objective of negotiations for a buyer is to achieve a most satisfactory final deal, among all the potential deals. This is represented by a perfor-mance index called Average utility of negotiation agreement ,orsimply Average Utility in short, as an important measure of how much the agreement satisfies the buyer X  X  request. 6.1 Comparisons in quotes evaluation and ranking phase The proposed model evaluates all the qualified quotes from the suppliers and gives the buyer a ranked list of potential suppliers by the suitability of their quotes. The buyer then only negotiates with a shortlist of the best suppliers. To test this merit, three different scenarios are assumed in the quotes evaluation and ranking phase: 1. No explicit evaluation and ranking is performed. Buyer simply picks any qualified quotes 2. Quotes evaluation and ranking is performed without KERM. Buyer chooses the only 3. KERM is used in evaluation and ranking, in which both the buyer X  X  preference and
Assume that ( k = 10) ten suppliers are selected to negotiate with a buyer from a test set of certain number of qualified suppliers. Qualified suppliers are those who have passed the buyer X  X  screening process, their quotes meet the mandatory requirements specified at the RFQ. The number of qualified suppliers in the test set increases from 10 to 300 in a unit of 10. Their quotes in the test set have the utility values dispersed over the range from 0 to 1. In the first scenario, ten suppliers are selected in random. In the second and third scenarios, the buyer picks the top ten suppliers from the ranked list. Bilateral negotiation is then conducted between the buyer and each one of the ten suppliers on the list, respectively.

Figure 4 shows the utility values obtained from negotiation based on the three different scenarios in the quote evaluation and ranking phase. The figure shows that the buyer can obtain a better average utility from the negotiations based on the evaluation and ranking results. We can observe that a better average utility can be obtained with KERM, compared with non-KERM evaluation and ranking. As the overall utility indicates the satisfaction level about the negotiation agreement perceived by the buyer, the experimental results show that using KERM, the buyer can negotiate with a list of well qualified suppliers and thus obtain improved agreements from the negotiations.

In Fig. 4 , the utility improvement measured from the  X  X ERM X  line over  X  X uote X  line can be as large as 16%, while the average improvement is over 13.4%. The improvement also tends to increase when the sample size increases. The results are sampled at every sixth when the sample size grows, the difference between the two evaluation and ranking methods become more apparent. Thus when there are hundreds or even thousands of quotes available from an e-Marketplace, KERM can provide the buyer an efficient way to obtain a list of well qualified suppliers to negotiate with, and theoretically would achieve good results. 6.2 Comparisons in negotiation execution phase In the following experiment, the average utility of negotiation agreements is charted when knowledge about supplier profile is incorporated in automated concession. As proposed in KACM, the buyer can set a negotiation parameter based on the supplier X  X  credit. It is assumed that, if dealing with a supplier with a good credit, the buyer may consider raising its utility threshold to obtain a higher utility of negotiation agreement. Moreover, a smaller concession tolerance parameter or a smaller negotiation speed also results in a higher utility of negoti-ation agreement. The buyer may at the same time lower the concession tolerance parameter and the negotiation speed when dealing with a supplier with a good credit. To incorporate negotiation parameters are calculated using the above formulas in the experiment.
Figure 6 shows the average utility behavior of negotiation agreements when the utility of the supplier X  X  profile varies. Without KACM, the buyer uses only the default parameter values without any reference to the supplier X  X  profile or other negotiation history knowledge. Using KACM, the better the supplier, the higher the utility of negotiation agreement can be obtained.
 The greatest utility difference of the negotiation results between using KACM and without KACM can be up to 17% in the experiment. Noted that there is not much utility gain when supplier X  X  profile utility is less than 0.5, which indicates a supplier with no good credit. 6.3 An overall comparison We suppose that the ultimate goal of the buyer is to achieve a high utility of agreement in a negotiation. Figure 7 gives a comparison of the average utility of negotiation agreements between the results using the proposed knowledge empowered automated negotiation model and that without using the proposed model. There are two groups of data obtained. The left group is obtained without using KACM, while the right group is obtained with using KACM. Supplier X  X  profile knowledge is incorporated in this experiment. For each group, three dif-ferent ranking options are compared. For each ranking option, there are approximately 20 negotiations are performed to compute the average utility of successful negotiation agree-ments. Similar to Fig. 4 , the result shows the improvement when using KERM compared with the other two ranking options. It also shows that with KACM, i.e. the right group, the average utility with all the three ranking options outperforms the one without using KACM, in the left group. The improvement is 12.3% for no explicit evaluation and ranking performed, 16.8% for quote evaluation and ranking without using KERM, and 17.9% for quote evaluation and ranking using KERM. 7Conclusion We proposed a knowledge-empowered automated agent negotiation model in the multi-bilateral multi-attribute e-Procurement environment. This system works under a negotiation life cycle that is based on a knowledge framework for constructing both the negotiation con-text and the negotiation facility. In the negotiation life cycle, there are two system models, for the phases of Quote Evaluation and Ranking, and Negotiation Execution, namely the KERM and the KACM respectively. KERM provides a quantitative measure of the nego-tiation partners and their proposals. Based on the result computed from the replied quotes, the buyer can determine a selected group of suppliers to further deal with. KACM empha-sizes on the utilization of knowledge derived from the history data in past negotiation with automated concession. It addresses the impact of history knowledge on fine-tuning the nego-tiation parameters for improving the performance of automated negotiation. An experimental prototype was implemented. The automated negotiation process is shown to be able to yield better average utility gains of all the successful deals.

Using a common underlying knowledge framework for representing knowledge and prod-uct items throughout the transactions, complex multi-attribute items can be flexibly and quan-titatively represented knowledge could be incorporated in automated negotiation. This makes the proposed e-Procurement model a potentially interoperable system for different uses and in different industries. By the realization of automated negotiation, the system enables a buyer to simultaneously negotiate a greater number of suppliers than before. Hence the turn-around-time for the e-Procurement lifecycle could be shortened, and the negotiation success rate could be improved.
 References Author Biographies
