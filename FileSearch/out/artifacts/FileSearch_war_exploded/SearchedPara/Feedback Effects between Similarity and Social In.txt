 A fundamental open question in the analysis of social net-works is to understand the interplay between similarity and social ties. People are similar to their neighbors in a social network for two distinct reasons: first, they grow to resemble their current friends due to social influence; and second, they tend to form new links to others who are already like them, a process often termed selection by sociologists. While both factors are present in everyday social processes, they are in tension: social influence can push systems toward unifor-mity of behavior, while selection can lead to fragmentation. As such, it is important to understand the relative effects of these forces, and this has been a challenge due to the difficulty of isolating and quantifying them in real settings.
We develop techniques for identifying and modeling the in-teractions between social influence and selection, using data from online communities where both social interaction and changes in behavior over time can be measured. We find clear feedback effects between the two factors, with rising similarity between two individuals serving, in aggregate, as an indicator of future interaction  X  but with similarity then continuing to increase steadily, although at a slower rate, for long periods after initial interactions. We also consider the relative value of similarity and social influence in modeling future behavior. For instance, to predict the activities that an individual is likely to do next, is it more useful to know
Supported in part by NSF grants CCF-0325453, CNS-0403340, BCS-0537606, and IIS-0705774, and by funding from Google, Yahoo!, and the John D. and Catherine T. MacArthur Foundation.
 the current activities of their friends, or of the people most similar to them? Categories and Subject Descriptors: H.2.8 Database Management: Database Applications  X  Data Mining General Terms: Measurement, Theory Keywords: social networks, online communities, social in-fluence Social influence and selection . A fundamental property of social networks is that people tend to have attributes similar to those of their friends. There are two underlying reasons for this. First, the process of social influence [7] leads people to adopt behaviors exhibited by those they interact with; this effect is at work in many settings where new ideas diffuse by word-of-mouth or imitation through a network of people [19, 22]. A second, distinct reason is that people tend to form relationships with others who are already similar to them. This phenomenon, which is often termed selection ,
The two forces of social influence and selection are both seen in a wide range of social settings: people decide to adopt activities based on the activities of the people they are cur-rently interacting with; and people simultaneously form new interactions as a result of their existing activities. In most settings, studying these forces and their interplay has been very difficult because collecting data about an individual X  X  social network and activities over time is both expensive and error-prone. Online communities, however, provide an ex-cellent opportunity to study large-scale social phenomena of this type. In our case, many of the online systems created in recent years offer both a rich set of activities and the op-portunity for extensive interactions. These online systems 1 The term homophily  X  the idea that  X  X irds of a feather flock together X   X  is also used in the sociology literature to denote this process. However, since homophily is also used increasingly to denote the simple cumulative fact that neighbors in a social network are similar  X  regardless of the underlying process  X  we have adopted the term  X  X election X  for the process itself. often record both activities and interactions, thereby en-abling large-scale studies of social influence, selection, and the interplay between the two.

Both social influence and selection lead to a common ag-gregate effect, namely that neighboring nodes in a social network tend to look similar to each other. But it is impor-tant to isolate the respective effects of these forces for sev eral reasons. Social influence and selection produce homogene-ity in ways that have very different structural consequences for the network: social influence can produce network-wide uniformity, as a new behavior spreads across the links, whil e selection tends to drive the network toward smaller cluster s of like-minded individuals [10], a process sometimes calle d balkanization [24]. Moreover, because the two forces are based on different effects  X  interaction and similarity, re-spectively  X  the distinctions between them reflect analo-gous contrasts that arise in current computing application s that mine social network data. In particular, applications such as viral marketing [6] are rooted in the premise that a person X  X  social contacts provide a valuable predictor of th eir future behavior, while recommender systems (e.g., [9, 18, 21]) build predictions based on the behavior and opinions of others who share similar behaviors and opinions. These relationships between viral marketing and recommender sys -tems thus parallel, in important respects, the relationshi ps between social influence and selection. Finally, from a soci al-science perspective, understanding how these phenomena operate is important in its own right [15].

Despite the basic nature of the questions here, it has been difficult to gain insight into effects of this kind in real socia l networks. Understanding the relationship between social i n-teraction and similarity requires not just static analysis of social network structures [27], or even models of the evo-lution of these structures over time (e.g., [1, 11, 12]), but analysis of the detailed dynamics of social processes , as peo-ple X  X  behavior and interaction patterns both shift over tim e. The present work . In this paper we describe a framework for using data from large online communities to analyze the interactions between social influence and selection. We de-velop the framework using data from Wikipedia, which com-bines crucial ingredients needed for a study of this type: it contains the records of editors X  activities and interactio ns over time in a setting where activities arise from a mix of intrinsic interest and social interaction. Within this set ting, we focus on two central questions: (i) Can we quantify the ways in which social influence and (ii) To what extent do similarities and social interactions We now discuss our work on each of these questions in turn. Interplay between social influence and selection . For the first of the above questions we both analyze online ac-tivities and interactions, and also build theoretical mode ls of the underlying phenomena.

In Wikipedia, we focus on two types of recorded actions: editing articles, and editing the discussion page associat ed with a particular user. Edits to articles are indications of interests as each article is on a particular topic. We take the history of article edits for a user at a given time as a vector encoding that user X  X  activities, and consider the ti me series of these vectors as representing the evolution of use rs X  interests and activities as they edit different articles. Ed its to discussion pages are indications of social ties between t he users who are communicating.

In examining the relationship between selection and so-cial influence, we consider pairs of Wikipedia editors who have communicated with one another and analyze how the similarity between their activity vectors evolves both bef ore and after their first interaction. Aggregating over all such pairs, we find that there is a sharp increase in the similarity between two editors just before they first interact, with a continuing but slower increase that persists long after thi s first interaction (see Figure 1). This suggests that people encounter each other due to overlap in their interests as measured by article editing, but that the consequences of these encounters can lead to further effects that are visible many months later.

We postulate that the observed results are due to feedback between social influence and selection, where similarity le ads to interaction but then interaction leads to further simila rity. We investigate the degree to which such a feedback loop can be characterized by a simple probabilistic model. We are motivated by an interesting random-graph model recently proposed by Holme and Newman [10] in which each node has a single categorical attribute (an  X  X pinion X  in their te r-minology), and in each time-step a node either changes its opinion to match a neighbor X  X , or re-wires one of its links to connect to someone of the same opinion. In a very simple way, then, their model captures the dual processes of social influence (via opinion changes) and selection (via re-wirin g of connections).

We find, however, that the Holme-Newman model is too simple to produce the effects we see in Wikipedia. Conse-quently, we propose a more expressive model in which there is a large space of possible activities . Nodes alternately ei-ther engage in an activity by sampling from this space, or interact with another node with whom they share an ac-tivity. Thus, a node X  X  behavior is not just represented by the value of a single opinion, but by a vector of activities that have been performed, which allows for more subtle no-tions of similarity that drive interaction. Our model can be viewed as extending the well-studied concept of an urn process from discrete probability [17] to a network setting, and suggests a number of interesting open questions in the analysis of random graphs.
 Predictive value of social interactions and similarity . To address the second central question of this paper, regard -ing the use of social interactions and personal interests to predict future behavior, we use data both from Wikipedia and LiveJournal, a site that combines blogging and social-networking features. We extend a methodology explored re-cently in several papers on social influence in online datase ts [1, 11, 14]; these papers investigate how social ties affect b e-havior by studying the extent to which various properties of a social network predict future activities or behaviors. Fo r instance, they study the probability of engaging in a new behavior as a function of the number of neighbors in the social network who have already adopted the behavior.
We argue here that this approach can be extended to a framework in which the probabilistic effects of social inter -action and similarity can be compared on a common footing. In particular, we compare the predictive power of networks derived from social interaction to the predictive power of similarity networks that are constructed by connecting peo-ple to other individuals with the most similar interests, re -gardless of whether they have interacted socially or not. Fo r LiveJournal we predict the behavior of joining a group us-ing a social network formed based on previously existing friendship links and a similarity network based on which groups one belongs to. In Wikipedia, we predict the be-havior of editing an article for the first time using a social network formed based on previous interactions with other editors and a similarity network based on the articles that one has previously edited.

We find that in Wikipedia, properties of the social network are better predictors of future behavior than are propertie s of the similarity network, whereas the opposite is the case i n LiveJournal. At first this result seems counter-intuitive, as Wikipedia is focused on content creation rather than social interaction, whereas LiveJournal strongly emphasizes soc ial-networking features. However a more detailed consideratio n of the underlying communities helps explain the difference: the social interactions on Wikipedia are an integral part of the article creation process, whereas on LiveJournal frien d-ship links are more a statement of who one knows, and often less reliably a source of direct interaction. We also find tha t combining features based on social ties and similarity is mo re predictive of future behavior than either social influence o r similarity features alone, showing that both social influen ce and one X  X  own interests are drivers of future behavior and that they operate in relatively independent ways.
 Outline of the paper . We next consider each of our two main questions in detail, following the general outline abo ve. We conclude by discussing how our contributions might in-fluence research and practice in recommender systems, on-line communities, and data mining using datasets derived from these communities.
To measure how selection and social influence operate, we track a time-evolving vector representing each person X  X  activities, and we study how the vectors of two people are changing directly around the moment when they first inter-act. Thus, we consider systems in which there is a set of m possible activities , and each person v at time t has an m -dimensional vector ~v ( t ), where the i th coordinate ~v ( t ) represents the extent to which person v is engaging in ac-tivity i . The vectors may be binary, with ~v ( t ) i equal to 0 or 1 depending on whether v has ever engaged in activity i ; or they may be weighted vectors, with ~v ( t ) derived in some way from the number of times v has engaged in i .

We will use standard vector-similarity definitions to track the changing similarities between people X  X  activity vecto rs. The information retrieval and data mining literatures pro-vide a number of such standard measures (e.g. [20]). We use one of the more common measures, the cosine metric, where || ~v || 2 denotes the Euclidean norm of v .
While a comparison of similarity measures is not the fo-cus of our current work, we have evaluated a wide range of measures for our purpose. We use the cosine metric here be-cause it is independent of the rate at which people are edit-ing, which increases over time. Another common metric, the weighted Jaccard coefficient, performs better as a predictor of future behavior and we use it in Section 3. Here, however, it is difficult to use because the baseline Jaccard similarity between pairs of users rises over time, making it harder to interpret the behavior of the other similarity curves. The Wikipedia dataset . Wikipedia is a large task-focused community whose goal is to produce a free online encyclope-dia. The entire edit history of Wikipedia is freely availabl e for analysis, making it attractive for research (see e.g. [5 , 25, 23, 26]). Wikipedia has a rich social structure in which a large number of users interact during the course of pro-ducing articles. To facilitate social interaction, Wikipe dia allows free-form discussion pages to be created for each ar-ticle and Wikipedia user. As with the articles themselves, anyone can edit these discussion pages. In our study we consider users of English Wikipedia who have created an account and have a user discussion page; there were approx-imately 510,000 such users as of April 2, 2007. These users were responsible for 61% of edits to the roughly 3.4 million articles. We ignore anonymous edits, as these are recorded only by IP address and may combine the activities of many people, and we ignore actions by users without discussion pages, who tend to have very few social connections.
Following the approach outlined above, we define a user X  X  activity vector ~v ( t ) to specify the number of times that he or she has edited each article up to that point in time. We define the time of first meeting for two users u and v as the time at which one of them first makes a post on the user discussion page of the other. In principle, we could als o try to infer social interactions based on posting to the same article X  X  discussion page. However, it is often unclear who is interacting with whom on these pages without analyzing the content of the discussion, so we restrict our focus to di-rect user-to-user connections through user discussion pag es. Moreover, we found that using simple heuristics to infer in-teraction based on posts to article discussion pages produc ed closely analogous results to what we obtain from analyzing user discussion pages.
 Similarity around the time of first interaction . With this framework, we are ready to ask a basic question that directly addresses social influence and selection effects: h ow does the similarity between two people vary in the time win-dow around their first interaction with each other? An ele-vated level of similarity just before meeting indicates a ty pe of selection at work, while increasing similarity followin g this meeting provides evidence for social influence.

Figure 1 shows results for this analysis over the entire edit history of Wikipedia through April 1, 2007. For all pairs of people who have ever interacted during this period, the plot Figure 1: Average cosine similarity of user pairs as a function of the number of edits from time of first interaction, for Wikipedia. averages the the cosine similarity of their vectors as a func -tion of time, where time t on the x -axis is relative to the moment of first interaction for each pair. (That is, all time-series are shifted so that 0 is the time of first interaction for each pair.) Separate plots are shown for pairs of users with different activity levels; in particular we consider pa irs of users who have each performed at least k edits before and k edits after the first interaction, for several values of the threshold k . To prevent mixing of populations with differ-ent activity volumes, we only show 2 k edits on each side of 0 for the group associated with threshold k . The figure also shows a baseline representing the (much lower and es-sentially constant) average similarity for pairs of users w ho have not interacted, aligned at an arbitrary moment (in this case, midnight on January 1, 2006) instead of the time of first interaction.

The most prominent feature of the plots is the sharp in-crease in similarity immediately before the first interacti on. There is also a continuing but slower increase that persists long after this first interaction. Thus, there appear to be strong selection effects, in which the steepest increase in similarity is taking place just before two people interact. However, there is also an ongoing effect of social influence, with similarity continuing to increase faster than the base -line for a long period of time.

It seems likely, then, that explicit coordination between people is not the main force driving increasing similarity, even in a setting such as Wikipedia where extensive coor-dination takes place: similarity is increasing most sharpl y before people first meet, and there are also long-term effects (rather than just a short term  X  X ump X ) after people first meet. Differing activity levels do not change the results. Although less-active users become similar more quickly, th e qualitative picture is the same whether users are less activ e ( k  X  10) or more active ( k  X  100). We have repeated this analysis while excluding Wikipedia administrators, whose behavior is often driven by administrative tasks like fixing vandalism. There, too, the results were all qualitatively s im-ilar to the plots in Figure 1. In short, the effects of selectio n and social influence are fairly robust in the Wikipedia data.
The phenomenon illustrated in Figure 1 has potential ana-logues in many domains. In essentially any type of social-media setting, people pursue activities and encounter othe rs through these activities; based on these encounters, their pattern of activities may shift further due to the resulting social interaction. This captures examples such as editing an article on Wikipedia, contributing to a group discussion on a site such as Facebook, commenting on a story in a news-sharing site, and in a range of other settings. It also plays out clearly in the off-line world, through the activities tha t people engage in and the people they meet.

A natural question is whether the effect we see in the figure  X  rapidly rising similarity before first meeting, and slower but steady increase long afterward  X  can be explained by a model of individual behavior and interaction in a social network. Here we will develop such a model, which seeks in a minimal way to incorporate the forces that drive activitie s and interaction in an online community. When the parame-ters of the model are derived from Wikipedia data, we find that the model produces simulated behaviors for which the resulting curves are in striking agreement with the plot of Figure 1.
 Activities and interactions . It is useful to fix a bit of terminology first. An activity is something that can be per-formed multiple times; each time it is performed is called an instance of the activity. A user X  X  activity history E ( u ) is simply the sequence of all its instances of past activitie s. For example, consider a user u who has performed five dis-tinct edits to Wikipedia articles: three of these edits were to article A and two were to article B . Then u  X  X  activity history E ( u ) has five entries, consisting of three instances of activity A and two instances of activity B .

Communication with others can be described in an anal-ogous way. Each time a user u communicates with a user v , this can be viewed as an instance of communication, which we will call an interaction with v . (Interactions can be done many times with the same person, just as an activity can be performed many times.) User u  X  X  interaction history N ( u ) is the sequence of all their past interactions.
 Modeling the choice of activities . Now, we model a user X  X  choice of activities through the following ingredie nts. First, people X  X  future behavior in any of these settings is strongly correlated with their past behavior, and so one pos -sibility is that a user chooses what to do next by sampling from his or her own past activity history. Second, the effects of social influence can be captured by assuming that a user may also choose a next activity by sampling from the past history of his or her friends in the social network.
We represent such sampling from the past using what is known in discrete probability as an urn process [17]. We model a user as selecting one instance uniformly at random from their activity history, and then performing another in -stance of the same activity. In this way, the user is more likely to engage in an activity that he or she has done more often in the past. 2 There is thus a close connection between of this process in probability, due to P  X olya. We view the activity history as an urn with differently colored balls; in each step, we draw a ball from the urn and increase the Figure 2: A schematic of the model for selecting activities. urn processes and X  X ich-get-richer X  X r preferential attachment processes that produce the kinds of heavy-tailed activity d is-tributions one sees in online behavior [2], and this has been an active area of study. In our case, when a user can sample from a neighbor X  X  activities as well as its own, we are deal-ing with a novel kind of networked urn process , where the sampling is correlated across edges of a graph. Our results suggest that networked urn processes can be a powerful way to capture the evolution of behavior in a social network.
However, these two ingredients  X  sampling from one X  X  own history or sampling from a neighbor X  X  history  X  can X  X  by themselves model a user doing an activity for the first time. As a result, we also allow users to choose next activi-ties by sampling from the concatenation of all users X  activi ty histories (essentially, a changing background frequency d is-tribution on activities); or by generating a new activity th at has never been done by anyone, and doing this.

Finally, there is one further aspect that is useful to cap-ture: the idea that users are more likely to repeat recent activities than long-ago ones. Thus, for a constant k , we define E k ( u ) to be the activity history of u truncated to contain only the k most recent instances. We then model the sampling as taking place from E k ( u ), for a parameter k , rather than the full history E ( u ).

Thus there are four possible ways in which a user selects an activity to add to their history E ( u ), which is depicted schematically in Figure 2: contents of the urn by adding another ball of the same color. There are four parameters to this part of the model: three of the four probabilities  X , X , X , and  X  (which sum to 1), plus history length k .
 Modeling the choice of interactions . We also need to model how the interactions happen, and urn processes can be naturally used here as well. Specifically, we choose a new interaction for u as follows, based on an additional parame-ter  X  . The full model . The full probabilistic process proceeds in discrete steps. At any time-step, a user u is chosen uniformly from U . With probability  X  , user u selects an activity using the procedure above; with probability 1  X   X  , u performs an interaction using the procedure above.

As noted in the introduction, our approach is motivated by a simpler model proposed by Holme and Newman [10], in which each user holds a single mutable opinion. In each time step of their model, a user u is chosen. With probability  X  , u changes its opinion to match a random neighbor X  X , and with probability 1  X   X  , u re-wires one of its links to connect to a random user who holds the same opinion. We have tried a number of direct adaptations of the Holme-Newman model to settings in which users have access to a range of activitie s, rather than just holding a single opinion; we find, however, that none of these are capable of matching the qualitative shapes of the effects that we see in Figure 1.

As a result, we were led to the present model, which explic-itly maintains each user X  X  distribution over past activiti es. We will see that sampling based on urn processes, which is known to produce the kinds of heavy-tailed distributions on e sees in practice [2], is also effective at producing the kinds of selection and social influence effects that arise in real data . It also provides a rich opportunity for extending classical urn models to the setting of an arbitrary network.
We now turn to a procedure by which we can learn param-eters for our model from Wikipedia data. Following this, we will see that a version of the curve from Figure 1, simulated using our model, matches the qualitative features of the rea l curve with surprising fidelity. Estimating model parameters from data . Of the model parameters  X  = (  X , X , X , X , X , X ,k ), two can be estimated by direct observation of the Wikipedia data:  X  is the ratio of user discussion page edits to total edits, and  X  is the pro-portion of edits that create new articles. We use maximum-likelihood estimation to set the values of the unobservable parameters  X , X , X , and  X  (of which only three are indepen-dent).

Given the model parameters  X  it is straightforward to es-timate the likelihood of the actual Wikipedia data W given the model, P ( W |  X  ). This probability is the product of the probability of each observed event in W given the state of the concatenation of all users X  activity instances, U is all users in proportion to the number of activities they X  X e un-dertaken, E k ( u ) is the k most recent instances of activities for each user u , N ( u ) is u  X  X  past interactions, and  X  the k most recent users to have performed activity a . We will let P ( U = u ) denote the probability of sampling a given object u from the sequence U .

There are two types of observed events in W . First, we consider the probability of an event in which user u chooses to interact with user v , which we denote C u,v , is given by, where f ( u,v | S ) is the probability that u chooses v by first sampling an activity from u  X  X  history and then sampling v from the users engaged in that activity, which we obtain by marginalizing over activities a , Second, we consider the probability of u doing an activity a , denoted D u,a , given the model parameters and current state is,
P ( D u,a |  X ,S ) = (1  X   X  ) [  X P ( E k ( u ) = a ) +  X g ( u,a | S ) where g ( u,a | S ) denotes the probability of u picking some user v from N ( u ) and then picking activity a from E k ( v ), marginalized over users v , and h ( a | S ) is an indicator function that is 1 if and only if a is a new activity.

To compute the likelihood of the Wikipedia data given specific model parameters, P ( W |  X  ), we first initialize the set of sequences using the first t article and user discussion page edits. We then process each remaining edit event in order of increasing timestamp. For a user discussion page edit in which u interacts with v , we compute P ( C u,v ) using the equation above, and then update the the interaction his-tories by adding a u interaction to N ( v ) and a v interaction to N ( u ). For an article edit event in which u edits article a , we compute P ( D u,a ) and then update the state of the model by adding an instance of a to E , an instance of u to U , an instance of a to E ( u ), and an instance of u to  X 
We seek parameter values that maximize the probability of the Wikipedia data given our model. We estimate these parameters by brute force search over a grid of quantized values. To make this tractable, we first search over a rela-tively coarse quantization grid: for each parameter we sear ch Figure 3: Result of simulation using our model, showing average similarity of user pairs as a function of the number of edits from time of first interaction. over the range (0 , 1) at a spacing of 0 . 05. We then conduct a finer-scale search around the maximizing parameter values using a quantization of 0 . 005 for each parameter.
We performed this parameter learning procedure on the entire history of Wikipedia through April 1, 2007, which con -sists of roughly 49 million article edit events and 3 million user interaction events. We set the history length paramete r k to 10 for both the learning and the simulations presented in the next section, although we find that the simulation re-sults are insensitive to k over the range [5 , 100]. The result of the parameter estimation process was as follows. The pa-rameter  X  , the probability of communicating versus editing, was 0.058. Given that an edit is being performed, the article is chosen from one X  X  own interests with probability  X  = 0 . 35, from a neighbor X  X  interests with probability  X  = 0 . 081, from the overall interests of Wikipedia editors with probabilit y  X  = 0 . 5, and by creating a totally new article with probabil-ity  X  = 0 . 069. In the interaction case, the user to commu-nicate with is chosen randomly from the overall set of users with probability  X  = 0 . 71.
 Simulating Wikipedia using the model . For the simu-lation, we initialized the model with 100,000 users as follo ws. For each user u , we sampled an edit count r u from the em-pirical distribution of Wikipedia editor activity. We then chose an initial distribution of edits for u by sampling r articles from the empirical distribution of article edit fr e-quency. This process gave initial values for the sequences E (  X  ),  X  E (  X  ), U , and E . To initialize the interaction histo-ries, we set N (  X  ) to be empty and then ran the model for 1,000,000 time steps. After initialization, we ran the mode l for an additional 3,000,000 time steps. Using the activitie s and interactions that occurred during this simulation, the average similarities of pairs of users were plotted as a func -tion of time, aligned as before by the time of first interactio n. Figure 3 shows the result of this simulation. This plot has a remarkably similar overall shape to the empirical data in Figure 1, and in particular exhibits the two key features of a rapid rise in similarity prior to the first interaction and a continued slow rise in similarity afterwards.

The model and the parameter settings derived from Wi-kipedia help us to better understand the effects of selection and social influence in this dataset. First, the vast majorit y of activities are edits (94%) rather than interactions (6%) . In choosing what to edit users are most influenced by the overall distribution of editing in Wikipedia (50%), then by their own edit history (35%), and finally by the the edit his-tory of their neighbors (8%). In addition, 7% of the time they choose to start a new article rather than editing any-thing that already exists. We see that neighbors X  past activ -ities influence people X  X  future behavior, but that this effec t is less strong than people X  X  intrinsic interests, and also l ess strong than effects that are not explicitly captured by the model and thus are captured by the background activity level across all articles.

We tried several simplifications to the model, but found that all of its ingredients are necessary to produce the sigm oid-shaped plots observed in the real data. For example, if the space of articles is kept constant by setting  X  = 0, then the baseline similarity between pairs of users increases at an excessive rate. Without the recency property of the se-quences, the plot is approximately piecewise-linear inste ad of exhibiting the distinctive sigmoid shape. In particular , if the recency bias is removed from the user sequences (by setting k =  X  ), then the convexity before first interaction disappears; if recency is removed from the article sequence s, then the the concavity of the plot after the interaction dis-appears.
In order to better understand the aggregate behaviors we have been measuring and modeling, it is useful to take a more detailed look at the kinds of interactions occurring be -tween people when they first meet on Wikipedia. There are a number of reasons why Wikipedia users might meet. For instance, a group of self-selected Wikipedians known as the Welcoming Committee writes greetings to a large number of new users; administrators (and others) post instruction s and warnings to users who violate the community X  X  norms; people notice others through their contributions to articl es they are reading; and so on. Finally, as we suggested ear-lier, people might meet through shared activity around the construction of articles.

To explore the reasons people meet, we randomly selected 30 instances of two users meeting for the first time. We examined the content of the initial communication and any reply, looking for references to specific articles or other a rti-facts in Wikipedia. We also compared the edit history of the two users. Of the 30 messages, 26 referenced a specific arti-cle, image, or topic. In 21 cases, the users had both recently worked on the artifact that was the subject of conversation. The gap between co-activity and communication was usually short, often less than a day, though it stretched back three months in one case. Informally, communications tended to fall into a few broad categories: offering thanks and praise, making requests for help, or trying to understand the editin g behavior of the other person.

This sample of interactions suggests that people most of-ten come to talk to each other in Wikipedia when they be-come aware of the other person through recent shared ac-tivity around an artifact. Awareness then leads to commu-nication, and often coordination. However, despite the fac t that interaction often happens because of recent shared ac-tivity, we have seen this short-term effect has surprisingly long-term consequences in aggregate, as similarity contin ues to increase long after the first interaction. Taken together , then, these results emphasize the importance of building awareness of others in systems that seek to facilitate or ex-ploit social interactions. Such awareness is fundamental t o supporting distributed collaboration [8] and the efficient o p-eration of teams [4]. Since awareness often leads to commu-nication, systems that can identify needed social connecti ons might deliberately present artifacts that lead people to be -come aware of each other and start communicating.
We now turn to our second main question, which addresses the relative power of similarity and social network links fo r predicting future behavior. We compare these two sources of information by putting them on a common footing as fol-lows. First, we use a technique from [1] to compute the probability that a node adopts a given behavior given that k of its neighbors have done so; this measures the effect of social-network links. We then compare this to the proba-bility that a node adopts a behavior given that the k most similar nodes have already done so.

In particular, we create two networks, one based on so-cial interaction and one based on similarity of past behav-ior. For the interaction network, we create directed edges ( v,w ) between any users v and w such that v has edited w  X  X  user discussion page at some point before a given ref-erence time t 1 . We then create a similarity network with the same ordered degree sequence: if node v has d v out-neighbors in the interaction network, we connect it to the d v nodes whose activity vectors are the most similar to v  X  X  activity vector ~v ( t 1 ). These activity vectors are constructed as in the previous section. We have considered a range of possible vector similarity measures, and in this section we focus on the weighted Jaccard coefficient : where the weights  X  j are inversely proportional to the num-ber of people who have engaged in each activity j . (We discuss our choice of similarity measure below.)
Once we create the networks, we use them to estimate the probability of future activities as follows. For either net work, we say that an individual u is k -exposed to an activity a at time t 1 if that individual is a non-adopter of a at t 1 and has exactly k neighbors who are adopters at t 1 . We then see whether u adopts a sometime between t 1 and a later time t . Let p ( k ) be the fraction of cases in which a user was k -exposed to activity a at t 1 and then adopted that behavior between t 1 and t 2 .

We have constructed the social influence and similarity networks for two different datasets. The first is Wikipedia, with the definitions of interactions and activities as define d previously; the second is LiveJournal, where we define in-teractions based on declared friendship links, and each Liv e-Journal community defines an activity that a user can en-gage in simply by joining the community.
 Figures 4(a) and 4(b) show p ( k ) as a function of k . 3
For these plots, t 1 is 2006/12/01 and t 2 is 2007/02/01 for Wikipedia; for LiveJournal, t 1 is 2006/09/05 and t 2 2006/11/15. These times are arbitrary; moving forward or backward in time or changing the interval between the two times does not qualitatively affect the results. curves to similarity ties. The error bars represent  X  2 standard errors. solid black curves are drawn using neighbors in the social influence graph for each community, while the dashed red curves are drawn using neighbors in the corresponding sim-ilarity graphs. For Wikipedia, the interaction networks pr o-duces higher probabilities of future activities, whereas f or LiveJournal the opposite is true. For a wide range of other vector-similarity measures, the shapes of the curves are qu al-itatively closely similar. The weighted Jaccard coefficient produces the curves that rise the most steeply among all the similarity measures we considered, hence providing the largest probability estimates.

The fact that the relative predictive values of similarity and social influence are reversed between Wikipedia and LiveJournal seems initially counter-intuitive: Wikipedi a is focused on the creation of topic-specific articles of inter-est, while LiveJournal is more focused on social interactio n, which might lead one to expect the opposite results. As with our observation of specific interactions in section 2.3, how -ever, a detailed examination of behaviors provides further insight. In Wikipedia, much (perhaps most) of the work in editing articles involves activities such as fixing minor er -rors, editing for grammar, and fighting vandalism. These activities are important, but require little knowledge of o r interest in the topic of the article. That is, editing an arti cle is not a perfect indicator of interest in the topic, and havin g these  X  X oisy X  edits in one X  X  profile reduces the performance of similarity-based predictors. The dynamics in LiveJour-nal are different: the creation of friendship links often has a primarily gestural significance, and does not necessarily indicate communication. However community membership in LiveJournal is arguably a good implicit indicator of inte r-est in the topic of the community, as it does not serve the more mechanical sorts of activities (fixing errors, fighting vandalism) that one sees in Wikipedia.

This kind of analysis also sheds further light on the role of short-term coordination in Wikipedia. Recall that the curve in Figure 4(a) is produced by using article edits and social ties as of time t 1 to predict first edits between then and a later time t 2 , where t 1 and t 2 were set to be two months apart. Many first edits close to t 1 would suggest effects based on short-term processes, such as immediate coordination around a given activity, whereas edits later i n the time interval would suggest longer-term influence. We repeated the analysis with one modification: we considered only behavior that occurred in the latter half of the time interval between t 1 and t 2 , still predicting based on the ac-tivities and social ties as of t 1 . That is, t 1 and t 2 two months apart, but we only consider adoption of new ac-tivities during the second of the two months. The result is similar to that in Figure 4(a), further supporting the view that social influence effects in our data are not simply the result of short-term coordination.
Our work examines two main questions, the first of which is the interplay between social interaction and similarity . We provide two main contributions around this question through empirical analysis of Wikipedia data. First, we show that in Wikipedia, people rapidly become more similar shortly before their first communication and continue to be-come more similar for a long time afterward. In other words, social interaction is both an effect and a cause of selection, and theories and models that relate them will need to con-sider their interaction. Second, we find strong evidence tha t people become aware of others through shared, recent activ-ity around artifacts. This parallels the relationship betw een social interaction and selection in the physical world: peo -ple are more likely to talk to others they encounter in the same church, school, or workplace. Opportunities for these encounters are in turn driven by factors associated with se-lection such as income, race, location of residence, and edu -cation level, all of which are relatively immutable. Design ers of online spaces have much more flexibility in structuring their systems to control how people come to interact with artifacts, and thus also to exert control over the nature and frequency of social interactions that arise.

Our model of the relationship between social influence and similarity provides a number of interesting questions for f ur-ther research. One main contribution of the model is that it provides a richer framework for exploring the dynamics of opinion change and behavior adoption in social networks than earlier models do. Another contribution of this model is more theoretical in nature. There is a rich mathematical literature that focuses on urn processes [17], and this mode l motivates new theoretical questions in this field  X  in par-ticular, the study of urn processes that are coupled across the edges of a graph.

The second main question we have addressed is the ex-tent to which similarities and social interactions serve as predictors of future behavior. We find that in Wikipedia social interaction is a better predictor of future behavior than similarity of interests, while the opposite is true in LiveJournal. We find that the dynamics of the community are important in understanding the relative power of social interaction and similarity-based predictors. Using both a s sources of information might be a useful approach for rec-ommender systems. For instance in Wikipedia, the social interaction and similarity graphs have little overlap, sha r-ing fewer than 15% of their edges in common. This suggests future work investigating combining the two in a hybrid rec-ommender system [3] may be a promising approach, espe-cially in domains such as Facebook where social information and easily-computable similarity information coexist.
Finally, we find that examining specific instances of be-havior can be a valuable complement to studying the data in aggregate. Looking at the content and context of people X  X  first meetings informed our understanding of the relation-ship between interaction and similarity as well as creating a model of behavior adoption. Likewise, our observation that many Wikipedia edits are minor or systematic helped us un-derstand why interest similarity is not as predictive as we might have expected.

Disciplines from sociology to economics are increasingly interested in exploring the large, rich datasets of behavio ral and interaction data that can be captured when people inter-act through computers. We expect that mixed-method ap-proaches that explicitly blend large-scale data mining tec h-niques with deep understanding of the processes that gener-ate the data will become an interesting area to explore. [1] L. Backstrom, D. Huttenlocher, J. Kleinberg, and [2] N. Berger, C. Borgs, J. T. Chayes, and A. Saberi. On [3] R. Burke. Hybrid recommender systems: Surveys and [4] M. Cataldo, P. Wagstrom, J. Herbsleb, and K. Carley. [5] D. Cosley, D. Frankowski, L. Terveen, and J. Riedl. [6] P. Domingos. Mining social networks for viral [7] N. E. Friedkin. A Structural Theory of Social [8] C. Gutwin and S. Greenberg. The importance of [9] W. Hill, L. Stead, M. Rosenstein, and G. Furnas. [10] P. Holme and M. E. J. Newman. Nonequilibrium [11] G. Kossinets and D. J. Watts. Empirical analysis of an [12] R. Kumar, J. Novak, and A. Tomkins. Structure and [13] P. Lazarsfeld and R. Merton. Friendship as a social [14] J. Leskovec, L. A. Adamic, and B. A. Huberman. The [15] M. Macy, J. Kitts, A. Flache, and S. Benard.
 [16] M. McPherson, L. Smith-Lovin, and J. Cook. Birds of [17] R. Pemantle. A survey of random processes with [18] P. Resnick, N. Iacovou, M. Suchak, P. Bergstrom, and [19] E. Rogers. Diffusion of Innovations , Free Press 1995. [20] G. Salton. Introduction to Modern Information [21] U. Shardanand, P. Maes. Social information filtering: [22] D. Strang, S. Soule. Diffusion in organizations and [23] B. Stvilia, M. B. Twidale, L. C. Smith, and L. Gasser. [24] M. Van Alstyne, E. Brynjolfsson. Global Village or [25] F. B. Viegas, M. Wattenberg, J. Kriss, and F. van [26] J. Voss. Measuring Wikipedia. In International [27] S. Wasserman, K. Faust. Social Network Analysis .
