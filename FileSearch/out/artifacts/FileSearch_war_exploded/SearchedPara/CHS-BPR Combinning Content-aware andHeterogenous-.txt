 and Plancast, recommending suitable events for users on EBSNs is the key for both users and service providers.On EBSNs, users can create,promote and share upcoming events with other users conveniently,so the numbers of users and events are increasing gradually.The sheer volume of available events often undermine the users X  X bility to find the ones that best match their interests. Event recommendation systems are the effective solutions.
 s X  X nique characteristics and challenges.The first unique characteristic of EBSNs is the heterogene-ity of social network. As we know,there are two kinds of social networks in EBSNs,online social network and offline social network.The online social relationships reflect the groups joined by the like-minded users,and the offline social relationships reflect the events participated by users with the similar interest. The second unique characteristic of EBSNs is the implicit feedback data from users. Different from the traditional recommendation system, event recommendation do not have explicit rating like in movie recommendation where users can rate an movie from 1 to 5 to describe how much they like it.In EBSNs, for example in Meetup,the feedback data are reflected by the RSVP choice (yes, no).
 cold-start problem.In classical recommendation system,cold-start scenarios are situations in which no prior information, like ratings or clicks, are known for certain users or items. In EBSNs,users ac-cess the system for the very first time at which they had made no feedback.To compute predictions in such cases, additional information about users (users digital traces,users X  social relationships) formation.In recent years,the recommendation with context information has become a research focus.In this work, we research on how to use the context information to improve the recom-mendation accuracy in EBSNs.To illustrate this idea, in this work we target personalized event recommendations and leverage users social digital traces,items X  X escriptions and heterogenous social network information to recommend meetup event.
 an event X  X  topic matches a user X  X  interest very well,then the user will join the event with a high probability.The second fact:a user X  X  rating in recommendation can be affected by his friends and this information can be obtained from the social network.
 et al. 2014) and its extensions (Rendle et al. 2009, Gantner et al. 2010, Pan and Chen 2013), are tailored to personalized ranking with implicit feedback. They usually assume that users are more interested in items that they have selected than the remaining items. In our work,we present a Bayesian latent factor model that combines users/items content-context information and heteroge-nous social information for event recommendation.We use regularization to model the heteroge-nous social information and content information respectively, called social regularization term and content regularization term. Furthermore, we embed the two regularization terms into BPR frame-work,and scale BPR to model all of implicit feedbacks,contents and social relationships.Specifically, we propose an comprehensive solution, Content-aware and heterogenous social-aware Bayesian Per-sonalized Ranking (CHS-BPR)method, which incorporates implicit feedbacks with contents and heterogenous social relationships to learn latent vectors for users/iterms.
 s diverse personal digital traces,items X  descriptions and heterogeneous social networks to make heterogeneous social relationships and content information together. can avoid the difficulty of feature extraction and model the context information intuitively. BPR can improve personalized ranking by combining contents,heterogenous social relationships for implicit feedbacks. recommendation, event recommendation based on social context, event recommendation based on content context and factorization matrix for implicit feedback.
 implemented in e-commerce systems where the goal is to recommend items to the users by mining user rating history data. The methods used to solve this problem can be roughly categorized into content-based, collaborative filtering and hybrid approaches(Bao et al. 2015). Recently, with the popularization of social networks, social-trust based recommendation has been proposed to im-prove recommendation accuracy. The common rationale behind all of them is that a users taste tion and social-trust based recommendation, event recommendation is not only refers to social relationships when users who join in a group online or participate in a event offline,but also refer-s to users X /items X  X ontent information when they communication with each other.So traditional recommendation or social-trust based recommendation can no longer work well on event recom-mendation.
 ommendation,EBSN not only has online social network,but also has offline social network. Many works on EBSNs had use online social relationships or offline relationships to improve the recom-mendation accuracy. In the aspect of using online relationships,for the Pittsburgh area, a cultural event recommender was build based on trust relations(Lee 2008). Simon et al. (2012) set up an online user-centric based recommendation method for a popular Belgian cultural event website. Besides,there are also some researches study co-existence of online and offline social network in Liu et al. (2012).Their work comprehensively study the properties of the two kinds of social net-works.Their approach was later extended by Qiao et al. (2014), who proposed a Bayesian matrix factorization approach for event recommendation, by employing social regularization factors in-spired by users X  interactions in an EBSN.
 al. 2010, Rendle 2012, Hong et al. 2013) investigate entities in recommender systems from their content information. Generally, this kind of methods utilize contents of users/items, such as de-scriptions of items, digital traces of users, to learn latent representations for users/items and to alleviate the cold start problem.There are two categories methods of how to use these users/items content information for event recommending. 1) The first category method is to use factorization methods to model users X /items X  content. For example, in Factorization Machines(FM) (Rendle 2012), all kinds of attribute information are concatenated into a feature matrix, and factors asso-ciated with attributes are factorized from these content information by regression.Their work do not consider cold start problem. As we know, Map-BPR can alleviate the cold start problem in recommender systems and it extends BPR framework to learn content-aware mappings from the space of content information to the latent space. Then, Map-BPR utilize the learned content-aware mappings to learn latent vectors for the new entities which lack enough collaborative information. However, Map-BPR segments the latent vectors learning into two independent parts.This limi-indicate collaborative properties of entities but not any content properties.For obtaining more re-liable latent vectors, Guo et al. (2015) learns the latent vectors for entities observed in data set from both collaborative information and content information by a unified learning process. 2) The second category method is to use topic model to model users X /items X  content to improve event recommendation accuracy. For example, Hsieh et al. (2016) proposed a new user-centric recom-mendation model, this model incorporates cross-platform and diverse personal digital traces into recommendations. Their context-aware topic modeling algorithm systematically not only profiles users interests based on their traces from different contexts,but also profiles items X  X opics based on their descriptions.
 sonalized recommender systems. They are utilized to deal with various information collected by tributes of item (Rendle 2012 and Gantner 2010), user profiles (Qiao 2014) and social information (Ma 2011).According to the data they studied,these methods can be generally arranged into two branches, i.e., collaborative methods, or content-based methods.No matter what kinds of factor-ization methods, Bayesian Personalized Ranking (BPR) and its extensions must be mentioned.The basic theory of BPRs is that these methods make a pairwise assumption that users are more in-terested in items that they have selected than the remaining items. Since the pairwise assumption usually derives large scale training data, the learning algorithms are typically based on SGD with u-niformly drawn pairs. Content-based BPRs use users X /items X  content information and collaborative BPRs use only the implicit collaborative information. E ( event ) and P e (event profile), and two additional social networks: G On (online social networks) and G Off (offline social networks). Let S = { u 1 ,u 2 ,...,u m } denote the set of users. For each user u , i = 1 , 2 ...m , we use a unique profile P u i to indicate the user X  X  content information. Let the set The Online social network G On represents social relationship among users and the offline social network G Off represents offline relationship among users.
 the central role in event recommendation.
 user-event matrix,here we call this preference as ordinary preference.Except for ordinary prefer-combine ordinary and interests preference. Specifically, inorder to tackle with the implicit rating characteristic, a Bayesian ranking framework is introduced to learn the mixture rating. Heteroge-neous social relations are applied into improve the performance by popular social regularization method.The historical behaviors of users and the descriptions of events are also used to increase the accuracy through content regularization. Based on the above assumption,we finally proposed the Content-aware and heterogenous social-aware Bayesian Personalized Ranking (CHS-BPR) model to recommend event. 3.1 Heterogenous social network Online social relationship In event-based social services, social group reflects social relationship. In Meetup, users in the same social group often share comments, photos and event plans. We use the edge weight w on ij , as in Eq. (1), to represent online social relationship between users i and j . | G ( u i ) S G ( u j ) | .
 Offline social relationship Offline social relationship. The offline network is constructed based on the co-participation of social events. If users u i and u j co-participate in a social event, they social relation can be described as in Eq. (2), the set | E ( u i ) S E ( u j ) | . 3.2 Interests preference since these events tend to have similar or near-identical content. Thus, as content-based filtering each user is represented as a TF-IDF vector of the words extracted from the past events the user attended. Additionally, each event is weighted by its time distance to the recommendation instant by means of a time value of money decay function [17]. More formally,the profile of the target user i  X  U ( A U i )is defined as follows: description,  X  is a time decay factor and  X  ( e ) returns the number of days from the RSVP to e until the moment of recommendation.
 to users interests,the details can be seen in the next section.
 Personal rating The personal rating is similar to the matrix factorization latent factor model, which is proved efficient in recommendations. The basic idea is to embody user i and event j with of user i to item j is approximated as follows, Interests preference-aware rating In the last section, we have observed the reality of interests preferences of users.Hence, we consider the interests preference-aware rating r 00 ( u i ,v j ). Then, the rating can be derived by using the equation as follows, means the user/item profile relevance.
 implicit ratings [22]. For example, in the case of Medium.com, users only upvote the articles they like, and do not have a means to express their dislike for an article. As such, the case that a user did not upvote an article could be interpreted as either 1) the user did not like the story or 2)the user was not aware of the story. Therefore, for stories that did not get upvoted, we set r 00 ( u i ,v j ) = 0 and have a lower c ij to capture this uncertainty [22, 44], specifically: to numbers between 0 and 1 that represent different degrees of support to an item, and c ij can be set accordingly to represent the rating confidence. 3.3 Bayesian Personalized Ranking value 1/0. Bayesian Personalized Ranking (BPR)(Rendle et al. 2009) emphases on predicting the implicit feedback recommendation problem. Based on the BPR optimization criterion, we regard events involving user i as a positive event set (denoted by P I i ), while the remaining events as the negative set (denoted by N I i ). Then, we expect to maximize the objective function that ranks P I i higher than N I i , r ( u i ,v k )), and function l represents the logistic function. Then, we can get the target optimization function, commonly represented as a log-likelihood function. 3.4 Heterogenous Social regularization the preference of a user is close to the weighted average preference of his friends. We also add a Gaussian prior in the model as follows, hidden relationships between groups and events. Generally, a social group may organize many events. Such a group/event pair can be defined by the confidence weight in heterogenous social relationships as follows, pairs. Combining heterogenous social relationships and auxiliary heterogenous confidence weights, follows, 3.5 Content regularization content features of users and items respectively. Then, we present the objective function to learn the content-aware mappings.
 3.6 CHS-BPR model also enforce Gaussian priors on the latent factor vectors U i , V j . Then, given the user/event feedback matrix R , online social relation W on , offline social relationship W off ,heterogenous weight matrix F
H ,users X  X rofile A U and items X  profile A V ,our CHS-BPR model is as follows: tochastic gradient descent (SGD) algorithm (Pan, Xiang, and Yang 2012). SGD has fast speed to convergence and high scalability to large-scale data sets. The main process of SGD is to randomly scan all training instances and iteratively update parameters.
 ments matrix decomposition with the alternative least squares to learn the mapping matrices. where  X  is the predefined step size. the proposed recommendation model and test on several real-world data sets to demonstrate its effectiveness.We later give experimental results with discussions. 5.1 Data data sets include Phoenix,Chicago and San Jose which are among the most populous cities in the USA and might indicate large event activity.The details of the data sets are shown in Table 1. Algorithm 1 : The algorithm of CHS-BPR 5.2 Evaluation measures (Precision at Position k) and MAP(Mean Average Precision).AUC measures the overall results of classification. It is suitable for highly imbalanced data set, as in our case where the negative events take a high proportion.In this work, we use AUC in the pair test sets to measure the results. is 0.5 and the best achievable quality is 1.
 use P @ k and MAP in the list test sets. For each user u, the average precision (AP) is defined as the kth event in the ranking event list L ( u ) and | P I u | represents the number of events joined by u in the test sets. Finally, we can obtain MAP by averaging AP u for all users.
 5.3 Compared methods the-art methods outlined below.
 information.
 deals with implicit feedbacks and contents.
 heterogenous online+ offline social relationships and user implicit rating data.
 5.4 Parameter setup model training. Too large or too small of the learning rate will affect the function convergence. In this work, the learning rate is empirically set to 0.001 for both matrix factorizations:personal and interests. (2) Regularization parameters are also empirically set to 0.001 for all.
 set it to 0.005. (2) Relative weight  X  is the fusion coefficient. We tune  X  by evaluating how the AUC changes in pair-test sets. As the results shown in Figure 1, we get stable and better performance when  X   X  [0 . 64 , 0 . 72]. Taking the results of P @ k and MAP into consideration, we set  X  = 0 . 68. dimensions, we found that it is not very sensitive. 5.5 Results and discussion mendation. We aim to answer the following research questions: results, we can observe that: (1)Models are better under considering imbalanced implicit rating characteristic; (2)The heterogenous social regularization and content regularization can improve performance of all models; (3)CA-BPR can model users interests preference, but its performance is not as good as CHS-BPR, that is due to that CA-BPR only consider the similarity between users X  interests to the events;(4)Hesig can model users social preference, but its performance is not as good as CHS-BPR, that is due to that Hesig only consider the friends X  X nfluence for a users; (5)The proposed model, CHS-BPR, by combining content preference and heterogenous social information, achieves better performance than other methods.
 recommendation results while ignoring the rest.We also use MAP to measure the overall results of recommendation.
 factorization methods for our offline event recommendation problem,we compare our method CHS-BPR with MF, BPR-MF,CA-BPR and Hesig w.r.t. P @1, P @3 and MAP.
 and MAP. For the top-1, top-3 and top-5 precision, it achieves significant improvements over the corresponding results in the three list test sets. It also achieves the best MAP among all methods. Thus, we can conclude that the proposed.
 social network and users/items X  X  context information simultaneously. In a thorough evaluation on several event datasets of Phoenix,Chicago and San Jose, we showed that our approach improves upon a state-of-the-art heterogenous-aware and context-aware event recommender based on BPR with social regularization significantly.

