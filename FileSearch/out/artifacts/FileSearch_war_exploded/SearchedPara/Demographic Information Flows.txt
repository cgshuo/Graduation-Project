 In advertising and content relevancy prediction it is impor-tant to understand whether, over time, information that reaches one demographic group spreads to others. In this paper we analyze the query log of a large U.S. web search engine to determine whether the same queries are performed by different demographic groups at different times, partic-ularly when there are query bursts. We obtain aggregate demographic features from user-provided registration infor-mation (gender, birth year, ZIP code), U.S. census data, and election results. Given certain queries, we examine trends (from high to low and vice versa) and changes in the sta-tistical spread of the demographic features of users that is-sue the queries over time periods that include query bursts. Our analysis shows that for certain types of queries (movies and news) distinct demographic groups perform searches at different times, suggesting that information related to such queries flows between them. Queries of movie titles, for in-stance, tend to be issued first by young and then by older users, where a sudden jump in age occurs upon the movie X  X  release. To the best of our knowledge, this is the first time this problem has been studied using search query logs. H.1.2 [ User/Machine Systems ]: Human factors; H.3.3 [ Information Search and Retrieval ]: Search process Experimentation, Human Factors, Measurement demographics, trends, query logs
Information diffusion has been a topic of interest in soci-ology, marketing, consumer behavior, management, and the health sciences, among several other fields since at least the 1960s [9]. Many dimensions have been studied, including the application of diffusion theories to consumer research, for targeting of new products and services, and for modeling the diffusion of innovation in social systems. Understanding information flows across demographic groups is particularly important in areas such as public health policy and can be useful for studying information inequality. There are appli-cations in advertising [3] and other fields.

In this paper, we analyze the query logs of a large U.S. search engine to study information flows across demographic groups. We define information flows as changes in the ag-gregate distribution of demographic features of groups of registered users that perform given queries within a time window in which there is a query burst. In particular, we consider changes in the mean of demographic features (e.g., from young to old) as well as in the spread (e.g., from a niche to the whole population) for movies and U.S. news. We ob-tain demographic information by linking user provided reg-istration information (gender, birth year, ZIP code), U.S. census data, and election results to obtain per-ZIP-code es-timates of variables such as income and race.

Our contribution is thus to examine information flows by analyzing a large-scale query log in terms of the demographic characteristics of the groups searching. The results of our study suggest that queries  X  X ravel X  1 between different demo-graphic groups in the categories of movies and news.
Recent work on information diffusion and propagation has been carried out on the web in the context of news [8], blogs [1, 6], and social networks. Leskovec et al. [8], for instance, track short distinctive phrases through on-line text. They automatically cluster variants of such phrases and examine the resulting news cycle (i.e., they analyze temporal pat-terns in the spread of those phrases in blog posts and news articles). Gruhl et al. [6] study topic propagation in blogs, making a distinction between horizon models (i.e., those that change over the course of months, years or decades) and snapshot models (i.e., those that change over days, weeks or months). They characterize spikes in the data (i.e., by ex-amining aggregates of posts at the topic level) and model the path of topics through individuals in the blogspace (i.e., by classifying individuals in terms of how they contribute to the propagation of information). Adar et al. [1] study informa-
Strictly speaking, we do not know why queries might be is-sued by one demographic group and then another one, thus the words  X  X ravel X  and  X  X low X  must be interpreted with cau-tion as we have no evidence of flow of information between such groups. tion propagation by determining the path that information takes in blog networks.

There has been a considerable amount of work on analyz-ing web search queries (without considering demographics). This includes examining query volume bursts over time [11, 4], and changes in the distribution of topics covered by the queries at several levels (e.g., Passetal et al. [10] analyze variations within a day, and Beitzel et al. perform hourly analysis [2]).

Finally, Jones et al. infer demographics from query logs [7] and Cheng et al. focus on ad click prediction [3]. Weber et al. [13] studied the static demographic distribution of a large U.S. search engine, but did not consider changes over time or in volume.
 Conceptually, our work can be seen as a generalization of Google Flu Trends [5], but rather than tracking the change in distribution across different geographical regions, we track changes along demographic dimensions.

To the best of our knowledge this is the first time that information flows between different demographic groups, i.e. changes in the distribution as a function of time or query volume, are studied using search engine query logs.
The query log we extracted is a sample of web search queries by registered users for a large U.S. web search en-gine for the period from Mid-April 2009 to Mid-May 2010. The total sample, after filtering out non-registered users or users who provided a non-existing ZIP code, contains sev-eral hundred million queries. No personal information was used and all of the analysis was done in aggregate. For our analysis we used a small subset of these queries, namely only those 20 distinct queries listed in Table 2.

The queries used for our study were selected such that (i) they were not in the extreme  X  X ead X  of the distribution (such as facebook or youtube ) but were still frequent enough to allow statistically significant observations, (ii) one could ex-pect a certain time-dependency in the query volume and demographic distribution during the investigated time pe-riod, and (iii) queries could be assumed to be unambiguous (e.g. we dropped avatar from an earlier selection as it often seemed to refer to  X  X ahoo avatar X  and not the movie). The query log data contains for each query a timestamp T and demographic information, namely, the birth year, the gender and the ZIP code, obtained from user-provided regis-tration. The ZIP code is used to obtain additional informa-tion about the users from the 2000 U.S. census 2 . Each query is therefore annotated with a timestamp and estimated ex-pected values for each of the twelve features shown in Table 1.

We want to detect if for a given query there is correla-tion/trend between the timestamp and one or several of the feature values. Our goal is not to detect bursts or periodic patterns [11], but rather to detect trends (from high to low or vice versa) in demographic features as well as changes in the statistical spread of the corresponding feature.
As automated queries were removed prior to our analysis, we decided to keep queries repeated by the same user, even though such repeat queries account for about 40% of our query volume. We preferred this option as our whole anal-ysis is done on a per-query basis, as opposed to a per-user basis, and as advertising is also sold on a per-query basis. http://factfinder.census.gov/ Table 1: List of the 12 demographic features we used in our study with both our per-query averages and the U.S. census per-person averages. The median is reported for the birth year.
We analyze how (i) the demographic middle and (ii) the demographic spread of queries change over time.  X  X emo-graphic middle X  refers to the average feature value F at a point in time T . For example, the average birth year of a query such as avatar movie changes from a high birth year (young) to low (old). By  X  X emographic spread X  we mean the standard error  X  ( F ) of the feature values at a point in time T . For example, the query crazy heart sees a significant increase in its spread for most features as time goes on.
We use linear regression to detect changes both in (i) the average and (ii) the spread of the feature values F over time. In the first case, it is a direct application of the text book algorithm [12]. In the second case, we first need to group sev-eral queries and their ( T,F ) pairs into buckets of B days as we cannot estimate the spread  X  ( F ) for a single pair ( T,F ). The average value of T within a bucket then becomes the timestamp for the whole bucket and the average value of F within the bucket becomes the corresponding feature value. A smaller bucket size B corresponds to a higher time reso-lution and is more appropriate for fast changing topics such as movies. A large value of B is more appropriate to analyze slower  X  X lows X  for topics such as health care reform .
For each of the 20 queries and each of our 12 features we computed a least-squares linear regression for both (i) ( T,F ) and (ii) ( T, X  ( F )) pairs. We used models with a constant offset C of the form Y = W  X  T + C , where Y is the variable to be predicted, namely either F or  X  ( F ). Apart from the actual size of a linear trend W , the model also gave us a t-score to quantify the model X  X  confidence that W 6 = 0. In all of our analysis, we only considered trends to be statistically significant if this t-score surpassed 2.58, corresponding to a confidence level of 1% in a two-sided hypothesis test.
For each query, the  X  T vs. F  X  column in Table 2 gives the two trends with the highest, significant t-score (if any). For example, for avatar movie the feature  X  X y X  (birth year, see abbreviations in Table 1) had a t-score of 32.1 and the fitted line had a slope of -18.9 (in terms of birth year) over one year. So, according to the linear fit, the average age increased by almost 19 years during 12 months, and for the News queries, birth year is just as likely to have a positive or negative trend (3/10 queries).

Concerning the detection of changes in the spread (  X  ( F )) Figure 1: The query avatar movie exhibits a gen-eral trend from high birth year (young) to low (old). This trend starts before the burst caused by the re-lease of the movie on Dec. 18, 2009, but the increase in volume seems to act as a catalyst and also causes a spread in terms of the error bars  X  ( F ) . After the movie X  X  release the distribution appears to be com-paratively stable. In these figures the Y axis does not correspond to actual absolute query volume. of the distribution, column  X  T vs.  X  ( F ) X  in Table 2 gives the number of features with a positive trend, i.e. where the spread has increased over the course of a year, as well as the number of features with a negative trend. Figure 1 shows the behavior of the birth year over time for the query avatar movie . Apart from the aforementioned trend, one can also see an increase in the size of the error bars.
Many movies are only known within a niche of the pop-ulation before they are released. When movies are released nationally, they are widely advertised, which causes a burst in interest which, along with query volume, spreads across a more diverse range of user segments. In order to detect com-monalities across the flows for all ten movies, we aligned the time axes using the movies X  release dates. After this shift in time, for each time bucket the value F of each feature was taken to be the (macro-) average across all 10 queries in the set and the same was done for V and  X  ( F ). Only buck-ets with at least 9 queries contributing were used. For each movie we computed its maximum query volume V in any bucket of 14 days. This volume was then used to normalize the volume in all buckets to the range [0 . 0 , 1 . 0].
Figure 2 shows a plot of birth year vs. time for this com-bined data for a range of 80 days before and 150 days after the release date. Though the trend is not as pronounced as for the individual case of avatar movie , it is still noticeable and coincides with the results of [4].
In this paper we presented a study of information flows be-tween different demographic groups by analyzing the query log of a large U.S. web search engine. Demographic infor-mation is linked to queries by using registration information provided by users (gender, birth year, ZIP code) and joining Figure 2: Plot of the birth year over time for the combination of all 10 movies indicating a common shift in birth year, from young to old. Movies were aligned according to their release date and the x-axis shows days before and after the release. The volume is the macro-average of the normalized volume. As for the individual query avatar movie , the size of the error bars increase coinciding with the release date. it with U.S. census information to obtain per-ZIP-code esti-mates of variables such as income and race distribution. Our analysis shows that whereas some queries (e.g., guantanamo bay ) have  X  X onverged X  with respect to their demographic distribution, the majority of queries considered shows sta-tistically significant differences in at least one demographic feature over the the time period analyzed. Furthermore, the behavior for queries in our movies category tended to be similar with a consistent  X  X low X  from younger to older users.
Although our initial data set included several hundred mil-lion queries, we based our analysis on a set of only 20 queries. Future work includes automating parts of the process to do a larger scale analysis, in particular clustering queries per topic, and a deeper analysis within categories (e.g., building prediction models for marketing or informing public policy to alleviate information inequality). [1] E. Adar and L. A. Adamic. Tracking information [2] S. M. Beitzel, E. C. Jensen, A. Chowdhury, [3] H. Cheng and E. Cant  X u-Paz. Personalized click [4] R. Crane and D. Sornette. Robust dynamic classes [5] J. Ginsberg, M. Mohebbi, R. Patel, L. Brammer, dates X  are used for the analysis in Section 5 to  X  X lign X  queries. [6] D. Gruhl, R. Guha, D. L. Nowell, and A. Tomkins. [7] R. Jones, R. Kumar, B. Pang, and A. Tomkins.  X  X  [8] J. Leskovec, L. Backstrom, and J. Kleinberg.
 [9] V. Mahajan, E. Muller, and F. M. Bass. New product [10] G. Pass, A. Chowdhury, and C. Torgeson. A picture of [11] M. Vlachos, C. Meek, Z. Vagena, and D. Gunopulos. [12] L. Wasserman. All of statistics: a concise course in [13] I. Weber and C. Castillo. The demographics of web Figure 3: The query ben bernanke sees a drop in the feature  X  X ercentage holding a BA degree or higher X  during times of increased search volume. This indi-cates that the users that normally issue this query have a higher education level than the typical users whose query appears to be driven by recent news events.
