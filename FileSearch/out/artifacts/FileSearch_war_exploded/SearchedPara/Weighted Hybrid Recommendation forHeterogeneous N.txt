 Social media sites accumulate a wide variety of information about users: likes and ratings, friend and follower links, an-notations, posts, media uploads, just to name a few. Key challenges for recommender systems research are (a) to syn-thesize of all of this data into an integrated recommendation model and (b) to support a wide variety of recommenda-tion types simultaneously (items, friends, tags, etc.) One approach that has been explored in recent research is to view this multi-faceted data as a heterogeneous network and use network-based methods of generating recommendations. However, most such approaches involve computationally-intensive model generation resulting in a single-purpose rec-ommender system. Our approach is to create a component-based hybrid model whose components can be reused for multiple recommendation tasks. In this paper, we show how this model can be applied to heterogeneous networks.
Social media sites are an important element of today X  X  In-ternet, drawing millions of users each day. The wealth of in-formation found in these sites makes recommender systems essential. Such sites often must integrate recommendations of many types: for content, for like-minded users, for appro-priate tags, etc. Our approach, called the Weighted Hybrid of Low-Dimensional Recommenders (WHyLDR) is designed to support the flexible creation and rapid deployment of a wide variety of recommenders in a heterogeneous environ-ment. We have demonstrated its effectiveness in prior work focusing on social tagging systems [8, 7, 6, 3].

Compared to a homogeneous network of uniform node and edge types, a heterogeneous network is defined by a diversity of objects and relations, three examples of these networks can be seen in Figure 1. The diversity of nodes in heteroge-neous networks means that different types of relations can be imagined between nodes.

The wide variety of relations in a social media site sup-ports many recommendation types. One obvious use of the Yelp network is for recommending new businesses to users, but there are a variety of other possible recommendation tasks. Recommending other users to befriend, recommend-ing locations, and recommending categories are all user-focused recommendation tasks. A site like Yelp may also be interested in recommending users to businesses for advertis-ing or marketing purposes. In addition, a user may wish to constrain the recommendations in various ways: looking for a recommended business in a particular category or in a particular location, for example.

What is needed for complex social media sites is a recom-mendation technique that is responsive to both the complex-ity of heterogeneous data and the multiplicity of recommen-dation tasks. The WHyLDR model has been shown to meet both of these needs in the area of social tagging systems, performing basic recommendation tasks with accuracy sur-passing that of single-purpose model-based techniques such as tensor factorization, and also supporting a wide variety of recommendation tasks [8].
 As in other work with heterogeneous networks [10], the WHyLDR model views the network structure as a set of mappings, or projections from nodes to nodes: proj A ( n )  X  { m 0 ,m 1 ,...,m i } where A is a set of paths, n is a starting node and the m s are nodes reachable from n via some path in A . Sets of paths that pass from one type of node to another over specific categories of edges are known as meta-paths. Table 1 show example of some meta-paths in differ-ent heterogeneous networks. Each such projection induces a different profile for user. Using such profiles, we can build standard collaborative filtering components to select neigh-bors of users and generate recommendations. Individually such components may be relatively weak. However, as we have shown in prior work and confirm here, ensembles of such components can be effective.

It is not obvious that extended meta-paths will yield use-ful user profiles. However, our prior work with WHyLDR systems for social tagging has shown that, in some cases, components built from longer meta-paths may make a larger contribution to a recommendation hybrid than their more narrowly-focused subsets. Judicious exploration of the meta-path space is therefore important for hybrid construction.
A heterogeneous network is one where there are multiple object types and/or multiple edge types  X  typically both.The network schemas of the three datasets shown in Figure 1 give overviews of their respective heterogeneous networks by indicating the different object types and the relations that exist between them. A meta-path in a heterogeneous network is a path over the network schema, a sequenced composition of relations between two object types. Table 1 shows meta-path examples in these networks.
 Table 1: Meta-path example in heterogeneous net-works
A weighted hybrid recommender is a system comprised of multiple recommendation components, each of which re-turns a real-valued score for a combination of user and item. The scores from all the components are combined in a weighted sum [2]. More formally, s ( u,i ) = P j  X  j s j ( u,i ) where s ( u,i ) is the score computed for a user-item combination, s j ( u,i ) is the score computed by the jth component, and  X  j is the weight associated with the jth component.

The components and the weights are therefore the build-ing blocks needed. The weights are learned through an op-timization procedure as discussed below. The components are a function of the recommendation task and the structure of the network.
WHyLDR components are built on two-dimensional ma-trices familiar to users of collaborative recommendation [5]. A user-based matrix is one in which the rows are users and the columns are information about user interests. Users are compared on the basis of their profiles and peer users form a neighborhood from which information about unknown items can be extrapolated. 1
Three types of recommendation component can be consid-ered in a our model. First, user-based KNN models which are constructed based on meta-paths starting from user node. An item-based version of this idea is also well-known. We can follow the meta-path starting from item to create a pro-file of each item in terms of the users who have rated it then applying a KNN method to make item-based recommenda-tion.

A third type of low-dimensional recommender can also be constructed in which there are two matrices: one for users and one for item with the same columns. Users and item can therefore be compared directly using any one of a number of metrics. We use cosine similarity, so these are the cosine metrics.
 Table 2: Recommendation components based on meta-paths
One outcome of our prior research on social tagging sys-tems was some surprising trends in the behavior of com-ponents formed from long meta-paths. We expected that a component with a long meta-path (for example, ABCD) would be a less effective contributor to the overall recom-mender than its prefix meta-paths (AB or ABC). Usually
All of the optimizations that have been applied to collab-orative recommenders can therefore be applied to the indi-vidual WHyLDR components, for example, matrix factor-ization. this was the case, but there were important exceptions [4]. Here we investigated this phenomenon by building a number of hybrids, incorporating successively longer meta-paths.
We divided the components into user-based and item-based and by path length (1, 2, and 3) and assembled the following hybrids: Table 3 gives the component breakdown of each hybrid by meta-path.
There is no requirement that meta-paths be simple: nodes and edges can be revisited, as seen in components like kNN Component generation is therefore in principle an unbounded process. There are significant computational costs in gener-ating components and in optimizing a hybrid with a large number of components. In addition, some components may make only a minor contribution to performance. It is there-fore important to control this process  X  ideally, we would like to be able to estimate in advance what components are likely to make a substantial contribution and be able to trade off expected accuracy against the computational costs of adding another component.

As part of our experiments with this data, we used mu-tual information related to each meta-path to estimate the utility of recommendation components. For a given two-dimensional projection AB, the mutual information can be calculated as where H ( A ) is entropy of dimension A and H ( A | B ) is the conditional entropy.Entropy is calculated as The entropy is therefore a function of the probability of oc-currence of nodes in each dimension. In our networks, we define probability of node a i from dimension A as Conditional entropy measures the uncertainty of one dimen-sion given another dimension. Considering an AB projection of a network, we make use of a two-dimension matrix to cal-culate probability of dimension B given A P ( B | A ) as follows. The likelihood of reaching node b in dimension B is consid-ered to be the fraction of paths from node a leading to node b out of all possible paths from node a. The conditional probability is therefore calculated as For example, consider the user-business meta-path and as-sociated recommendation component. The values for H ( U ) and H ( U | B ) can be calculated using the formulas above. If these values were roughly the same then the I ( U,B ) will be around zero. This suggests that the meta-path does not add much information beyond what is already contained in the U dimension and that the UB meta-path is unlikely to give any additional contribution. The same principle can be applied to any user-based or item-based component.
To test this hypothesis, we measure the correlation be-tween mutual information and the weight of components in the hybrid. If our information metric is a good measure of component contribution, we should expect a positive corre-lation between it and the weight of the corresponding com-ponent in the hybrid model.
For the experiments reported here, we used the Yelp dataset, Following the methodology [4] to build recommender models. Also we make use of Particle Swarm Optimization (PSO) [9] to learn  X  values for the weighted hybrid model. Figure 2 shows the recall-precision curve for the top individ-ual recommendation component ( kNN UB ) and the five hy-brids. The HM-1 and HM-2 models do not show significant improvement over kNN UB method, but the other three larger hybrids do show significant improvements over the simple collaborative component. The HM-5 hybrid, which incorpo-rates all the components, is dominant. The effect of each dimension of the network can be seen in the average learned  X  weights shown in Figure 3. Here the components with the largest contribution are colored red, fading to pink for those with a lower  X  value. The white cells are components not present in a particular hybrid. Unlike some of the our other datasets where overall popularity had minimal utility, the non-personalized popularity method contributes relatively strongly in HM-1, on par with location ( kNN BL component). However, we can see its contribution decreases in the mod-els including longer meta-paths, as this popularity comes to be represented through particular paths. kNN BU is the strongest contributor in all hybrid models, with kNN UB plac-ing second. This may be because part of the effectiveness of kNN UB is due to a popularity effect. As noted above, loca-tion has a strong effect in the hybrid models. The kNN UBL component makes a good contribution in HM-3. Its contri-bution decreases in HM-4 and HM-5, no doubt because these models include kNN UBLB a meta-path-based component that also incorporates location information.
 Table 4: Correlation between mutual information and  X  values
Table 4 shows the correlation between the mutual infor-mation measure described above and the learned  X  values in the various hybrids. 2 The strong correlations (all greater than 0.50) suggest that this metric may be a useful way to estimate the value of different components in a hybrid. We intend to make use of this finding in future work.
A key challenge in social media recommendation is to in-tegrate the different types of information available in such systems to enhance recommendations and to offer recom-mendations of multiple types. In this work, we describe the WHyLDR approach that constructs a linear-weighted hy-brid model from simple two-dimensional components based on meta-path traversals of a social media network. These components are then combined using weights learned through optimization. WHyLDR hybrids have been shown to be suc-cessful in social tagging applications. In addition to its ef-fectiveness and simplicity, this approach has the benefit of creating re-usable components that can be applied to mul-tiple recommendation tasks (e.g. friend recommendation or user recommendation for marketing).

As there are an unbounded number of possible compo-nents, our work raises the question of how to choose com-
This calculation did not include the cosine-based compo-nents. ponents for a hybrid and when to stop adding to it. Our study correlating mutual information with the  X  values op-timized for each hybrid suggest that we may be able to use this measure or a similar one to control hybrid construc-tion. Open questions include how to predict the contribu-tion of components involving multiple paths (such as the cosine components) and how to factor in the influence of the recommendation task.
I would like to thank my advisor Professor Robin Burke for his support, guidance and valuable feedback. [1] https://www.yelp.com/academic dataset. [2] R. Burke. Hybrid recommender systems: Survey and [3] R. Burke and F. Vahedian. Social web [4] R. Burke, F. Vahedian, and B. Mobasher. Hybrid [5] C. Desrosiers and G. Karypis. A comprehensive survey [6] J. Gemmell, T. Schimoler, B. Mobasher, and [7] J. Gemmell, T. Schimoler, B. Mobasher, and [8] J. Gemmell, T. Schimoler, B. Mobasher, and [9] J. Kennedy and R. C. Eberhart. Particle swarm [10] Y. Sun and J. Han. Mining Heterogeneous Information
