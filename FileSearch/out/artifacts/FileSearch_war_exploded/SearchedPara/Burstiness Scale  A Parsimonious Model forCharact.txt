 The problem to accurately and parsimoniously characterize random series of events (RSEs) seen in the Web, such as Yelp reviews or Twitter hashtags, is not trivial. Reports found in the literature re-veal two apparent conflicting visions of how RSEs should be mod-eled. From one side, the Poissonian processes, of which consecu-tive events follow each other at a relatively regular time and should not be correlated. On the other side, the self-exciting processes, which are able to generate bursts of correlated events. The ex-istence of many and sometimes conflicting approaches to model RSEs is a consequence of the unpredictability of the aggregated dynamics of our individual and routine activities, which sometimes show simple patterns, but sometimes results in irregular rising and falling trends. In this paper we propose a parsimonious way to characterize general RSEs, namely the Burstiness Scale ( BuSca ) model. BuSca views each RSE as a mix of two independent pro-cess: a Poissonian and a self-exciting one. Here we describe a fast method to extract the two parameters of BuSca that, together, gives the burstiness scale  X  , which represents how much of the RSE is due to bursty and viral effects. We validated our method in eight diverse and large datasets containing real random series of events seen in Twitter, Yelp, e-mail conversations, Digg, and online fo-rums. Results showed that, even using only two parameters, BuSca is able to accurately describe RSEs seen in these diverse systems, what can leverage many applications.
 communication dynamics; self-exciting point process; social media
What is the best way to characterize random series of events (RSEs) seen on the Web, such as Yelp reviews or Twitter hashtags? Descriptively, one can characterize a given RSE as constant for a period, then bursty for another, back to being constant and, after a long period, bursty again. Formally, the answer to this question is not trivial. It certainly must include the extreme case of the homo-geneous Poisson Process (PP) [6], which has a single and intuitive rate parameter  X  . Consecutive events of PP follow each other at a relatively regular time and  X  represents the constant rate at which events arrive. The class of Poissonian or completely random pro-cesses includes also the case when  X  varies with time. In this class, events must be without any aftereffects, i.e., there is no interaction between any sequence of events [17]. There are RSEs seen on the Web that were accurately modeled by a Poissonian process, such as many instances of viewing activity on Youtube [3], e-mail con-versations [12] and hashtag posts on Twitter [11].

Unfortunately, recent analyses showed that this simple and ele-gant model has proved unsuitable for many cases [14, 21, 19, 20]. Such analyses revealed that many RSEs produced by humans have very long periods of inactivity and also bursts of intense activity [1, 7], in contrast to Poissonian processes, where activities may occur at a fairly constant rate. Moreover, many RSEs on the Web also have strong correlations between historical data and future data [3, 19, 20, 4], a feature that must not occur in Poissonian processes. These RSEs fall into a particular class of random point processes, the so called self-exciting processes [17]. The problem of charac-terizing such RSEs is that they occur in many shapes and in very unpredictable ways [20, 13, 5, 4, 24, 3]. They have the so called  X  X uick rise-and-fall X  property [13] of bursts in cascades, producing correlations between past and future data that are not captured by regression-based methods [23].

As pointed out by [3], the aggregated dynamics of our individual activities is a consequence of a myriad of factors that guide individ-ual actions, producing a plethora of collective behaviors. In order to accurately capture all patterns seen in human-generated RSEs, researchers are proposing models with many parameters and, for most of the times, tailored to a specific activity in a specific sys-tem [12, 24, 11, 26, 23, 13, 5, 4, 16, 27, 25]. Going against this trend, in this work we propose the Burstiness Scale ( BuSca ) model, a parsimonious model to characterize RSEs that can be (i) purely Poissonian, (ii) purely self-exciting or (iii) a mix of these two behaviors. In BuSca , the underlying Poissonian process is responsible for the arrival of events related to the routine activity dynamics of individuals, whereas the underlying self-exciting pro-cess is responsible for the arrival of bursty and ephemeral events, related to the endogenous (e.g. online social networks) and the exogenous (e.g. mass media) mechanisms that drive public atten-tion and generate the  X  X uick rise-and-fall X  property and correla-tions seen in many RSEs [3, 11]. To illustrate that, observe Fig-ure 1, which shows the cumulative number of occurrences N ( t ) of three Twitter hashtags over time. In Figure 1a, the curve of hash-tag #wheretheydothatat is a straight line, indicating that this RSE is well modeled by a PP. In Figure 1b, the curve of hash-tag #cotto has long periods of inactivities and a burst of events, suggesting that the underlying process may be self-exciting in this case. Finally, In Figure 1c, the curve of hashtag #ta is apparently a mix of these two processes, exactly what BuSca aims to model.
Besides that, our goal is also to characterize general RSEs us-ing the least amount of parameters possible. The idea is to pro-pose a parsimonious model that can separate out constant and rou-tine events from bursty and ephemeral events in general RSEs. We present and validate a particular and parsimonious case of BuSca , where the Poissonian process is given by a homogeneous Poisson process and the self-exciting process is given by a Self-Feeding Process (SFP) [20]. We chose these models because (i) both of them require a single parameter and (ii) they are on opposite ends of the spectrum. The PP is on the extreme side where the events do not interact with each other and inter-event times are independent. On the other extreme lies the SFP, where consecutive inter-event times are highly correlated. Even though BuSca has only two pa-rameters, we show that, surprisingly, it is is able to accurately char-acterize a large corpus of diverse RSE seen in Web systems, namely Twitter, Yelp, e-mails, Digg, and online forums. We show that dis-entangling constant from ephemeral events in general RSEs may reveal interesting, relevant and fascinating properties about the un-derlying dynamics of the system in question in a very summarized way, leveraging applications such as monitoring systems, anomaly detection methods, flow predictors, among others. In summary, the main contributions of this paper are:
The rest of the paper is organized as follows. In Section 2, we provide a brief survey of the related work. Our model is introduced in Section 3 together with the algorithm to estimate its parame-ters. We show that the maximum likelihood estimator is biased and show to fix the problem in Section 4, discussing a statistical test procedure to discriminate between extreme cases in Section 5. In Section 6, we describe the eight datasets used in this work and show the goodness of fit of our model in Section 7. A comparison with the Hawkes model is given in Section 8. We show two applications of our model in Section 9. We close the paper with Section 10, where we present our conclusions.
Characterizing the dynamics of human activity in the Web has attracted the attention of the research community as it has impli-cations that can benefit a large number of applications, such as trend detection, popularity prediction, clustering, anomaly detec-tion, among others[1, 3, 12, 22, 24, 11, 26, 23, 13, 5, 4, 16, 27, 25]. The problem is that uncovering the rules that govern human behavior is a difficult task, since many factors may influence an in-dividual X  X  decision to take action. Analysis of real data have shown that human activity in the Web can be highly unpredictable, ranging from being completely random [3, 2, 8, 9, 12] to highly correlated and bursty [1, 7, 20, 13, 25, 16, 27].

As one of the first attempts to model bursty RSEs, Barab X si et. al. [1] proposed that bursts and heavy-tails in human activities are a consequence of a decision-based queuing process, when tasks are executed according to some perceived priority. The queuing mod-els generate power law distributions, but do not correlate the timing of events explicitly. As an alternative to queuing models, many researchers started to consider the self-exciting point processes, which are also able to model correlations between historical and fu-ture events. In a pioneer effort, Crane and Sornette [3] modeled the viewing activity on Youtube as a Hawkes process. They proposed that the burstiness seen in data is a response to endogenous word-of-mouth effects or sudden exogenous perturbations. This seminal paper inspired many other efforts to model human dynamics in the Web as a Hawkes process [13, 25, 16, 27]. Similar to the Hawkes process, the Self-Feeding process (SFP) [20] is another type of self-exciting process that also captures correlations between historical and future data, being also used to model human dynamics in the Web [20, 19, 4]. Different from Hawkes, whose conditional inten-sity explicitly depends on all previous events, the SFP considers only the previous inter-event time.

Although there are strong evidences that self-exciting processes are well suited to model human dynamics in the Web, there are studies that show that the Poisson process and its variations are also appropriate [3, 2, 8, 9, 12]. [2, 8] showed that Internet traffic can be accurately modeled by a Poisson process under particular circus-tances, e.g. heavy traffic. When analyzing Youtube viewing activ-ity, [3] verified that 90% of the videos analyzed either do not expe-rience much activity or can be described statistically as a Poisson process. Malmgreen et al. [12] showed that a non-homogeneous Poisson process can accurately describe e-mail communications. In this case, the rate  X  ( t ) varies with time, in a periodic fashion (e.g., people answer e-mails in the morning; then go to lunch; then answer more e-mails, etc).
 These apparently conflicting approaches, i.e., self-exciting and Poissonian approaches, motivated many researchers to investigate and characterize this plethora of human behaviors. For instance, [18] used a machine learning approach to characterize videos on Youtube. From several features extracted from Youtube and Twit-ter, the authors verified that the current tweeting rate along with the volume of tweets since the video was uploaded are the two most important Twitter features for classifying a Youtube video into vi-ral or popular. In this direction, [11] verified that Twitter hashtag activities may by continuous, periodic or concentrated around an isolated peak, while [5] found that revisits account from 40% to 96% of the popularity of an object in Youtube, Twitter and LastFm, depending on the application. [26] verified that the popularity of a Youtube video can go through multiple phases of rise and fall, probably generated by a number of different background random processes that are super-imposed onto the power-law behavior. The main difference between these models and ours is that the former ones mainly focus on representing all the details and random as-pects of very distinct RSEs, which naturally demands many param-eters. In our case, our proposal aims to disentangle the bursty and constant behavior of RSEs as parsimoniously as possible. Surpris-ingly, our model is able to accurately describe a large and diverse corpus of RSEs seen in the Web with only two parameters.

In this version, random series of events are modeled by a mixture of two independent processes: a Poisson process, which accounts for the background constant behavior, and a one-parameter SFP, which accounts for the bursty behavior. A natural question that arises is: how different is this model from the widely used Hawkes process? The main difference are twofold. First, in the Hawkes process, every single arriving event excites the process, i.e., is cor-related to the appearance of future events. In our proposal, since the PP is independent, non-correlated events may arrive at any time. Second, our model is even more parsimonious than the Hawkes process, two parameters against three 1 . In Section 8 we quantita-tively show that our proposed model is more suited to real data than the Hawkes process.
Point processes is the stochastic process framework developed to model a random sequence of events (RSE). Let 0 &lt; t 1 &lt; t be a sequence of random event times, with t i  X  R + , and N ( a,b ) be the random number of events in ( a,b ] . We simplify the nota-tion when the interval starts on t = 0 by writing simply N (0 ,b ) = N ( b ) . Let H t be the random history of the process up to, but not including, time t . A fundamental tool for modeling and for infer-ence in point processes is the conditional intensity rate function. It completely characterizes the distribution of the point process and it is given by The interpretation of this random function is that, for a small time interval h , the value of  X  ( t |H t )  X  h is approximately the expected number of events in ( t,t + h ) . The notation emphasizes that the conditional intensity at time t depends on the random events that occur previous to t .

The most well known point process is the Poisson process where  X  ( t |H t ) =  X  ( t ) , a deterministic function. The main characteristic of a Poisson process is that the counts in disjoint intervals are in-dependent random variables. When the intensity does not vary in time, with  X  ( t )  X   X  , we have a homogeneous Poisson process.
The self-feeding process (SFP) [20, 19] conditional intensity has a simple dependence on its past. Locally, it acts as a homogeneous Poisson process but its conditional intensity rate is inversely pro-portional to the temporal gap between the two last events. More specifically, the conditional intensity function is given by where  X  t i = t i  X  t i  X  1 and t i = max k { t k : t k  X  t } . This implies that the inter-event times  X  t i +1 = t i +1  X  t i are exponentially distributed with expected value  X /e +  X  t i . The inter-event times  X  t i follow a Markovian property. The constant  X  is the median of the inter-event times and e  X  2 . 718 is the Euler constant. A more general version of the SFP uses an additional parameter  X  which was taken equal to 1 in this work. The motivation for this is
Considering the most parsimonious version of the Hawkes pro-cess. that, in many databases analysed previously [20, 19] , it was found that  X   X  1 . An additional benefit of this decision is the simpler likelihood calculations involving the SFP.

The Figure 2a presents three realizations of the SFP process in the interval (0 , 100) with parameter  X  = 1 . The vertical axis shows the accumulated number of events N ( t ) up to time t . One striking aspect of this plot is its variability. In the first 40 time units, the lightest individual shows a rate of approximately 0.5 events per unit time while the darkest one has a rate of 2.25. Having accumulated a very different number of events, they do not have many additional points after time t = 40 . The third one has a more constant rate of increase during the whole time period. Hence, with the same parameter  X  , we can see very different realizations from the SFP process. A common characteristic of the SFP instances is the mix of bursty periods alternating with quiet intervals. Figure 2: Three instances of the SFP process with  X  = 1 in the time interval [0 , 100) (left) and a real time series with the hashtag shaq from Twitter.

However, in many datasets we have observed a departure from this SFP behavior. The most noticeable discrepancy is the absence of the long quiet periods predicted by the SFP model. To be con-crete, consider the point processes realizations in Figure 2b. This plot is the cumulative counting of Twitter posts from the hashtag shaq . There are two clear bursts, when the series has a large in-crease in a short period of time. Apart from these two periods, the counts increase in a regular and almost constant rate. We do not observe long stretches of time with no events, as one would expect to see if a SFP process is generating these data.
We propose a point process model that exhibits the same behav-ior consistently observed in our empirical findings: we want a mix of random bursts followed by more quiet periods, and we want re-alizations where the long silent periods predicted by the SFP are not allowed. To obtain these two aspects we propose a new model that is a mixture of the SFP process, to guarantee the presence of random bursts, with a homogeneous Poisson process, to generate a random but rather constant rate of events, breaking the long empty spaces created by the SFP. While the SFP captures the viral and ephemeral  X  X ise and fall X  patters, the PP captures the routine activ-ities, acting as a random background noise added to a signal point process. We call this model the Burstiness Scale ( BuSca ) model.
Figure 3 shows the main idea of BuSca . The observed events are those on the bottom line. They are composed by two types of events, each one generated by a different point process. Each observed event can come either from a Poisson process (top line) or from an SFP process (middle line). We observe the mixture of these two types of events on the third line without an identifying label. This lack of knowledge of the sourse process for each event is the cause of most inferential difficulties, as we discuss later. Mixture (  X ,  X  p ) Figure 3: The BuSca model. The top line displays the events from the Poisson (  X  p ) component along the timeline while the middle line displays those from the SFP (  X  ) component. The user observes only the third line, the combination of the first two, without a label to identify the source process associated with each event.
Figure 4 shows different realizations of the mixture process in the time interval [0 , 100] . In each plot, the curves show the cumu-lative number of events up to time t . The blue line represents a homogeneous Poisson process realization with parameter  X  p the green curve represents the SFP with parameter  X  . The red curve represents the mixture of the two other realizations.
The log-likelihood function ` (  X  ) for any point process is a func-tion of the conditional intensity  X  ( t |H t ) and of the events t t &lt; ... :
The conditional intensity function  X  m ( t |H t ) of BuSca is the sum of the conditional intensities of the component processes, the Pois-son intensity  X  p ( t |H t ) =  X  p , and the SFP intensity  X  The stochastic history H t of the mixed process contains only the events X  times t 1 ,t 2 ,... but not their identifying component pro-cesses labels, either s (from SFP) or p (from PP), for each event. The log-likelihood function for the mixture process observed in the time interval [ a,b ) is given by ` (  X  ) =
The log-likelihood (5) is not computable because  X  s ( t |H quires the knowledge of the last SFP inter-event time  X  t t  X  ( a,b ] . This would be known only if the source-process la-bel for each event in the observed mixture is also known. Since these labels are hidden, we adopt the EM algorithm to obtain the maximum likelihood estimates  X   X  p and  X   X  . We define the bursti-ness scale  X  = [(1  X   X  p / (  X  p + ( b  X  a ) / X  )) 100%] as the per-centage of bursty events in a given RSE. It can be estimated by  X   X  = [(1  X   X   X  p ( b  X  a ) /n ) 100%] . This gives the estimated pro-portion of events that comes from the pure SFP process. The latent labels are also inferred as part of the inferential procedure.
The use of the EM algorithm in the case of point process mix-tures is new and presents several special challenges with respect to the usual EM method. The reason for the difficulty is the lack of independent pieces in the likelihood. The correlated sequential data in the likelihood brings several complications dealt with in the next two sections. The final algorithm has a complexity of O ( n as can be seen in the extended version of this paper.
The EM algorithm requires the calculation of E [ ` (  X  )] , the ex-pected value of the log-likelihood (5) with respect to the hidden labels. Using a Taylor expansion, E [log( X )]  X  log E [ X ]  X  V [ X ] we have A naive way to obtain the required is to consider all possible label assignments to the events and its associated probabilities. Knowing which events belong to the SFP component, we also know the value of  X  t i . Hence, it is trivial to evaluate 1 / (  X /e +  X  t i ) in each one these assignments for any t , and finally to obtain (7) by summing up all these values multiplied be the corresponding label assignment probabilities. This is unfea-sible because the number of label assignments is too large, unless the number of events is unrealistically small.

To overcome this difficulty, we developed a dynamic program-ming algorithm. Figure (5) shows the conditional intensity  X  up to, and not including, t i  X  1 as green line segments and the con-stant Poisson intensity  X  p as a blue line. Our algorithm is based on a fundamental observation: if t i  X  1 comes from the Poisson pro-cess, it does not change the current SFP conditional intensity until the next event t i comes in.

We start by calculating a i  X  E [  X  s ( t i |H t i )] conditioning on the t i  X  1 event label:
The evaluation of  X  s ( t i |H t i ) depends on the label assigned to t i  X  1 . If t i  X  1  X  Poisson, as in Figure 6, the last SFP inter-event time interval is the same as that for t i  X  2  X  t &lt; t i  X  1 event does not change the SFP conditional intensity. Therefore, in this case,
E For the integral component in (6), we need the conditional inten-sity for t in the continuous interval and not only at the observed t values. However, by the same argument used for t i , we have for t  X  [ t i  X  1 ,t i ) .
 The probability that the ( i  X  1) -th mixture event comes from the SFP component is proportional to its conditional intensity at the event time t i :
P Therefore, using (9) and (10), we can rewrite (8) approximately as a recurrence relationship: a
We turn now to explain how to obtain the last term in (11). If t i  X  1  X  SFP, as exemplified in Figure 7, the last SFP inter-event time must be updated and it will depend on the most recent SFP event previous to t i  X  1 . There are only i  X  2 possibilities for this last previous SFP event and this fact is explored in our dynamic programming algorithm. Recursively, we condition on these pos-sible i  X  2 possibilities to evaluate the last term in (11). More specifically, the value of E [  X  s ( t i |H t i ,t i  X  1  X  SFP )] is given by
When the last two events t i  X  1 and t i  X  2 come from the SFP pro-cess, we know that the conditional intensity of the SFP process is given by the first term in (12). The unknown expectation in (12) is obtained by conditioning in the t i  X  3 label. In this way, we recur-sively walk backwards, always depending on one single unknown of the form where k &lt; i  X  2 . At last, we can calculate a i in (11) by the iterative expression
We have more than one option as initial conditions for this itera-tive computation. One is to assume that the first two events belong to the SFP. Another one is to use  X  and the first event comes from the SFP. Even with a moderate num-ber of events, this initial condition choices affect very little the final results and either of them can be selected in any case.
 To end the E-step, the log-likelihood in (6) requires also This is calculated in an entirely analogous way as we did above.
Different from the E step, the M step did not require special development from us. Having obtained the log-likelihood (6) we simply maximize the likelihood and update the estimated param-eter values of  X   X  and  X   X  p . In this maximization procedure, we con-strain the search within two intervals. For an observed point pattern with n events, we use [0 ,n/t n ] for  X  p . The intensity must be pos-itive and hence, the zero lower bound represents a pure SFP pro-cess while the the upper bound represents the maximum likelihood estimate of  X  p in the other extreme case of a pure homogeneous Poisson process. For the  X  parameter, we adopt the search interval [0 ,t n ] . Since  X  is the median inter-event time in the SFP compo-nent, a value  X   X  0 induces a pattern with a very large of events while  X  = t n represents, in practice, a pattern with no SFP events.
Several simulations were performed to verify that the estimation of the parameters proposed in Section 3 is suitable. There is no theory about the MLE behavior in the case of point processes data following a complex mixture model as ours. For this, synthetic data were generated by varying the sample size n and the parameters  X  and  X  of the mixture. We vary n in { 100 , 200 ,..., 1000 } for each pair (  X  p , X  ) . The parameters  X  p and  X  were empirically selected in such a way that the expected percentage of points coming from the SFP process (denoted by the burstiness scale parameter  X  ) varied in { 10% , 20% ,..., 90% } .

For each pair ( n, X  ) , we conducted 100 simulations, totaling 9,000 simulations. In each simulation, the estimated parameters (  X   X  p ,  X   X  ) were calculated by the EM algorithm. Since their range vary along the simulations, we considered their relative differences with respect to the true values (  X  p , X  ) . For  X  , define The main objective of this measure is to treat symmetrically the relative differences between  X   X  and  X  . Consider a situation where  X ( X   X , X  ) = 0 . 5 .This means that  X   X  = 1 . 5  X  . Symmetrically, if  X  = 1 . 5 X   X  , we have  X ( X   X , X  ) =  X  0 . 5 . The value  X ( X   X , X  ) = 0 implies that  X   X  =  X  . We define  X (  X   X  p , X  p ) analogously.
The results of  X (  X   X  p , X  p ) are shown in Figure 8. Each boxplot correspond to one of the 90 possible combinations of (  X ,n ) . The vertical blue lines separate out the different values of  X  . Hence, the first 10 boxplots are those calculated to the combinations (  X  = 90% ,n = 100 , 200 ,..., 1000) . The next 10 boxplots correspond to the values of  X (  X   X  p , X  p ) for  X  = 80% and n = 100 , 200 ,..., 1000 . The absolute values for  X (  X   X  p , X  p ) were censored at 5 and this is represented by the horizontal red lines at heights  X  5 and +5 . Figure 8: Boxplots of  X (  X   X  p , X  p ) according to (100  X   X  ) and n .
The estimator  X   X  p is well behaved, with small bias and variance decreasing with the sample size. The only cases where it has a large variance is when the total sample size is very small and, at the same time, the percentage of Poisson events is also very small. For example, with n = 200 and  X  = 90% , we expect to have only 20 unidentified Poisson cases and it is not reasonable to expect an accurate estimate in this situation.
The estimator  X   X  overestimates the true value of  X  in all cases with the bias increasing with the increase of the Poisson process share. In the extreme situation when  X   X  20% , the large  X   X  leads to an erroneous small expected number of SFP events in the obser-vation time interval. Indeed, a mixture with Poisson process events only has  X  =  X  . Additionally to the bias problem, the estimator  X   X  also has a large variance when the SFP process has a small number of events.

We believe that the poor performance of the EM algorithm es-timator  X   X  is related to the calculation of the expected value of the likelihood function. This calculation was done using approxima-tions to deal with the unknown events X  labels, which directly in-fluences the calculus of the SFP stochastic intensity function. This influence has less impact for the  X  p , since the Poisson process in-tensity is deterministic and fixed during the entire interval. Figure 9: Boxplots of  X ( X   X , X  ) for the improved estimator  X   X  ac-cording to (100  X   X  ) and n .

As  X  is the median inter-event time in a pure SFP process, a sim-ple and robust estimator in this pure SFP situation is the empirical median of the intervals t i +1  X  t i . Our alternative estimator for  X  deletes some carefully selected events from the mixture, reducing the dataset to a pure SFP process and, then, taking the median of the inter-event times of the remaining events. More specifically, conditioned on the well behaved  X   X  p estimate, we generate pseudo events u 1 &lt; u 2 &lt; ... &lt; u m coming from a homogeneous Poisson process and within the time interval (0 ,t n ) . Sequentially define with S k = T k  X  R k where deletion to be entirely concentrated in bursty regions. We assume that the left over events in T m constitute a realization of a pure SFP process and we use their median inter-event time as an estimator of  X  . As this is clearly affected by the randomly deleted events t repeat this procedure many times and average the results to end up with a final estimate, which we will denote by  X   X  .

The results obtained with the new estimator of  X  can be visual-ized in Figure 9. Its estimation error is significantly smaller, with an underestimation of  X  only when the PP component is dominant. This is expected because when the SFP component has a small per-centage of events, its corresponding estimate is highly variable. In this case, there will be a large number of supposedly Poisson points deleted, remaining few SFP events to estimate the  X  parameter, im-plying a high instability.
When analysing a point process dataset, a preliminary analysis should test if a simpler point process, comprised either by a pure SFP or a pure Poisson process, fits the observed data as well as the more complex mixture model. Let  X  = (  X  p , X  ) and the uncon-strained parameter space be  X  = [0 ,  X  ] 2 . We used the maximum likelihood ratio test statistic R of H 1 :  X   X   X  against the null hypothesis H 0 :  X   X   X  0 where, alternatively, we consider either  X   X   X  0 = (0 ,  X  )  X { X  X  or  X   X   X  0 = { 0 } X  (0 ,  X  ) to represent the pure Poisson and the pure SFP processes, respectively. Then where the log-likelihood ` (  X  ) is given in (3). As a guide, we used a threshold  X  = 0 . 05 to deem the test significant. As a practical issue, since taking the median inter-event time  X  of the SFP process equal to  X  is not numerically feasible, we set it equal to the length of the observed total time interval.

As there is one free parameter in each case, one could expect that the usual asymptotic distribution of 2 log( R ) should follow a chi-square distribution with one degree of freedom. However, this classic result requires several strict assumptions about the stochas-tic nature of the data, foremost the independence of the observa-tions, which is not the situation in our model. Therefore, to check the accuracy of this asymptotic distribution to gauge the test-based decisions, we carried out 2000 additional Monte Carlo simulations, half of them following a pure Poisson process, the other half fol-lowing a pure SFP. Adding these pure cases to those of the mixed cases at different percentage compositions described previously, we calculated the test p-values  X  p and  X  s based on the usual chi-square distribution with one degree of freedom. Namely, with F being the cumulative distribution function of the chi-square distribution with one degree of freedom, we have  X  p = 1  X  F ( R ) = 1  X  F 2 max  X  and  X  s = 1  X  F ( R ) = 1  X  F 2 max  X 
A figure showing the p-values  X  p and  X  s for all simulated point processes, pure or mixed, can be seen in the extended version of this paper. Summarizing the results, we have all  X  p practically col-lapsed to zero when  X  is large. The test will reject the null hypoth-esis that the process is a pure Poisson process, which is the correct decision. Indeed, this correct decision is taken in virtually all cases until  X   X  40% . The test still correctly rejects the pure Poisson in all cases where  X  &gt; 20% except when the number of events is very small. Only when the  X  = 10% or  X  = 0% (and, therefore, it is pure Poisson process) the p-value distribution clearly shifts upward and starts accepting the null hypothesis frequently. This is exactly the expected and desired behavior for our test statistic. The be-havior of  X  s is analogous to that of  X  p . We also analysed the joint distribution of (  X  p , X  s ) . The two tests practically never accept both null hypothesis, the pure Poisson and pure SFP processes. Either one or other pure process is accepted or else both pure processes are rejected, indicating a mixed process.
We used eight datasets split into three groups. The first one con-tains the comments on topics of several web services: the discus-sion forums AskMe , MetaFilter , and MetaTalk and the collabora-tive recommendation systems Digg and Reddit . The second group contains user communication events: e-mail exchange ( Enron ) and hashtag-based chat ( Twitter ). The fourth group is composed by user reviews and recommendations of restaurants in a collaborative platform ( Yelp ). In total, we analysed 18 , 685 , 678 events.
The AskMe , MetaFilter 2 and MetaTalk datasets were made avail-http://stuff.metafilter.com/infodump/-Accessed in September, 2013 able by the Metafilter Infodump Project2 . The Digg 3 dataset was temporarily available on the web and was downloaded by the au-thors. The Enron 4 data were obtained through the CALO Project (A Cognitive Assistant that Learns and Organizes) of Carnegie Mellon University. The Yelp 5 data were available during the Yelp Dataset Challenge . The Reddit and Twitter datasets were collected using their respective APIs. All datasets have time scale where the unit is the second except for Yelp, which has the time scale measured in days, a more natural scale for this kind of evaluation review service.
For all databases, each RSE is a sequence of events timestamps and the event varies according to the dataset. For the Enron dataset, the RSE is associated with individual users and the events are the incoming and outgoing e-mail timestamps. For the Twitter dataset, each RSE is associated with a hashtag and the events are the tweet timestamps mentioning that hashtag. For the Yelp dataset, each RSE is associated with a venue and the events are the reviews timestamps. For all other datasets, the RSE is a discussion topic and the events are composed by comments timestamps. As verified by [22], the rate at which comments arrive has a drastic decay af-ter the topic leaves the forum main page. The average percentage of comments made before this inflection point varies from 85% to 95% and these represents the bulk of the topic life. As a safe cutoff point, we considered the 75% of the initial flow of comments in each forum topic.

Table 1 shows the number of RSEs in each database. It also shows the average number of events by dataset, as well as the min-imum and maximum number of events. We applied our classifica-tion test from Section 5 and the table shows the percentage cate-gorized as pure Poisson process, pure SFP, or mixed process. For all datasets, the p-values  X  p and  X  s have the expected behavior, leading us to believe in the efficacy of our classification test to sep-arate out the models in real databases in addition to their excellent performance in the synthetic databases. This is a result that can be verified in the extended version of this paper in the Arxiv website.
A more visual and complete way to look at the burstiness scale  X  is in the histograms of Figure 10. The horizontal axis shows the expected percentage of the Poisson process component in the RSE given by  X   X  p /n . The two extreme bars at the horizontal axis, at  X  = 100 and  X  = 0 , have areas equal to the percentage of series classified as pure SFP and as pure Poisson, respectively. The middle bars represent the RSE classified as mixed point processes. AskMe, MetaFilter, MetaTalk, Reddit, Yelp have the composition where the three models, the two pure and the mixed one, appear with substantial amount. The Poisson process share of the mixed processes distributed over a large range, from close to zero to large percentages, reflecting the wide variety of series behavior.
Figure 11 shows the estimated pairs (log  X   X  p , log  X   X  ) of each events stream classified as a mixed process. The logarithmic scale pro-vides the correct scale to fit the asymptotic bivariate Gaussian dis-tribution of the maximum likelihood estimator. Each point repre-sents a RSE and they are colored according to the database name. Except by the Twitter dataset, all others have their estimator dis-tribution approximately fitted by a bivariate Gaussian distribution with marginal mean, variance and correlation given in Table 1.
The correlation is negative in all databases, meaning that a large value of the Poisson process parameter (that is, a large  X  to be followed by small values of the SFP component (that is, a http://www.infochimps.com/datasets/diggcom-data-set -Ac-cessed in September, 2013 https://www.cs.cmu.edu/~./enron/ -Accessed in September, 2013 http://www.yelp.com/dataset_challenge -Accessed in August, 2014 results; gaussian fit parameters.
 Figure 10: The burstiness scale  X  in each dataset. RSEs range from being fully Poissonian (  X  = 0) to completely bursty (  X  = 100) . small  X   X  , implying a short median inter-event time between the SFP events). Not only each database has a negative correlation between the mixture parameters, they also occupy a distinct region along a NorthWest-SouthEast gradient. Starting from the upper left corner, we have the Enron email cloud, exhibiting a low average  X  jointly high  X   X  . Descending the gradient, we find the less compactly shaped Twitter point could. In the (  X  8 ,  X  6)  X  (4 , 6) region we find the foruns (AskMe, MetaFilter, MetaTalk). Slightly shifted to the left and further below (within the (  X  10 ,  X  7)  X  (3 , 5) region), we find the two collaborative recommendation systems (Reddit and Digg). Finally, in the lower right corner, we have the Yelp random series estimates.

In this way, our model has been able to spread out the different databases in the space composed by the two component processes parameters. Different communication services lives in a distinctive location in this mathematical geography.
Figure 12 shows a goodness of fit statistic for the RSE classified as a mixed process. After obtaining the  X   X  p and  X   X  estimates, we disentangled the two processes using the Monte Carlo simulation procedure described in Section 4.2. The separated out events were then used to calculate the statistics shown in the two histograms. The plot in Figure 12a is the determination coefficient R linear regression of the events cumulative number N ( t ) versus t , which should be approximately a straight line under the Poisson process.

In Figure 12b we show the R 2 from a linear regression with the SFP-labelled events. We take the inter-event times sample and build the empirical cumulative distribution function F ( t ) leading to the odds-ratio function OR ( t ) = F ( t ) / (1  X  F ( t )) . This function should be approximately a straight line if the SFP process hypoth-esis is valid (more details in [19]).
 Indeed, the two histograms of Figure 12 show very high concen-Figure 11: Estimates (  X   X  p ,  X   X  ) for all events streams from the eight databases (logarithmic scale). A few anomalous time series are highlighted as large dots. tration of the R 2 statistics close to the maximum value of 1 for the collection of RSEs. This provides evidence that our disentangling procedure of the mixed process into two components is able to cre-ate two processes that fit the characteristics of a Poisson process and a SFP process.
An alternative process to our model, is the Hawkes point process [3], which has conditional intensity defined by where K ( x ) &gt; 0 is called the kernel function. As our BuSca model, the Hawkes process allows the successive events to inter-act with each other. However, there are two important differences between them. In Hawkes, every single event excites the process increasing the chance of additional events immediately after, while only some of these incoming events induces process excitement in BuSca. Depending on the value of  X  , only a fraction of the events lead to an increase on  X  ( t |H t ) . The second difference is the need to specify a functional form for the kernel K ( x ) , common choices being K ( x ) with an exponential decay or a power law decay.
We compared our model with the alternative Hawkes process us-ing the 31431 events time series of all databases we analysed. We fitted both, BuSca and the Hawkes process, at each time series sep-arately by maximum likelihood, and evaluated the resulting Akaike information criterion. The Hawkes process was fitted with the ex-ponential kernel implying on a three parameter model while BuSca requires only two. The result was: only four out of 31431 RSEs had their Hawkes AIC smaller. Therefore, for practically all time series we considered, our model fits better the data although requiring less parameters.

To understand better its relative failure, we looked at the R the fitted Hawkes model for each time series (see [15] for the R calculation in the Hawkess model). We studied the R 2 distribution conditioned on the value of  X  . Hawkes is able to fit reasonably well only when  X  &lt; 30% , that is, when the series of events is Poisson dominated. It has mixed results for 0 . 3  X   X   X  0 . 5 , and a poor fit when  X  &gt; 0 . 5 , exactly when the bursty periods are more prevalent.
Within a given a database, we saw empirically that the maximum likelihood estimator (log  X   X  p , log  X   X  ) of the series of events follows approximately a bivariate Gaussian distribution, as indeed we see in Figure 11. This provides a direct score for an anomalous point time series based on the Mahalanobis distance distribution with thresh-old  X  = 0 . 01 (see details in the extended version).

In Figure 11 we highlighted 5 anomalous points found by our procedure to illustrate its usefulness. The first one correspond to the topic #219940 of the AskMe dataset, which has a very low value for  X   X  s , compared to the other topics in this forum. This topic was initiated by a post about a lost dog and his owner asking for help. Figure 13a shows the cumulative number N ( t ) of events up to time t , measured in days. Consistent with the standard behavior in this forum, there is an initial burst of events with users suggesting ways to locate the pet or sympathizing with the pet owner. This is fol-lowed by a Poissonian period of events arising at a constant rate. Occasional bursts of lower intensity are still present but eventually the topic reaches a very low rate. Typically, about t = 12 days, the topic would be considered dead and we would not see any ad-ditional activity. Further discussion from this point on would likely start a new topic. However, this was not what happened here. At t = 15 . 9 , the time marked by the vertical red line, the long in-activity period is broken by a post from the pet owner mention-ing that he received new and promising information about the dog whereabouts. Once again, he receives a cascade of suggestions and supporting messages. Before this flow of events decreases substan-tially, he posts at time t = 17 . 9 that the dog has been finally found. This is marked by the blue vertical line and it caused a new cas-cade of events congratulating the owners by the good news. This topic is anomalous with respect to the others in the AskMe database because, in fact, it contains three successive typical topics consid-ered as a single one. The long inactivity period, in which the topic was practically dead, led to a  X   X  p with a very low value, reflecting mathematically the anomaly in the content we just described.
In the MetaTalk database, the time series # 18067 and # 21900 deal with a unusual topic in this platform. They are reminders of the deadline for posting in an semestral event among the users and this prompted them to justify their lateness or make a comment about the event. This event is called MeFiSwap and it a way found by the users to share their favorite playlists. The first one occurred in the summer of 2009 and the second one in the winter of 2012. Being reminders, they do not add content, but refer to and promote other forum posts. What is anomalous in these two time series is the time they took to develop: 22.6 days (# 18067) and 10.9 (# 21900), while the average topic takes about 1.9 days. The pattern within their enlarged time scale is the same as the rest of the database. The behavior of these two cases is closer to the Twitter population, as can be seen in Figure 11.

The Twitter time series # 1088 was pinpointed as an anomaly due to his relatively large value of the Poisson component  X  p users should post something using the hashtag iwantisatickets . This triggered a cascade of associated posts that kept an approxi-mately constant rate while it lasted.

Our final anomaly example is the time series # 65232 from MetaFil-ter . It was considered inappropriate and deleted from the forum by a moderator. The topic author suggested that grocery shopping should be exclusively a women X  X  chore because his wife had dis-covered many deals he was unable to find out. The subject was considered irrelevant and quickly prompted many criticisms.
Another application developed is the detection and identification of burst periods in each individual time series. The idea is that a period with essentially no SFP activity should have the cumula-tive number of events N ( t ) increasing at a constant and minimum slope approximately equal to  X  p . Periods with SFP activity would quickly increase this slope to some value  X  p + c . We explore this intuitive idea by segmenting optimally the N ( t ) series.
We explain our method using Figure 13b, showing the history of the Twitter hashtag Yankees! spanning the regular and postsea-son periods in 2009. The detailed explanation is in the extended version of this paper. Briefly, we use the Segmented Least Squares algorithm from [10] to find an optimal segmentation, as shown in Figure 13b, together with the main New York Yankees games dur-ing playoffs (ALDS, LCS, and WS). In each segment, we calculate  X  ( s ) which measures how much more bursty events we have in comparison with the underlying Poisson. The large  X  ( s ) , the more intense the burst in that s segment.

During the regular season, with posts coming essentially from the more enthusiastic fans, the behavior is completely dominated by a homogeneous Poisson process. The first segment found by the algorithm starts during the October 7 week, at the first postseason games against Minnesota Twins (red crosses in Figure 13b). In this first playoff segment, we have  X  ( s )  X  3 , or four times the standard regular behavior. The LCS games start an augmented burst until November 4, when the New York Yankees defeated the Philadel-phia Phillies in a final game. This last game generated a very short burst marked by the blue diamond, with  X  ( s )  X  64 . After this explosive period, the series resume to the usual standard behavior.
Analysing the  X  ( s ) statistical distribution for each database sep-arately, we found that they are well fitted by a heavy tailed proba-bility distribution, a finding that is consistent with previous studies of cascade events [1].
In this paper, we proposed the Burstiness Scale ( BuSca ) model, which views each random series of events (RSEs) as a mix of two independent process: a Poissonian and a self-exciting one. We pre-sented and validated a particular and parsimonious case of BuSca , where the Poissonian process is given by a homogeneous Pois-son process (PP) and the self-exciting process is given by a Self-Feeding Process (SFP) [20]. When constructed in this way, BuSca requires two parameters to characterize RSEs, one for the PP and another for the SFP. We validated our approach by analyzing eight diverse and large datasets containing real RSEs seen in Twitter, Yelp, e-mail conversations, Digg, and online forums. We also pro-posed a method that uses the BuSca model to disentangle events related to routine and constant behavior (Poissonian) from bursty and trendy ones (self-exciting). Moreover, from the two parame-ters of BuSca , we can calculate the burstiness scale parameter  X  , which represents how much of the RSE is due to bursty and viral effects. We showed that these two parameters, together with our proposed burstiness scale, is a sparing way to accurately character-ize random series of events, which and, consequently, may leverage several applications, such as monitoring systems, anomaly detec-tion methods, flow predictors, among others.
 This work was funded by author X  X  individual grants from CAPES, CNPq, and Fapemig.
