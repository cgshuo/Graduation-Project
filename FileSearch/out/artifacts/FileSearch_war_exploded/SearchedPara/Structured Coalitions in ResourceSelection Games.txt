 MICHAL FELDMAN
Hebrew University of Jerusalem and Microsoft Israel R&amp;D Center and MOSHE TENNENHOLTZ Microsoft Israel R&amp;D Center and Technion 1. INTRODUCTION
When considering a prescribed behavior in a multi-agent system, it makes little sense to assume that an agent will stick to its part of that behav-ior if deviating from it can increase its payoff. This leads to much interest in the study of Nash equilibrium in games. A Nash equilibrium is an ac-tion profile of the agents for which unilateral deviations are not beneficial.
When agents are allowed to use mixed actions, a Nash equilibrium always exists. Moreover, in the context of congestion games [Rosenthal 1973; Mon-derer and Shapley 1996], there always exists a pure action equilibrium. How-ever, Nash equilibrium does not take into account deviations by non-singleton sets of agents. While stability against deviations by subsets of the agents, captured by the notion of strong equilibrium [Aumann 1959], is a most nat-ural requirement, it is well-known that obtaining such stability is possible only in rare situations. In the context of congestion games, Holzman and
Law-Yone [1997, 2003] characterized the networks where a strong equilib-rium always exists. From a pragmatic perspective, the most important part of their results is the existence of strong equilibrium in resource selection games .

A resource selection game (RSG) consists of a set of n agents and a set of m resources. Each agent chooses a resource from among the set of resources, and its cost is a nondecreasing function of the number of agents who have chosen its selected resource. Resource selection games are fundamental and central to work in various disciplines, such as operations research, computer science, game theory, and economics. However, a closer look at the its fundamental issues arise. (1) In the original definition of strong equilibrium, a deviation is considered (2) The results on existence of strong equilibrium are obtained for one-shot
As it turns out, the important basic results about resource selection games fail to generalize to either super strong equilibrium in one-shot RSG X  X  or to strong equilibrium in repeated RSG X  X . Consider the basic setting of two identi-cal resources with strictly increasing cost functions. This setting is fundamen-tal to many studies in electronic commerce, operations research, communica-tion networks, and economics. Apparently, there are simple instances of that setting in which there is no super strong equilibrium and simple instances of that setting in which there is no strong equilibrium when the game is played repeatedly.

In order to deal with these issues, we introduce the study of structured coalitions and apply it in the context of resource selection games. The concept of structured coalitions introduces a social context into the study of group deviations by explicitly stating a structure over the coalitions, allowing only for deviations in which the set of deviators constitutes a coalition.
In particular, we consider a coalitional structure given by a partition T {
T in which the deviating coalition constitutes an element of the partition. More from which no coalition T i can deviate and improve the utility of each agent J
T . Similarly, a T -super strong equilibrium ( T -SSE) is defined analogously with respect to the super strong equilibrium notion. The reader should be careful not to confuse this notion with the notion of a k -strong equilibrium [Andelman et al. 2007], which restricts the size of the deviating coalition.
Obviously, these notions make much sense in the context of games that take into account the social structure of the set of participants. In fact, one way to view structured coalitions is as an extension of work on social con-text games [Ashlagi et al. 2008]. In a social context game, an agent X  X  utility is affected by the payoffs of its friends where friends are defined using some topological or graph-theoretic structure. However, unlike previous work on so-cial context games, which dealt with single agent deviations, here we consider the situation where members of a coalition coordinate their activity and po-tential deviations as in strong equilibrium. Our study lies in the framework of noncooperative games ; in particular, no side payments are considered or allowed.

Adding social structure to games has been observed to be an important next step in applying game-theoretic concepts to existing social and organizational structures. This has been already observed by Ashlagi et al. [2008], Herings theoretic solution concepts to a realistic social context, a natural means is to refer explicitly to the social structure in defining the solution concepts. Our work takes a step in that important direction by looking at the society as a partition into subsocieties. Extension into overlapping subsocieties may be an interesting direction for future work.
 Previous work on coalitional congestion games [Hayrapetyan et al. 2006;
Kuniavsky and Smorodinsky 2007] has considered side payments in the context of congestion games. In this context, each player is represented by a set of agents, each of which is a participant in the resource selection game, and the however, deviate from the nontransferable utility assumption which is the basic assumption in work on strong equilibrium (see, e.g., Epstein et al. [2007];
Andelman et al. [2007]; Fiat et al. [2007]; Leonardi and Sankowski [2007]; and Fotakis et al. [2006]). Our work reconsiders deviations by coalitions in the classical nontransferable utility setting.

In the context of one-shot games, a positive result showing the existence of equilibrium when monetary transfers are allowed implies the existence of a T -SSE. Indeed, one of our results can be deduced from these relationships.
In most cases, however, the existence of monetary transfers yields negative cost functions, it has been shown that if coalitions are not restricted to have a size of at most two, then no equilibrium exists when monetary transfers are allowed. Our work shows positive results about the existence of T -SSE in this setting and in wider sets of resource selection games.

The article is structured as follows. Section 2 introduces our model and basic definitions and preliminaries. In Section 3, we consider the existence of a T -
SSE for one shot RSG X  X , and in Section 4, we consider the existence of a T -SE for repeated RSG X  X . Together, our analysis addresses the aforementioned two basic issues.

In Section 3, we first concentrate on resource selection games with strictly that, even in the case of two identical resources, there is no super-strong equi-librium. In Theorem 1, we show that every RSG with an arbitrary number of identical, strictly increasing resources admits a T -SSE for every patrition T .
We then extend our results to deal with the case of two nonidentical resources with strictly increasing cost functions. Theorem 2 shows that every RSG with two strictly increasing resources admits a T -SSE for every partition T .Inall related cases, these are the first positive results on equilibrium existence when group deviations are considered, and deviations are not required to strictly benefit all agents. In Theorem 3, we consider the case of general resource selec-tion games with nondecreasing resources. We show that a T -SSE exists in this only one for which a positive result is known in games with monetary transfers (see Kuniavsky and Smorodinsky [2007]) we know that a superstrong equilib-rium exists in that setting; however, we provide an alternative proof for that case. Unfortunately, as we will illustrate, our results do not scale to arbitrary congestion games. Our results suggest a host of open questions regarding the existence of T -SSE in one-shot resource selection games. The most interest-ing challenge is to characterize the coalitional structures that guarantee the existence of a T -SSE in general RSG X  X .

In Section 4, we consider repeated resource selection games. In that setting, strong equilibrium (in the classical sense of Aumann [1959]) does not exist even if we have two identical resources with increasing cost functions, and we allow deviations of size two. We consider general repeated resource selection games with nondecreasing cost functions and show that there exists a T -SE when all elements in the partition are of size of at most 2, as well as when all elements complete: we show the existence of a repeated resource-selection game where the society consists of a singleton and a triplet under which there is no T -SE.
In addition, we characterize partitions that admit a T -SE for a restricted case where the resources are identical and there is a majority of singletons in the of size greater than 3, then there exists a resource selection game that admits are of size of at most 2, and if there exists a coalition of size greater than 2, then there exists a resource selection game that admits no T -SE. 2. MODEL AND PRELIMINARIES
A game is denoted by a tuple G = N , { S i } n i = 1 , { c agents, S i is a finite action space for agent i  X  N ,and c
For an action profile s  X  S , we denote by s  X  i the actions of agents j s a coalition ), we denote by s and s  X  the action profiles of agents j j  X  , respectively. A cost function of agent i is a function c each action profile s  X  S to a real number. Throughout this article we restrict attention to pure actions.

Nash Equilibrium (NE) . An action profile s  X  S is a Nash Equilibrium if no agent i  X  N can benefit from unilaterally deviating from its action to another action, that is, for every i  X  N , s i  X  S i , it holds that c
Resilience to Coalitions . An action profile of a set of agents an action for each agent in the coalition, that is,  X   X  X  i s  X  S is not resilient to a strongly profitable deviation of a coalition if there is an action profile  X  of such that c i ( s  X  , X  ) &lt; c agents in the coalition can deviate in such a way that each agent reduces its cost).

Definition 1 . A strong equilibrium (SE) is an action profile that is resilient to a strongly profitable deviation of any coalition  X  N .

An action profile s  X  S is not resilient to a weakly profitable deviation of a coalition if there is an action profile  X  of such that c i i  X  , and there exists an agent i  X  such that c in the coalition can deviate in such a way that none of the agents increases its cost, and at least one agent strictly reduces its cost).

Definition 2 . A super strong equilibrium (SSE) is an action profile that is resilient to a weakly profitable deviation of any coalition We consider coalitional structures that are given by a partition of the agents
T = ( T 1 ,..., T k ), where T i  X  T j = X  for every i , j and partition T , we define the following.

Definition 3 . A T-strong equilibrium ( T -SE) is an action profile that is resilient to a strongly profitable deviation of any coalition T
A T-super strong equilibrium ( T  X  SSE ) is a profile that is resilient to a weakly profitable deviation of any coalition T i  X  T .
 of NE, the set of T -SE or T -SSE is not necessarily contained in the set of Nash equilibria (nor does the set of Nash equilibria contained in the set of T -SE (or
T -SSE)). It might be the case that a single agent can deviate unilaterally and strictly improve its own payoff, but if such a deviation reduces the payoff of a member of its coalition (or does not improve it), it will not be considered a beneficial deviation.

As a warm-up, let us consider two extreme cases, namely the singleton case outcomes coincides with the set of Pareto-optimal outcomes; thus there always exists a T -SSE. In the fully distributed case, each individual constitutes a the set of T -SSE and with the set of NE. Thus, any game that admits a Nash equilibrium admits a T -SSE as well. A direct corollary of the these observa-tions is that every 2-player game that admits a Nash equilibrium admits a
T -SSE for any T (as it must be one of the former or the latter cases). This is interesting, for example, in the context of potential (or congestion) games where many of the counterexamples refuting the existence of an SE are 2-player games (see, e.g., SE in cost-sharing connection games [Epstein et al. 2007]). 2.1 Resource Selection Games
A resource selection setting is characterized by a tuple M
M ={ M and a cost function of resource M i is a function b i : N the cost of an agent on resource M i when resource M i has a load of l agents, 1  X  l  X  n . A resource selection setting has identical resources if for every i , denote the cost vector of all the resources by b = ( b (1)
A one-shot resource selection game (RSG) has N as the set of agents and the of agent J  X  N is the set M . In an action profile s = ( s s denotes the resource selected by agent J , and the load of resource M l an agent J who chose resource M i in a profile s  X  S is c
We assume that the cost function b i (  X  ) is nondecreasing for every i .thatis, it holds that b i ( l )  X  b i ( l + 1) for every i  X  [ m ] and every 1 some cases, we will consider settings with strictly increasing cost functions; that is, b i ( l ) &lt; b i ( l + 1) for every i  X  [ m ] and every 1 b and refer to resources with increasing (strictly increasing, respectively) cost functions as increasing (strictly increasing, respectively) resources.
Every RSG is a congestion game, and thus admits a Nash equilibrium in pure actions. In addition, it has been shown in Holzman and Law-Yone [1997] that every RSG with nondecreasing cost functions admits a SE and thus also admits a T -SE for any T . Yet, as we will see, an RSG with nondecreasing cost functions might not admit a T -SSE, nor will a repeated RSG necessarily admit a T -SE. These two matters will be our focus in the following two sections, respectively. 3. T -SUPER STRONG EQUILIBRIUM ( T -SSE) EXISTENCE
Every RSG admits an SE [Holzman and Law-Yone 1997] and, therefore, admits a T -SE as well. However, an RSG might not admit any SSE. This nonexistence may occur even for an RSG with two identical strictly increasing resources as demonstrated in the following example. Consider an RSG with two identical resources with cost function b = (1 , 2 , 3) and 3 agents. A profile in which all three agents share the same resource can obviously not be an SSE (and not even an NE). Suppose without loss of generality that agents 1
M in which agent 1 migrates to M 2 , incurring the same cost as before, while agent 2 reduces its cost from 2 to 1. The assertion follows. 3.1 The Case of Identical, Strictly Increasing Resources
While an SSE might not exist even under the restricted setting of two identical strictly increasing resources, as we shall soon show, every RSG with identical strictly increasing resources admits a T -SSE for every T . Before formulating the theorem, we present the following lemma and definition that will prove useful in the proof.

L EMMA 1. Let G be an RSG with m identical strictly increasing resources, and let s be a Nash equilibrium of G. Let s = ( s , s  X  ) be a weakly profitable deviation of a coalition . It holds that l i ( s )  X  l i ( s )
P ROOF .Since s is a NE, for every i , j  X  [ m ], b i ( s ) an agent assigned to M i can improve by deviating to M j ). Suppose by way of contradiction that there exists a resource M k such that l there must exist an agent J for which s J = M k and s J =
We show that this player X  X  cost increases after the deviation. It holds that c ( s ) = b j ( s )  X  b k ( l k ( s ) + 1) &lt; b k ( l k ( s ) inequality holds since s is an NE, and the second inequality follows from strict monotonicity.
 We proceed with the following definition of a (T,s)-spread-out assignment. This definition will be used extensively in the proofs throughout the article. nonincreasing order. A (T,s)-spread-out assignment is an assignment that is obtained by spreading out the members of each coalition on the resources in a nonincreasing order of | T i | according to the sorted vector l ( s ).
An example is in order. Suppose there exist three resources and a coalition structure T ={ T 1 , T 2 , T 3 } such that | T 1 |= 4and | a profile s where l 1 ( s ) = 4 , l 2 ( s ) = 3 , l 3 ( s ) would assign two members of T 1 on M 1 and one member of T
M , M it will assign one member of T 3 on each one of M 2 , M 1 example is given in Figure 1.
 With this we are ready to state the theorem.

T HEOREM 1. Every RSG with identical strictly increasing resources admits a T -SSE for every T .

P ROOF .Let s be a Nash equilibrium of G . We claim that a ( T assignment is a T -SSE of G . Suppose by way of contradiction there is a weakly profitable deviation of some coalition to a profile s . Since the resources are identical and strictly increasing, there must exist L such that l for every i .Let k denote the number of resources with load L and refer to agents assigned to resources with load L and L + 1 as low and high agents, respectively.

We first claim that l i ( s )  X  L for every i . Suppose by way of contradiction jobs, there must exist k additional resources with load at most L . It follows that there must exist an i for which l i ( s )  X  L + 2, contradicting Lemma 1. We remains the same, there must exist k resources with load L and m with load L + 1in s . For every low job J , it must hold that l fore, for every high job, it must hold that l i ( s ) = L in the coalition strictly improves its load, which establishes the proof of the assertion. 3.2 The Case of Two Strictly Increasing Resources
In this section, we consider the more general setting of nonidentical resources, but provide results only for the case of two strictly increasing resources. We begin with several characteristics of RSG X  X  with two resources.
We distinguish between two types of coalitional deviations in settings with two resources, namely unidirectional and bidirectional deviations. In a unidi-rectional deviation, there exists a coalition such that a subset from one resource to the second one. In a bidirectional deviation, there exists a coalition and a partition ( 1 , 2 ) (i.e., 1  X  2 = and 1 | | &gt; 0for i = 1 , 2, such that the members of the members of 2 deviate from M 2 to M 1 .
 We establish several Lemmata that will be used in the proof of Theorem 2.
L EMMA 2. Let G be an RSG with two strictly increasing resources with viation is one in which the number of jobs that migrate from M by 1 than the number of jobs that migrate from M 1 to M 2
P ROOF . Observe that in every weakly profitable deviation s the following must hold: (i) each resource can increase by at most a single job (by Lemma 1), cost), and (iii) the load on M 2 cannot increase, since, if it does, then there must exist a coalition member that incurs a cost of b 2 ( l b
M 1 increases by a single job, and by strict monotonicity b Therefore, no coalition member stays on M 1 in s .

O BSERVATION 1. Let G be an RSG with two strictly increasing resources, and deviation of a coalition T i ,thens J = s J for every J ,
P ROOF . Assume without loss of generality that s J = M 2
If there exists some J  X  T i such that s J = M 1 ,then c J that job J incurs a higher cost in s , contradicting weak profitability of the deviation.

Definition 4 . A vector (  X  1 , X  2 ,... X  m ) is lexicographically smaller than ( X   X 
An action profile s is costwise lexicographically smaller than s if the cost lexicographically than c ( s ), sorted in nonincreasing order.

L EMMA 3. Let G be an RSG with strictly increasing resources. If an action of G.

P ROOF . Suppose by way of contradiction that s is not a Nash equilibrium, and let s be a profile that is obtained from a unilateral strictly beneficial increasing cost and l i ( s ) &gt; l i ( s ), it holds that b in the obtained profile s , b i ( l i ( s )) &gt; b i ( l the profile s is costwise lexicographically smaller than s , and the proof is established.

Using the aforementioned lemmata, we show that every RSG with two strictly increasing resources admits a T -SSE for every T . This is in contrast to the notion of SSE where an SSE may not exist even on two identical strictly increasing resources. The proof is deferred to the appendix.
 T HEOREM 2. Every RSG with two strictly increasing resources admits a T -
SSE for every partition T . 3.3 The Case of m Nondecreasing Resources
We next consider the more general case of nondecreasing cost functions. We our theorem, we present the following lemma.
 L EMMA 4. Let G be an RSG with nondecreasing resources, and let s be a
Nash equilibrium of G. Given a coalition T j ,ifitholdsthat
M }|  X  1 for every i, then T
P ROOF . Suppose by way of contradiction that there is a weakly profitable deviation of T j toaprofile s = ( s  X  T that c J ( s ) &lt; c J ( s ). Let i be the resource index such that s
M , from which another job J migrates (otherwise, it contradicts s being a NE).
If the cost of J strictly decrease, then it must hold that b since the load on M j does not change, it holds that b j ( l
J cannot migrate to M i since b j ( l j ( s )) &lt; b i ( l to a resource M j from which no job migrates since, if it does, then it must preceding argument. This contradicts s being a NE. Thus, J can only migrate to a resource from which another job migrates.

We prove by induction that each job that leaves a resource must migrate to a resource from which another job migrates. The base of the induction is the first job, as described. Suppose that the claim holds up to the t source M j b ( l j resource M t . First, it cannot migrate to M j which is strictly smaller than b j cannot migrate to any resource M k , k  X  X  2 ,..., t  X  1 } that b j cannot migrate to another resource M w from which no job migrates since, if it does, it holds that b w ( l w ( s ) + 1)  X  b j a NE. Thus, it must migrate to another resource from which another job mi-grates. Since the number of resources that contain jobs in T job leaving its own resource cannot migrate to any other resource. With this we are ready to state the theorem.

T HEOREM 3. Every RSG with nondecreasing resources in which every i admits a T -SSE.

P ROOF .Let s be a Nash equilibrium of the game and consider a ( T spread-out assignment s T . For the simplicity of the presentation, we abuse notation and denote the spread-out assignment by s .In s , there might be only a single resource that contains more than a single member of each coalition, (of size 2) that is assigned to different resources can deviate either. Thus, we should only consider deviations of pairs (recall that | T assigned to the same resource. Let J , J be two jobs that are assigned to M same resource, then at least one of the jobs can strictly improve by a unilateral deviation. Similarly, if they migrate to the same resource, then obviously there exists a profitable unilateral deviation. In conclusion, we should only consider a deviation in which one of the jobs migrates from M i while the other job stays on M i , that is, a profile s in which s J = M i and s J =
It must hold that c J ( s )  X  c J ( s ), thus b k ( l k ( s )) by s being a Nash equilibrium, it must hold that b k ( l k b thatis,itmustholdthat b i ( l i ( s )  X  1) &lt; b i ( l i
We next claim that s is also a NE. Since b k ( l k ( s ))
A unilateral deviation from M l , l = i , k to M i is not profitable either since by s being a NE, a job from M l cannot improve by deviating to M b ( l k ( s ) + 1) = b i ( l i ( s )), it cannot improve by deviating to M similar argument shows that after each deviation of a pair that is assigned to
M i , we should again consider only such deviations. But this process is limited by the number of pairs that are assigned to M i , which is finite. We conclude that this process must converge to a T -SSE.

Remark . The last theorem in fact follows from a result introduced by Kuni-avsky and Smorodinsky [2007]. They prove this result in a setting with trans-native proof is presented here due to its simplicity. 4. T -STRONG EQUILIBRIUM ( T -SE) EXISTENCE IN REPEATED RSG X  X 
Let G be a one-shot game and let R be an integer. A repeated game is a setting in which the game G is played repeatedly R periods. Recall that s = ( s
Similarly, we denote by s t = ( s t 1 ,..., s t n )  X  S 1 is played in period t of the repeated game. A strategy of agent J is a set of functions g t J :( S 1  X  X  X  X  X  S n ) t  X  1  X  S J , which maps a history ( s period t  X  1, into an action s J  X  S J for every t  X  X  1 ,...,
The cost of agent J in  X  G = &lt; G , R &gt; under a strategy profile g given by c J ( g ) = R t = 1 c J ( s t 1 ,..., s t n ), where s
The notion of T -SE can be extended to settings of repeated games. A strategy deviation of a coalition T i  X  T . There is a crucial difference between SE and
Nash equilibrium in repeated games. Suppose s is a Nash equilibrium of the game G . Then, playing s in every round of the repeated game must be a Nash equilibrium of the repeated game. In contrast, if s is an SE of the game G ,itis not necessarily the case that playing s in every round of the repeated game is an SE of the repeated game.

For example, while every RSG admits an SE, even on the very simple RSG that is composed of two identical resources with nondecreasing cost functions and 3 agents, its repeated version might not admit an SE.
 with two identical nondecreasing resources and three agents that does not admit an SE.

Similarly, if s is a T -SE of the game G , it is not necessarily the case that playing s in every round of the repeated game is a T -SE of the repeated game.
This is in fact exemplified later on in Proposition 1. Thus, characterizing the set of repeated games that admit a T -SE is a challenging goal. 4.1 The General Case
The following theorem shows that every repeated RSG with m nondecreasing resources admits a T -SE if T contains no singletons. We first define a -minimal agent and present several lemmata that will be used in the proof of the theorem.

Let G be a one-shot game and let s be an action profile in G . An agent i is said to be s -minimal if for any action profile s = ( s c ( s )  X  c i ( s ).

L EMMA 5. Let  X  G = G , R be a repeated RSG game, and let s be an action profile of G such that, for every i, there exists an agent J Then, playing s in every round of  X  GisaT-SEof  X  G.

P ROOF . For every coalition T i , there exists an agent J cannot be reduced in any round of the game by a deviation of its coalition. thus playing s in every period is a T -SE of  X  G .

The following theorem identifies a family of T -structures for which every repeated RSG admits a T -SE.

T HEOREM 4. Let  X  G = G , R be a repeated RSG with an arbitrary number m of nondecreasing resources. If | T i | X  2 for every i, then
P ROOF .Let C  X  N be a set containing an arbitrary single agent from every coalition T i ,andlet M j be a resource satisfying b j ( |
Since | T i | X  2 for every i , it holds that | N \ C | X | C be the game induced by G , where all agents J  X  N \ C are assigned to M is a one-shot game with | C | agents and with cost functions b and b i ( l ) = b i ( l ) for every i = j .
 We shall prove that there exists a Nash equilibrium s in G in which s for every J  X  C . To see this, consider best-response dynamics starting from an arbitrary assignment of the agents J  X  C on resources M \ a potential game, best-response dynamics must converge to a NE. For every profile s of the agents J  X  C , it holds that c k ( | C | of resource M j ,and c j ( | C | )  X  c j ( | N \ C | ) from monotonicity. Thus, c c ( | N \ C | ). In addition, for every k  X  [ m ], it holds that c monotonicity). Together, we obtain that, for every k  X  [ m ], c
Therefore, we can assume without loss of generality that in the best-response dynamics, agents do not migrate to resource M j .

Let s be an action profile in G in which s J = M j for every J s every J  X  C (such a Nash equilibrium exists by the last argument). We claim that playing s in every round of  X  G is a T -SE of the repeated game. For every i = 1 ,..., | T | ,let J
T -minimal for J i for every i . First, since s is a NE, J i by a unilateral deviation. In addition, s J = M j for every J show that s is T i -minimal for J i , it is sufficient to show that J decrease in a profile s where all the agents in T i \{ J i migrates to M j .Let k be the index such that s J
In addition, since there is still one agent from every coalition except for the coalition T i , it holds that l j ( s )  X | C | . It follows that where the last inequality follows from the aforementioned argument and the inequality preceding it follows by the choice of resource M minimal for J i in the one-shot game, and by Lemma 5, playing s in every round of the game constitutes a T -SE.

We shall soon show that every repeated RSG with nondecreasing resources vation will be used in proving the next theorem.

O BSERVATION 3. Let G be an RSG with nondecreasing resources, and let s be a Nash equilibrium of G such that no resource contains more than a single representative of every coalition. Then, playing s in every round constitutes a T -SE of the repeated game.

P ROOF . It follows from Lemma 4, s is a T -SE of the one-shot game in every round of the repeated game. Thus, for every coalition T i
J  X  T profitable deviation in the repeated game, and the assertion follows. We are now ready to establish the following theorem.

T HEOREM 5. Let  X  G = G , R be a repeated RSG with an arbitrary number m of nondecreasing resources. If | T i | X  2 for every i, then
P ROOF .Let G be a one-shot RSG with m nondecreasing resources. Let C be a set containing one representative of every T i such that be the set of their  X  X artners". Let M j be a resource satisfying b for every i = j .Let G = &lt; M , N \ C , b (  X  ) , c (  X  all agents J  X  C are assigned to M j ;thatis, b j ( l ) = for every i = j .

We shall prove that there exists a Nash equilibrium of the agents J in the game G in which s J = M j for every J  X  C . Since a Nash equilibrium is not sensitive to the identities of the agents, it is sufficient to show that there exists a Nash equilibrium in which |{ J | s J  X  M \ consider best-response dynamics starting from an arbitrary assignment of the agents J  X  N \ C . Since this is a potential game, best-response dynamics must converge to a NE. We will show that for any profile s in which l no agent would migrate to resource M j as a best response. This means that in any Nash equilibrium that is obtained by best-response dynamics, the number of agents choosing resource M j would never exceed N \ C , thus the number of agents on resources M  X  M j would be at least | C | . We next prove that, if l ( s ) =| N \ C | , no agent would migrate to resource M j
If l j ( s ) resource M j , b k ( | C | )  X  b j ( | C | ). By monotonicity, b l profile s in which l j ( s ) = N \ C and every k = j , it holds that b
Therefore, no agent will migrate to resource M j , as promised. We conclude that there exists a Nash equilibrium s of G in which the members of each coalition of size 2 are spread out.
 We claim that playing s in every round is a T -SE of the repeated game.
Obviously, none of the singletons can deviate since playing a Nash equilibrium in every round of the repeated game is also a Nash equilibrium of the repeated game. In addition, since in s each coalition is spread out, Observation 3 guar-antees that no coalition of size 2 has a profitable migration. This concludes the proof.

The preceding theorems assert that if the coalition structure is such that |
T | X  2 for every i or | T decreasing resources admits a T -SE. We next show that this is tight. In partic-ular, the following proposition demonstrates that there exists a repeated RSG with a coalition structure that does not adhere to the structure just described, which does not admit a T -SE.

P ROPOSITION 1. There exists a repeated RSG with two identical nondecreas-ing resources such that | T 1 |= 1 and | T 2 |= 3 that does not admit a T -SE.
P ROOF .Let G be an RSG with two identical resources and four agents. The coalition structure is T ={ T 1 , T 2 } , where | T 1 |= 3and b (1) + 2 b (3) &lt; 3 b (2), and b (2) &lt; b (3), and consider the game by way of contradiction that the repeated game just discussed admits a T -SE, and let g be a T -SE of the game. In the third (and last) round of the game, the singleton will never share a resource with more than one additional plyer, since since if one of them deviates, the cost of each one of them will decrease from b (3) to b (2). Therefore, in the third round, every resource should be assigned exactly two agents. Using a backward induction argument, under the strategy profile g , in every round of the game two agents should be assigned to every resource, that is, l i ( s t ( g )) = 2 for every i  X  [ m ] and every t the agents in T 1 deviate in a way that each agent in T 1 rounds and has a load of 3 in the other two rounds. Let g denote the obtained profile. For every agent J  X  T 1 , it holds that c J ( g ) Therefore, g is a strongly profitable deviation of T 1 and the game admits no T -SE.

Remark . The construction given in the proof of Proposition 1 implies that the existence of T -SE in one-shot RSGs does not apply to general congestion games. This can easily be verified by constructing a congestion game that consists of three networks that are composed serially where each network is composed of two parallel edges with the cost functions and T -structure given in the aforementioned example. 4.2 The Case of Majority of Singletons
For special cases, we have a more refined characterization. In particular, if the majority of the agents are singletons and the resources are identical, we fully characterize the T -structures that admit a T -SE in repeated games. The characterization is slightly different for the cases of odd and even numbers of agents. 4.2.1 Odd Number of Agents. When the number of agents is odd, we find that every repeated RSG with identical resources admits a T -SE if and only if |
T
T HEOREM 6. If the number of agents is odd and there is a majority of sin-gletons, every RSG with identical strictly increasing resources admits a T -SE if and only if | T i | X  3 for every i.

P ROOF . For the first direction, we show that for every coalitional structure such that there exists i for which | T i | X  4, there exists a repeated RSG that does not admit a T -SE.

Let x denote the size of the largest coalition in T , and consider an RSG with two identical strictly increasing resources that is repeated x rounds. Suppose also that the resource cost function satisfy the following condition.
This is a valid cost function since x  X  4. Suppose towards contradiction that the aforementioned game admits a T -SE, and let g be a T -SE of the game. In the last round of the game, it must hold that | l 1 ( s
We show the impossibility of l 2 ( s R ( g )) + 1 &lt; l 1 shows the impossibility of l 1 ( s R ( g )) + 1 &lt; l 2 ( s then by monotonicity b ( l 2 ( s R ( g )) + 1) &lt; b ( l singletons, there must exist a singleton on M 1 . That singleton can benefit by migrating to M 2 , contradicting g is a T -SE. Following a backward induction argument, it must hold that, for every round t of the game 2 . Therefore, every agent is assigned in every round of the game to a resource with load of at least n 2 , and its total cost in the repeated game is at least x  X  b ( n 2 ).

We next contradict the stability of g by constructing a strictly profitable such that one of the coalition members will be left alone in one of the rounds (a different member in every round). A coalition member who is left alone will is when one of the coalition members is assigned to the less loaded resource in every round of the game (see Figure 2(a) for an illustration of a coalition of size 4). In addition, every other coalition member will incur a cost of at most b ( coalition members are assigned to the less-loaded resource and x of size 4).

In the assignment that is obtained from the deviation, the total cost of every coalition member is at most ( x  X  1)  X  b ( n 2 + x  X  1) + concludes the proof of the first direction of the assertion of the theorem.
We now turn to prove the second direction of the assertion. In particular, we show that, for every repeated RSG with identical nondecreasing resources with a majority of singletons and an odd number of agents, if i , then the game admits a T -SE.
 We distinguish between two cases:
Case (a): The number of resources is greater than 2. Let s be a Nash equi-librium of the one-shot game, and consider a ( T , s )-spread-out assignment of the one-shot game. Since the number of resources is greater than 2, no two members of any one coalition will be assigned to the same resource (recall that the resources are identical). By Observation 3, playing s in every round of the game is a T -SE of the repeated game.

Case (b): The number of resources is 2. We claim that in the case of two resources, there always exists a Nash equilibrium s of the one-shot game such that the load on the two resources differ by at most 1, that is, 1. Suppose towards contradiction that, for every profile s whichisaNash equilibrium of the one-shot game, it holds that | l 2 ( s ) b ( l 2 ( s )) well, which arrives at a contradiction. Therefore, the one-shot game admits a
Nash equilibrium in which one of the resources has load n resource has load n 2 ).

Among all the Nash equilibria of the one-shot game in which the loads on the resources differ by 1, consider the assignment s  X  , constructed as follows. For every coalition of size 3, assign one its members to M 1 , and add one singleton to M 1 . Assign the other two members of this coalition to M this process, the two resources have equal load. We repeat this process for is a sufficient number of singletons to support this process. For coalitions of size 2, assign one of the agents to M 1 and the other to M number of singletons that have not been assigned yet. It is easy to verify that x is odd. Assign x 2 singletons to M 1 and x 2 singletons to M l ( s  X  ) = l 1 ( s  X  ) + 1.

We claim that playing s  X  in every round constitutes a T -SE of the repeated game. By Lemma 5, it is sufficient to show that for every coalition T exists an agent J  X  T i which is T s  X  i -minimal in the one-shot game. The claim follows from Lemma 4. It remains to show that the claim holds for coalitions of size 3. Let T i be a coalition of size 3, and consider the member J is assigned to M 1 .If J migrates to M 2 , then its cost will be at least b ( l will be at least its original cost. Therefore, the assignment s for the member that is assigned to M 1 . This concludes the proof. 4.2.2 Even Number of Agents. When the number of agents is even, we find that every repeated RSG with identical resources admits a T -SE if and only if |
T
T HEOREM 7. If the number of agents is even and there is a majority of sin-gletons, every RSG with identical strictly increasing resources admits a T -SE if and only if | T i | X  2 for every i.

P ROOF . For the first direction, we show that, for every coalitional structure such that there exists i for which | T i | X  3, there exists a repeated RSG that does not admit a T -SE.

Let x denote the size of the largest coalition in T , and consider an RSG with two identical strictly increasing resources that is repeated x rounds. Suppose also that the resource cost function satisfies the following condition: Suppose towards contradiction that the aforementioned game admits a T -SE, and let g be a T -SE. In the last round of the game, it must hold that l ( s least 2, and so a singleton that is assigned to the more loaded resource (there must be such an agent since there is a majority of singletons) can improve its cost by a migration. Following a backward induction argument, in every T -SE of the repeated game, the cost of every agent in every round of the repeated game is b ( n 2 ), and its total cost is x  X  b ( n 2 ).

We next contradict the stability of g by constructing a strictly profitable deviation. Consider the coalition of size x . There must exist a resource that will be such that one of the coalition members will be left alone in one of the rounds (a different member in every round) on that resource. Every coalition member will incur a cost of at most b ( n 2  X  1) at the round in which it is left member of the coalition incurs a cost of at most ( x  X  1)
We now turn to prove the second direction of the assertion. In particular, we show that, for every repeated RSG with identical nondecreasing resources with a majority of singletons and an even number of agents, if then the game admits a T -SE.

Let s be a Nash equilibrium of the one-shot game, and consider a ( T spread-out assignment of the one-shot game. Since | M | X  2and every i , no two members of the same coalition are assigned to the same re-source. By Observation 3, repeating this assignment in every round of the game constitutes a T -SE of the repeated game. 5. CONCLUSIONS
Stability against coalitional deviations is a main interest in game theory and in many social environments. In contrast to the notion of Nash equilibrium, it ac-counts for situations where agents can coordinate their actions and their devia-tition over the set of agents. We study this notion in resource selection games where general stability to coalitional deviations is not guaranteed when using the notion of super strong equilibrium or when requiring stability in repeated settings. Our results suggest that when the agents are partitioned into prespec-lection games that do not admit stable outcomes in the more general sense. We believe that the introduction of the notion of stability is very natural and that this notion occurs in many social situations in real life where agents are indeed partitioned into groups such as families, friends, and clubs. Our work raises a host of interesting directions for future research. The main three are: (i) to of stability in additional settings such as more general congestion games, and (iii) to study related notions of stability where the coalitions are prespecified but do not necessarily constitute a partition of the agents, for example, where there could be an overlap between the coalitions.
 APPENDIX A. PROOF OF THEOREM 2
Let  X  s be a costwise lexicographically minimal profile, and let s bea( T spread-out profile. Suppose without loss of generality that l
It follows from Lemma 3 that s is a Nash equilibrium. By Lemma 1, it holds on one of the resources grows, the cost of the jobs migrating to this resource increases. If the load on both resources remain the same, all the jobs incur the we need to consider only cases in which b 1 ( l 1 ( s )) = between two cases.
 of every resource can increase by at most a single job. Since b if the load on M 2 increases, there must be a job in the coalition whose cost increases, thus it must be the case that l 1 ( s ) = l 1 ( s ) deviation to s can have one of the following two structures: (i) A unidirectional deviation from M 2 to M 1 , where the jobs that stay on M ones migrating to M 1 are indifferent. This case can occur only if there exists a coalition T i such that s J = M 2 for every J  X  T i (by Observation 1). In this case, b 2 ( l 2 ( s )) = b 2 ( l 2 ( s )  X  1) &lt; b 2 ( l
Therefore, (ii) A bidirectional deviation with a structure as described in Lemma 2. In this case, it must hold that b 2 ( l 2 ( s ))  X  b 1 ( l 1 migrating to M 1 do not incur a higher cost) and b 2 ( l 2 smaller than s , contradicting the minimality of s . Therefore, and
Integrating the strict monotonicity into the equations we get b b ( l 2 ( s )  X  1) &lt; b 2 ( l 2 ( s )) = b 1 ( l 1 ( s ) + well as in (ii) Equation (3) must hold.

At this stage, for every i it holds that the number of agents from T are on M 1 can be greater than the number of agents from T
M 1 by at most 1. This claim holds in the profile s sinceitisa T -spread-out assignment. In case (i) (unidirectional deviation), M 1 contains a single agent of the deviating coalition, and the other coalitions are like in s . In case (ii) (bidirectional deviation), all the members of the deviating coalition that were on M 1 deviated to M 2 , and a number of agents greater than this number by 1 moved to M 1 , so the claim holds for the deviating coalition, and it obviously holds for the other coalitions (just like in s ).

We next consider a weakly profitable deviation s from s . s cannot be a unidirectional deviation from M 2 to M 1 since b 1 ( l 1 ( s )) be a unidirectional deviation from M 1 to M 2 either since M whole coalitions (see Observation 1). Thus, it can only be a bidirectional de-viation. In any bidirectional deviation s , M 2 should increase by a single job, thus l 1 ( s ) = l 1 ( s )  X  1 = l 1 ( s )and l 2 ( s ) = job migrating to M 1 cannot increase, it must hold that b b ( l 2 ( s )) b ( l 2 ( s ) tion (4)). Therefore, the only agents who can strictly improve by this deviation are the jobs that stay on M 1 . But since the number of agents migrating from
M 1 to M 2 is greater by 1 than the number of agents moving in the opposite direction, it must hold that, in s , the number of agents from the deviating coalition assigned to M 1 is greater by at least 2 than those assigned to M
But this contradicts our claim previous (showing that it can be greater by at least 1).

If, however, the deviation to s was unidirectional (case (i)), then a bidirec-tional from s to s may still be possible, and s is a costwise lexicographic minimum (since the resources X  loads according to s are identical to s ). There-fore, s resembles s in almost all aspects except that the number of coalitions that are fully assigned to M 2 is smaller by 1 than this number in s .
Since the number of coalitions is finite, we can repeat this process only a finite number of times until there are no coalitions that are fully assigned to
M . Then. the first stage deviation must be a bidirectional one, and the obtained assignment must be a T -SSE from the exact same reasoning as before (since the number of agents from the deviating coalition assigned to M greater by more than 1 than those assigned to M 2 ).
 cannot be unidirectional since no coalition exists that is fully assigned to M and a singleton cannot unilaterally deviate since s is a NE. Therefore, it can only be a bidirectional deviation of a coalition T i , where all agents J assigned to M 2 migrate to M 1 and a number of agents that is greater than this number by 1 migrate from M 1 to M 2 (by Lemma 2). In this case, it must
M 1 does not increase) and b 2 ( l 2 ( s ) migrating to M 2 does not increase). In addition, since s is a NE, it must hold that b 2 ( l 2 ( s ) + 1)  X  b 1 ( l 1 ( s )). Therefore, b
After such a deviation, the load on M 2 increases, and since it has a strictly increasing cost function, so does its cost. Therefore, there cannot remain any coalition members on M 2 . Additionally, there cannot remain any coalition mem-bers on M 1 since s is a T -spread-out assignment in which the number of coalition members on M 1 can be greater than the number of coalition mem-bers on M 2 by at most 1 for any coalition. But since there must be a coali-tion member whose cost strictly decreases, it can only be a member that mi-grated from M 2 to M 1 . Thus, it must hold that b 2 ( l 2 b ( l 2 ( s )) &gt; b 1 ( l 1 ( s )  X  1) = b 1 ( l 1 ( s )) and b plying that s is costwise lexicographically smaller than s , contradicting the minimality of s . This concludes the proof.

