 With the development of web2.0, people are more inclined to publish their com-ments on social media, such as forums, blogs and microblogs. Users have con-tributed a plenty of online comments, containing user sentiments towards differ-ent topics and events. It is significant and valuable to extract topic and sentiment information from these online comment s. The governments can detect the public sentiment toward policies and emergenc ies, give feedback in time. However, it is also a job with challenges. The huge amount of data makes it impossible to complete this job through manual analysis, and the unstructured data increases the difficulty of the machine analysis.
 So far, there are lots of researches on ho w to extract topic-based sentiment. However, these algorithms regard comments as independent individuals, ignor-ing the connections among them. In fact, t he socialized characteristic of media platform makes it easier for users to interact with each other, which will result in more connections.

We list some real comments and the interactions between them in Fig. 1. Red comments represent positive comment, s upport the policy, while green comments represent negative. Red arrows represen t agreewith previous comment, while green arrows represent disagree. In such a situation, we find there are some drawbacks in existing methods. First, for example, in comment  X  X oo stupid, this is pure dis-crimination X , the existing methods can not extract the corresponding topics un-less considering the interaction to the original news. Second, the normal sentiment polarities positive and negative can not describe the sentiment polarities of com-ments precisely. This makes the sentiment classification results very inaccurate using existing methods. Therefore, user interaction affects both topics and senti-ments extraction, which makes the existing methods no longer applicable. In this paper, we propose a novel probabilistic generative model, called Topic Sentiment Interaction Union Model(TSIUM), to address this problem. There are three key advantages in our models.  X 
We extract the topic information of comments using the topic information of interactive comments.  X 
We introduce two special sentiment, AGREEMENT and DISAGREEMENT, to represent the transformation of us er sentiment. Agreement and disagree-ment enrich the sentiment expression, make the model could adapt to complex relations between comments.  X 
Third, we analyze topic-based sentiments in comments with considering the effects caused by interactions, combine t he sentiment polarities in interactive comments and the relations between them . This characteristic makes the pro-posed model more accurately in topi c-based sentiment classification.
The rest of the paper is organized as fo llows. Section 2 introduces the related work. In section 3, we present our new model. We describes the data sets, ex-periment settings and the prior information we use in section 4. Section 5 shows our experiment results. Finally, we present the conclusions in Section 6. In topic extraction area, the authors in [1,2,3] use frequent-based methods to extract nouns and noun phrases as topic candidates. However, it is difficult for these methods to group related topics t ogether, or extract implicit topics from the unstructured text. Latent topic modeling in [4] has become very popular as a completely unsupervised technique for topic extraction in large document collections. This method can not extract the corresponding topics if the reply comments only contain sentiment words, makes it hard to extract topic infor-mation accurately.

In topic-special sentiment extraction area, [5,6,7] applied sequential labeling techniques to extract topics and sentiments from comments. The massive manual work for obtaining labeled training data make these supervised methods unsuit-able for the huge number of online comments. [8] introduced sentiment polarities into topic modeling, presented a model called JST which can extract mixture of aspects and different sentiment polarit ies for products and services. However, this method are unsuitable for news and events because of the sentiment polarity transformation caused by user interactions.

Our proposed model TSIUM modifies th e generation process of online com-ments, considering the effects caused b y user interactions, makes a great im-provement on both topics and topi c-special sentiment extraction. In this section, we will present our proposed model TSIUM. According to our observation, there are two points worthy of our attention in user comments. First, the sentiment of comment do not exist independently, it depends on the comment it reply to and their relationship. However, the existing models only analyze the comments independently, leading to wrong outcome. Second, according to our observation, the reply tweet often omit the topic information, because it has the same topic with the original tweet. We call this characteristic of user interaction as  X  X opic Consistency X . Howe ver, the existing models all assume that the comment itself contains the topic information, which is not correct in fact. Therefore, the proposed model should be able to correct the mistakes caused by these two characteristics.
The graphical representation of TSIUM is shown in Fig.3. Let D be the num-ber of comments, K be the number of topics, S 1 be the number of normal sentiments (positive, negative) S 2 be the number of special sentiments (agree-ment and disagreement), and M = S 1 + S 2 be the total number of sentiments. Let n t d be the number of sentiment words in comment d , n s d be the number of topic words in comment d .Thereare K topic models  X  t k =1  X  X  X  K .Foreachtopic special sentiment models  X  s m =1  X  X  X  S 2 .Thevariable  X  denotes the distribution of topics in comment d ,thevariable  X  denotes the distribution of sentiments in comment d .Let d be the comment that d interacts with, then the variable  X  and  X  denotes the distribution of topics and sentiments in comment d .
The generative process of TSIUM is as follows:  X 
For each topic k  X  X  1 ,...,K } : 1. Choose a distribution  X  t k  X  Dir (  X  t k ) 2. For each normal sentiment m  X  X  1 ,...,S 2 } :  X  For each special sentiment m  X  X  1 ,...,S 1 } :
Choose a distribution  X  s m  X  Dir (  X  s m )  X 
For each comment d  X  X  1 ,...,D } : 1. Choose a distribution  X  temp  X  Dir (  X  ): 2. Choose a distribution  X  temp  X  Dir (  X  ): 3. For each topic word w t d,i where i  X  X  1 ,...,n t d } : 4. For each sentiment word w s d,j where j  X  X  1 ,...,n s d } :
There are some points that we need to explain for this generative process.  X 
First, in the proposed model, we divide the words into topic words and senti-ment words. We use sentiment lexicon and POS tagging to identify the senti-ment words.  X 
Second, we define two kinds of sentiment in the proposed model, normal and special. The normal sentiments positive and negative are topic-sensitive, user use different words to expr ess the same sentiment in different topics. However, the special sentiments agreement and dis agreement are not topic-sensitive, ac-cording to [9], there are some pattern s in agreement and disagreement. There-fore, we choose distributions of all k topics for each normal sentiment s n , but only choose one distribution for each special sentiment s s .
  X 
Third, as we considered, the topics and sentiments of the comment are ef-fected by the comment user interacted with. To the best of our knowledge, no existing work deals with this problem in topic modeling. In the proposed model, we introduce the topics distribution  X  and sentiments distribution  X  of the interacted comment to reflect this effect. Intuitively, we expect the two distributions  X  and  X  are linear correlation,  X  = p X  +(1  X  p )  X  temp .Thegreater p value means better topic consistency, depends on the data set. We also ex-pect  X  = q X  +(1  X  q )  X  temp . Approximatively, larger q represents more weight on user interactions, The setting for p and q was determined empirically. We leave the estimation of p and q in a more principled way as future work.
We use collapsed Gibbs Sampling [10] to inference the model. We only show the sampling formulas without detailed derivations because of the space limit. We can estimate the model parameters  X  ,  X  ,  X  t ,  X  n and  X  s as: number of sentiment words assigned to topic k in review d . n s d,m is the number of sentiment words assigned to sentiment m in review d . Other variables containing n are defined similarly. 4.1 Data Sets We evaluate our proposed approach on the two data sets. The news comment data consist of 2000 news comments extracted from Netease News 1 including current affairs, politics, sports and technology. There are about 1400 comments have interactions with other comments b y reply. The microblog data extracted from Sina Weibo 2 contains about 4000 microblogs, including the original mi-croblogs, forward microblogs and comments. We labeled 1000 items with topics and sentiment polarities for both data sets. We use ICTCLAS 3 for word seg-mentation and POS tagging. 4.2 Prior Information We did not introduce any prior knowledge for topic detection. For normal senti-ment positive and negative, we use the sentiment lexicon NTUSD 4 to incorporate prior information into TSIUM. The sentiment lexicon is also used to distinguish between topic words and sentiment words. For special sentiment agreement and disagreement, we use some seed words as prior information for agreement, such as  X  X raise X ,  X  X gree X ,  X  X upport X , and we use the question mark and swear words as prior information for disagreement. 4.3 Experiment Settings In our experiments, the number of topics K is set to be 20, the number of special sentiments S 1 is set to be 2, the number of normal sentiments S 2issettobe2. We set the Gibbs sampling iterations to be 5000. We fix  X  =50 /K ,  X  =0 . 01,  X  =50 / ( S 1+ S 2). In this section, we evaluate the perform ances of our proposed models with three experiments. In the first experiment, we show the topics and topic-based senti-ments extracted by TSIUM with some qualitative analysis. In the second exper-iment, we apply a comment-level topic c lassification task to analyze the topic sensitivity of our models. In the third experiment, we apply a comment-level sentiment classification task to compare our models with several baselines. 5.1 Qualitative Results In the first experiment, we show some samp le topics and topic-specific sentiments extracted by TSIUM by using the Netease News data set. Table 1 lists the top 5 topic words of five topics discovered by TSIUM. For each topic, top 5 positive and top 5 negative sentiment words are also listed.

We can see from Table 1 that TSIUM can extract topics and topic-based sentiments well. The biggest improvement is that the proposed model could automatically adjust the polarity of sentiment words. For example, in topic 1, the word  X  X ear X  become positive while it is negative in lexicon. In the comment  X  X hy don X  X  you understand? We just fear to be infected! X ,  X  X ear X  should have labeled this comment negative, but the prior information question mark  X ? X  makes this comment labeled as disagr eement. And because this comment is a reply to a comment which is disagree with the new policy, we change the sentiment distribution of this comments to very tend to support the policy, makes  X  X ear X  become positive words. This characteristic makes the prior information used flexibly based on topic, avoid the error in sentiment classification caused by prior information.
 5.2 Topic Sensitivity of TSIUM. We merged the topic labels based on the similarity between topics. The table 2 shows some example topic classification results using merged topics. The example topics are chosen from table 1, the news names are in short.
The existing LDA model only extract topic information from comment itself, making the result very incomplete. As we can see, compare to LDA, which did not consider the  X  X opic Consistency  X  in user interactions, the proposed model greatly improved the precision and recall. That is because the proposed model could distinguish the similar comments of different topics using the  X  X opic Consistency X  in user interactions. The TSIUM adjusts the topic distribution of these comments to their interactive comments, makes the similar comments have different topic distribution. However, LDA could only extract topic information form the words in comments, leading to aggregating these similar comments as a new topic. 5.3 Sentiment Classification In this section, we present the results o f sentiment classification. We compare the performance of our models with lexicon-based method, JST [11] and su-pervised method [12]. We introduce the two special sentiments to JST, making the new model called JST+ could identify agreement and disagreement. The experimental results for all these methods are shown in Table 3.

As we can see, the Supervised Classific ation method works not well on both data sets, because it is impossible to obtain a training set containing all of the situations. Compare to JST, JST+ introduce agreement and disagreement, significantly improved the accuracy of se ntiment classification on both data sets. This suggests that the agreement and dis agreement have a significant impact to the sentiment classification result. The TSIUM consistently outperforms JST+ on both data sets. JST+ could detect the user interactions, but dose not use the user interactions to modify the topic and sentiment distribution of comments, makes them can not avoid the error caused by user interaction on both topic and sentiment. This suggests that we need to not only detect the user interactions, but also use them wisely.

These results show that the TSIUM outperforms other methods very signifi-cantly. It can not only detect the user interactions, but also use the information already analyzed to adjust the results, and make a great improvement on both topic and sentiment extractions.
 In this paper, we proposed a generative model TSIUM to solve the topic-based sentiment analysis problem of online comments. Our model introduced the ef-fects between online comments to avoid the error caused by user interactions. We compared our model against existing approaches using three different exper-iments. The experiments show that the proposed model greatly improved the accuracy in both topic and sentiment extractions.
 Acknowledgments. This research is supported by the National High Technol-ogy Research and Development Program of China (Grant No. 2012AA011002), Natural Science Foundation of Chin a (Grant No. 61300003), Research Foun-dation of China Information Technology Security Evaluation Center (No. CNITSECKY-2013-018) and Specialized Research Fund for the Doctoral Pro-gram of Higher Education (Grant No. 20130001120001).

