 How do social groups, such as Facebook groups and Wechat groups, dynamically evolve over time? How do people join the social groups, uniformly or with burst? What is the pattern of people quitting from groups? Is there a simple u-niversal model to depict the come-and-go patterns of various groups?
In this paper, we examine temporal evolution patterns of more than 100 thousands social groups with more than 10 million users. We surprisingly find that the evolution patterns of real social groups goes far beyond the classic dynamic models like SI and SIR. For example, we observe both diffusion and non-diffusion mechanism in the group joining process, and power-law decay in group quitting pro-cess, rather than exponential decay as expected in SIR mod-el. Therefore we propose a new model comeNgo , a concise yet flexible dynamic model for group evolution. Our model has the following advantages: (a) unification power: it gen-eralizes earlier theoretical models and different joining and quitting mechanisms we find from observation. (b) succinct-ness and interpretability: it contains only six parameters with clear physical meanings. (c) accuracy: it can capture various kinds of group evolution patterns preciously and the goodness of fit increase by 58% over baseline. (d) useful-ness: it can be used in multiple application scenarios such as forecasting and pattern discovery.
  X  Information systems  X  Data mining; Group Evolution; Dynamic Model; Temporal Patterns
Forming social groups is an inherent human nature and the evolution of social groups is an essential mechanism in society. Understanding how these groups take shape and e-volveovertimeisoneofthecentralbuildingblocksofmod-eling and understanding various social phenomena such as information spreading [13, 4], social-tie formation [10, 25], and social cooperations and competitions [9, 3]. Further-more, studying the dynamics of groups also has rich prac-tical use in various application scenarios. For example, the evolution of certain industry association can provide insight into the development trend of the business; the activities of online communities can become the vane of the popularity of new topics; and the detection of abnormal group growth can even help to handle the threat of online terrorist recruitment or find the trace of terrorist organization.

In literature, group evolution is a theme that runs through large parts of social science research [5]. Recently, some computational studies on social groups provide an profound foundation of the mechanism of group growth and also find several features that have significant influence on the group growth process [2, 11]. However, previous works still have some limitations and leave some fundamental problems un-solved.

The first fundamental problem is how to model the temporal patterns of group evolution. A comprehen-sive understanding of group evolution should contain both spatial dimension and temporal dimension. The spatial di-mension studies how groups evolve over the underlying net-work while the temporal dimension studies how groups e-volve over time. Several studies have been done in spatial dimension and they have found serval structure features in-fluencing the evolution of group and the mechanism of how groups attract new member through the network [2, 22, 25, 11]. However, such feature based models can not capture the temporal patterns and reveal the inherent mechanism in temporal dimension.

The second fundamental problem is how to model the quit process of group. Group evolution process is the resultant of both come and go: a group attracts new mem-bers through diffusion or non-diffusion mechanisms [11] and meanwhile, members in the group may also leave the group. Most studies mainly focus on the growth mechanism but ig-nore the fact that, in most situations, groups also have quit mechanism, for both online and offline groups. Although some researches find the importance of member mobility in group evolution [7], there is no explicit model for the quit mechanism of groups. Compared to our understand-ing about how people join groups, how people quit groups remains quite unclear.

In order to solve the two fundamental problems, we ana-lyze a large real dataset with 103,548 groups from Wechat, the largest social communication network in China. Note that this is the first-ever large-scale dataset providing de-tailed logs of users joining and quiting social groups.. We observe rich complexities in the temporal patterns of group evolution. In fig 1 we showcase the group evolution process of two online groups over a time period of 42 days. From Figure 1.1, we can see different growth patterns with re-spect to group size of the two groups: one group gradually grows and then stays relatively stable while the other group shows continuous decline after a quick growth. We further look into the joining and quitting processes respectively. In quitting process, we observe different patterns of quit rates in different groups, as shown in Figure 1.3. The resulted holding time (the time interval between join group and quit group) distributions for different groups follows exponen-tial decay ( as expected in SIR, only account for 15% of all groups), power-law decay or inbetween. However, there is no published model to deal with the latter two cases, which account for the majority of groups. Moreover, we observe both diffusion and non-diffusion mechanism in joining pro-cess, while non-diffusion mechanism is beyond the capability of traditional dynamic models such as SI and SIR. Based on the observations, we propose a unified dynamic model for the group evolution process with temporal data. Our pro-posed model has the following appealing advantages:
The rest of the paper goes as follows: Section 2 presents the fundamental concepts about dynamic models and Sec-tion 3 the proposed model. Section 4 shows our experiment on a large-scale real dataset. We conclude in Section 5.
With the rapid growth of different kinds of online social network, we have more source and opportunity to study the structure and dynamics of social groups. In recent years, a lot of studies have been done on online group evolution patterns.

As one of the first empirical investigations on online group-s, Backstrom, et al. study how structural features influ-ence group formation and evolution in large social networks [2]. They reveal an important mechanism that group grows through the ties its members have to individuals outside the group. This mechanism is similar to the  X  X ord-of-mouth X  mechanism in diffusion process [21]. Several studies also fo-cus on the influence of structural properties of groups in various underlying networks such as online games [8], mo-bile communication network [24, 25], co-authorship network [25, 14] and online social networks [22, 15]. Lin, et al. pro-pose a probabilistic framework to analyze the evolution of community structures on a dynamic network [19]. Kairam, et al. conduct further research to reveal the more complex group evolve mechanism by making a conceptual difference between diffusion and non-diffusion growth in groups [11]. They find that non-diffusion mechanism also plays an im-portant role in group evolution process.

As noted earlier, the previous works provide a profound explanation of how group grows through the network but do not answer the equally fundamental question that how group grows over time. Another limitation is that the do not reveal and model the mechanism of quitting the group. To both utilize the achievements and overcome the limitations of the previous works, we propose a dynamic model that captures the temporal patterns of both join and quit process.
In this section we present our proposed method and ana-lyze it.

First of all, our model should be a dynamic model that can present both temporal dimension and spatial dimension of group evolution. Besides, our model tries to capture the following behaviours, that we observed from our real data.
To handle P1, we assume that the recoverability of a node may decay with the holding time exponentially, which is dis-cussed in subsection 3.2. To handle P2, we import external shocks in our model, which is discussed in subsection 3.3.
We describe our model in steps, adding complexity, and we start with preliminaries..
Dynamic models are widely used to describe the mech-anism of temporal process such as epidemic spreading [1, 27], information diffusion [17, 20, 28], network evolving [16, 6]. In this subsection, we present the fundamental concepts about dynamic model. We start from one of the most basic dynamic models in spreading process: epidemiology models. We consider epidemic models as the baseline because they can capture the  X  X ord-of-mouth X  diffusion mechanism and can deal with the quit mechanism.

Susceptible-Infected model. The most basic epidemi-ology model is  X  X usceptible-Infected X (SI) model. Each ob-ject/node is in one of two states -Susceptible(S) or Infect-ed(I). Each infected node attempts to infect each of its neigh-bors independently at a constant rate  X  , which reflects the strength of the virus. Once infected, each node stays in-fected forever. The dynamic equation of the basic SI model is: where N is the total amount of obejcts/nodes and we as-sume that the underlying network is a clique of N, the time t is considered continuous, dI/dt is the derivative, and the initial condition I(0) &gt; 0 need to be given.

Susceptible-Infected-Recovered model. Another ba-sic epidemiology model is an extension of SI model called  X  X usceptible-Infected-Recovered X (SIR) model [12]. It allows Infected node to get recovered. Each object/node is in one of three states -Susceptible(S), Infected(I) or Recovered(R). The infect process is similar to SI model with a constant in-fect rate  X  while each infected node may get recovered at a constant rate  X  . Once get recovered, the node will nei-ther infect other nodes nor get infected by other nodes. The dynamic equation of the basic SIR model is: where the initial condition R(0)=0.

In SIR model, the recover rate  X  (  X  )isaconstant  X  and we can derive the holding time follows an exponential dis-tribution, that is,
Theorem 1. Let f (  X  ) be the probability density function of holding time  X  in SIR model, then
Proof. By definition of f (  X  ),
By definition of  X  (  X  ),
Take the derivative of Eq.5 with respect to  X  and combine with Eq.4, we can derive that,
Solve this differential equation with initial condition f (0) =  X  and we can derive that,
This theorem demonstrate that the holding time distribu-tion of SIR model follows an exponential distribution with an exponent of  X   X  . However,asisshowninFig. 2,the holding time distribution of real data follows a power-law distribution, so the recover function  X  (  X  ) should be a func-tion decays verses holding time  X  .

The above are the parameters of the base model and we will model the group evolve process as follows:
Note that the n initial users are also included in the pop-ulation N and we assume that users who quit the group will not add it again, which is similar to SIR model.
Next we present our comeNgo model, which is a concise yet flexible dynamic model with several desirable properties.
A group evolve process can be seen as the interaction of two processes: join process and quit process. We also build our model on these two processes. Let J ( t ) be the cumula-tive number of people who ever joined the group before time t ,and Q ( t ) be the cumulative number of people who quit the group before time t. Let I ( t ) be the number of people in the group at time t, so the group evolve process I ( t )can be defined as follows, So our task is to find the dynamics equation for J ( t )and Q ( t ). Forjoinprocess J ( t ), we only consider the word-of-mouth mechanism in base model. We assume that each member in the group occasionally attracts other users to join the group and the possibility is determined by the at-tractiveness of the group  X  . So the dynamic equation of join process is as follows,
For quit process Q ( t ), we need to consider the holding time distribution problem. As is proved in Theorem. 1, a constant recover function  X  (  X  ) will lead to a exponential holding time distribution. In our model, we add an power-law decay with an exponent  X  to the recover function as follows,
We will prove that the  X  (  X  ) can generate both power-law and exponential holding time distribution depending on  X  . We first derive the probability density function f (  X  )of holding time distribution as follows,
Lemma 1. Let f (  X  ) be the probability density function of holding time  X  in comeNgo model, then
Proof. By definition of f (  X  ),
By definition of  X  (  X  ) this is,
TakethederivativeofEq.9withrespectto  X  and combine with Eq.11, we can derive that,
Solve this differential equation, we can get that, where c is a constant decided by the initial condition.
Now we prove that the holding time distribution can be both power-law tail and exponential tail depending on  X  .
Theorem 2. when  X &gt; 1 ,
Proof.
Theorem 3. when  X &lt; 1 ,
Proof.
As a result,the tail of the holding time distribution gener-ated by our model mainly depends on the decay parameter  X  . When  X &gt; 1, the holding time distribution will be power-law tailed while when  X &lt; 1, it will have an exponential decay, and when  X   X  0, it will become an exact exponential distribution.
 We also show the result of holding time distribution in Fig.2. The blue dot represents the holding time distribution of all groups and the red line is the result of our model. We can see from the figure that it can approximate the re-al data quit well. This evidence further demonstrates the correctness of our model.

With the appropriate recover function  X  (  X  )=  X  0  X   X   X  ,we can derive the dynamics equation for the quit process as follows, where f (  X  )isdefinedinEq.8.

Now we have the dynamics equation for join process (E-q.7) and quit process (Eq.15), in the next section, we will propose our dynamic model in discrete time based on the equation. 3.2.2 comeNgo-Base
Let I ( n ) be the number of people in the group at time-tick n, let  X  J ( n ) be the number of people join the group at time-tick n, and let  X  Q ( n ) be the number of people quit the group at time-tick n. Our base model is governed by the equations
Model 1 (comeNgo-Base). Our base model is gener-ated by the equations where, and initial conditions: and also, by definition
Justification of the model. There are 4 parameters in our base model, {  X , X , X ,N } . An advantage of our dynamic model is that all the parameters have clear and explain-able physical meaning, which means our model is more than fitting the data. Following is a brief explanation to each parameter:
We should also note that the initial condition in our mod-el  X  J (0) = J 0 needs to be given. It is the initial size of the group when found. Since group evolves mainly through dif-fusion mechanism, the initial size will greatly influence the growth speed at the beginning.
Although groups grow mainly through influence between nodes, non word-of-mouth mechanism may also plays an im-portant part in group evolution process. Let X  X  take the evo-lution of a new association in university for example. In the one hand, the founders and members may try to attract their friends into the association. This is  X  X ord-of-mouth X  mechanism and such mechanism will last all the time. In the other hand, they may also conduct membership recruit-ment meeting to attract new members. Such activity may attract a lot of new members in a short time, causing a burst like an external shock. Such non-diffusion mechanism may have great impact on the whole evolve process so we need to reflect it in our model.

We add the external shocks in the join process to model the non-diffusion growth. The dynamics equation of the join process is as follows, where  X  ( t  X  t i ) is dirac delta function that indicates an impulse at time t i ,and  X  i is the strength of the shock. So we propose our model as follows, Model 2 (comeNgo).

 X  J ( n +1)=  X  ( N  X  J ( n )) I ( n ) /N +
 X  Q ( n +1)= where 1 { t i } ( n ) is an indicator function, by definition, Justification of the model. The model is identical to comeNgo-base with the addition of the impulse term  X  i  X  ( t t ). This term captures the effect of non-diffusion mechanis-m in group evolution process. The impulse term indicates an external shock occurs at time t i and attracts  X  i users to the group. Following is a brief explanation to the parameters of this term:
Our base model consists of four parameters:  X  = {  X , X  , X ,N } . Given two real time sequences X(n) and Y(n), X(n) is the cumulative number of people who ever joined the group before time-tick n and Y(n) is the cumulative num-ber of people who ever quit the group before time-tick n, ( n =1 , ..., n d ). Note that the initial condition J 0 s the initial size of the group, so we can directly get from the data. To learn the parameters of the base model, we use Levenberg-Marquardt (LM) [18] to minimize the sum of errors: min
Our model with non-diffusion mechanism consists two more parameters in impulse term, location parameter t i and strength parameter  X  i . We first determine the location parameter by detecting external shock larger than predefined threshold and then learn the strength parameter together with other parameters using Levenberg-Marquardt(LM) method [18].
To evaluate the effectiveness of comeNgo model, we con-duct experiments on a real dataset. First we provide a brief data description in Section 4.1. In Section 4.2, we show how well we match the real data. In Section 4.3, we demonstrate the strong predicting power of our model. In section 4.4, we analyze the distribution of parameters and illustrate how to recognize different group evolving patterns.
We conduct experiments on a real large-scale social net-work dataset -Wechat . Wechat is the most widely used social network and messaging service in China with more than 600 million monthly active users.
 Group is one of the most important feature in Wechat. Every user can found groups to chat together. According to our statistics, more than one million groups are founded everyday. There are mainly two ways to add new members to the group. The usual way is by invitation. Every member in the group can invite their friends to the group, which is a typical diffusion (word-of-mouth) mechanism. The other way is by scanning the QR code. Users can generate a QR code for their group and promote the group by publishing theQRcodeinopenplaces. Forexample,thegroupofanas-sociation can print the QR code on their posters and leaflets so that people who are interested in the association can scan it and join the group. This is a non-diffusion mechanism.
We use the logs of wechat group as our data. From the groups established in November 20th, 2015 which contain at least 40 join records before January 1st, 2016, we sampled 103,548 groups as our experiment data. For each group we have the following three kinds of records. Table 1 summa-rizes the statistics of the dataset used for this study.
This is the first dataset for large scale social groups with detailed log of both joining and quitting behaviours. The dataset provides valuable opportunity to get insight about the temporal dynamics of group evolution mechanism. For privacy issues, the dataset is fully anonymized and all da-ta are collected according to the terms and conditions of Wechat.
In this section, we demonstrate how well our model match-es the real data. First, we give the formulation of group e-volving process for the real data. As is mentioned in section 3.1.1, a group evolving process can be regarded as the inte-gral of join process and quit process. For each group C i founded at timestamp T i , we can generate the join process sequence X i ( n ) and quit process sequence Y i ( n ) with a daily time tick as follows,
X i ( n )= { ( u, C, T )  X  X | C = C i ,T  X  T i &lt;n  X   X  T
Y i ( n )= { ( u, C, T )  X  X | C = C i ,T  X  T i &lt;n  X   X  T where  X  T isthelengthofeachtimetick,whichisoneday in our experiment. Then the group size sequence G ( n )can be derived by of group size(black), join process(blue) and quit process(black). Table 2: Fitting accuracy of different models. Our comeNgo model outperforms all the baselines in fit-ting group size, join number and quit number.

Figure 3 shows the results of model fitting on Wechat dataset. We select 4 typical groups which represent differen-t group evolving patterns. We show the original sequences G ( n )(black dots) and fitting result of comeNgo I ( n )(red line). We compare our result with SI model(blue line) and SIR model(black line). The second line of Figure 3 shows the fitting results of joining and quitting process. We can see that although the groups have quite different temporal patterns, our model can fit all the patterns very well, includ-ing the groups with external shocks (as shown in the fourth column of Figure 3). It demonstrates that our model is not only accurate but also has strong unification power.
We further evaluate the fitting accuracy using the root mean square error(RMSE) between estimated values and real values: RMSE = 1 n group size sequences I(n), we also compare the fitting good-ness of group joining sequences J(n) and group quitting se-quences Q(n). We can see from the Table 2 that our model outperforms all the baselines. The fitting accuracy of our model increases by 58.08% than baselines in fitting group size, 50.9% in fitting joining process and 58.22% in fitting quitting process.
As a dynamic model, comeNgo model can be used to predict the whole process of group evolution. Here we con-sider a more practical problem: given the group evolving process in early stage, can we forecast the future evolution of the group? To answer the question, we designed two tasks, trend prediction and size prediction, to measure the predicting power of our model.
An important aspect of group evolving process is the e-volving trend: will the group grow larger or begin to decline? For each group, we use the data of the first 10 days to train our model and use the learned parameters to predict the trend in the next 5, 15 and 30 days to demonstrate the pre-dicting power in both short term and long term. Here we define the trend prediction problem as a classification prob-lem: if the group size increases more than 20%, we regard it as a  X  X ositive example X  and if it decreases more than 20%, we regard it as a  X  X egative example X . Note that the external shocks are unpredictable to all models without external in-formation, so we ignore the groups that have external shocks in prediction period. Besides, the number of positive and negative examples are balanced in this experiment.
We use the parameters of our model as features, and the distribution for each feature were standardized to have a mean of 0 and standard deviation of 1. Then we conduct Logistics Regression for the classification problem. We use 5-fold cross validation, that is, we randomly select 80% of the data as training data and the remaining 20% as testing data. The experiments are repeated for 5 times and the average performances are reported in Figure 4. We can see that our model outperforms all the baselines in three prediction tasks. In short term prediction, our accuracy is 81.13%, 14.3% higher than baseline. In long term prediction, our accuracy is 80.10%, 14.9% higher than baseline.

Table.3 shows the regression coefficients of the parameters of our model and we can find some meaningful information from them.

Parameters  X ,N and  X   X  influence the dynamics of join-ing process.  X  and  X  determine the growth speed through Figure 4: Prediction accuracy of the group growth trend in 5, 15 and 30 days. The accuracy of our model is 81.13%, 78.06% and 80.10% respectively. Table 3: Regression coefficients for comeNgo model predicting the trend in 5, 15 and 30 days after the 10th day(For this table, * p &lt; 0.01,** p &lt; 0.005, *** p &lt; 0.001). Coefficients with p &gt; 0.05 are not report-ed. diffusion mechanism and non-diffusion mechanism respec-tively, while N determines the population of the users who can be reached by these mechanisms. A counterintuitive but interesting finding is that infection rate  X  and the external shock strength  X  have negative coefficients for the long term growth trend. Meanwhile, the total population N of poten-tial members shows significant positive coefficient for both short term and long term trend prediction. This finding indi-cates that growing breadth is more important than growing speed to the long term growth.

Parameters  X  and  X  influence the dynamics of quit pro-cess.  X  embodies more short term effect while  X  has more long term effect. We can find that the regression coefficient of  X  becomes larger when the prediction period is longer, in consist with its physical meaning. Also,  X  plays an im-portant role when predicting short term trend but decreas-es obviously when predicting long term trend. Considering that  X  and  X  have the largest coefficients among all param-eters, we can draw a conclusion that quit process has great impacts on group evolution trend.
A more challenging and practical task to evaluate the pre-diction power of a model is the size prediction problem: if we only have the sizes of a group at different time ticks in early stage, can we predict the group size in future?
To demonstrate the predicting power of our model, we use the temporal data in the first 20 days to train our model and use it to predict the group size in the next 10 days and Figure 5: Prediction accuracy of the group size in 10 and 20 days. The average MAE of our model is 6.09 and 10.16 respectively. Model MAE-J MAE-Q MAE-J MAE-Q SI 23.78 -29.66 -
SIR 7.78 13.77 17.50 21.58 comeNgo-Base 8.36 6.39 20.73 12.02 comeNgo 5.51 5.39 11.53 9.10 Table 4: Results of predicting the join process and quit process. MAE-J and MAE-Q represent the av-erage MAE of predicting cumulative join number and cumulative quit number in 10 and 20 days. 20 days. We also ignore the groups with external shocks in prediction period, and there are 93660 groups left for the prediction problem.

We evaluate our prediction accuracy using the mean abso-lute error(MAE) between estimated values and real values: MAE = | G ( n )  X  I ( n ) | . We also use SI and SIR as baseline models to predict the group size. The results are shown in Fig.5. We can see from the figure that our model achieves a significant improvement than baselines in both short term and long term. When predicting the group size in 10 days, the average MAE of our model is 6.09, 63.0% better than SIR and in 20 days, the MAE is 10.16, also 61.9% better than SIR.

Table.4 shows the predicting accuracy of group joining and quitting processes, measured by average MAE. SI model can only capture the joining process so it performs worst. SIR and comeNgo-Base model perform similar in predicting joining process, but our model performs much better in pre-dicting quitting process. As is mentioned above, SIR model can only capture the non-dependence mechanism while our base model can capture both non-dependence and depen-dence mechanism. The improvement further demonstrates the importance of the dependence mechanism in quitting process.
A specific advantage of our model is that all of the pa-rameters have clear physical meanings. As a result, we can recognize different group evolving patterns through param-eter analysis. In this subsection, we analyze the distribution of the parameters and use them to recognize the temporal patterns in group evolution. Fig. 6 shows the distribution of six parameters in our model, and we get the following findings.
In this paper, we study the come-and-go patterns in group evolution process. We analyze the temporal patterns of group joining and quitting behaviours and revealed the dy-namic mechanism behind these patterns. We propose comeN-go , a general, accurate and succinct dynamic model that is able to accurately model and comprehensively explain the temporal patterns. Our proposed model has the following appealing advantages:
This work was supported by National Program on Key Ba-sic Research Project, No. 2015CB352300; National Natural Science Foundation of China, No. 61370022, No. 61531006, No. 61472444 and No. 61210008. Thanks for the research fund of Tsinghua-Tencent Joint Laboratory for Internet In-novation Technology.

This material is based upon work supported by the Na-tional Science Foundation under Grant No. CNS-1314632 IIS-1408924 Any opinions, findings, and conclusions or rec-ommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the Na-tional Science Foundation, or other funding parties.
