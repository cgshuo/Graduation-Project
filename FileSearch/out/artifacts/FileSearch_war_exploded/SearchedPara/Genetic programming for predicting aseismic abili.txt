 1. Introduction
When large seismic forces impact a building, the stress behaviors generated are generally nonlinear. Hence, nonlinear structural analysis is the most common and reliable method for assessing the aseismic capacity of building s. Aseismic capacity is defined as the capacity of a building to withstand destruction or collapse during a strong earthquake. The m ost suitable nonlinear analytical methods for assessing the aseismic capacity of buildings were developed by countries based on their geological situations, geo-graphic environment, and other factors. In the United States, the aseismic capacity standard of reinfo rced-concrete buildings, namely, the Seismic Evaluation and Retrofit of Concrete Buildings ( FEMA-273 , 1997 ; ATC-40, 1996), uses the capacity spectrum method to determine the aseismic capacity.

The capacity spectrum method is divided into two parts ( Freeman, 1998 ). The first part is the demand spectrum, which is obtained from factors such as the intensity of the earthquake, soil profile, and seismic region coefficient. The second part is the capacity spectrum that describes the relationship be tween the force and the strain when buildings are impacted by seismic forces. The workflow diagram is shown in Fig. 1 . The capacity spectrum of a building is obtained from the pushover analysis, which simulates the nonlinear behaviors of a structure subjected to lateral forces. Pushover analysis uses the two curves from the demand and capacity spectra to obtain the identified building performance points, as shown in Fig. 2 .Thecollapseground acceleration and aseismic ability index can also be obtained by analyzing the coordinates of the performance points.

However, the capacity spectrum method is not sufficient for estimating the aseismic ability of a real building. The pre-proces-sing work needed for establishing the non-linear analysis model also takes a long time. A completed nonlinear structure model of a building must be constructed before the pushover analysis can be used. Due to the fact that ready-made models are unavailable, professional assessors often construct these models based on actual situations. The structural analysis software requires the basic framework of a building to be established; this is based on its geometrical dimensions. The blueprints of the buildings, when available, can be used as references. An assessor obtains any data that are missing for old buildings, and calculates the weight of the buildings based on the materials, and the number and weight of the equipment. These data are obtained for bearing structures such as columns and walls. Assessing the nonlinear behaviors of structural members (beams, columns, walls, etc.) from a building under stress is arguably the most important task. The relationship between the force and the strain is obtained through experi-ments, or analytical simulations. The numerical model for the pushover analysis is then finally constructed.

The procedures for the pushover analysis are as follows: (1) Apply an incrementally increasing external force on the structural model, as recommended by FEMA-440 (2004) and other standards; (2) Push the structure over towards one direction; (3) Conduct a structural analysis for each incremental increase in the external force; (4) Calculate the incremental stress and strain of each structural member, and add the values to the last analytical result to derive the response of each structural member; (5) Deter-mine whether a structural member is damaged with cracks, or if the ultimate strength is reached; (6) Update the behavior of each structural member based on the extent of failure, such as change in stiffness or removal of damaged structural members from the model; (7) Repeat the analysis until the structure is unstable and collapses. The building capacity spectra are obtained by following the procedures of the pushover analysis.

The seismic demand spectrum is generated based on the environmental status quo, such as soil horizons of buildings, and regulations which define the mapping of the environment and demand spectrum. Buildings with a hard soil horizon have good aseismic capacities. Moreover, earthquakes often cause serious damage to buildings near fault lines. Hence, the distance between buildings and a fault line is also included in the reference; this is called the special effect of near-source earth-quakes. With reference to the regulations, the demand spectrum suited to a building can be generated from data associated with the stratum and earthquake areas.

The capacity spectrum method transforms the format of the demand and capacity spectra, and determines the performance points of buildings. Physically, a performance point refers to the maximum strain and shear force that a building can withstand under a specific earthquake scale. When a structure has a non-linear behavior due to seismic forces, its damping effect dissipates this energy. Hence, the demand curve is reduced based on the actual situation, which is shown in Fig. 2 (d). As this is an iterative process, the demand curve may need to be continuously reduced, and the accuracy of the performance points verified. Once all the analysis is completed, the true performance points of buildings can be obtained. The performance point position can be converted into the AC (collapse ground acceleration) of the building, and the capacity demand ratio ( CDR ) is used to present the aseismic capacity. The equation is defined as ( NCREE, 2009 )
CDR  X  AC = AD  X  1  X  where AC is the minimum collapse ground acceleration of build-ings obtained through the pushover analysis; AD is the ground acceleration based on the position of building, and the greatest earthquake that the building can withstand in a 475 year cycle according to reference standards; and CDR , if greater than 1, indicates that the building can withstand the greatest earthquake in a cycle of 475 years in this area. Upon completion of the above analyses, a detailed assessment of a building is now complete. The whole process takes one month and the steps involved are (1) measurement of the building X  X  geometric dimensions, (2) testing of the building material properties, (3) creation of non-linear analysis model by technicians, (4) analysis of the building X  X  aseismic ability using the capacity spectrum method. Thus it takes a long time to estimate a building X  X  aseismic ability. There-fore, it is always difficult to obtain a detailed analysis of a building X  X  aseismic ability, limiting the scope of applications that require such analysis. If simpler methods developed to obtain some reliable information about the aseismic capacity of build-ings, the budget allocation and priority in building aseismic capacity reinforcement can be determined. This information also can be very useful during disasters. The aim of this study is to estimate the aseismic ability of existing school buildings, which is a highly complex and highly nonlinear problem. A few studies have used soft computing to model the aseismic ability of buildings. Most of them focused on prediction problems with low system complexity, e.g. predicting properties of materials. Due to the complexity involved, na X   X  ve GP is inadequate for constructing the relation model. Only artificial neural network based methods are able to construct models of acceptable quality, however they generate complex and hard-to-reuse models. In our paper, we used an improved GP method called WGP to estimate the aseismic ability of real school buildings. The results obtained were of acceptable quality. The relation model is expressed as an equation, which can be reused easily.
 Most school buildings are similar in design, for example as an I-shape with external corridors and partitions. Hence, information such as complex and varied designs and dimensions can be changed into typical properties of a school building and thus, a prediction model can be constructed using heuristic computing technology, based on its overall features. In Taiwan, the National Center for Research on Earthquake Engineering (NCREE) has constructed a comprehensive database of aseismic information for school buildings. The data was collected from twenty thou-sand school buildings, including information on structure, design (e.g. beam column design), quantity of structure elements, design patterns, number of floors, and distribution of classrooms. The floor layout, usage of buildings, and number of occupants are also included. From this database, the aseismic capacities of roughly one thousand school buildings have been assessed by profes-sionals. Due to the complexity of the detailed evaluation based on numerical model, these aseismic capabilities information for school buildings are not easy to be collected in a large number, thus are quite valuable. Based on this database, the current study builds a novel prediction model to determine the aseismic capacities of school buildings using data-mining technology.
It is relatively difficult to find exact linear relationships for these types of engineering problems, and computers cannot directly obtain analytical solutions. Therefore, soft computing is generally adopted where methods such as approximation and randomly searching in a high-dimensional space are used in order to obtain the optimum solution. Common methods include artificial neural network, support vector machine, and genetic algorithm (GA); the latter two being the most popular methods. Both of these methods have a long history, and can be applied to a wide range of fields, for example. Maru and Nagpal (2004) developed a model for estimating creep and shrinkage deflections in reinforced concrete frames using the artificial neural network. Gupta et al. (2006) used the artificial neural network to predict concrete intensity, and also to set up an expert system that enables the prediction model to be applied more easily. Sar X demir (2009) predicted the compressive strength of concrete to which silica and metakaolin was added, using the artificial neural network. Topc -u and Sar X demir (2008) adopted the artificial neural network and formula ratio of rubberized concrete to predict the mobility of concrete (unit neutral fluidity). Ince (2004) applied the artificial neural network to the prediction of concrete fracture parameters. Tsai (2009) mainly used the hybrid high order neutral network to predict the shear strength of squat walls. Arslan (2010) created several hundred virtual RC buildings, used their parameters to create nonlinear analysis model, and performed pushover analysis to estimate their aseismic ability.
They then used an artificial neural network to build the aseismic ability prediction model. Our study instead uses data from real buildings. However, the use of artificial neural network has always been controversial because the network core is a black box. As a result, the output relational model cannot be further processed. Likewise, the results derived from many other soft-ware computing methods cannot be easily converted into math-ematical formulas. Genetic programming (GP), which was developed from GA, was first introduced in 1992 ( Koza, 1992 ).
The strongest feature of GP is the capability to convert the output model into a mathematical formula. This guarantees subsequent analysis and application to be much easier, and makes up for the shortcoming of the artificial neutral network black box (i.e. inability to convert the output into a mathematical formula).
The WGP method used in this paper has also been used in related applications ( Tsai, 2011 ; Tsai and Lin, 2011 ). The topic of this paper, i.e. the estimation of the aseismic ability of real school buildings is a highly complex problem. The relationship between the aseismic ability of school buildings and the design parameters is very non-linear. It is also not easy to obtain all the required data. Since all these factors make this a challenging topic, we focus on dealing with this special prediction problem. In our previous study ( Kao et al., 2011 ), we dealt with the same problem of estimating the aseismic ability of school buildings using design parameters. The modeling methods used in the previous study was Artificial Neural Networks and the Generalized Linear Model.
In that study, we built an aseismic ability prediction model that provided results of acceptable accuracy. However, using such a model is inconvenient as it is simpler to apply GP to optimize the operation tree. Due to the complexity of the aseismic ability estimation problem, ordinary GP optimization cannot build a usable prediction model. By implementing WGP with variable weights, we are able to build an easy-to-use model with similar accuracy to artificial neural network models.

The existing applications of soft computing on behavioral pre-dictions of building structures mostly are at the levels of building materials and building components. Current results on the predic-tions of overall structural behaviors by soft computing are limited in relatively simple behaviors, such as long-term creep. Compared to building materials and building components, the amount and type of factors that affect the seismic behavior of an overall structure are numerous. Besides, the seismic behavior of an overall structure possesses highly nonlinearity, thus is difficult to predict. In addition, structural seismic assessment inf ormation, which requires profes-sional analysis using numerical model, would not be easy to collect in a large number. However, establis hpredictionmodelforaseismic abilities of school buildings could be feasible, because regularity does exist in the structural form at of typical school building.
Supported by the seismic assessment data of about one thousand school buildings collected by a nationwide project in Taiwan, this study proposes data processing model base on the expertise of structural engineering, and then establishes aseismic prediction model with the application of soft computing method, for typical school buildings. It should be a unique, challenging and contributing application case of soft computing. Based on the database of school buildings and their aseismic capacity analyzed using the complete nonlinear method, a GP system is developed in order to construct the relation model between the aseismic capacity of the school buildings and their basic design parameters. This system can be further applied to predict the aseismic capacity of the school buildings. 2. School building aseismic ability prediction The NCREE (2005) in Taiwan has constructed a School Building
Aseismic Database in response to the needs of aseismic studies of school buildings. It incorporates a range of information, including geographical locations, structural form, and geometric dimen-sions. Storing massive volumes of geometric and design informa-tion for different buildings in a database was previously deemed difficult because buildings have varying forms, and cannot be expressed using a limited number of symbolic attributes. The majority of school buildings in Taiwan has similar structural patterns and geometric dimensions. Fig. 3 shows the planar configurations of traditional school buildings which are I-shaped, most of which have fewer than five floors. The classrooms are arranged such that they are adjacent to each other with corridors and columns on the outside. The buildings mentioned in this study are defined here as  X  X  X ypical school buildings X  X . Relatively few attributes are required to describe them; the positions of all the structural members such as beams, columns, and walls, are not required. With an understanding of the most common school buildings, the database records geometric information using a simple format. The diagram in Fig. 4 shows a simplified entity-relationship of the School Building Aseismic Database. The struc-ture is divided into three different classifications: School, School
Building, and Floor. The School table stores basic information including school name, latitude, longitude, and number of school buildings; the School Building table stores basic information such as building name, usage, year of construction, and any changes that have been made to the building; and the Floor table stores detailed information of each of the floors. The three layers have sub-forms for storing the survey data. For instance, the Building
Survey record data is obtained by surveying school buildings, such as length and depth of buildings, dimensions, and number of columns. This database can be used for several applications, including predicting the large scale retrofitting cost of school buildings, predicting damage caused by hazards with the aid of
GPS systems, and constructing a prediction model for aseismic ability of school buildings ( Kao, 2009 ).

In addition to the basic design parameters of the school buildings mentioned above, the database also contains a detailed assessment report of the buildings conducted by the professional assessors. This includes AC , the minimum collapse ground accel-eration obtained using the nonlinear analysis method. It repre-sents the earthquake scale which the school building can withstand, and consequently the aseismic capacity of the build-ing. When AC is divided by AD , the minimum ground acceleration bearable for the school building, the result is known as the CDR .
Apart from the minimum destruction ground acceleration obtained by the assessor through nonlinear analysis, I S (aseismic capacity indicator) is also included in the database, and repre-sents the aseismic capacity of school buildings. However, there is an error between I S and CDR obtained through the analysis of the assessor. I S is the ratio between the aseismic ability and the demand, which is predicted based on the basic design parameters of the school building, and is also used to determine if the building is firm enough to withstand earthquakes. The formula is given as ( Hwang et al., 2010 )
I  X  Capacity = Demand  X  X  t c A C  X  t w A w  X  =  X  a g w S A f where A C is the total sectional area of the first floor columns; t the mean lateral force-resistant strength of all the columns; A the total sectional area of the wall in first floor along the corridor; is the mean lateral force-resistant strength of the three-side brick wall, S A f is the total floor area of the school building excluding the first floor; w is the unit floor mass of the buildings; and a g is the ground acceleration designed for the site of the school buildings.

The goal of this research is to establish a relationship between the basic design parameters of a school building, and its aseismic capacity. Prediction models can assist in obtaining an assessed value for the aseismic capacity of a school building quickly, and the aseismic capacity taken as the basis for constructing the model is the minimum destruction ground acceleration of the school building. This AC is that of the one recorded in the database and obtained through nonlinear analysis by a professional asses-sor. Further to constructing the relationship between design parameters and AC , this study also employs the weighed genetic programming (WGP) method in order to correct I S . 3. Genetic programming system
The genetic programming system developed in this study is composed of two modes: the long-history genetic programming (GP), and the weighted genetic programming (WGP). GP is based on the method proposed by Koza (1992) , and the original concept is derived from the GA. Conversely, WGP is proposed by Tsai (2011) , and adds the idea of a weight balance to the GP. The latter not only enables the equation constructed by the system to vary freely, but also reveals the importance of different inputs in the relationship equation. 3.1. Genetic algorithm
Genetic algorithm is an evolutionary method initially pro-posed by Holland (1975) and was introduced based on the process of biological evolution. GA is used to obtain the solution to the optimization problem by simulating the process of animal mating and genetic mutation, and is based on the hypothesis that the object can be transformed into a binary genetic sequence. In comparison to traditional evolutionary methods, an optimal solution can be easily identified using GA even if the problem is quite complicated. The GA can predict the position whereby the building is subject to failure, as well as the severity after the girder model is stressed ( Huang et al., 2009 ), and furthermore, establishes a suggestion system for the optimization of truss topology (  X  Se  X  sok and Belevicius, 2008 ). 3.2. Genetic programming
Genetic programming, a method published in 1992 ( Koza, 1992 ), was developed from GA. GP exchanges the genetic sequence in GA for a parse tree, and completes its evolution through the same process as GA, such as crossover, mutation, selection, and finally, achieving optimization. If a mathematical relationship equation is required, the operation tree will be used as the structure of the parse tree. The operation tree has a binary structure, as shown in Fig. 5 . The terminals on the bottom are the variables inputted to the equation tree, other constants, or n umerical values, whereas the rest of the branch nodes are the operators. Changing the input values and operators of different nodes forms different mathematical equations, and the prominent feature such a method is that its output is the relationship equation between the input and the output. Moreover, the equation is not subjected to the properties of GA. Few studies in construction combine GP and operation for optimization, where cases includ e predicting concrete intensity using GP. An adjusted equation using various methods was set up for squat wall strengths with WGP, making the latter more concise while keeping a certain extent of the longitude ( Tsai, 2011 ; Tsai and Lin, 2011 ).

GP can construct an equation regarding the relationship between properties and targets pursued based on the design data of the operation tree, optimum GA input parameters, and opera-tor at the computational nodes.

GP has many applications in the field of construction; it is mainly used for predicting material properties and the behavior of structures under external forces. Some examples are ( Kara (2011) , Peng et al. (2010) , Sar X demir (2010) , Ozbay et al. (2008) ), etc. Due to the system complexity and the difficulty in obtaining analysis data, there has not been much research on predicting the proper-ties of an entire building. Most existing studies on this topic apply artificial neural networks, e.g. Arslan (2010) and Hsieh et al., 2006 , and they all create and use virtual data instead of using data from real buildings. 3.3. Weighted genetic programming
Weighted Genetic Programming (WGP) was introduced by Tsai (2011) , based on GP. The difference is that the weight w , is added to each node of the operation tree. All of the weights will be optimized, except for the equation structure and choice of para-meters. As a result, the possibility of generating the relationship equation is much higher than that of the GP. Hence, WGP can be used for problems that are more complex. Its operation tree, as shown in Fig. 6 , forms a mathematical equation as shown below: w  X  w 3  X  w 7 p 2 = w 8 p 6  X  w 4 sin  X  w 9 n c  X  X  X  w 2 cos  X  w
The operation tree is composed of two types of layers: the operation layers, and the input lay ers. The former refers to operator nodes, whereas the latter is the input parameter choice. The nodes and weights that need to be optimized grow in equal proportion when the number of operation layers increases. This number also affects the complexity of the equation with regards to the optimiza-tion results. The input layer is composed of input nodes. Each connection between layers is provided with a weighting parameter, which is the unique feature of WGP. The weights enable the operation tree to form infinite types of equations, and are used to express the importance of differe nt parameters. Consequently, adding weights has considerable merits, even though the time spent in the optimization process becomes longer.

Fig. 7 (b) is the basic unit that composes the WGP operation tree. Similar to the basic unit for the GP operation tree, the basic unit for the WGP operation tree is also composed of one parent layer node, and two child layer nodes. The parent layer node is the operation node F , which is connected to the two child layer nodes through a weighting parameter. The child layer node can be another basic unit or an input node. The entire basic unit, output y , is denoted by Eq. (4); operator F has multiple choices which stand for the operation used at this unit. With the weights connecting to x 1 and x 2 of the child layer nodes, the output y ,of the basic unit can be calculated. The x 1 and x 2 of the child layer nodes have two possible sources. First, the child layer of the basic unit remains at the operation layer, and the values are obtained by calculating the basic unit. Second, the input layer may be at the end of the child layer, in which case the values of x 1 and x shown in Eq. (5), where NI is the number of input parameters, and
P is the j -th input parameter. x 1 and x 2 can be any of the input parameters. The constant is 1 when j  X  0. y  X  F  X  w 1 , w 2 , x 1 , x 2  X  X  one of x  X  one of f 1 , P 1 , P 2 , P 3 , P 4 ... P j ... P NI , g , j  X  0 NI  X  5  X 
The number of operation tree layers is NL , defined as the number of the layers provided with operation nodes, may affect the number of genetics that needs to be optimized, N . This is illustrated as Eq. (6), where there are 2 NL 1 function choices for the nodes on the operation layers, 2 NL parameter choices for the parameter layers, and 2 NL  X  1 2 weights in total.
 N  X  2
The main difference between the WGP method used in this paper and traditional GP method is that every node in the operation tree has its own weight. When we are optimizing the structure of the operation tree, we also need to optimize these weights. Unlike the traditional GP method, the weighted WGP method can create an infinite number of operation trees. There-fore, it can be applied for complicated problems that the GP method cannot handle. To show this, we used both the standard
GP method, and the WGP method to build the school building aseismic ability prediction model in this study. The result shows that GP does not perform well on this problem, while WGP is able achieve a prediction model close to that obtained using artificial neural networks.

The research adopts Matlab as the development system platform, and uses GA as the method for optimizing the operation tree. 4. Genetic programming system for school building aseismic ability prediction
In addition to basic GP, this study also adopts WGP to build the model. As well as the analysis of the relational model, data pre-processing is also important because its pattern and quality affect reliability of the final model. This section describes this in detail. 4.1. Pre-processing
Manually inputting data may result in incorrect units or formats because controlling data quality in the real world is difficult. Hence, it is necessary to pre-process data before building the relational model. Quality, as an important part of soft computing and data analysis, has considerable influence on subsequent analytic results or even on the reliability of the generated model. Apart from the actual data, the researcher also refers to expert advice from NCREE for data pre-processing. The main target of data pre-processing is to ensure the accuracy and adjustment of the data in a format that clearly reflects the target of analysis. Pre-processing includes data screening, property screening, and new property synthesis. Data screening is divided into two stages. The first stage is the rationality screening of the data. Pre-existing mistakes are unavoidable because the data in the School Building Database were entered manually; the obliga-tion is to identify such mistakes. Most of the school buildings were I-type shaped buildings, which is a very common design.
With regard to the properties of these school buildings, the NCREE (2005) suggests the following screening conditions:
Total depth of the school building should exceed 20 m or is less than 6 m.
 The span exceeds 8 m or is less than 2 m.
 The number of spans for a single classroom is less than 1. The number of columns in the classroom is low.

The collapse ground acceleration of the major direction is greater than that of the minor direction.

In the second stage, choosing school buildings with both basic design parameters and minimum destruction ground acceleration is necessary because not all school buildings have detailed information. According to the raw data in the seismic assessment database for school buildings, each data set contains hundreds of properties. Based on our judgment with expertise, we eliminate some properties which are non-structural and low importance, and synthesize some properties with similarity. There are still more than 30 properties left after this reduction process. This study further classifies school building records into subsets based on similarities in property values, and chooses one subset with major population as the data set for further studying. After the classification of school buildings, we try to do further reduction and finally determine a set of key properties which is optimal to represent the seismic characteristics of individual school build-ings. The choice is based on data distribution, and a subset that correctly represents I-shaped school buildings. The features of this subset adopted in this study are listed below: No corridor columns.
 Only use one type of classroom column.
 School buildings have no RC walls.
 School buildings have no brick walls with four-side confinement.
School buildings have no brick walls with three-side confinement.

After finalizing the data for the first and second stages, 107 datasets conform to the above condition. Twelve properties are then chosen for the screened data with reference to expert advice, displayed as P 1 to P 12 in Table 1 . In addition to the screening based on existing properties, this study synthesizes two new properties, P 13 and P 14 . They represent the number of classrooms and number of spans for a single classroom, respectively, based on expert advice and existing data. In P 11, S DS stands for design spectral response accelerations at short-periods, and in P 12, S stands for design spectral response accelerations at 1 s. These two parameters represent the magnitude of the seismic force at the building X  X  location, and are very important parameters for analyz-ing the aseismic ability of buildings by non-linear analysis.
The last step of data pre-processing is normalization. The purpose of normalization is to balance the impacts of the para-meters in different scales. If an input parameter has small values of mean and standard deviation, but is of high importance and if the result is also sensitive to this parameter, then it is necessary to use data normalization to prevent its influence from being overshadowed by other larger scale parameters. Normalization methods include converting the data into the range of 0 to 1, using the maximum and minimum values, and converting data to the standard deviation of its mean. The normalization principle adopted in this paper is to retain the original values as far as possible, so only a few parameters with large values, such as P , P , P 7 , P 9 and P 10 , are divided by 1000 to make their scale comparable to other parameters.

After the three pre-processing steps, 107 datasets and 14 properties were obtained. The subsequent analysis was based on this dataset. 4.2. Genetic programming
An AC model was built for this study to represent the relation-ship between the basic design parameters of school buildings, and minimum destruction ground acceleration. GP was the first model to be used, and based on a preset number of tiers for different operation trees; it can result in relational equations with different degrees of complexity. In this case, several operation trees with different number of tiers were tested, and it was found that the most suitable number is either four or five. Having a low number of tiers leads to reduced complexity of the relation model and hence, poor performance. Conversely, large numbers result in many difficulties, such as convergence problems, time-consuming progressive computation, and a very complicated relationship model. The optimum setting is 200 populations of 5000 progres-sive iterations, a crossover rate of 0.8, and a mutation rate of 0.1.
The crossover function used in this paper is the scattered func-tion. The mutation function is the adaptive feasible function. Both these functions can be applied to solve many different problems. The scattered function diversifies the child layer after crossover.
The adaptive feasible function is suitable for the constrained minimization problem. This setting was chosen after the analysis was conducted 30 times. Table 2 shows the root mean square (RMSE) of the model generated.

RMSE is the index used in the current study to judge the quality of models, and is defined as the equation below:
RMSE  X  X  X  S  X  y 0 y  X  2  X  = n  X  0 : 5  X  7  X  where n is the number of datasets, y 0 is the estimated value obtained from the equation, and y is the actual unit-less deviation index value (the smaller the better). The ground acceleration of the minimum destruction obtained from the no nlinear analysis was distributed between 0.04 and 0.5, and therefore, the relationship model has a sufficient recognition rate. Experts from NCREE recommend that the
RMSE must be below 0.04. The control group is the relationship model obtained from the artificial neural network. In applying the relationship model constructed by SPSS Clementine and choosing the Exhaustive Prune method to adjust the number of tiers and nodes, the initial neural network has two hidden tiers with 30 and 20 neurons, respectively. The neurons have been trained for 250 iterations, and those with a low degree of importance are removed during the training period based on the situation. The resulting
RMSE is 0.041, which is close to the target of 0.04. In this paper we use WGP to create an aseismic ability prediction model for real school buildings. The quality of our model is similar to models built using artificial neural networks. However, artificial neural network based models are complicated; their mechanism is in a black box.
The WGP model, on the other hand, is just an equation of the building X  X  design parameters and its aseismic ability. Thus, it can easily be ported to other platforms and programming languages for use in many applications.

The optimum model obtained from the GP pattern is repre-sented by the relationship equation below. Function nodes in a tree topology, displayed in Fig. 8 , uses several symbols and text to represent the F of that node.  X  X   X   X  X  represents f  X  x 1  X  x 2 ;  X  X   X  X  represents f  X  x 1 x 2 ;  X  X   X  X  represents f  X  x 1 n x 2 ;  X  X  C  X  X  represents f  X  x 1 / x 2 ; and  X  X  X ow X  X  represents the power function, f  X  x 1 ^ x 2 .
The performance of this model is not ideal because the RMSE can only reach 0.056. Based on Fig. 9 , the relationship model generated did not correctly build the relationship between the design parameters of school buildings, and ground acceleration of the minimum destruction. As only three input parameters were used, it resulted in the minimum equation as the linear equation.
This can be attributed to the fact that this seismic ability model for school buildings has high complexity, and the application of GP pattern alone cannot obtain the relationship between them.
The WGP pattern was then used to build the relationship equation between the design pa rameters of school buildings, and ground acceleration of the minimum dest ruction because it could be used for relationships that are more complex than with the GP pattern. AC  X  P 3 4.3. Weighted genetic programming
WGP was used as the second model, which also chose five tiers of the operation tree. The optimum setting of GA is the same with
GP: 200 populations of 5000 progressive iterations, a crossover rate of 0.8, and a mutation rate of 0.1. The best group was chosen after the analysis was conducted 30 times. Contrary to GP, the weight was set from  X  10 to 10 within the weighted ( w ) range.
Table 2 shows the RMSE of the model generated, and the four-tier optimum equation is shown as Eq. (9). The tree topology gener-ated is displayed in Fig. 10 , and uses the same symbol as the GP tree topology to represent the same operator. The other symbol that was used is a black solid dot, which represents f  X  w
Table 2 shows the RMSE of the optimum relationship equa-tions generated from the two patterns. The RMSE reached 0.039, which is better than the performance of the model built by the artificial neural networks in the contrast group. Fig. 12 displays the comparison between the estimated, and the actual values of the model. By comparing the results, the model constructed by the WGP pattern is superior to the model constructed by the GP pattern.

The parameters entered are analyzed based on the equation obtained from WGP, and Table 3 shows the input parameters obtained from the optimum relationship equations. S DS and S were not used, as both are relevant to the demand of the CDR . For this study, the target is to estimate the Capacity (Aseismic Ability
Index), which is irrelevant to demand. Hence, this result conforms to the expectations. As all of the remaining input parameters were used, this indicates that the parameters chosen at the data processing stage are important. 4.4. Capacity index formulation tuning
Similar with the CDR obtained from the detailed estimation, the aseismic capacity index of school buildings is the demand ratio of the aseismic capacity, excluding the ability unit and measure. CDR is directly compared to the ground acceleration, and I S is the estimated force ratio. If CDR is greater than 1, then the building has sufficient aseismic capacity. If CDR is 1, the building has an aseismic capacity equal to the demand. However, it should be noted that I S is a hundred-mark system, and 100 indicates that the capacity is equal to the demand. I S also needs to consider the usage coefficient I , of buildings. When I S CDR is 1 and I S is 80. This relationship can be described by a formula that converts I S into C E , which has the same meaning as the ground acceleration of the minimum destruction.
 C  X  f  X  I s  X  X  I s n Demand n I = 80  X  10  X  I is the usage coefficient that intends to keep the seismic design at the conservative side, and prevents miscalculations caused by the insufficient estimation of the earthquake destruction. For this study, I is set to a constant of 1.25 for school buildings. Demand is set to different recommended values based on the positions of the school buildings. It represents the minimum ground acceleration that the buildings can withstand in the area. The School Building Database contains the demand data that was determined by engineers, based on the actual situations. This study adds T to C as a revised formula, such that it is closer to the minimum destruction ground acceleration AC , of school buildings obtained from nonlinear analysis.
 AC  X  C E  X  T  X  11  X 
Based on the analysis above, this study only uses the WGP pattern to build the model, and this can be applied to complicated situations. Parameters chosen are: the operation tree has four to five tiers, 200 populations of 5000 progressive iterations, cross-over rate of 0.8, mutation rate of 0.1, and choosing the best group after the analysis was conducted 30 times. The optimum T generated from the four-tier operation tree is shown in the equation below, and the tree topology is displayed in Figs. 11 and 12 .
 Table 2 shows the RMSE after the revision. The RMSE of the I formula used by NCREE in the preliminary appraisal is 0.067. Although there is still a gap between the target of 0.04 and this value, the emphasis is on the degree of relationship between them, and the main target is to screen out the school buildings with degrees of higher risk. Fig. 13 shows the comparison between the C E converted from I S of NCREE, and the destructive ground acceleration obtained through linear analysis. Even though the data have the correct directional tendency, the model obtained from the GP method is better because of higher devia-tion, and a linear relationship. Subsequent to adding T to the revised formula, RMSE is reduced to 0.045. Fig. 13 shows the comparison, and it can be seen that the directional tendency is quite close, thus reducing the deviation. A good revision effect is observed, making the screening result of the preliminary apprai-sal more accurate.

Table 3 shows the input parameters used by the equation obtained from the WGP method, and by the optimum relationship equations with four to five tiers. The number of floors ( P floorage ( P 10 ), and number of spans in a single classroom ( P were not used because the number of floors and total floorage, which are highly important, were already used in the I S formula.
Hence, I S has been correctly included in the two properties above, and the number of spans in a single classroom can be inferred as hidden in the formula. Hence, T in the revised formula will not use this input parameter. However, the input parameter is still used to directly construct the relationship equation in the previous case, and has a certain degree of importance.
 5. Conclusions
In order to estimate the aseismic ability of a building, we need to obtained detailed information about its geometric dimensions, the properties of materials used, etc. and we may need to perform sampling and other experiments to obtain certain information e.g. the properties of materials used. Based on this information, a structural model of the building has to be constructed and then non-linear pushover analysis is used to perform estimation. This process is time-consuming, and technicians are required. It usually takes about one month to estimate the aseismic ability of a building.

In this study, we adopted the WGP method to construct a relation model, which uses the basic design parameters of school buildings to estimate their aseismic ability. The pre-processing efforts carried out for the proposed prediction model can be divided into two parts. The first part is a data filter for selecting out data sets which are reasonable as typical school buildings. The selection conditions of this data filter is proposed based on judgment with expertise in structural engineering. The second part is the determination of the key properties used in the proposed model. We first eliminate some properties which are non-structural and low importance, and synthesize some proper-ties with similarity. We further classifies school building records into subsets based on similarities in property values, and chooses one subset with major population as the data set for further studying. Based on this subset, we try to do further reduction and finally determine 14 properties which are optimal to represent the seismic characteristics of individual school buildings. In comparison with hundreds of properties in the original data, a very high reduction ratio is reached.

Same as GP, a key characteristic of WGP is the resulting model is in the form of mathematic equation, which is very easy and convenient to be applied in engineering practice, and thus is more practical than other soft computing methods. This study also applies GP on the same set of school building data for predicting the building X  X  collapse ground acceleration. Compared to the prediction results by using GP, the accuracy of WGP model is much better. This case shows WGP can handle problems with more complexities than GP. Regarding the application of WGP method, this study performs 5000 iterations of revolutions for test models with operation tree from two to five levels respec-tively, and determines the optimized values of model parameters, such as the crossover rate and mutation rate, for this application case through repeated tests. The RMSE of the resulting model achieves less than 0.04. This accuracy in prediction is comparable with the model using Artificial Neural Networks (ANNs). In addition, the graph compared the actual values with predict values shows the distribution trend of the data points are consistent with the expected direction. The result verification indicates the proposed WGP-based model successfully establishes the relation between the 14 input properties and the output property, building X  X  collapse ground acceleration. In practice, the proposed model can be applied directly and efficiently for preliminary assessment of school buildings for seismic capacities.
In addition to directly inferring the aseismic capacity of school buildings from the design parameters, the current study revised the aseismic capacity index formula of school buildings designed by NCREE using GPS. The formula was to provide greater accuracy with a smaller deviation. This model can help decision makers with issues that are related to the aseismic capacity of school buildings, as well as estimating the disaster loss, during a disaster in a timely manner. These applications require that the estimation of the aseismic capacity of many school buildings be generated rapidly, and this would be impossible if traditional non-linear structural analysis were applied.
 References
