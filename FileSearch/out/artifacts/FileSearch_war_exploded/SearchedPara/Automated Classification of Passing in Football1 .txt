 There is currently considerable research into developing objective methods of analysing sports, including football. Football analysis has practical applications in player evaluation for coaching and scouting; development of game and compe-tition strategies; and also to enhance the viewing experience of televised matches. Currently, football analysis is typically done manually or using simple frequency analysis, and thus applying probabilistic algorithms may offer more sophisticated analysis of player and team performance.
 plex predictor variables, and then apply machine learning classification algo-rithms to produce a quantitative measure of passing performance. The results show that this combination is promising, and may be applied to problems in domains other than football.
 analysis is a relatively recent innovation. Initial efforts were focussed was on sports where play was structured where the collection of raw performance data was a more straightforward proposition, such as baseball and cricket. Within the past decade, advances in computer vision and image processing have resulted in systems that can capture accurate positional data about players in less struc-tured games like football, hockey and basketball. However, the analytic capabil-ities that have been built on these types of data are fairly limited. Analysing the performance of football players during matches is important for effective coaching. However, experiments have found that the level of recollection of critical events in football matches is as low as 42% [ 4 ]. Given this level of recall, the use of a systematic approach to collecting data about events occurring during matches is desirable. The performance evaluation on these data have typically been through frequency analysis of events, such as the number of passes made by a player, or the number of unforced errors [ 2 ]. However, the actions taken by players in a match are influenced by the interactions with other players, and simple frequency data may not fully capture the situation.
 Event data represents only a small proportion of the data that could be cap-tured from football matches. Collecting positional data is possible using modern image capture and processing technology [ 11 , 16 ]. There are commercial compa-nies with similar systems such as Prozone [ 14 ] and TRACAB [ 3 ] which are used in professional leagues. State of the art systems are currently able to do this with high precision, for example the Prozone system computes trajectories accurate to 10cm at an frequency of 10Hz [ 14 ].
 The availability of accurate positional and event data provides the basis for complex analysis of matches and player performance. To date, a range of diverse approaches have been explored.
 Pattern matching has been used in a number of applications. Borrie et al. [ 2 ] uses T-pattern detection to extract similar passing sequences from matches. Gudmundsson and Wolle [ 5 ] analysed sub-trajectories using the Fr  X  echet distance as a metric to cluster sub-trajectories that occurred multiple times. Taki and Hasegawa [ 16 ] defined a geometric subdivision called a dominant by players such that the player can reach all areas of the cell before any other player. The dominant region considers the direction and velocity of the players. Gudmundsson and Wolle [ 6 ] consider a related problem of computing the passing options that the player in possession has, based on the areas of the pitch that are reachable by the other players.
 The remainder of the paper is structured as follows. Section 2 defines the problem and the model. The feature functions that compute the predictor varia-bles used for the pass classification are described in Section 3 . The learning algorithms used are described in Section 4 . The experimental setup and results are reported in Section 5 , and an analysis of the results is provided in Section 6 . We will consider the problem of classifying passes made during a football match based on the quality of the pass. A pass is an event where the player in posses-sion of the ball kicks the ball to a teammate with the intention that the receiver will be able to control the ball and thus obtain possession. The approach that we selected was to use supervised machine learning algorithms to learn a clas-sification function. A significant component of our approach was thus to take the raw spatiotemporal signal and transform it to an appropriate format for the learning algorithms.
 trajectories for each player; a sequence of events that occurred during the match; and a mapping of players to their respective teams. We had data available from four home matches played by Arsenal Football Club in the English Premier-ship during the 2007/08 season. The data was provided by Prozone [ 14 ]. These matches contained 2,932 passes in total. The input data is used to construct a vector of predictor variables for each pass made during the match.
 matches was made by two human observers. The ratings were combined and used to train and evaluate the classifiers. A detailed description of the rating process is provided in a longer version of this paper [ 7 ]. 2.1 Preliminaries For a given match, assume that there is a global clock which increment in steps of uniform size where S = { s i : i  X  N } . Here, the step size is 10Hz. Associated with each player p j is a trajectory t p where TI ( p j ) is the time interval when the player p j our experimental dataset, it is only necessary to consider the two teams playing in a particular match, and we use the convention of denoting these the home-team and away-team. We thus define a mapping from player to team as { ( p type (from a fixed-set), such as a pass, a shot, a tackle, etc. Formally, an event e k is a triple u is the type of the event and R is the set of players involved in the event. The event that is of particular interest is the pass event, which is characterized as { ( s pass at time step s i .
 The predictor variables can (in principle) depend upon all the previous and future events. Similarly, a predictor variable can depend on the current location of all players, and possibly their previous and future locations.
 to compute the predictor variables for each pass event. Let function that produces the j -th predictor variable:  X  j : to train the learning algorithms, example labels are required for each class as res-ponse variables. The response variable is drawn from a discrete set corresponding to { good , OK , bad } . Combining the response variable vectors with the corresponding predictor variables provides the training set for the machine learning algorithms. The classification problem is defined as follows: given the training set of pass events X and labels y , and a cost function J ( X, y,  X  ), the objective is to learn a parameterisation,  X  such that:  X   X  = argmin  X  J ( X, y,  X  able y ( i ) , given the input vector x ( i ) . The challenge of the feature engineering task is to extract information from the spatiotemporal match data so that the classifiers are able to make accurate inferences about the quality of the passes made in a match. The objective is to ensure that sufficient information about the match state is inherent in the constructed predictor variables. To motivate this task, consider how an informed observer of a football match would make an assessment about the quality of a pass.
 At a basic level, the observer would consider the fundamentals of the pass, such as the distance and speed of the pass and whether the intended recipient of the pass was able to control the ball. These are the basic geometric aspects of the pass, but even at this level, the observer is required to make some inferences, such as who the intended recipient of the pass is. They would also likely consider the context of the match state when the pass was made. For example, was the passer under pressure from opposition players? To make such assessments, the observer would consider the positions of the players and the speed and direction that they were moving in, and the observer would make assumptions about whether the players are physically able to influence the pass by pressuring the passer or intercepting the pass. The observer thus has an idea of the physiological of a pass made.
 At a higher level, passes are not made simply to move the ball from one player to a teammate, but also to improve the tactical or strategic position of their team. Passes can be made to improve the position of the ball, typically by trying to move the ball closer to the opponent X  X  goal in order to have an opportunity to score. Passes may also be made to improve the match state by moving the ball from a congested area of the pitch to an area where the team in possession has a numerical or positional advantage. Meanwhile, the opposition will be actively trying to reduce the options of the player in possession to make passes. Thus, the match observer would need to consider the tactical and strategic objectives of the passer, and thus would have an understanding of the tactics and strategies employed by the player and team, and apply them to their estimate [ 18 ]. Likewise, the observer would consider the defensive team and their strategies and tactics.
 particular times. The event-type that we are concerned with, pass , can thus be viewed as part of a sequence. This sequence can be subdivided in various ways, for example by unbroken sub-sequences of events where a single player or team is in control of the ball, or by a sub-sequence of events that occur between stoppages in play such as fouls, goals or injuries. When assessing the quality of a pass, the observer may consider the context of the pass in the sequence of events. making the pass, the player forsook the other options available, such as passing to other players, dribbling or shooting.
 ing a prediction is a mental exercise that can be done in a matter of seconds. The problem described in this paper is to replicate this in a computational process. 3.1 Feature Functions Feature functions are used to compute the predictor variables that are input to the classifier. The feature function  X  j ( e k ,Tr,E,M ) outputs the variable for the k -th pass event. The predictor variables are divided into the following categories in a manner consistent with our analysis of the types of information discussed above. The full list of features is provided in [ 8 ]. Basic geometric predictor variables are the predictor variables derived Sequential predictor variables are constructed from the event sequence Physiological predictor variables are predictor variables that incorporate Strategic predictor variables are predictor variables that are designed to 3.2 Player Motion Model The physiological and strategic features used in the model are based to some degree on an estimate of how quickly a player currently travelling at a given speed and direction can reach a given point. In particular, if a player can reach a point before any other player, then that player is said to dominate the point. This notion is the basis for the physiological and strategic predictor variables we have defined in our model. In order to determine the time required to reach a given point, a motion model of the player is required.
 The motion model is defined as a function g ( x, t p takes as arguments: the coordinates of a point x  X  R 2 , the time step to determine the distance, and the trajectory t p returns the time t  X  R + it would take for the player to reach the point. As this time is dependent on the existing direction and velocity of the player, these factors are extrapolated from the players trajectory immediately prior to Gudmundsson and Wolle [ 6 ] propose three simple motion models to approxi-mate the reachable region for a player, that is, the region a player can in a given time. The models discretize the reachable region by introducing a time-step  X   X 
T to approximate t . The motion model would thus map a series of boundary curves that surround the initial starting point of the player. Furthermore, each curve is approximated by an n -sided polygon. The three motion models consid-ered are based on a circular boundary, an elliptical boundary and a boundary constructed by sampling from the trajectory sequences.
 The motion models are used in several of the feature functions, in particular those based on the dominant region, below. We evaluated all three motion models in [ 6 ], however since the variance between the models is small, particularly for small distances such as on a football field, we consider only the ellipse motion model in this paper, see Figure 1 . 3.3 The Dominant Region Taki and Hasegawa [ 16 ] presents the dominant region as a dynamic area of influence that a player in a football match can exert dominance over, where dominance is defined as being the regions of the pitch that the player is able to reach before any other player. We propose to use the dominant region as a measure to approximate the strategic position of a team at a given point in time, and to subsequently construct feature functions based on it. Furthermore, we use the dominant region to also construct predictor variables that model the pressure exerted on the player in possession of the ball by opposition players in close proximity.
 The passing player wants to put the ball at a point where the intended recipient can reach it first, and this is, by definition, in the receiving player X  X  dominant region. Thus, the proportion of the pitch that the team in possession dominates is a factor in the passing options of the passing player. Similarly, the size of the dominant region surrounding the passing and receiving players provide informa-tion about the pressure the player is under.
 each dominated by a particular player. It is thus conceptually similar to the Voronoi region [ 1 ], the difference being the function that determines the region that a particular point belongs to: the function for a Voronoi region is usually the Euclidean distance; and for the dominant region is the time it takes for a player to reach a given point.
 p j at time-step
D ( p the football pitch into cells, as can be seen in Figure 2 . However, continuous, and there is currently no algorithm available to efficiently compute this continuous function. In fact, the dominant region of a player may not even be a single connected region [ 16 ]. Computing the intersection of surfaces in three dimensions, as required in Equation ( 1 ) is non-trivial and time-consuming. As such, we use an approximation algorithm to compute the dominant region. Taki and Hasegawa [ 16 ] and Nakanishi et al. [ 13 ] both present approximation algo-rithms where x is approximated by a discrete grid Y  X  N 2 regions are thus computed for all points in Y .
 ion using the motion models in [ 6 ]. The algorithm has three steps. First, for every pairwise combination of players, the intersection points are determined between the reachable region polygons for each time-step. In the second step, the intersection points at each time-step are used to produce a reachable boundary between each pair of players. This is done using a modified version of Kruskal X  X  minimum spanning tree algorithm [ 10 ], constrained so that the degree of every vertex is at most two. The third step constructs the smallest enclosing polygon around each player from the boundaries, and this is the player X  X  dominant region. Pseudo-code for the algorithm is provided in Algorithm 1 . This algorithm was able to efficiently compute the dominant region arrangement in quadratic time Algorithm 1. Approximation algorithm to compute the dominant region at a given time on the number of players, albeit with a large constant dominated by the square of the number of line segments in the boundary polygons.
 Seven of the feature functions constructed are based on the dominant region and motion model. Examples of these feature functions are the computation of the dominant region when the player in possession passes; the net change in dominant region area between when a pass is made and when it is received; and the pressure the passer is under, defined by the area of the passers domi-nant region [ 8 ]. Our intuition is that the computed predictor variables will be important to the classifier, as they provide domain-specific information about the physiology and strategy of the players; and this information would not other-wise be available to the classifier. We examine the importance applied to features in Section 6.2 . The pass rating task is a classification problem and we evaluate several super-vised machine learning algorithms for this task. The goal of the learning algo-rithm is to produce a hypothesis function h  X  ( x ( i ) ) that can predict the ground truth variable y ( i ) for a given input vector of predictor variables, rithm is trained on the labelled example data with the objective of learning a parameterisation  X  for the hypothesis function h  X  ( x ( i ) error is minimised.
 tributed amongst the classes. The majority of examples were clustered towards the middle of the scale, see Table 1 , and thus learning algorithms designed to handle class imbalance were selected. We examined a support vector machine (SVM) classifier; a RUSBoost classifier; and the multinomial logistic regression (MLR) with three different cost functions. The intention was to perform the experiments using diverse types of classifiers: SVM being a maximum margin classifier [ 17 ] and RUSBoost is an ensemble method that utilises sampling and boosting of weak classifiers [ 15 ].
 different empirical risk functions. The function ( 2 ) is the risk function derived from the maximum likelihood estimation of  X  . The arithmetic ( 3 ) and quadratic ( 4 ) risk functions are intended to perform better under class imbalance conditions by computing the per-class risk [ 12 ]. The arithmetic risk takes the sum of the per-class values, whereas the quadratic risk uses the root of the sum of the squared values.
 Included in the cost function J is a regularization term. We evaluate the and 2 -norms in our experiments, i.e. p  X  X  1 , 2 } in Equation 5 . Moreover, the -norm will induce a sparse parameterisation of  X  [ 9 ], and we investigate the predictor variables whose corresponding value in  X  is non-zero as a measure of the importance of the predictor variable. The experiments were intended to answer the following questions: 1. Is it possible to find a classification function and set of predictor variables 2. To what extent are the predictor variables computed using algorithms from 5.1 Setup The objective of the experiments conducted for this research was to learn an optimal set of parameters  X   X  that characterize the hypothesis function that the hypothesis function makes correct predictions on unseen examples. We held out 20% of the labelled data for testing, stratified in proportion to the class frequencies detailed in Table 1 . The classifiers were trained using tenfold cross-validation of the training examples, and evaluated comparing the classifier prediction to the ground-truth label on the test examples.
 We evaluated the hypothesis functions using the following objective func-and
F per-class values was used. 5.2 Results The results of the experiments are summarised in Table 2 . The overall accuracy of the classifiers shows that SVM is the best configuration. The multinomial logistic regression classifiers using the arithmetic and quadratic loss functions showed improved recall, but this was at a cost of precision. This is consistent with expectations, as these cost functions are less sensitive to the class imbalance, and would be more likely to assign examples to the minority classes. However, the improvement in recall was not sufficient to outweigh the reduction in precision, and so the overall accuracy was reduced. Similarly, RUSBoost learned a classifier with good recall, but at the cost of relatively poor precision.
 This section analyses the performance of the learned classifiers and considers the results in the context of football analysis. 6.1 Classifier Performance The experimental results show that it is possible to learn a classifier that per-forms better than random, and also better than deterministically selecting the majority class. The error present in these classifiers appears to be the result of bias, as the accuracy of the classifiers on the unseen test data is close to the accuracy on the training data. For example, the SVM classifier has an accuracy of 85 . 8% on the test data and 85 . 9% on the training data. 6.2 Predictor Variable Importance The predictor variables were computed by feature functions of varying com-plexity. This begs the question whether the effort involved in implementing and computing complex feature functions resulted in improved performance. We selected the features that were computed using the dominant region described in Section 3.3 . Seven of the 49 features constructed were based on the dominant region.
 quality label assigned to the pass. A visual examination of scatter-plots of pairs of response variables did not reveal any pairs that clearly separated the labelled data. Moreover, applying principal component analysis produced a coefficient of 0 . 03 on the first eigenvector. Therefore, the importance of any given feature is likely to be incremental.
 seven features based on the dominant region. The first approach was to inves-tigate the weights learned when using sparsity-inducing 1 Informally, this means that features that are of low importance will have a zero weight and important features will be non-zero. We examined the weights vector for the MLR classifier using 1 regularization. Seven variables were assigned non-zero weights and three of these were based on the dominant region. Furthermore, we considered the predictor importances derived from the RUSBoost classifier. In this case, the predictor variable of the dominant region of the passer was ranked the most important variable. Thus, in both these cases, features based on the dominant region were important to the classifiers, suggesting that the effort computing them is worthwhile. In this paper we present a model that is able to learn a classifier to rate the quality of passes made during a football match with an accuracy of up to 85 The model uses feature functions based on methods from computational geome-try, in particular the dominant region [ 16 ]. This structure is intended to provide information about the strategic and physiological state of the match, however it is costly to compute. We evaluate the importance to the classifier of the predictor variables based on the dominant region, and find them to be important to the classifiers, suggesting that the cost of computation is worthwhile in this case.
