 Popular online rental services such as Netflix and MoviePilot often manage household accounts. A household account is usually shared by various users who live in the same house, but in general does not provide a mechanism by which cur-rent active users are identified, and thus leads to consider-able difficulties for making effective personalized recommen-dations. The identification of the active household mem-bers, defined as the discrimination of the users from a given household who are interacting with a system (e.g. an on-demand video service), is thus an interesting challenge for the recommender systems research community. In this pa-per, we formulate the above task as a classification problem, and address it by means of global and local feature selection methods and classifiers that only exploit time features from past item consumption records. The results obtained from a series of experiments on a real dataset show that some of the proposed methods are able to select relevant time features, which allow simple classifiers to accurately identify active members of household accounts.
 I.5.1 [ Pattern recognition ]: Models Algorithms, Performance, Experimentation Household Member Identification, Time Features, Feature Selection, Recommender Systems Popular online rental services such as Netflix 1 and Movie-Pilot 2 often manage household accounts, that is, accounts shared by several users who usually live in the same house. For a particular household account, its members do not al-ways access the service and consume together offered items at the same time. Moreover, in general, there is no mech-anism to identify current active users, i.e., users accessing the service at a particular time. These issues lead to consid-erable difficulties and limitations for providing an effective personalized assistance, e.g. by making personalized item recommendations [3, 6]. The identification of active house-hold members, defined as the discrimination of which users from a given household are interacting with a system (e.g. an on-demand video service), is thus an interesting challenge for the recommender systems (RS) research community.
To address such challenge, we may follow two main types of strategies. A first type of strategies would attempt to in-crease the diversity of recommendations [8], aiming to cover the heterogeneous range of preferences of the different mem-bers in a household. A second type of strategies, on the other hand, would attempt to identify the active household members for which recommenda tionshavetobedelivered. We advocate for and focus on the second type of strategies since it lets making more accurate item recommendations, by only using preferences of active members and discarding preferences of other, non present members [3].

In this paper, we formulate the identification of the active household members as a classification problem, which we ad-dress by exploiting only time information associated to the users X  interactions (e.g. ratings) in the system. Extending previous work [1], we explore and evaluate different repre-sentations of time information, along with several global and local time feature selection methods. By doing so, we aim to address the following research questions: RQ1 ,doestime information alone provide enough discriminating power for the active household member identification task? And RQ2 , are there meaningful differences between using global and lo-cal methods for time feature selection? The results obtained from experiments on a real dataset show that some of the proposed methods are able to select informative time fea-tures, which are exploited by simple classifiers to accurately identify active members of household accounts.
In the Recommender Systems research field, there have been recent efforts to address the identification of individual users from household accounts [3, 6]. Specifically, in the 2011 edition of the Context-Aware Movie Recommendation Chal-lenge [6], CAMRa, participants had to identify which mem-bers of particular households were responsible for a number of events  X  X nteractions with the system in the form of rat-ings. The contest provided a training dataset with meta-information about ratings in a movie recommender system, such as the household members who actually provided the ratings, and the associated timestamps. The contest X  X  goal was to identify the users who had been responsible for cer-tain events (ratings) whose household and timestamp were given in a test dataset. This task was assumed to be equiv-alent to the task of identifying active users requesting rec-ommendations at a particular time.

The winners of the 2011 CAMRa challenge [2] so as some other participants (e.g. [1, 7]) exploited several time features derived from the available event timestamps. The used fea-tures showed different temporal rating habits of users in a household, regarding the day of the week, the hour of the day, and the month of the year, when the users had rated items. Other time features that can be derived from times-tamps, such as the period of the day (e.g. morning, noon, afternoon, evening) and the period of the week (workday, weekend) were not analyzed in those works. Some of the proposed models also exploited other non time related fea-tures, such as the specific rating values. In this paper, we focus on methods that rely exclusively on time features de-rived from timestamps. This prevents our approach to be restricted to specific domain or application dependent infor-mation (e.g. explicit vs. implicit user preferences), and let us to address a generic recommendation setting.

Other works have also dealt with problems raised by the use of shared user accounts. In the context of the Netflix Prize competition, Koren [4] discusses some difficulties for RS that could emerge from the use of household accounts (note that the well-known Netflix dataset in fact contains household identifiers, not user identifiers). In that work, Koren proposes a temporal recommendation model that as-sumes the existence of a drifting meta-user associated with each household account. Similarly, Kabutoya et al. [3] aim to identify latent users sharinganaccount,byusingaprob-abilistic topic model. The above works use household-level training data, i.e., data where it is unknown which users compose a household and which household members really provided particular (training) ratings; and aim to improve recommendation accuracy over withheld test ratings. With this respect, these works differs from the one presented here, in the sense that they focus on detecting latent preference patterns within account user profiles, in order to improve the final performance of a certain recommender system. We propose, on the contrary, to model knowledge about such patterns independently from any recommender. Thus, in our approach, once the active members of household ac-counts are identified, any recommendation algorithm could be used. In this way, we believe that recommended items would better fit the active users X  preferences.
In the 2011 CAMRa challenge, the approach that achieved the highest performance on the household member identifi-cation task was based on the classification of user patterns, described by feature vectors that include time context infor-mation [1, 2]. We can formalize that approach as follows. Let us consider a set of events E = { e 1 ,e 2 , ..., e m of users U = { u 1 , ,u 2 , , ..., u n, } within a household , such that each event e i is associated to one, and only one, user u j, . Also, let us consider that each of these events is described by means of a feature vector, called X e i .The question to address is whether it is possible to determine which user is associated to an event e i once (some) compo-nents x e i of its feature vector X e i are already known. In this paper, events correspond to instances of user ratings, and feature vectors correspond to time context representa-tions of the events.
 Table 1 shows the time features explored in this paper. Aiming to estimate the discrimination power of these fea-tures, we used the well-known Kullback-Leibler Divergence (KLD) [5], which lets us to measure the divergence between pairs of users in a household, regarding the probability dis-tribution of the features for the users in each household. Higher values correspond to more divergent probability dis-tributions, and can be interpreted as having users in house-holds with differentiated habits with respect to the corre-sponding time features. In the table the features are sorted in descending order by the average KLD value computed over all pairs of users in each household. Hence, the best discriminant features are the Date ( D ), the Day of Week ( W ), and the Hour of day ( H ).

The use of KLD as a predictor of the discrimination power of a time feature in the household member identification task requires to be confirmed experimentally. Additionally, the use of feature vectors including different combination of time features may have diverse impact on the identification performance. In order to test the true discrimination power of the explored time features, we use distinct classification methods to identify the user associated to an event in a given household. In Section 3.1 we present global methods that use a fixed set of features for all the households, and in Section 3.2 we present local methods that dynamically select the most valuable features for each household.
In this section we present several methods that use a fixed set of time features in the classification task, i.e., they use the same set of features over all the households. The first evaluated method is the Apriori model proposed in [1]. This method computes probability distribution func-tions, which represent the probabilities that users are as-sociated to particular events, and uses computed probabil-ities to assign a score to each user in a household given a new event. More specifically, we compute the probabil-ity mass function (PMF) of each feature given a partic-ular user, restricted to the information related with that user X  X  household, that is, { p ( X = x i | u j ) } u j  X  U the set of users in the household . Then, for each new event e , we obtain its representation as a feature vector  X  X , and identify the user who maximizes the PMF, that is, u  X  j ( e ) = arg max u j  X  U P (  X  X e | u j ). When more than one feature is used, we assume independence and use the joint probability function, i.e., the product of the features X  PMFs.
The rest of the evaluated methods are Machine Learn-ing (ML) algorithms able to deal with heterogeneous at-tributes. Specifically, we have restricted our study to the fol-lowing methods: Bayesian Networks (BN), Logistic Regres-sion (LR), and Decision Trees (DT). These methods provide a score distribution for a user (label) in a household ( class membership ). They provide a score { s (  X  X e ,u j ) } u j on different statistics from the training data, and select the users with highest scores.
The methods introduced in the previous section use the same fixed set of features for every household in the system. It may be the case, however, that members of a given house-hold are particularly better discriminated by using a specific subset of features. For instance, let us consider a household where members always interact with the system at the same period of time (e.g. 8-10 pm) but in non-consecutive days (e.g. workdays vs. weekend), and compare it with other in which some of its members interact always after the others (e.g. children before 8 pm vs. parents after 9 pm). Although global methods may obtain accurate predictions for some non complex households, they may be too generic and thus couldleadtoworseperformanceinatestset.

In order to deal with households in which temporal habits can be better discriminated by specific subsets of features, in this section, we present local methods that select the best subset of attributes for each household. We explore two local methods, namely an attribute selection strategy from the ML field, and an ad-hoc approach from the Probability Theory, which is based on measuring distances between fea-ture distributions. More specifically, the attribute selection method performs a search in order to select the subset of fea-tures that better correlate with the class (user label). For the ad-hoc approach, we use the KLD introduced before to measure the distance between distributions. The rationale behind this is that the closer two feature distributions are (in the context of a household), the less likely such features would discriminate the household members. Furthermore, it is possible for this method to define a  X  X efault feature X  or even a ranking of features, if necessary.
In this section, we report and discuss results obtained in experiments we conducted to evaluate the discrimination power of the time features and the local methods presented in Section 3. We also evaluated two baselines for compari-son purposes, namely a Random classifier, and a Frequency -based classifier that for a given test event, selects the house-hold member who has the largest number of previous events in the training set, and no rating for the event X  X  item.
We use a real movie rating dataset made publicly available by MoviePilot for the 2011 edition of the CAMRa challenge [6]. This dataset contains a training set of 4,536,891 times-tamped ratings from 171,670 users on 23,974 movies, in the timespan from July 11, 2009 to July 12, 2010. The dataset also contains two test sets, intended for different challenge tracks: Test set #1, with 4482 ratings from 594 users on 811 items in the timespan from July 15, 2009 to July 10, 2010, and Test set #2, with 5450 timestamped ratings from 592 users on 1706 items in the timespan from July 13, 2009 to July 11, 2010. Test set #1 was intended for the rating prediction task, whereas Test set #2 was intended for the household member identification task.

We computed the accuracy of the evaluated methods in terms of the correct classification rate by household ( acc ), i.e., the number of correct active member predictions divided by the total number of predictions, averaged by household, as proposed by CAMRa organisers. Formally, let be the entire set of households in the dataset, and let f (  X  )bea method under evaluation. The metric acc is expressed as follows: where f ( e i )= X  u is the user predicted by f (  X  ) as associated to e i , L ( u,  X  u )=1if u = X  u and 0 otherwise, and ( e the pairs of events and users in the test set of household .
By measuring the acc we empirically test the discrim-ination power of the time features when used by different methods (Section 4.1), and evaluate whether local methods outperform global methods (Section 4.2).
We first study whether time features alone are a valuable source of information that can be used to properly discrim-inate users in the identification of active household mem-bers. Table 2 shows the acc values obtained by the A pri-ori method when using each of the proposed time features (Table 1), and using different combinations of such features. Note that in the table, the diagonal cells contain the acc values obtained from the use of a single feature, and the re-mainder cells contain the acc values obtained from the use of feature combinations.
 We observe that the best single performing features are D , W and H , which is in accordance with the KLD-based fea-ture ranking reported in Table 1, confirming the predictive power of KLD. In cases where two features were used, com-binations including any of D , W and H features obtained better results. Furthermore, we evaluated all the possible combinations of features, and found that combinations in-cluding D , W and H achieved the best results. Table 2 shows results for some of those combinations. In particular, the best acc value of 0.9737 was achieved by combining the features D , W , H and Q h .

We also evaluated BN, LR and DT Machine Learning methods. We used Weka 3 implementations of BN, LR and J48 DT algorithms, with default parameter values. Their accuracy values are shown in Table 3 for various combina-tions of time features. We observe that, in general, these methods outperform the A priori model for a small margin. We also note that as more features are used, the higher accu-racy is obtained, although combining only D and H features achieve high accuracy values as well. The highest accuracy was obtained by the DT method when using all the con-sidered time features. From these results we conclude that the identification of active household members can be effec-tively addressed by exploiting only timestamp information, regardless of the classification method used.
In this section we report the accuracy values of the local classification methods presented in Section 3.2, and compare them with those of the best performing global classification methods, and those of the proposed baselines. The com-parison is conducted on the two available CAMRa test sets, aiming to check the generality of the proposed methods.
Table 4 shows the obtained results. Random and frequency-based baselines had a poor performance on Test set #1, and a better performance on Test set #2. This may be due to the differences on the rating data distributions in the test sets, which were built with distinct purposes. We observed that in Test set #1, every test item assigned to a household had not been previously rated by a member of the house-hold. This fact turns the frequency-based classifier into a random classifier, since it is not able to decrease its uncer-tainty by getting rid of some of the users in the household (who previously rated the test event X  X  item).

Regarding local approaches, we use an attribute selection method based on symmetrical uncertainty (an entropy based measure provided in the Weka toolkit) for the BN, LR and DT models, and KLD for the A priori model. The results reported in Table 4 show that the local methods are able to
Available at http://www.cs.waikato.ac.nz/ml/weka/ Table 3: Correct classification rates of Machine Learning methods using different time features on Test set #2. Best value in bold.
 improve results only in some cases. Tests with some other at-tribute selection methods (not presented herein due to space limitations) indicate that the choice of the best attribute se-lection method depends on the used classifier. We note that the tendency of results of the local method is similar on the two test sets, although better results were obtained on Test set #2. The best result of the A priori model was obtained with the combination of DH features on both test sets, while the best result among ML models was obtained by LR using all features for Test set #1. On Test set #2, the best value were obtained by both LR using feature selection and DT using all features.

All these results show that correct classification rate is prone to minor differences depending on the utilized house-hold member identification methods. The local methods not only obtain improvements in certain cases, but also have the benefit that they are more efficient than global approaches, since they require less attributes.

In any case, the use of adequate time features brings the most significant improvements, achieving much higher accu-racy values than the random and frequency based classifiers.
In this paper we have presented and evaluated a number of methods to effectively identify which member in a house-hold is currently interacting with an online recommender system at a particular time, by only exploiting knowledge about past user interactions with the system. We focused our study on analyzing existing differences in temporal rat-ing habits, described in terms of various time features. These features were used to discriminate between users in a house-hold by means of a classification algorithm. We identified the best performing time features for user discrimination purposes, and exploited such features with methods that ad-dress the identification of active household members globally  X  X y using the same set of features for all the households X  and locally  X  X y dynamically selecting the most relevant features for each household.

The results obtained in our evaluations showed that sim-ple algorithms are able to achieve high accuracy values when certain time features are used. They showed that isolated time features are valuable sources of information for discrim-Table 4: Correct classification rates of the evaluated baseline, global and local methods on Tests sets #1 and #2. Best values in bold.
 inating users in a household ( RQ1 ), and that there exist minor differences on accuracy values achieved by global and local methods ( RQ2 ). Based on these results, we conclude that a simple and powerful approach to address the identifi-cation of active household members is to exploit the highest discriminant time features by a classifier with no local adap-tion for each household.

Next steps in our research will consider to exploit the dis-crimination power of time features for identifying underlying common preferences in scenarios where individual household members are not known  X  X he common setting in current on-line services. Extracting such preferences would be equiva-lent to identify latent user profiles[3], i.e., specialized profiles related to individual users X  interests. Tackling appropriately this latter task may enable services based on household ac-counts to provide truly personalized recommendations.
This work was supported by the Spanish Government (TIN2011-28538-C02). The authors thank Centro de Com-putaci  X  on Cient  X   X fica at UAM for its technical support.
