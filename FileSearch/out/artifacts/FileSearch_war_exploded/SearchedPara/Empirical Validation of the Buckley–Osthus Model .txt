 We consider the Buckley X  X sthus implementation of pref-erential attachment and its ability to model the web host graph in two aspects. One is the degree distribution that we observe to follow the power law, as often being the case for real-world graphs. Another one is the two-dimensional edge distribution, the number of edges between vertices of given degrees. We fit a single  X  X nitial attractiveness X  parameter a of the model, first with respect to the degree distribution of the web host graph, and then, absolutely independently, with respect to the edge distribution. Surprisingly, the val-ues of a we obtain turn out to be nearly the same. There-fore the same model with the same value of the parameter a fits very well the two independent and basic aspects of the web host graph. In addition, we demonstrate that other models completely lack the asymptotic behavior of the edge distribution of the web host graph, even when accurately capturing the degree distribution.

To the best of our knowledge, this is the first study con-firming the ability of preferential attachment models to re-flect the distribution of edges between vertices with respect to their degrees in a real graph of Internet.
 I.6.4 [ SIMULATION AND MODELING ]: Model Val-idation and Analysis X  Approximation of surfaces and con-tours ; G.3 [ PROBABILITY AND STATISTICS ]: [Dis-tribution functions, Stochastic processes] web host graph, preferential attachment, Buckley X  X sthus random graphs, power law degree distribution, assortative mixing, edge distribution with respect to vertex degrees
The study of the web as a hyperlink graph yields a valu-able insight into web algorithms for crawling, searching, and community discovery [6, 16]. Valid random graph models of the web provide methods for generating WWW-like graphs that are significantly smaller and simpler than real WWW graphs, but yet preserve certain key properties of the hyper-link structure of the web.

Vertices of the webgraph correspond to web pages and edges represent hyperlinks between them. Webgraphs have been extensively studied with respect to many quantitative aspects such as degree distribution, diameter, number of connected components, macroscopic structure, and assorta-tive mixing (e.g., see [3, 7, 16, 18]).

In this paper, we consider the web host graph . Vertices of this graph are web hosts and edges correspond to hyperlinks between their pages. The smaller size of the web host graph allows for simpler and more efficient link analysis useful for web search related tasks.
 We study the web host graph from two perspectives.

First, we look at the distribution of degrees. It was shown that degrees of the webgraph vertices, as in many other real world networks [12], obey the power law [3, 7]. Not sur-prisingly, we observe that the degree distribution in the web host graph also follows the power law.

Second, we study how edges in the web host graph are distributed between vertices depending on degrees of these vertices. To the best of our knowledge, this is the first study of this property for graphs of Internet. However, in a re-duced form, this notion was previously studied under the name of degree correlation or assortativity (e.g., see [3]). A convenient way of capturing the degree correlation is by examining the properties of d nn ( d ), the expected average degree of neighbors of a random vertex with degree d . In real-word networks, one often observes d nn ( d )  X  d a constant  X  , which is negative for the webgraph (disassor-tativity) [18] and usually positive for social networks (as-sortativity) [17]. We study a more general property of the distribution of edges between vertices with respect to their degrees, that is, the total number of edges X ( d 1 ,d 2 ) between pairs of vertices with degrees d 1 ,d 2 . In fact, one can easily derive both degree distribution and d nn ( d ) from the edge distribution. On the other hand, the degree distribution of a real-world graph does not determine its edge distribution, and therefore the latter may be considered as a more general
Full version of this paper can be found at http://arxiv.org/abs/1208.2355 . aspect of the graph. In fact, there are assortative and disas-sortative real-world graphs (and therefore with different edge distributions) with close power-law degree distributions.
There are a number of important random graph models with features supposedly close to those of the real Internet graphs and social networks. Barab  X asi and Albert proposed the most well-known concept [1], which explains the power law for degree distribution. This approach was realized in various preferential attachment models, an extensive review on the topic can be found elsewhere (e.g., see [3]).
Buckley and Osthus were the first to propose a precisely defined preferential attachment model that obeys power-law degree distribution with tunable exponent [8]. The model depends on a parameter a in its definition, which bring de-gree distribution to follow the power law with the exponent  X  2  X  a . Grechnikov also obtained [14] an accurate asymp-totic estimate for the edge distribution for growing degrees as an explicit formula depending on a
We expect the Buckley X  X sthus model to be a good ap-proximation of the web host graph to a certain extent. Re-lying on the both aforementioned theoretical results, we find the best fit of the initial attractiveness parameter a for the real web host graph assuming it is generated in the model. First, we choose the value of a so that the exponent in the power law for the real web host graph is close to  X  2  X  a . In a second approach, completely independent from the first one, we estimate a using the best fit of the formula from [14] for the edge distribution in the Buckley X  X sthus model to the really observed edge distribution in the web host graph. Surprisingly, in both cases we find out that the model agrees very well with the real graph with the same value of a  X  0 . 3. In other words, this very same model with a  X  0 . 3 accurately approximates two completely different and a priori indepen-dent basic aspects of the web host graph, degree and edge distributions (and hence assortativity as well). This is es-pecially impressive as the model itself is very simple and has only a single degree of freedom, namely the initial at-tractiveness parameter a . Note that we were able to de-scribe the distribution of edges in a real web host graph only using the model for this graph and properties of this model obtained theoretically. Without the model, to come up with the asymptotics of the edge distribution would be really hard, if not impossible.

We compare the Buckley X  X sthus model and its ability to describe the real web host graph with other random graph models. We focus on the models that generate graphs with the degree distribution following the power law. We demon-strate that degrees do not immediately relate to edges be-tween vertices given their degrees. Even after being fit to the web host graph with respect to degree distribution, the models completely lack the asymptotic behavior of the edge distribution of this graph and of the Buckley X  X sthus model.
To the best of our knowledge, this is the first attempt to empirically validate the Buckley X  X sthus model on the real web data. Moreover, this is the first attempt to rigorously study the distribution of edges between vertices with respect to their degrees for graphs of Internet.

The remainder of the paper is organized as follows. Sec-tion 2 is a short review on random graph models, including theoretical properties of the Buckley X  X sthus model critical for our experiments with the web host graph. In Section 3, we report the results of the approximation of the web host graph by the Buckley X  X sthus model with respect to degree and edge distributions. In Section 4, we compare it with approximations by other models. In Section 5 we discuss potential applications and future work.
Barab  X asi and Albert [1] observed that the degree distribu-tion of the real webgraph follows the power law with the ex-ponent approximately  X  2 . 1 and proposed a concept of pref-erential attachment that explained the phenomenon. This concept obtained a precise mathematical formulation in the model of Bollob  X as and Riordan [4] that accurately captures some of the key properties of different real-world graphs. One example is the  X  X mall-world phenomenon X  [5]. Another one is the degree distribution that in these graphs obeys the power law: the number of vertices with degree d in the model is well approximated by d  X   X  , with  X  = 3 [4]. How-ever, this disagrees with the webgraph where the estimate  X 
WWW = 2 . 1  X  0 . 1 was observed [1]. Therefore even though the Bollob  X as X  X iordan model is similar in some aspects to real graphs of Internet qualitatively, it needs to be refined to better capture the reality quantitatively. In this work, we estimate the value of  X  Host in the power law for the web host graph to be approximately 2 . 28  X  0 . 01 (see Section 3.3).
A possible approach for a refinement is the model pro-posed independently by two groups of researchers [10, 11]. They proposed to extend the model with a parameter called initial attractiveness of a vertex, a positive constant that does not depend on degree. Later Buckley and Osthus gave an explicit construction of this model [8]. The degree distri-bution of a Buckley X  X sthus graph also obeys the power law, but now varying the value of the parameter, one can tune the exponent  X  in the power law of the resulting graph. More specifically, the model generates a series of graphs H a,m ,n = 1 , 2 ,..., with n vertices and mn edges, where m  X  Z is a fixed number, defined in the following way. Let H a, 1 be a graph consisting of one vertex with a self-loop. A graph H t a, 1 is obtained from H t  X  1 a, 1 by adding a vertex t and an edge from t to a vertex i , where i is chosen randomly within the existing vertices with probability where d t ( s ) is the degree of the vertex s in H t a, 1 is constructed from H mn 1 by merging vertices 1 ,...,m into the vertex 1 of the new graph, merging vertices m +1 ,..., 2 m into the vertex 2 of the new graph, etc. Note that a = 1 gives the initial Bollob  X as X  X iordan model. For an integer a , Buckley and Osthus proved [8] that in graphs of their model the degree distribution follows the power law with  X  = 2 + a .
Later Grechnikov obtained further theoretical results on degree and edge distributions of the Buckley X  X sthus random graph model [14]. Let # a ( d,n ) be the number of vertices with degree d in the model H n a,m . As it follows from the results of [14], for large d we have with some constant b 1 in an appropriate range of degrees d . Let X a ( d 1 ,d 2 ,n ) be the total number of edges between ver-tices of degree d 1 and vertices of degree d 2 in a Buckley X  Osthus graph. For d 1 = d 2 , we count every edge twice, but we do not count self-loops. As it follows from the results of [14], the expectation E X a ( d 1 ,d 2 ,n ) behaves as if the ratio between d 1 and d 2 is sufficiently large (otherwise this formula does not capture the asymptotic behavior).
In what follows, we also use the fact that the number of loops and multiple edges in the Buckley X  X sthus random graph is considerably smaller than the total number of edges (see the full version of the paper for details).
For the web host graph (undirected, without loops or mul-tiple edges, see Section 3.2) let # Host ( d ) and X Host be the number of vertices of degree d and the total number of edges between all vertices of degree d 1 and all vertices of degree d 2 , respectively.

It is known that as d grows, the variation of the function #
Host ( d ) may dominate its mean [9], see figures in [7]. The same might by true for the function X Host ( d 1 ,d 2 ) as d d 2 grow. Therefore it is more convenient, in particular less vulnerable to fluctuations of the data, to study the following cumulative functions instead: where d min = min { d 1 ,d 2 } , d max = max { d 1 ,d 2 } .
The main assumption that we make in our experiments is that the web host graph is obtained using a Buckley X  X sthus graph model. Under this assumption, using properties (1) and (2), one can show that e  X  for some constants a i ,b i in appropriate ranges of degrees. Note that the exponent in the power law is reduced by 1 and the approximating function for the edge distribution does not change after the integration.

Recall that our assumption actually implies a 1 = a 2 . How-ever, just the fact that some graph satisfies both proper-ties (1) and (2), does not automatically imply the equality a = a 2 (see Section 4 for details).

Our method for estimation of the parameters a 1 , a described and justified in detail in the full version of the paper. The results are described in detail in Section 3.3. The experiments with simulated graphs confirm the validity of the estimation method (Section 4).
All experiments are performed with the web host graph crawled in November 2011 by the major Russian search en-gine yandex.ru . The robot is constantly crawling the web, collecting and updating web pages and links between them. From this data, cleaned from spam and duplicates, a web host graph can be constructed in the following way. Ver-tices of this graph correspond to domain owners. An edge between two vertices-owners is drawn if there is a link from a page of one owner to a page of another owner. For the purposes of our work, we further simplify the graph, making it undirected and removing duplicate edges and self-loops. The web host graph constructed in this manner consists of 86.8M vertices and 1.33B edges 2 . We do not suspect any bias in the way this data is collected that may substantially affect our results.
In this section we discuss the results of the two estima-tion methods for the parameter a , using degree and edge distributions.

Table 1 shows the estimate of a 2 we obtained deriving the best fit of g a 2 ,b 2 to the empiric conditional probabil-ity e  X  Host ( d 1 ,d 2 ) that a pair of vertices v 1 ,v 2 in the web host graph given that max(deg( v 1 ) , deg( v 2 max( d 1 ,d 2 ) and min(deg( v 1 ) , deg( v 2 )) &gt; min( d Equation (3) for the definition). Table 1: Results of the approximation of the cumu-Figure 1: Cumulative degree distribution (black) and
We measure the accuracy of the estimation of a 2 using bootstrapping, in a standard way: we sample edges from the collection of all edges 1000 times independently, with replacement, and for each sample, apply the estimation in the same way as for actual data. The deviation of these 1000 estimates from the actual estimate is shown in Table 1 as  X  Also, we denote the normalized sum of squared deviations between g a 2 ,b 2 ( d 1 ,d 2 ) and e  X  Host ( d 1 ,d 2 ) in domain D
For the chosen range of degrees D 1 = [10 2 . 9 , 10 obtain a 2 = 0 . 2774 and b 2 = 8 . 331  X  10  X  4 (Fig. 2). We observe a very good fit of approximation with the data. Note that due to the term ( d 1 + d 2 ) 1  X  a predicted theoretically, the approximation was even able to capture a concave area around the diagonal d 1 = d 2 . This would not be possible with a simpler approximation of the form d a 1 d a 2 .
To obtain the graph, please see http://events.yandex.ru/events/publications/ or con-tact the authors. F igure 2: Cumulative edge distribution (blue) and ap-
The result of estimation of a 1 that we obtained approx-imating e # Host by the function f a 1 ,b 1 in the range of de-grees D 1 is also shown in Table 1. We also measure the estimation accuracy using bootstrapping, sampling with re-placement 1000 sets of vertices, applying our method to the corresponding degree distribution and obtaining 1000 val-ues of estimates. The normalized sum of squared deviations between f a 1 ,b 1 ( d 1 ,d 2 ) and e # Host ( d 1 ,d 2 ) is denoted by  X 
We want to emphasize that surprisingly we obtained the same value a  X  0 . 28 of the parameter approximating inde-pendently the degree and the edge distributions. This is a double evidence that the Buckley X  X sthus model is good for the web host graph. In the next section, we further support this claim, comparing it with other models.
Here we describe the results of our experiments with graphs artificially generated in various random graph models. We have two goals: to demonstrate that for a random graph with the power law degree distribution the probability of an edge between vertices of given degrees is not determined by the exponent in the power law, and to show that the Buckley X  X sthus model has the best approximation to the web host graph as compared with other models.

First of all, we generate ten samples of the Buckley X  X sthus (BO) random graphs with 86.8M vertices with a = 0 . 276 and m = 12 (close to the ratio of the number of edges and the number of vertices observed in the actual web host graph). The cumulative degree and edge distributions of one result-ing graph are shown on Fig. 5 and 3, respectively, in com-parison with those for the web host graph. In both cases, we observe a strong fit, recapitulating the results from Sec-tion 3.3 (compare with Fig. 2).

Fig. 4 compares the function d nn , average degree of a neighbor, for the web host graph and a sample generated in the Buckley X  X sthus model with a = 0 . 276 that corresponds to the best approximation by the model. As expected, the two distributions are very close to each other. Interestingly, even fluctuations of the two are very similar.

In addition to the Buckley X  X sthus model, we consider two other random graph models: the configuration model (GDS) and the Holme X  X im model (HK).

The GDS model chooses from all graphs with a specified fixed degree sequence uniformly at random [2]. For our ex-periment, we generate a sequence of 86.8M numbers follow-ing the power law distribution with the exponent  X  2 . 276 and use this distribution as a degree sequence in the model. Then we generate five samples of random graphs in this model with 86.8M vertices and 128M edges using a simple simula-tion algorithm [2]. The degree distribution of the resulting graph follows the power law by construction.

The second model is based on the idea of preferential attachment with triad formation steps in the graph con-struction process [15]. We generate nine samples of random graphs with 86.8M vertices and 1B edges. Degrees of these graphs follow the power law with the exponent  X  3.

The degree and the edge distributions for a single sample from both models in comparison with those for the web host graph are shown on Fig. 5 and 6, respectively.

For each of the simulated graphs, we apply exactly the same two approximation procedures as previously for the web host graph (Section 3.3). Table 2 shows the results: v and e are the number of vertices and edges in the sample graphs, a 1 and a 2 are the parameters of the best fit for degree and edge distributions, respectively. Note that the algorithm diverges for edge distribution approximation of the HK model. We also show the standard deviation of the obtained estimates of a 1 and a 2 over the several samples of the model. The GDS model has a fixed degree distribution that results in always the same estimate of a 1 .

Not surprisingly, the approximation algorithm extracts the parameters a 1 and a 2 planted in the sample of the BO model with high accuracy, as it is the underlying assumption of this algorithm that the graph is modeled by the Buckley X  Osthus model.
 F igure 3: Cumulative edge distributions for the web F igure 4: Average neighbor degree depending on de-= 0 . 289  X  0 . 0033, a 2 = 0 . 274  X  0 . 0038 = 0 . 29  X  0, a 2 = 1 . 053  X  0 . 00048 = 1 . 06  X  0 . 0088, a 2 = n/a Figure 5: Cumulative degree distributions for the web F igure 6: Cumulative edge distributions for the web Although all generated graphs have the power law degree distribution, only the Buckley X  X sthus graph has the edge distribution close to that observed in the real web host graph.
Besides our results being interesting on their own, we be-lieve they may potentially be related with real world prob-lems of practical interest.

One example of such a relation may be the work of Y. Lu et al. [19] that made use of the power law degree distribution in the webgraph and proposed the algorithm PowerRank, an improvement over PageRank. We may expect that further empirical and theoretical studies of graphs representing the Internet may help progress in other tasks related with search and in particular with ranking and crawling.

It has been argued that the web contains many communi-ties, sets of pages or hosts that are in particular character-ized by abnormally high density of links between them [6, 13]. In this respect, understanding how edges are distributed in the graph may potentially be useful for algorithms de-tecting and testing such communities, providing a better description of expected background that prospective com-munities may be compared against. We expect that the-oretical and empirical results in the direction presented in this paper may prove useful for these problems.
