 With the advent and popularity of social network, more and more users like to share their experiences, such as ratings, reviews, and blogs. The new factors of social network like interpersonal influence and interest based on circles of friends bring opportunities and challenges for recommender system (RS) to solve the cold start and sparsity problem of datasets. Some of the social factors have been used in RS, but have not been fully considered. In this paper, three social factors, personal interest, interpersonal interest similarity and interpersonal influence, fuse into a unified personalized recommendation model based on probabilistic matrix factorization. The factor of personal interest can make the RS recommend items to meet users' individualities, especially for experienced users. Moreover, for cold start users, the interpersonal interest similarity and interpersonal influence can enhance the intrinsic link among features in the latent space. We conduct a series of experiments on real rating datasets. Experimental results show the proposed approach outperforms the existing RS approaches. H.3.3 [ Information Search Retrieval ]: Information Filtering; J.4 [ Computer Applications ]: Social and Behavioral Sciences Interpersonal influence, recommendation system, social networks , social media, personalized recommendation. Recommender system (RS) has been successfully exploited to suggest attractive and useful products  X  information to facilitate user  X  s decision-making process in E-Commerce like Amazon. A survey shows that at least 20 percent of the sales in Amazon come from the work of the RS. It can be viewed as the first generation of RSes with traditional collaborative filtering algorithms to predict user interest. However, with the rapidly increasing number of registered users and various products, the problem of cold start for users (new users into the RS with little historical behavior) and the sparsity of datasets (the proportion of rated user-item pairs in all the user-item pairs of RS) have been increasingly intractable. Fortunately, the appearance of web2.0 greatly improves user  X  s initiative on the Internet, and then brings volume of social networks such as Facebook, Twitter, Yelp , etc. The interpersonal relationship, especially the circles of friends, of social networks makes it possible to solve the cold start and sparsity problem. Many social network based models have been proposed to improve the performance of the RS. Recently, Yang et al. [2 ] propose to use the concept of  X  inferred trust circle  X  based on the domain-obvious of circles of friends on social networks to recommend user favorite items. Their approach not only refines the interpersonal trust in the complex networks, but also reduces the load of big data. Meanwhile, besides the interpersonal influence, Jiang et al. [3] demonstrate that individual preference is also a significant factor in social network. Qian et al. propose a user preferred vocabulary mining approach to recommend user preferred vocabularies for the user newly shared photos [6] . Just like the idea of interpersonal influence, due to the preference similarity, user latent features should be similar to his/her friends  X  based on the probabilistic matrix factorization model [1, 5]. However, do all users actually need the relationship on the social networks to recommend items? Does the relationship submerge user  X  s personality, especially for the experienced users? It is still a great challenge to embody user  X  s personality in RS, and it is still an open issue that how to make the social factors be effectively integrated in recommendation model to improve the accuracy of RS.  X  Moves as one desires, decides as you like.  X  Just like the logo says, user  X  s choice is always closely related to his/her personal interest. It is very popular for users to share, upload and comment their favorite content. Thus, users  X  personal interests can be disclosed by their historical rating records in social rating networks. In this paper, three social factors, personal interest, interpersonal interest similarity and interpersonal influence, fuse into a unified personalized recommendation model based on probabilistic matrix factorization. The personality is denoted by user-item relevance of user interest to the topic of item. T o embody the effect of user  X  s personality, we mine the topic of item based on the natural item category tags of rating datasets. Thus, each item is denoted by a category distribution or topic distribution vector, which can reflect the characteristic of the rating datasets. Moreover, we get user interest based on his/her rating behavior. We then assign to the effect of user X  X  personality in our personalized recommendation model proportional to their expertise levels. On the other hand, the user-user relationship of social network contains two factors: interpersonal influence and interpersonal interest similarity. We apply the inferred trust circle of Circle-based Recommendation (CircleCon) model [2] to enforce the factor of interpersonal influence. Similarly, for the interpersonal interest similarity, we infer interest circle to enhance the intrinsic link of user latent feature. The main contributions of this paper are summarized as follows: 1) Propose a personalized recommendation system combining user personal interest, interpersonal interest similarity, and interpersonal influence. The factor of user personal interest makes direct connections between user and item latent feature vectors. And the two other social factors make connections between user and his/her friends  X  latent feature vectors. 2) Propose an effective user and item relevant measurement approach to enforce the factor of personal interest in RS. Here, user personal interest is represent by topic distribution vector based on tree structure of categories of items. In this paper, we focus on probabilistic matrix factorization with consideration of factors of geo-social networking . In the following, we briefly review some relevant works to this paper . Recently, many systems employ matrix factorization techniques to learn the latent features of users and items , and predict the unknown ratings user and item feature matrices, with row vectors U representing k -dimensional user-specific and item-specific latent feature vectors of user u and item i , where k is far less than M and N , and it is the rank of the latent matrices U and P . For example, the basic probabilistic matrix factorization ( Base MF) approach [1], which doesn  X  t take any social factors into consideration. There are some sophisticated approaches [ 2, 3] pay more attention on social context, such as interpersonal influence and individual preference. And they exploit these factors in the objective function to learn more accurate user and item latent features. Figure 1. Three main social factors in our recommendation model, including user personal interest, interpersonal interest similarity, and interpersonal influence. The items under users are historical rating records, which can be used to mine users  X  personal interest. The category icon on line between two users denotes their interest similarity. And the boldness of the line between users indicates the strength of interpersonal influence. The proposed personalized recommendation approach fuses three social factors: user personal interest, interpersonal interest similarity, and interpersonal influence to recommend user interested items. The illustration of our approach is shown in Figure 1. Among the three factors, user personal interest embodys user  X  s personality, and interpersonal interest similarity and interpersonal influence are factors of social contextual. Thus, we introduce the three factors firstly. And then, we infer the objective function of the proposed personalized recommendation model. At last, we give the training approach of the model. Hereinafter we turn to the details of our approach. Due to the individuality, especially users with many rating records, users usually choose items all by themselves with little influence by their friends. However, many previous works [2, 3] took the circles of friends in social networks to solve the cold start problem. It did work for the cold start users or users with a few records, but ignored the individuality for experienced users. In other words, the relevance of user and item latent feature vector depends on the relevance of user interest topic vect or D u and item topic vector D at a certain extent. More formally, we denote the relevance of user u  X  s personal interest to the topic of item i in our recommendation model by Q u,i Here, we use category distribution vector to denote the topic of item. where I cj is the indicator that is equal to 1 if the i -th item belongs to the category c j , and equal to 0 otherwise, and n is the number of category in the datasets, for Yelp n =8 . Thus, we summarize all the user  X  s rated items in category c to measure user interest c Actually, the factor of personal interest Q u,i can be viewed as the latent real rating value of user u to item i . Thus it can also enhance the robust of the recommender system to reduce the attack of malicious rating. According to investigation statistics by Sinha et al. [ 4], 90% users in the test think the recommended books from his/her friends as good recommendation and 75% think that are useful recommendations. Thus, we use the measurements of CircleCon model [ 2] to calculate interpersonal influence weight S Similar to the trust circle inference in CircleCon model [2], we propose the interest circle inference. The basic idea is that user latent feature vector should be similar to his/her friends  X  latent feature vector based on the similarity of their interest. Here we denote the interest similarity value between u and v by W The personalized recommendation model contains the following which has effect on what items you would interest in. Thus, we combine interpersonal influen ce S , interpersonal interest similarity W , and user personal interest Q with the rating matrix R to decrease the predicted error. Thus, for each category c , through Bayesian inference, we define the posterior probability of latent features giving the rating and social context factors as follows where ,  X  c ui R is t he predicted rating value in c according to Eq. (8). 
H is the normalized number of items that user u has rated in c , which denotes how much a user depends on his/her individuality to rate an item. The idea of interpersonal influence is enforced by the second term , which says that user latent feature U similar to the average of his/her friends' latent feature with weight of * , c uv S in c. The factor of interpersonal interest similarity is enforced by the third term , which says that user latent feature U should be similar to the average of his/her friends' latent feature is enforced by the last term, which says user latent feature U should directly connect with item latent feature P i in c. Note that the objective function of CircleCon model [2] is the first two terms in Eq. (5), and the ContextMF model is similar to the first three terms. Here the third term has a little difference from Eq. (5), because we still use the concept of inferred circle in [2], which has shown the superiority. For each category c , we get the corresponding matrix factorization model as Eq. (5) to obtain a separate user latent profile U item latent profile P c . And the objective function can be minimized by the gradient decent approach as [ 5]. More formally, the gradients of the objective function with respect to the variables U and P i in c are shown as Eq. (6) and Eq. (7) respectively.  X  X  X   X  X   X  where , c R ui I is the indicator function that is equal to 1 if user u has rated item i in c , and equal to 0 otherwise. , rating value in c according to Eq. (8). The initial values of U P are sampled from the normal distribution with zero mean. It empirically has little effect on the latent feature matrix learning. The user and item latent feature vectors U c and P based on the previous values to insure the fastest decreases of the objective function in each iteration . Note that the step size is a considerable issue. We adjust it to insure the decreases of the objective function in training. In this section, we conduct series of experiments to evaluate the performance of proposed personalized recommendation combining user interest and social circle and compare with the existing approaches on Yelp dataset . The compared approaches include BaseMF [ 1, 5], CircleCon [2 ], and ContextMF[3]. We have crawled nearly 60 thousand Yelp users  X  circles of friends and their rat ed items from November 20 12 to January 20 13 . Except the user without any rated history (at least one rated item), the dataset consists of ratings from 10,555 users who rated a total of 1,783,922 items from 22 big categories. The average number of user ratings is about 169 . Note that we merge the similar categories like Restaurants and Food , Night Lift and Bars . To test the applicability of the proposed model, we choose eight categories based on the popularity distribution of the 22 categories. There are three most popular categories ( Restaurants , Night Lift , and Shopping ), three common categories ( Active Life , Beauty and Spas , Hotels and Travel ) and two less rating but interesting categories ( Home Services and Pets ). Table 1 is a statistic of users and items in the eight categories, where c r is users  X  average rating value in c . This dataset is available in SMILES LAB website 1 . Note that, the user  X  s personal information has been removed during the dataset sharing. Detailed descriptions of each item are also removed and we only extract the corresponding rating scores of items, users  X  relationship, etc. In each category of Yelp dataset, we use 80% of data as the training set and the remaining 20% as the test set. More formally , we use 80% of each user  X  s rating data as the training set to insure evaluation we use in our experiments is Mean Absolute Error (MAE), as th is is the most popular accuracy measures in the literature of recommender systems [1-4] . MAE is defined as where , ui R is t he real rating value of use r u on item i , corresponding predicted rating value according to Eq. (8), and  X  is the set of all user-item pairs in the test set. In this section, we compare the performance of our M3 algorithm with the existing models including BaseMF [ 1, 5], CircleCon [2 ] and ContextMF [3 ] on Yelp datasets. Here we set k = 10,  X  = 0.1 as [2 ],  X  =  X  =  X  = 30. Among these parameters,  X  ,  X  and  X  are tradeoff parameters in our model. Note that whatever these parameters are, it is fair for all compared algorithms. In Table 2, we show the performance based on the Yelp dataset. Note that we enforce the interpersonal influence in other methods as CircleCon3 in Table 2 . Comparing Table 1 and Table 2, we can see that the more rating information a category has the higher accuracy the RS achieves . From Table 2 , we can see that the accuracy of our personalized recommendation model is much better than the BaseMF for the social factors. For the social recommendation models, we decrease the prediction error by 33 % and 6% on MAE over CircleCon2b and ContextMF. The results demonstrate the significant of users  X  individuality in RS . Category User Count Item Count Rating Count Sparsity c r Active Life 5327 7495 24395 6.11e -4 4.021 Beauty and Hotels &amp; Night Life 4000 21337 99878 1.17e -3 3.594 Restaurants 2000 32725 91946 1.4 1 e -3 3.677 Shopping 3000 16154 33352 6.88e -4 3.819 Table 2 . Performance comparison on each category of Yelp. In this section, through statistic, we have found the impact of the amount user  X  s rated items to the accuracy of the proposed model and compared models in Restaurants of Yelp. We divide the test dataset into five groups according to the number of user rated items. The number of users of each group is shown as Table 3 . The MAE histograms are shown as Figure 2, where  X  0-9  X  in the horizontal axis means the number of user  X  s rated items is less than 9, and  X  40- X  means the number of user rated items is more than 40. And the group of  X  40- X  can be seen as the experienced users. From Figure 2, we can see that the proposed approach PRM are superior to the other compared models (BaseMF, CircleCon, and ContextMF) for each group in Restaurants of Yelp. It because the proposed model is not only consider the cold start users with factors of interpersonal influence and interest similarity but also the experienced users with the factor of user personal interest. 
Table 3 . The number of users in each group according to the Friend_num 0 1 -4 5 -9 10 -14 15 -Figure 2. MAE histograms of impact of user  X  s rated number. In this paper, a personalized recommendation approach was proposed by combining social network factors: personal interest, interpersonal interest similarity, and interpersonal influence. In particular, the personal interest denotes user  X  s individuality of rating items, especially for the experienced users, and these factors were fused together to improve the accuracy and applicability of recommender system. W e conducted extensive experiments on three large real-world social rating datasets, and showed significant improvements over existing approaches that use mixed social network information. At present, the personalized recommendation model only takes user historical rating records and interpersonal relationship of social network into consideration. In our future works, we will take user location information to recommend more personalized and real-time items. This work is supported by the Nature Science Foundation of China No.60903121, No.61173109, and Microsoft Research Asia. [1] R. Salakhutdinov, and A. Mnih,  X  X robabilistic matrix [2] X. Yang, H. Steck, and Y. Liu,  X  X ircle -based recommen-[3] M. Jiang, P. Cui, et al ,  X  X ocial contextual recommendation, X  [4] R. Sinha, and K. Swearingen,  X  X omparing [5] M. Jamali, and M. Ester,  X  X  matrix factorization technique [6] X. Qian, X. Liu, C. Zheng, Y. Du , and X. Hou,  X  X agging 
