 Patent citation recommendation and prior patent search, critical for patent filing and patent examination, have be-come increasingly difficult due to the rapidly growing num-ber of patents. Unlike paper citations that focus on reference comprehensiveness, patent citations tend to be more parsi-monious and refer only to those prior patents bearing sig-nificant technological and/or economic value, as they define the scope of the citing patent and thus have significant legal and economic implications. Based on the insight that patent citations are important information reflecting the value of cited patents to the citing patent, we propose a heteroge-neous patent citation-bibliographic network that combines patent citations (reflecting value relation) and bibliographic information (reflecting similarity relation) together. From this network, we extract various features that reflect the value of a prior patent to a query patent with regard to the context of the query patent such as its assignee, classi-fications, etc. We then propose a two-stage framework for patent citation recommendation. Our idea is that by ex-ploiting those context-specific value measures of candidate patents to the query patent, the proposed framework is able to make effective patent citation recommendations. We eval-uate the proposed context-guided value-driven framework using a collection of 1.8M U.S. patents. Experimental re-sults validate our ideas and show that those value-driven features are very effective and significantly outperform two state-of-the-art methods in terms of both the precision and recall rates.
 H.3.3 [ Programming Languages ]: Information Search and Retrieval Patent, Citation, Recommendation, Heterogeneous Network
The rapid development in technological innovation and the importance of Intellectual Property (IP) protection have been driving a remarkable increase in the number of patent applications filed and patents granted annually, which, ac-cording to recent statistics 1 from United States Patent and Trademark Office (USPTO), has almost doubled over the last decade. With an ever growing amount of granted patents and patent applications, prior art search (i.e., patent cita-tion recommendation) has become a very challenging task for both applicants and patent examiners.

Existing works in prior art search (or patent citation rec-ommendation) are mostly based on information retrieval techniques, focused on query term extraction or query ex-pansion [1, 6, 10, 18]. These approaches have some limi-tations. First, term ambiguity across patents in the same technology domain makes it difficult to use content-based retrieval. Moreover, applicants (and their patent attorneys) tend to intentionally use vague technical terms in their patents to obscure their invention description or the claim scope [4]. More importantly, these approaches ignore the already ex-isting information on patent citations, which contains rich and useful insights on the technological and economic value (i.e., significance) of a prior patent. Patent citations, unlike paper citations that focus on comprehensiveness and some-times are referenced for politeness, tend to be parsimonious and carefully cited by applicants and patent examiners, be-cause they represent legal limitations on the scope of citing patents X  claims and thus bear economic and legal implica-tions. Thus, a citation relationship between two patents reveals: (1) technology wise, the cited patent is part of the  X  X iant X  X  shoulder X  X hat the citing patent builds on; (2) legally and economically speaking, the cited patent might be block-ing the citing patent in the marketplace. Indeed the number of citations a patent receives has been widely used to mea-sure its technological and economic value [8, 17]. Further-more, a patent document contains very rich bibliographic information such as inventors, assignees (owners) and tech-nology classifications, which, together with its textual con-tent, forms the context for the patent, i.e., a comprehensive description of the patent.

Based on the insight that patent citations offer unique and important information about the value of cited patents to citing patents, the key hypothesis of this paper is that integrating patent citation information (reflecting value re-lation) and bibliographic information (reflecting context re-lation) together would provide a powerful tool to understand various context-specific values (significance) of a prior patent to the query patent, which can be explored for patent cita-tion recommendation. For example, the fact that a patent A has been cited by many patents that share the same patent classification (or inventors or assignees) with a query patent B suggests that the patent A is very valuable in this tech-nology domain (or to the inventors or assignees), thus the patent A might as well be likely cited by the patent B .
In this study, inspired by the developing ideas of hetero-geneous information networks [11, 15], we integrate patent citation information with patent bibliographic information to propose a heterogeneous patent citation-bibliographic in-formation network, which contain information on both value relation and context relation among patents. The hetero-geneous patent citation-bibliographic information network is comprised of multi-typed objects including patents and patent contexts such as patent classifications, assignees, inventors and content terms. Patents in the network are related if there is a citation relation (one patent citing another) or bibliographic relation (two patents sharing the same patent classifications, assignees, inventors, etc). Based on this het-erogeneous citation-bibliographic information network, we propose and construct various value-driven and context-guided features that reflect the value of a given prior patent to a query patent. Our study shows that these features are very useful for patent citation recommendation. Specifi-cally, this paper proposes a framework for value-driven ci-tation recommendation, called Context-guided, Value-driven Patent Citation Recommendation (CV-PCR) . The CV-PCR framework takes a two-stage ranking approach to recom-mend patent citations given a query such as a new patent ap-plication. Our approach is to prepare a candidate set of po-tentially citable prior patents in the first stage. Then, we use a supervised ranking method, RankSVM, to rank the can-didate set using the aforementioned value-driven context-guided features in the second stage. Figure 1 shows the overview of our framework.

To the best of our knowledge, this is the first study that exploits a heterogeneous patent citation-bibliographic infor-mation network and uses a value-driven model for patent citation recommendation. Experimental results show that our approach significantly outperforms two state-of-the-art approaches in terms of both the precision and recall rates. Our major contributions in this work are as follows:
Heterogeneous citation-bibliographic information net-
Value-driven context-guided features :Wepropose
An effective patent citation recommendation frame-
Most of the work on prior patent search have been based on information retrieval techniques. Many previous studies focus on extracting better query terms for relevant patent search. In an early work, Larkey [10] introduced a system developed for USPTO, which supports the retrieval and clas-sification of patents using expanded query terms with user guidance. Xue and Croft [18] used a whole patent docu-ment to generate a query for prior-art search focusing on the effect of different patent fields. According to their ex-perimental results, it is not the claims but the background summary of a patent that serves as the most useful source of query terms. Bashir and Rauber [1] suggested a query ex-pansion approach using pseudo relevance feedback. Magdy et al. [13] proposed a query expansion method for patent retrieval. They used WordNet and SynSet to expand query terms. Recently Ganguly et al. [6] proposed a query reduc-tion technique by removing the least similar segments from the query for prior art search.

Some studies focused on ranking method for relevant patent search in information retrieval environment. Fujii [5] pro-posed to use PageRank and topic-sensitive citation scores to rank retrieved patents. However, his work did not men-tion a problem that PageRank faces, i.e., new patents tend to be poorly rated because almost all citation paths end in old patents. Chen and Chi [3] used the International Patent Classification (IPC) codes to weight terms by their categories. Liu et al. [12] proposed to use a hybrid ap-proach using both the text of a patent document and bib-liographic data. Their results showed that the combination of the bibliographic data matching and text mining results gives the best recall result. Cao et al. [2] introduced the user-friendly patent search platform that involves user error correction, topic-based query suggestion, and query expan-sion techniques. Guo and Gomes [7] proposed SVM Patent Ranking model for prior art search. They combined domain knowledge features with meta-score features.

The study on heterogeneous information network has drawn a lot of attention recently. Sun et al. [15] introduced a meta path-based framework to measure the similarity between two objects using a sequence of rel ated objects in heterogenous information network. They demonstrated their framework to search for the similar authors or venues to a query in het-erogeneous bibliographic network. Yu et al. [19] proposed a citation prediction method in bibliographic networks using the meta path-based approach. Recently, Tang et al. [16] proposed the topic-driven patent analysis and mining model based on the heterogeneous patent network.
In this work, we consider a patent document to consist of the textual content, references (i.e., citations), and other bibliographic information including classification codes. D = { D 1 ,D 2 ,  X  X  X  ,D N } be the universal collection of patents. Apatent D i  X  D is a 5-tuple T i ,C i ,V i ,A i ,R i where denotes the textual content, C i denotes the classification codes, V i is a set of inventors, A i is a set of assignees, and R i is a set of references. For convenience, we define X (
D i )= X i = { x 1 ,x 2 ,  X  X  X  ,x n } as the elements of the object type X of a patent D i ,(e.g., V ( D i )= V i = { v 1 ,v 2 refers to the inventors of the patent D i ). In addition, or C i includes C P ( D i )= { c 1 } , the primary classification code of a patent D i ,and C S ( D i )= { c 2 ,c 3 ,  X  X  X  ,c secondary classification codes. We denote cite ( D i ,D j { i, j : D j  X  R ( D i ) } be a citing pair when a patent apatent D j .
As discussed in Introduction, patent citations are more carefully inserted than paper citations and thus more ac-curately reflect a cited patent X  X  technological and economic value [8, 17]. The very existence of a large number of citing patents suggests the technological value of the cited patent in it opened ways to successful lines of innovation.
Given that patent citations contain uniquely important information about the value of the cited patents, we pro-pose to combine both patent citation network and patent bibliographic network to explore rich information embedded in these networks about a patent X  X  value to another patent. For example, a patent cited more frequently by subsequent patents of the same assignee (firms of patent ownership) and/or the same inventors is more valuable to the firm or inventors as there may be follow-on research by the firm or inventors that builds on the cited patent.

We combine both the patent citation network and patent bibliographic network together to form a heterogeneous citation-bibliographic information network. The heterogeneous in-formation network is comprised of multi-typed objects in-cluding patents and elements of patent context such as patent classifications, assignees, inventors and content terms. Two patents are related if there exist a citation relation (one patent citing the other) or bibliographic relations (two patents sharing the same classifications, assignees, inventors, etc). Figure 2 illustrates the heterogeneous citation-bibliographic information network. As shown, patents D i and D j are related via a citation relation ( D i citing D j )aswellasa bibliographic relation ( D i and D j sharing a same assignee a ). On the other hand, patents D i and D k are related only Figure 2: Heterogeneous Citation-Bibliographic Information Network due to bibliographic relations ( D i and D k shares the same inventor v 1 and the same US patent classification c 2 ).
In responding to the aforementioned requirements, we pro-posed a two-stage citation recommendation framework. First, for a given query patent, it generates a candidate list of content-relevant prior patents using the textual content-based similarity. Second, based on the heterogeneous network in-corporating both patent citations and patent bibliographic information, it extracts context-guided value-driven features , related to the query patent, for each prior patent in the can-didate list, and ranks the prior patents in the candidate list using a supervised ranking method.
The first stage in the framework uses a textual content similarity-based information retrieval approach. The goals are two-fold: i) to identify relevant prior patent for the sec-ond stages; and ii) to provide candidates to reduce the com-putational workload of the second stage.

Each candidate prior patent D cand has a rank and a con-tent relevance score ( CRS ). We denote the candidate list as [(1 ,CRS 1 ,D cand 1 , ) , (2 ,CRS 2 ,D cand 2 ) ,  X  X  X  many information retrieval can be adopted for the first stage of our framework.

For a query generation, we basically use the approach pro-posed by Xue and Croft [18] to generate the best query terms for our content-based retrieval model in the first stage. We use Indri [14] as our retrieval model. Indri is a search engine based on a language model. Given a search query, it returns ranked relevant patents with retrieval scores.
In the second stage, our system recommends patent cita-tions according to the candidate prior patent X  X  value (par-ticularly technical value) to the query patent. To realize this goal, we propose to explore the above-mentioned hetero-geneous citation-bibliographic network to construct various sets of features that reflect candidate prior patents X  value to the query patent. We then use a supervised ranking method, RankSVM, to learn a value-driven ranking model. The de-tails of the feature list is described in Section 5. In the following, we describe the tasks in the second stage of the CV-PCR Framework.
 Training a ranking model: To use RankSVM to re-rank the prior patents in the candidate list, we need to prepare the training data set. For a given query patent, we extract the feature set for each candidate obtained from the first stage and label it as 1 if a candidate is in the reference of the query patent (i.e., the query patent indeed cites the candidate), Figure 3: Value-driven Features based on Heterogeneous Citation-Bibliographic Information Network or 0 if not. We also include the content relevance score (
CRS ) of the candidate as a feature. Thus, the training data set is prepared as { ( Label, f 1 ,f 2 ,  X  X  X  ,f N ) ,  X  X  X } Label  X  X  0 , 1 } , f 1 = CRS and f 2 ,  X  X  X  ,f N are our value-driven features. We then train the model using a supervised ranking method. We define the trained model as the list of weights for each feature, W =[ w 1 ,w 2 ,  X  X  X  ,w N ].
In training the ranking model, we need to take into ac-count that there are many more non-citation (negative) sam-ples than citation (positive) samples. To keep the balance between citation and non-citation samples, we uniformly sample non-citation samples in the candidate list for each query patent to reduce the size of non-citation samples. Ranking the candidate list in testing: We turn to the testing sample and, for each patent in the testing sample, extract the feature set for each candidate in the candidate list. We then use the trained ranking model to rank the candidate list. The ranking model returns the re-ranked scores for each candidate and the sorted candidate list by the ranking scores is used to recommend patent citation. We compute the re-ranked score for a candidate patent D i as
Rank Score ( D i )= | W |
The main idea of our approach is to incorporate the values embedded in patent citations into the ranking model. We introduce value-driven features that are based on the het-erogeneous citation-bibliographic information network and guided by the context of the query patent.

Value-Driven Features (VDFs) are derived in form of prob-abilistic distribution, also based on relational paths. As shown in Figure 3, VDFs measure the maximum likelihood of a patent that shares the same inventor (assignee, or US patent classification) with D Q or is textually similar to that cites the candidate patent D cand . VDFs capture the probability of the relations to occur on a given relational path in a global sense.
 Training : We can estimate the maximum likelihood in these probability-based value features using the EM algo-rithm. Alternatively, they can be approximated by the fol-lowing method, based on the heterogeneous citation-bibli-ographic network: where P MLE ( D b | x ) is the probabilities of a patent with a bibliographic attribute x citing a patent D b .

It is necessary to smooth the likelihood results. We use a simpler and efficient method to smooth the likelihood esti-mation as follows: VDF scores : For each candidate patent D cand and a given type of bibliographic information of the query patent X ( we compute scores for VDFs as follows: We normalize the sum of scores for all the entries in X ( using the number of entries to put each score on the same scale. When X ( D Q ) involves content terms of the query patent, we apply the weights of the content terms that are used for the content-based retrieval in the first stage, as follows: We propose five VDFs using P.Class, S.Class, Inventor, Assignee, and Content (terms). These features involve five probability tables, whose sizes are proportional to the num-ber of unique entries in each type of bibliographic informa-tion X ( D Q ) and the number of patents. Given that there are millions of patents, this set of features require large prob-ability tables.

In this section, we describe our experimental setup and discuss the results.
U.S. patent documents are well-structured in accordance with the USPTO standard schema, which are downloadable in XML-format from Google Patent Bulk Download. 3 In-dividual sections such as title, abstract, claims, description, and bibliographic information, can be easily extracted for processing and search. We evaluate our approach using a real data set of over 1.8 million U.S. patents issued from 2000 through 2010. We use 1,456,000 patents issued from 2000 to 2008 as the potentially citable prior patent pool for citation recommendation and the training data set for our proposed value-driven context guided feature extraction. We train the supervised ranking models using a train query set randomly selected from 160,000 patents issued in 2009. The 100 test query set sampled from patents issued in 2010 is used to evaluate our models. We choose test query patents having at least 10 citations for the evaluation purpose.
We extract the title, abstract, claims, a brief summary and bibliographic data, such as classification codes, inven-tor X  X  names, assignees, and references (citations) for each http://www.google.com/googlebooks/uspto.html patent. For the text, we remove stop words and use Porter X  X  algorithm for stemming. To reduce the name ambiguity for inventors, we use the last name and the first name, but drop the middle name. Instead, we include the city of the inven-tor X  X  address in the name. We keep only citations referring to prior patents granted between 2000 and 2008.
Prior art search, or patent citation recommendation, is a recall-oriented task because it is more important not to miss any relevant prior patents than to retrieve relevant patents at the top ranks. To a large extent, patent examin-ers may look into a relatively large number of the documents in the search results, instead of only browsing the top few results. Therefore, the performance evaluation for patent citation recommendation is different from tasks in general information retrieval which focus more on the accuracy of the top ranked results. We use the average of the top-k re-call ( R @ k ) of all test queries to evaluate the performance of our approach for patent citation recommendation. The recall is the percentage of recommended prior patents that are the  X  X round truth X  citations. We also use Mean Average Precision ( MAP ) which is the mean of the average preci-sion scores of all test queries. We measure Precision at k P @ k = #ofhitsintop-the top-k recommendations and compute the average pre-cision, AveP = K k =1 P @ k  X  I ( k ) # of citations ,where recommended citations, and I ( k ) is an indicator function giving 1 if the recommended citation at rank k is a  X  X round truth X , zero otherwise.
We use two state-of-the-art baseline methods to compare the performance of our approach. The first baseline (BL1) is a learning to rank method for relevant patent search pro-posedbyXueandCroft[18]. Theirworkfocusedonhow to extract a search query from a query patent, and used the text-based retrieval scores with additional features to rank relevant patents to a query patent. Our method to generate query terms is different from theirs, due to the difference in text preprocessing methods such as the choice of a stem-ming algorithm. Since the purpose of the comparison with this baseline is to see whether and how much our proposed approach, and especially, the value-driven features, improves the recommendation performance, we used the same query terms of our models for this baseline. The second baseline method (BL2) is the citation translation approach for pa-per citation recommendation proposed by Huang et al. [9], which has been shown to outperform previous methods in paper citation recommendation. Their approach uses the citation context as the source language to be translated to relevant cited documents. Since patents do not have cita-tion context, we use the search query in the first stage of our approach as the description language for the translation model in the second baseline.
As mentioned earlier, patent citation recommendation or prior art search is a recall-oriented task. Thus, the recall performance is very important. We consider the recall rate up to 300 in our evaluation. We also measure the precision of the proposed models using MAP . The performance of Table 2: Performance Comparisons by Feature Set Selection the proposed models are compared in Table 2 and Figure 4, which shows the recall performance of each model including two baselines.
 Baseline methods: The two baseline methods show sig-nificant differences in the precision and recall performance. BL2 using citation translation model (CTM) outperforms BL1, especially in the precision performance. The precision rate of BL2 is almost twice as that of BL1, and the recall at 100 is also enhanced by 17%. However, the recall rate of BL2 is getting closer to BL1 at 300. The result shows that the CTM significantly helps to improve the accuracy of a retrieval model. However, there is a limitation to enhance the recall rate. In contrast, BL1 is based on the content relevance scores (CRS), augmented with additional similar-ity features for ranking. Compared to the approach using only CRS for ranking, BL1 shows the better recall rate and continuous improvement.

These results suggest that citation information is powerful in enhancing the accuracy. However, if we rely only on cita-tion information, as the CTM does, it is likely to miss less frequently cited patents. On the other hand, the content-similarity based approach does not guarantee good accuracy, although its recall performance is continuously increasing. Value-Driven Features only (VDF only ): In this ap-proach, we directly use all VDFs proposed in Section 5 with-out the first stage to reduce the size of the candidates for recommendation. We first generate ranked candidates us-ing each feature and merge the ranked candidates into one single list. The merged list is re-ranked using the trained ranking model. To learn the weight for each feature, we use the same ranking method, RankSVM. Figure 4 shows the performance of VDF only .VDF only significantly enhances the recall performance compared to two baseline methods. The recall at 100 is improved by 11%, and the recall at 200 is improved by 14% against BL2, which is only using the content-based translation feature. These results suggest that VDF only can be a strong model for patent citation rec-ommendation. However, the size of candidates can cause a scalability problem.
 CRS+VDF: This model uses CRS (Content Relevance Score) to identify the candidate set in the first stage and value-driven features to re-rank the candidates in the second stage. Figure 4 shows that the recall performance is significantly improved compared to two baseline methods and VDF only . The recall rate at 100 is improved by 51.01% (BL1), 29.06% (BL2), and 15.93%(VDF only ). It also shows consistent re-call improvement compared to VDF only .Table2shows the average precision (MAP) results. MAP is also signif-icantly improved by 106.36% (BL1), 12.26% (BL2), and 7.53% (VDF only ).
In this paper, we present a novel framework for recom-mending citations to a query patent such as a new patent application. We propose a two-stage ranking method which employs a content-based technique to retrieve relevant can-didate patents and then rank these candidates using RankSVM. More importantly, with the realization that patent citations reveal important information about the technical and eco-nomic value of a cited patent to the citing patent, we intro-duce a novel heterogeneous citation-bibliographic informa-tion network that reveals both value relations and context relations among patents. Based on this network, we propose value-driven and context-guided features. These features re-flect various context-specific values (significance) of a can-didate patent to the query patent, that is embedded in the heterogeneous citation-bibliographic information network.
We evaluate our framework and value-driven features based models with two baseline methods. The experimental results show that the best performance is achieved by our proposed value-driven features. Our approach outperforms two base-line methods by 106.36% (BL1) and 12.26% (BL2) in the precision and by 51.01% (BL1) and 29.06% (BL2) in the recall at 100.

As for the future work, we are interested in investigating whether our value-driven context-guided features can be ap-plied for paper citation recommendation as well, given the differences between patent citations and paper citations in terms of the value of cited documents. Moreover, we shall extend our model to recover missing patent citations. Our current model focuses on patent citation recommendation for US examiners examining a patent application that has no citation information. However, identifying missing cita-tions for a granted patent is also important, particularly for patent validity challenges and patent litigation. In this task, we can leverage the information contained in the citations of a patent and identify its missing citations.
This work is supported by U.S. National Science Founda-tion Grant 5MA-1064194. [1] S. Bashir and A. Rauber. Improving retrievability of [2] Y. Cao, J. Fan, and G. Li. A user-friendly patent [3] Y. Chen and Y. Chiu. An IPC-based vector space [4] A. Chin. Search for tomorrow: some side effects of [5] A. Fujii. Enhancing patent retrieval by citation [6] D. Ganguly, J. Leveling, W. Magdy, and G. J. Jones. [7] Y. Guo and C. Gomes. Ranking structured [8] D. Harhoff, F. Narin, F. M. Scherer, and K. Vopel. [9] W. Huang, S. Kataria, C. Caragea, P. Mitra, C. L. [10] L. S. Larkey. A patent search and classification [11] L. Liu, J. Tang, J. Han, M. Jiang, and S. Yang. [12] S. Liu, H. Liao, S. Pi, and J. Hu. Development of a [13] W. Magdy, J. Leveling, and G. Jones. Exploring [14] T.Strohman,D.Metzler,H.Turtle,andW.B.Croft.
 [15] Y. Sun, J. Han, X. Yan, P. S. Yu, and T. Wu. [16] J. Tang, B. Wang, Y. Yang, P. Hu, Y. Zhao, X. Yan, [17] M. Trajtenberg. A penny for your quotes: patent [18] X. Xue and W. B. Croft. Automatic query generation [19] X. Yu, Q. Gu, M. Zhou, and J. Han. Citation
