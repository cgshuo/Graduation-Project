
The discovery of frequent patterns is a famous problem in data mining. While plenty of algorithms have been pro-posed during the last decade, only a few contributions have tried to understand the influence of datasets on the algo-rithms behavior. Being able to explain why certain algo-rithms are likely to perform very well or very poorly on some datasets is still an open question.

In this setting, we describe a thorough experimental study of datasets with respect to frequent itemsets. We stud y the distribution of frequent itemsets with respect to itemsets size together with the distribution of three concise repres en-tations: frequent closed, frequent free and frequent essen tial itemsets. For each of them, we also study the distribution of their positive and negative borders whenever possible.
From this analysis, we exhibit a new characterization of datasets and some invariants allowing to better predict the behavior of well known algorithms.

The main perspective of this work is to devise adaptive algorithms with respect to dataset characteristics.
The discovery of frequent patterns is a famous prob-lem in data mining, introduced in [2] as a first step for mining association rules. While plenty of algorithms have been proposed during the last decade [3, 10, 20, 22, 35], only a few contributions have tried to understand the influ-ence of dataset characteristics on the algorithms behavior [19, 20, 32]. These studies focus on the number of trans-actions, average length of transactions, or frequent item-sets distribution, i.e. statistics from frequent itemsets and maximal frequent itemsets are usually given. Nevertheless algorithms could have quite different behaviors for (appar -ently) similar datasets. Benchmarks comparing algorithms performances have been done on real and synthetic datasets [5, 19] (see FIMI website [18]). Algorithm implementa-tions and datasets are freely available from [18] for min-ing frequent, frequent closed or frequent maximal itemsets . Even with all these informations, being able to explain why certain algorithms are likely to perform very well or very poorly on some datasets is still an open question.
More generally, studying datasets can provide useful hints for devising adaptive algorithms [17, 31], i.e. algo-rithms which adapt themselves to data characteristics in or -der to increase their time or memory efficiency. Adaptive behavior of algorithms is not new in the setting of frequent itemsets mining, for example [7, 10] use heuristics to decid e when tries-like data structure, representing datasets and /or itemset collections, have to be rebuilt. The promising re-sults obtained by these algorithms show the interest of ap-plying specific strategies according to dataset features.
Another key point is that some problems have specific in-variant characteristics, whatever the studied datasets. T heir impact on algorithms could give useful information about the difficulty to solve these problems while giving hints on the more appropriate strategies to cope with these difficul-ties.
 Related works Classical characteristics of datasets were studied in [20], and more particularly a density criteria. U p to our knowledge no formal definition of density does ex-ist. According to [20], a dataset is dense when it produces many long frequent itemsets even for high values of mini-mum support threshold. The authors studied seven datasets, each of them capturing a fairly large range of typical uses. The result of these experimentations is a classification of datasets in four categories according to the density. The density is estimated by using the characteristics of maxima l frequent itemsets.

The main problem of their classification concerns its variability with respect to minimum support threshold val-ues. For example, a dataset could belong to the first cate-gory for a given threshold value, and to the second category for another threshold value 1 . Moreover, there is no clear relationship between the proposed classification and algo-rithms performances. Even worse, a surprising result was obtained in the last FIMI workshop [5]: algorithms seem to be more efficient on some very dense datasets than on some other sparser datasets. Note also that in [37], in order to easily compare different implementations, a tool has been developped from information available at the FIMI website.
Based on the works done in [20], [32] proposed a statisti-cal property of transactional datasets to characterize dat aset density. Actually, they consider the dataset as a transac-tion source and measure an entropy signal, i.e. the transac-tions produced by such a source. Moreover, they show how such a characterization can be used in many fields, from performance prediction, minimum support threshold range determination, sampling, to strategy decisions. As for the previous work, it does not explain algorithms performances anymore. This may be due to the fact that only frequent itemsets are used to calculate the entropy measure.
In [27], the positive border distribution (i.e. the num-ber of maximal elements in each level) is considered as a key parameter to characterize transaction databases. It is proved that any distribution is  X  X easible X , and thus suscep -tible to be met in practice. Moreover, a constructive theo-rem is proposed to compute a synthetic transaction database given a positive border distribution as input. Nevertheles s, the negative border is never considered and as a result, such synthetic databases do not match the  X  X omplexity X  of real-world datasets.
 Contribution In this setting, we describe a thorough ex-perimental study of datasets with respect to frequent item-sets. We study the distribution of frequent itemsets with re-spect to itemsets size together with the distribution of thr ee concise representations: frequent closed, frequent free a nd frequent essential itemsets. For each of them, we also study the distribution of their positive and negative borders whe n-ever possible. From this analysis, we exhibit a new classi-fication of datasets and some invariants allowing to better predict the behavior of well known algorithms.

The main perspective of this work is to devise adaptive algorithms with respect to dataset/problem characteristics. Paper organization In section 2, we introduce some pre-liminaries. Experimental study of datasets is given in sec-tion 3, including usual representations of frequent itemse ts, experimental protocol, results and analysis. The section 4 presents the main results of this work: a new dataset classi-fication and a study of the influence of anti-monotone pred-icate on the resolution of some problems. Finally, we con-clude and give some perspectives for this work.
Let R be a set of symbols called items , and r a database of subsets of R . The elements of r are called transactions. An itemset X is a set of some items of R . The support of X is the number of transactions in r that contain all items of X . An itemset is frequent if its support in r exceeds a minimum support threshold value, called minsup . Given a minimal support threshold and a database, the goal is to find all frequent itemsets.

We recall the notion of borders of a set using notations given in [30]. Let ( I, ) be a partially ordered set of ele-ments. A set S  X  I is closed downwards if, for all X  X  S , all subsets of X are also in S . S can be represented by its positive border B d + ( S ) or its negative border B d defined by:
Let p be an anti-monotone predicate on ( I, ) , i.e.  X  X, Y  X  I, X Y , if p ( Y ) is true, then p ( X ) is true. If S is the set of elements of I satisfying p , then S is closed downwards.

For instance, a set of frequent itemsets F I in a database with respect to a given minimum support threshold value is closed downwards. In this case, B d + ( F I ) is often called the set of maximal frequent itemsets .
In order to introduce our experimental study, we first de-scribe three classical representations of frequent itemse ts. Then, our experimental protocol is explained and our exper-imental results are given and discussed. To end up, a rela-tionship between these results and algorithms performance s is also pointed out.
Several concise (or condensed) representations of fre-quent itemsets have been studied [12, 29]. Their goal is twofold: improving efficiency of frequent itemsets mining whenever possible, and compacting the storage of frequent itemsets for future usages.

Formally, a condensed representation must be equivalent to frequent itemsets: one can retrieve each frequent item-set together with its frequency without accessing data [12]. Such a representation is known as closed sets [33, 34, 38]. Two other representations are considered in this paper: fre -quent free itemsets [4, 8] and frequent essential itemsets [13]. Notice that these sets are not exactly sufficient to rep -resent frequent sets, since they need a subset of the frequen t itemsets border to become condensed representations [12].
We briefly describe these representations in the rest of this section.
 Frequent Closed sets Given an itemset X , the closure of X is the set of all items that appear in all transactions where X appears. Formally, given a transaction database r : If Cl ( X ) = X then X is said to be closed.
 Frequent free itemsets An itemset X is said to be free if there is no exact rule of the form X 1  X  X 2 where X 1 and X 2 are distinct subsets of X . Free sets can be efficiently detected through the following property: Frequent essential itemsets The notion of essential item-sets has been defined recently in [13]. It is based on the notion of disjunctive rule [11, 25]. A disjunctive rule is of the form X  X  A 1  X  A 2 ...  X  A n . Such a rule is satisfied if, every transaction that contains X contains at least one of the elements A 1 , ..., A n .

An itemset X is said to be essential if there is no disjunc-tive rule of the form A 1  X  A 2  X  . . .  X  A k , where ( A are distinct elements in X . As for free sets, they can be efficiently tested exploiting the following property: X is essential  X  X  X  X  x  X  X, sup dij ( X ) &gt; sup dij ( X  X  x ) where sup dij ( X ) = |{ t  X  r | t  X  X 6 =  X  X |
The predicates  X  X eing a frequent free itemset X  and  X  X eing a frequent essential itemset X  are anti-monotone w.r.t. set inclusion. In the following, we study the distributions of these three collections w.r.t. itemsets size.

Other concise representations based on the notion of dis-junctive rules have been defined, the reader is referred to th e general framework proposed in [12] for more details.
To end up, we believe that our choice of concise repre-sentations covers a fairly large range of typical cases.
For frequent itemsets, a benchmark of fourteen datasets is commonly used [18]. Most of them are real-life datasets, only two being synthetic ones, generated by the generator from the IBM Almaden Quest research group [1]. All ex-periments have been done on these datasets. Each dataset has been studied for many representative minimum support thresholds, from very high to very low values. For each one, frequent itemsets, frequent closed, frequent free and frequent essential itemsets, have been collected. We have studied their distribution with respect to itemsets size, i .e. the number of elements in each level (from one to the size of the largest itemsets). Moreover, we have studied the posi -tive and negative borders distributions of frequent, frequent free and frequent essential itemsets 2 .

To perform these tests, we used algorithms available at the FIMI website [18]. The discovery of frequent itemsets and frequent closed itemsets has been done using F P Close and F P  X  growth  X  algorithms from [21]. ABS [17] has been updated to find frequent free and frequent essential itemsets.

To the best of our knowledge, this work is the first one to address the understanding of datasets for frequent item-sets and other concise representations by using their nega-tive borders.
In order to perform a fair comparison with [20], re-sults given in this paper focus on the same datasets, i.e. Chess , P umsb , Connect , P umsb  X  , M ushroom and T 10 I 4 D 100 K . Notations used in the sequel are reported in Table 1.

Given a dataset and a minimum support threshold value, the Table 2 describes a typical example of our experimen-tal results. Due to space limitations, the reader is referre d to [16] for comprehensive results from which the analysis made in this paper has been performed. A wider range of minimum support threshold values and other datasets are also described in [16].

In the rest of this section, we discuss our experimental results with respect to three main axes: borders distributi on of frequent itemsets, stability of borders distribution wi th respect to support threshold values and borders distributi on of frequent free and essential itemsets. Borders distribution of frequent itemsets Consider the positive and negative borders of frequent itemsets from five datasets as given in Figure 1. First of all, we observe  X  X ell curve X  distributions for the two borders in almost all datasets. Since every distribution of positive border is fe a-sible in theory [27], other properties should exist to expla in these distributions. Moreover, the negative and positive b or-ders seem to follow the same behavior even if the negative border is always  X  X ower X  than its corresponding positive border. From [30], we also know that the negative border may have elements just one level after the positive border. This case never occurs in our experiments for frequent item-sets.

Moreover, we denote two different behaviors of the  X  X is-tance X  between the two borders. For Chess, P umsb and T 10 I 4 D 100 K (Figure 1), the borders distributions are very close, i.e. the mean of the negative border curve is only a few levels before the mean of the positive border curve. The dataset T 10 I 4 D 100 K is different from the two others since its borders are made of small itemsets.
 For datasets Connect , P umsb  X  and M ushroom in Fig-ure 1, a larger distance between the borders exists.
These simple observations will be used as predictors of the hardness of a dataset in the sequel.
 Stability of borders distribution Now, we study the vari-ation of minimum support threshold values on borders dis-tribution of frequent itemsets. To do that, we consider Chess and Connect for the following minimum support threshold values: 30%, 50% and 80%. For the first min-imum support threshold value, the results are in Figure 1 and for the two others, in Figure 2.

A surprising observation is that the relative position of borders distributions is stable w.r.t. variation of minimum support threshold values.
Figure 2. Borders of frequent itemsets with a different minimum support threshold
In other words, this observation suggests a kind of global structure for frequent itemsets borders distribution invariant to variation of minimum support threshold values.
 Borders of concise representations Now, we consider the positive and negative borders of frequent free itemsets and frequent essential itemsets on Chess and Connect given in Figure 3 and 4.

From these two figures, one can remark that distributions of the two borders look like  X  X ell curves X . Recall that the same behavior has already been pointed out for frequent itemsets, suggesting that such kind of curves is almost in-dependent of the considered anti-monotone predicate.
Moreover, the distance between the mean of the negative and positive borders appears to be small for each concise representation.

The same behavior has been observed in all our experi-ments [16].
We focus on the discovery of maximal frequent item-sets , and we study the performances of implementations available at the FIMI website [18]. Let us consider results
Figure 4. Borders of frequent essential item-sets given in Figure 5 showing algorithms execution times on four datasets.
 On Chess dataset, for every implementation given in Figure 5 (upper-left corner), algorithms execution times increase exponentially with decreasing minimum support threshold values, whereas for Connect (upper-right corner) they appear to be almost linear for M af ia [9], f p  X  zhu [21], LCM [36] and af opt [26]. Moreover, recall that Connect has more and longer transactions, and more items than Chess .

The same kind of behavior can be noticed for datasets such as P umsb and P umsb  X  (Figure 5). These two datasets are very similar w.r.t. the transactions and num-ber of items, but their borders distribution is very differe nt (Figure 1). Algorithms for P umsb  X  are still very effec-tive for very low minimum support threshold, whereas for P umsb , algorithms do not perform very well for relatively high minimum support threshold values.

Therefore, we deduce that pruning strategies are much more efficient on datasets having a  X  X arge X  distance between their positive and negative borders .

A possible explanation could be obtained by looking at algorithms pruning strategies since most of them take ad-vantage of minimal unfrequent itemsets to find maximal fre-quent itemsets and prune the search space.
Observations described in previous section lead us to de-vise a new classification for datasets w.r.t. borders distri bu-tion. We also intent to use these results for other data minin g problems, i.e. those problems said to be  X  X epresentable as sets X  [30].
This new classification differs from the classification given in [20] since it takes into account both the negative border and the positive border of frequent itemsets.
This classification follows from remarks done in the pre-vious section. Its main interests are:  X  a better correspondence between algorithms perfor- X  a stability w.r.t. the variation of minimum support
Based on the  X  X istance X  between positive and negative borders distributions of frequent itemsets, different typ es of datasets have been identified. As a consequence, we intro-duce a new classification of datasets made of three types:  X  Type I datasets are datasets where borders distributions  X  Type II datasets are datasets where there is a large dis- X  Type III is a very special case of type I: the two dis-
This classification is simpler than the one presented in [20], while being very stable w.r.t. variation of minimum support threshold. In addition to classical characteristi cs of datasets, the  X  X istance X  between the mean of the nega-tive and positive border distributions makes possible a bet -ter evaluation of the difficulty of a dataset.

For the two other concise representations previously de-scribed, this classification suggests that almost all datas ets belong to type I or III.
In the setting of this paper, we focus our analysis on datasets with respect to frequent itemsets. In our experi-ments, we studied three anti-monotone predicates, one for frequent itemsets, another one for frequent free itemsets and the last one for frequent essential itemsets. These three predicates exhibit very different behaviors on the sa me datasets (see Figure 1 to 4 on Connect and Chess for dif-ferent minimum support threshold values).

Quite clearly, this work could be generalized to other data mining problems, i.e. those which are representable as sets [30]. We argue that the study of both positive and negative borders for a given anti-monotone predicate may allow us to come up with some general results.
 From the previous sections, we deduced that studying the gap between the negative and positive borders may be very insightful to explain the behavior of algorithms and may also give some hints to guess the existence of properties as-sociated with anti-monotone predicates. In spite of the hug e amount of work done for frequent itemset mining, we are not aware of such kind of contributions. Nevertheless, we introduce in the sequel another data mining problem known to be representable as sets where such properties have been clearly identified [15].
 Application to inclusion dependency mining Inclusion dependencies (IND) are fundamental semantic constraints for relational databases [28]. Let r and s be two relations over schemas R and S , and X and Y be sequences of at-tributes into R and S respectively. The IND R [ X ]  X  S [ Y ] is true in ( r, s ) if all the values of X in r are also values of Y in s . This notion generalizes foreign keys constraints, very popular in practice.

The underlying data mining problem can be stated as fol-lows:  X  X iven a database, find all inclusion dependencies satisfied in this database X  [23, 30, 24, 15]. From [30], the se t of IND candidates can be organized in a levelwise manner; a given level, say k , corresponds to INDs whose arity is equal to k . Moreover, a partial order for INDs can be defined as follows: if i and j are two INDs, j i if j can be obtained by performing the same projection on the two sides of i . For example, R [ AB ]  X  S [ EF ] R [ ABC ]  X  S [ EF G ] . In this setting, the predicate  X  X eing satisfied in a database  X  is anti-monotone with respect to [30].

Consider now the well known inference rule for inclu-sion dependencies together with functional dependencies [14] given in Figure 6. Intuitively, consider an inclusion dependency i = R [ XAB ]  X  S [ Y EF ] where X and Y are attribute sequences and A, B, E and F are single attributes. Suppose that every IND j such that j i is satisfied, and let j 1 = R [ XA ]  X  S [ Y E ] and j 2 = R [ XB ]  X  S [ Y F ] be two of them. The more | Y | is large, the more Y is likely to determine E or F . In other words, i is likely to be satisfied (from inference rule of Figure 6).
 From this result, one may logically expect that large INDs should never appear in the negative border, even if large INDs exist. It implies a potentially large gap between the two borders distribution, like for type II datasets for f re-quent itemsets.

All our experiments corroborate this hypothesis; We tested three synthetic databases built using the chase pro-cedure [6]. We enforced large INDs in their positive border, until size 18. For all databases, INDs in the negative border were all of size lower than 3.

This particular behavior of the positive border of INDs justifies an algorithm based on the negative border discov-ery [15].
In this paper, we have thoroughly studied datasets for problems related to frequent itemset mining. We have shown that the distribution of the negative and positive bor -ders have an important impact on datasets classification and algorithms performances. For frequent itemsets mining, a new classification of datasets has been proposed. This work is a first step toward a better understanding of the behavior of algorithms with respect to the search space to be discov-ered.

This work has two main perspectives. The former is to find out theoretical foundation of  X  X ell curves X  and stabili ty obtained for the distributions in most of our experiments. The latter is the design of adaptive algorithms with respect to dataset characteristics, i.e. changing dynamically the ir strategy during runtime.

