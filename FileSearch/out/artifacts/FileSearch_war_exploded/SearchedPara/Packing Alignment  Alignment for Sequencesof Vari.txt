 database searches to detect homologies [4]. Dynamic time warping (DTW), a [7] and aligning of audio recordings [1].
 function so as to reflect note length.
 to any one event in the other sequence in packing alignment.
Alignment distance can be shown to be equivalent to edit distance even in gap-constraint version algorithm of packing alignment.

In our experiments, we applied packing alignment to frequent approximate occurrences. The 80% of extracted patterns and occurrences by EnumSubstr-kle Little Star X  shown in Figure 1 is represented as | s [3] | = 1 4 and r ( s, 3) = [ 2 4 , 3 4 ).

The melody in measures 245-248 is represented as using event sequence representation, where event type  X  X  X  denotes a rest. alignment of two event sequences as follows.
 ( s ,t ) that satisfies the following conditions. 2. For all ( j, k )  X  X  1 , 2 , ..., n ( s ) } X { 1 , 2 , ..., n ( t ) } , 3. For all ( j, k )  X  X  1 , 2 , ..., n ( s ) } X { 1 , 2 , ..., n ( t ) } , Pairs ( s, t )and( s ,t ) are packing alignments of s and t . s and t .

S ( s ,t )= A ( s, t ) ,namely, score between s and t (and the alignment ( s ,t )thatachievesthescore). is omitted due to space limitations. Proposition 1. S  X  ( s [1 ..m ] ,t [1 ..n ]) =  X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X   X  max the constraint is necessary to solve the packing alignment problem. Let s and t be event sequences with l s =max using a technique of a linear space algorithm proposed in [3]. 3.1 Relation to Edit Distance defining d ( s, t )= min alignment allows us to simplify its corresponding edit operations. b 1 corresponds to some event subsequence s [ i +1 ..i + l ]with  X   X  X  -} compared to their operations. 3.2 Comparison with General String Alignment difference between this method and packing alignment? middle of some events in alignment.
 3.3 Comparison with DTW gap insertions, DTW allows more than one contiguous symbol in a string to symbols opposing to one symbol in DTW. Packing alignment X  X  strictness on flexible than DTW at the point that it allows gap insertions. g  X  0, let A gap-constraint version of packing alignment score S g  X  is defined as also opposed to s [1] and s [5], respectively. Let Then, the following proposition holds. The proof is omitted. p 5.1 Frequent Approximate Pattern Extraction on this task using MIDI files of f amous classical music pieces.
As a frequent mining algorithm based on local alignment, we used EnumSub-strFLOO in [6]. For a given event sequence and a minimum support  X  ,Enum-ber of events in a given sequence s and k is the maximum packable number occurrences for patterns with length of  X  quarter notes were extracted.
In our experiment, we used the following score function: two semitones or an integral multiple of octaves.

We scored each frequent pattern by su mming the alignment scores between so that the ranges of any select ed occurrences do not overlap 1 . sowecuteachrestoneachbeat. 5.2 Running Time Comparison First, we measured running time of EnumSubstrFLOO with packing alignment, alignment; for the case, the minimum support was set to 5 but the minimum length was set to 40 because of memory shortage. The computer used in our experiments is DELL Precision T7500 (CPU:Intel(R) Xeon(R) E5520 2.27GH, memory:2GB). The result is shown below.
 after uniform partitioning. As a result, EnumSubstrFLOOs using DTW and space works well for DTW, which means that DTW alignment score is easy to using gaps for our score function but DTW does not use gaps. longest patterns for the other methods extracted from Bach-Menuet.mid.
The pattern extracted by packing alignment looks most appropriate for a typical melody sequence of the Menuet. 5.3 Musical Variation Extraction Experiment be extracted as frequent approximat e patterns and their occurrences.
The minimum support was set to 5 for all MIDI files. The minimum length was set to 40 for mozart k265 and mozart-k331-mov1 6 and 20 for be-pv-19. Note that the theme lengths of mozart k265, mozart-k331-mov1 and be-pv-19 occurrences from each MIDI file extracted by EnumSubstrFLOO using packing alignment. The charts also contains the other three rows (Ex-row, DTW-row and GA-row) for the comparison described later.
 (
Let us compare the result with those by other methods. In each Ex-row, a importance of using approximate patterns in this extraction task. In the DTW-rows and GA-rows, a longest approximate pattern extracted by EnumSubstrFLOO using DTW and general alignment, respectively, and their occurrences are shown. Note that we a pplied DTW and general alignment by These results indicate the importance of length consideration. to other applications in the future.
 This work was partially supported by JSPS KAKENHI 21500128.
