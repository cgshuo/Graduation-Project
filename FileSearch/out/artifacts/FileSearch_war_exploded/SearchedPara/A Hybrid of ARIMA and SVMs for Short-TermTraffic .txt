 It is very important to forecast the road traffic flow, which has great influence on the passenger, traffic department and business organization. This work can help passengers to optimize the route and play a significant role for the man-agement of the transport sector. Traffic flow prediction has become a key issue in intelligent transportation system study[4 X 6, 8, 10, 11, 14]. However, the traffic flow data based on time series are affected by many uncertain factors, such as abnormal weather, traffic accidents on roads, temporary maintenance of some roads. The existence of these problems increases the complexity of traffic flow prediction.
 fic flow prediction[4 X 6, 8, 17]. They are divided into two categories according to their characteristics: the traditional methods represented by time series and the modern intelligent methods represented by SVMs. The traditional methods are mainly time series analysis methods based on mathematical statistics and in which ARIMA is in the most common use. The traditional methods have the advantages of mature technology and simple algorithm, but these methods are based on linear analysis and easily influenced by prediction step size. The modern intelligent methods are characterized by intelligent learning: including expert system[9], artificial neural networks [22], and support vector machines (SVMs)[21], in which SVMs, owing to the great power to generalize, global op-timal solution and fast calculation, have become the research hotspot of many subjects. In order to make full use of these two kinds of methods, in recent years, many combination forecasting methods that combine two or more models have been proposed[12, 23].
 analysis of time series, we can find the factors which may influence the traffic flow effectively. We set these factors as specific feature, and then the importance of these feature will be analyzed. After that, we will propose a new hybrid model. The model combines the time series model and machine learning model, through a weighted function, the prediction results of two models are weighted at different prediction point, and the weighted results are added as the final prediction results. Experiments show that our model has achieved good results. research work on the prediction of traffic flow and Section 3 provides some basic theoretical aspects of ARIMA and SVMs, and then presents the proposed hybrid model. The experimental results are presented in Section 4, and the conclusions are offered in Section 5. Traffic flow prediction has been a popular research direction in intelligent trans-portation system. The traffic flow prediction can be stated as follows. Let X t denote the observed traffic flow quantity during the t th time interval. Given a sequence X t of observed traffic flow data, t = 1 , 2 ,  X  X  X  , the problem is to predict the traffic flow at time interval ( t + l ) for some prediction horizon l . to produce short-term traffic flow forecasts, such as BoxCJenkins autoregres-sive integrated moving average (ARIMA) models[1, 10, 18], Kalman filtering[11], and nonparametric statistical methods[16]. Among them, the ARIMA model is widely used, and has achieved good effect. This method makes predictions by extracting the correlation between sequences. Besides, Even in the case of a small data size, it can also get relatively good prediction results.
 theory, etc. SVR(the algorithm of SVM in regression) has been successfully used to predict traffic parameters such as hourly flow and travel time[5]. Ding et al.[5] applied the SVR to predict traffic flow time-series prediction, and Wu et al.[19] presented the SVR for travel-time prediction and compared it with other baseline travel-time prediction methods using real highway traffic data. CastroNeto et al.[4] presented an OLSVR for the prediction of short-term freeway traffic flow under both typical and atypical conditions. In addition, on the basis of this article, Jeong et al.[7] modified the SVR model and put forward the OLWSVR model to predict the traffic flow. We find that SVR has been widely used in this problem. In the final analysis, this model has better performance than other intelligent algorithms.
 traffic flow prediction[12, 23]. Especially in this article, Nie et al. took the time series model represented by ARIMA and intelligent algorithm model represented by SVR fixed, and then they used the hybrid model to predict traffic flow. This hybrid model combines the good performance of the ARIMA in the linear part and the good performance of the SVM in the nonlinear part together. Actully, Based on the above situation, we combine the ARIMA model and the SVM model from another point of view and the new hybrid model is applied to traffic flow prediction. 3.1 ARIMA Model Introduced by Box and Jenkins [3], the ARIMA model has been one of the most popular approaches to forecasting. Usually, An ARIMA model actually uses autoregressive moving average (ARMA) model to fit stationary time series. Because the data used in our study are often non-stationary time series, it must be transferred into stationary time series by difference transformation before using ARMA model. In an ARIMA model, the future value of a variable is supposed to be a linear combination of past values and past errors, expressed as follows y where y t is the actual value and  X  t is the random error at time t,  X  i and  X  j are the coefficients, p and q are integers that are often referred to as autoregressive and moving average polynomials, respectively. Basically, model identification, parameter estimation and diagnostic checking are considered to be the three most important steps when we use ARIMA for modeling. For example, the ARI-MA(1,0,1) model can be represented as follows between the data points to predict the next data we need. When we increase the length of time to be predicted, this model X  X  prediction effect also decreases. 3.2 Support Vector Machines (SVM) The support vector machines (SVM) were proposed by Vapnik [15]. Based on the structured risk minimization (SRM) principle, SVMs seek to minimize an upper bound of the generalization error instead of the empirical error as in other neural networks. Additionally, the SVMs models generate the regress function by applying a set of high dimensional linear functions.
 is the input vector with n-dimension, y i  X  R is the associated desired output value of x i . The SVM regression function is formulated as follows: where  X  ( x ) is called the feature, which is nonlinear mapped from the input space x . The coefficients  X  and b are estimated by minimizing the regularized risk function: where both C and are prescribed parameters. The first term L ( f ( x ) ,y ) is called the -intensive loss function. The f ( x i ) is the actual value in the i th period. This function indicates that errors below are not penalized.
 into a quadratic programming problem as follows: this quadratic programming problem, and the input vector x i corresponding the nonzero  X  i , X   X  i is the support vector. Thus, the Eq. 3 can be transformed into the following regression function: Finally, we can predict the traffic flow with regression function Eq. 7. 3.3 The Hybrid Methodology The behavior of traffic flow data can not easily be captured. Therefore, a hybrid strategy that has both linear and nonlinear modeling abilities is a good alterna-tive for forecasting future traffic flow. It is obviously that the ARIMA and the SVMs models have different capabilities to capture data characteristics in linear or nonlinear domains, so the hybrid model proposed in this study is composed of the ARIMA component and the SVMs component.
 Where x t + l represents the actual value from the t th time point and l is the step size we need to predict. The  X y t ( l ) is predicted value which is also from the t th time point after l steps and e t ( l ) is called prediction error. Based on the known belongs to white noise in the stationary series, and its mathematical expectation is equal to zero. Based on the above analysis, we can come to the following conclusions: principle of least standard deviation. To summarize, the variance of data point which we need to predict is only related to the prediction step length, but not to the start point x t . In other words, with the increase of the prediction step, the prediction accuracy will be reduced. Therefore, we introduce a weight function f Where the meaning of x t + l and x t is the same as before and k is the bandwidth parameter that need us set artificially. The value of parameter k determines the weight of the points near x t . We all know that the autocorrelation coefficient of MA ( q ) sequence is censored within q steps.Based on this property, we know that MA ( q ) sequences in theory can only predict values within the q steps. Each point we need to predict in the neighborhood is weighted according to its distance from x t . The longer the distance, the smaller the weight. So we can confirm the value of k by this equation: f q +1 w = 0 . 5. In this paper, we apply the model to two periods which was set from 6 a.m. to 10 a.m. and 2 p.m. to 6 p.m.. Because the variation trend in these two periods is quite obvious. Finally, we set our model as follows: Where we set  X  = f l w . Besides, Y t + l represents the prediction value when we use ARIMA for modeling, N t + l is the value predicted by SVMs model and Z t + l is the ultimate prediction value. 4.1 Experimental Data We use a set of toll-gate traffic flow data from September 19th, 2016 to Octo-ber 17th, 2016 provided by KDD cup. The data set includes the time for each addition, the corresponding weather data sets are provided which incudes pres-sure, sea pressure, wind direction, wind speed, temperature, relative humidity and precipitation. As far as we know, this group of data is recorded somewhere in China, so we can clearly know the specific holiday time. For the purpose of prediction, we process the initial data into the standard traffic flow data and the time window size is set to 15 minutes. 4.2 Traffic Flow Time-Series Analysis The time span of the entire dataset is close to a month, but our time window is set to 15 minutes. As we can see from the Fig.1, the figure of the original time series changes too frequently during the busy period of traffic. Therefore, we use wavelet transform to de-noise the original sequence as shown in Fig.2. It shows that the whole sequence has obvious periodicity. Besides, there will be a clearly up trend from about 6 a.m. until about 8 a.m. and a distinct downtrend in the afternoon every day. It is these acutely changing time quantum that we should focus on.
 cantly higher than the other within a week of the time from the 1065th data point(September 30, 2016 at 2 a.m.) to 1829th data point(October 8, 2016 at 1 a.m.). The highest peak appears at the 1179th data point. In China, as we all know, this period is a statutory holiday. During this time, the travel volume will suddenly increase. Fig.3 shows the traffic flow corresponding to different types of vehicles. From this figure, we can see that the number of type 0 and type 1 is much larger than the others. Furthermore, during the holiday, the number of type 0 shot up. This may be due to the fact that people choose to travel by their own cars. In addition, we note that the traffic flow from 893rd data point to the 931st data point is higher than the other time (except holidays). we know that there is a continuous rainfall during this period by checking the weather dataset. 4.3 Feature Analysis From the previous analysis, we know that the change of traffic flow is closely related to time, vacation and weather. In addition, the weather dataset includes a number of features. In this section, we will use a specific approach to analyze the importance of each feature. From Fig.2, the traffic flow in September 28th was affected by the unusual weather. Although there will be rain at other time, their traffic flow is not affected. We found that the only difference in September 28th is a long period of rain. So, we assume that it may be that the duration of rainfall affects the traffic flow and we add the time span of rainfall as a feature. We finally extract 11 features from the traffic flow dataset to model its dynamics. Table 1 lists major features used in this study.
 The successful feature selection can improve the performance of the model, it can help us to understand the characteristics of the data and the underlying perform feature selection before modeling to achieve better results. Next, we use the method based on random forests to select features. Random forests are composed of multiple decision trees. Each node in the decision tree is a condition of a feature, and the data set is divided into two parts according to these conditions. We can use variance or least square fit to set these nodes(i.e., the optimal conditions). For a decision tree forest, we use the variance of the mean reduction as the value of feature selection.
 In order to prevent over fitting, according to the performance of the experiment, we do not take the holiday as a feature to train. As we can see from Fig.4, the features related to time are the most important, while the importance of other independent of time for the overall fitting effect. Of course, we can not simply treat abnormal weather data as outliers. In order to predict the traffic flow on rainy days accurately, we also analyze the feature importance of all the rainy days. As shown in Fig.5, the duration of rainfall has become the most important factor. The results confirmed our previous conjecture: the real reason for traffic flow changes is not the amount of rainfall but the duration. 4.4 Traffic Flow Prediction Using Hybrid Model Based on the feature analysis above, the traffic data set was collected with traffic under two scenarios: Scenario 1: Typical traffic conditions. In this scenario, no special occurrences that may significantly change the traffic pattern. In our experiments, the time window size was 15 minutes. we use two consecutive days of data points as historical data for model fitting when we use ARIMA model. At the same time, in order to improve the effectiveness of the model, we use 21 days of data points as training data when we use the SVMs model. Finally, we use the two time quantum of the last day as the test data.
 Scenario 2: Atypical traffic conditions. In scenario 2, the testing day (13th day)
Fig. 4: Feature Importance Analysis either was a special day of traffic (holiday) or had an unusual weather(continuous rainfall). Unlike the previous scenario, we use a cross validation approach to test our model because vacations and unusual weather are not common. In addition, in order to increase the accuracy of SVMs fitting, we increase the duration of rainfall as a feature in the case of rain.
 SVM and the ARIMA-SVMs model(current hybrid model)are selected for exper-imental comparison. The method of using ARIMA to forecast the daily traffic flow is as follows. Firstly, the load series is transferred into the stationary time series by a periodic difference transformation and a first-order difference trans-formation. We know that the periodic difference can eliminate the periodicity of the non-stationary sequence. In the case of the difference, the first-order differ-ence can eliminate the linear trend. As for the curve trend, we can use the second to the third difference to eliminate it[3]. Secondly, the model of the raw load se-ries is confirmed through order determination, and the values of parameters are determined by parameter estimation. Finally, we use the confirmed model to predict. The parameters of SVMs have a great effect on prediction accuracy, so we use the grid search method[2] to find the optimal parameters. In addition, we quantified the prediction performance of each model with mean absolute percent error (MAPE) as where  X y l represents the predicted traffic flow at step size l, y l is the actual traffic flow data, and n is the number of predictions.
 tive errors of the first 7 steps of the ARIMA model are smaller than those of the SVMs model. However, with the increase of the prediction step, the overall effect of SVMs is stable, while the ARIMA has a significant upward trend. So we use a weight function(Eq. 10) to mix the two models to improve the overall prediction effect. In this Scenario, The method of using ARIMA to forecast the daily load is as follows. Firstly, We already know that there is a linear trend in the data sequence, so we use the first order difference to eliminate it. At the same time, we use a periodic difference transformation to eliminate its periodicity. Secondly, we confirm the parameter p,d,q of this model(ARIMA) by order determination and parameter estimation. Finally, we use the confirmed ARIMA(4,2,6) model to predict. We have extracted the necessary features from the previous feature analysis. Now, we use these feature data to train the SVMs model. Of course, the parameters of SVMs have a important effect on prediction accuracy. Through the grid search method, the proper values of them are determined as follows: c = 20 , = 0 , 13 , X  = 3. At last, we use the trained SVMs model to predict traffic flow. Because the parameter q of the ARIMA model is 6 here, so we set k  X  2 . 2 according to the equation: f 7 w = 0 . 5. We combine the two forecasting results in a weighted manner. Finally we get the MAPE of the new hybrid model is 15.4. a rainy day(September 28th) to do the experiment. The experimental procedure is similar to the previous one, and the difference is that it is necessary to add some features according to the previous analysis. As can be seen from Table 2, the overall prediction effect of the new hybrid model is better than the others. Besides, despite the good performance of current hybrid model, there are still mixed results that are not as good as a single model (as described in [13]). This paper has proposed a new hybrid approach for the short-term prediction of traffic flow and compared its performance with that of several original model and the old hybrid model. As one of the most popular short-term forecasting methods, ARIMA model can not make use of the important external factors such as the weather, holiday and so on. To overcome this problem, by using a weight functionwe combine it with the SVMs model which contains the overall stability. The new hybrid ARIMA-SVMs model has successfully realized the mutual supplement with each other in terms of advantages of ARIMA and SVMs. The experiments show that the new hybrid model is better than the original model and the current hybrid model.

