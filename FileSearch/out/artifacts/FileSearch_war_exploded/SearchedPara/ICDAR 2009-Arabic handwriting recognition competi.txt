 ORIGINAL PAPER Haikal El Abed  X  Volker M X rgner Abstract This paper describes the Arabic handwriting recognition competition held at ICDAR 2009. This third competition (the first two were held at ICDAR 2005 and 2007, respectively) again used the IfN/ENIT-database with Arabic handwritten Tunisian town names. This very success-ful database is used today by more than 82 research groups fromuniversities,researchcenters,andindustriesworldwide. At ICDAR 2009, 7 groups with 17 systems participated in the competition. The system evaluation was made on one known dataset and on two datasets unknown to the partic-ipants. The systems were compared based on the recogni-tion rates achieved. Additionally, the relative speeds of the systems were compared. A description of the participating groups, their systems, and the results achieved are presented. As a very important result of this competition, a continu-ous improvement of the recognition rate from competition to competition of more than 5% can be observed.
 Keywords Arabic handwritten word recognition  X  Evaluation  X  Competition 1 Introduction The OCR (Optical Character Recognition) research started in the early 1930s, and first address reading machines for Latin characters are available since the 1960s. Due to the connect-edness of characters and the large variability of handwriting it took more than ten further years before the first papers on handwritten word recognition were published. Research work on Arabic Optical Text Recognition increased consid-erably since the 1980s. First systems were available in the market in the 1990s. Today, a few systems are available in the market, but the only independent system comparison was made 15 years ago. Compared to the high quality and wide spread usage of OCR systems for Latin characters, Arabic OCR still has to be developed, especially for the case of handwritten words.

The special style of Arabic printed text where the charac-ters are connected (with some exceptions) within a word is the normal case for cursively handwritten words in many different languages, too. That is why methods developed for the recognition of words handwritten in languages other than Arabic as for instance methods based on a so-called Hidden Markov Model (HMM) or on a Neural Network (NN) are applied to Arabic handwritten word recognition systems successfully. Research on Arabic handwritten word and text recognition is still of great interest. Much work has been done in recent years in this field. Especially since 2005, when the first competition took place at ICDAR conference [ 27 ], an improvement of published systems could be observed [ 8 ]. This paper presents the systems and the results achieved at the third competition of Arabic handwritten word recogni-tion systems. The results of this third competition [ 26 ]were presented during the ICDAR 2009 conference in Barcelona, Spain. The competition was again carried out by the group at Institut fuer Nachrichtentechnik (IfN) of Technische Univer-sitaet Braunschweig, Braunschweig, Germany. For the train-ing data, the IfN/ENIT-database was used. Seven groups with a total of 17 systems participated in the competition: only one group was also a participant of the last competition, while all other groups were participating for the first time. The compe-tition was again held as a closed competition; that is, runtime versions of all recognition systems were sent to the organiz-ing group and tested by the organizing team in their environ-ment. This evaluation was performed on the same datasets as those in the 2007 competition [ 25 ].

This paper is organized as follows: Sect. 2 presents the database, the training, and the test sets. Section 3 introduces the participating groups and gives a short description of the submitted systems. Section 4 presents the tests and the results achieved by the different systems. Section 5 deals with a discussion about achieved results and participating meth-ods. Finally, the paper ends with concluding remarks and an outlook. 2 Training and test datasets The competition was performed using the common IfN/ENIT-database of handwritten Tunisian town/village names. In the following, the used data are described in some detail. 2.1 The IfN/ENIT-database The IfN/ENIT-database was developed to advance the research and development of Arabic handwritten word rec-ognition systems. Since the presentation of this database at the CIFED 2002 conference [ 33 , 7 ], more than 93 groups in about 31 countries are working with the IfN/ENIT-database today (i.e., at the beginning of 2010), which is freely available for non-commercial research (www.ifnenit.com).

The database in version 2.0 patch level 1e (v2.0p1e) con-sists of 32492 Arabic words handwritten by more than 1000 different writers (set e was added to version 1.0). Written are 937 Tunisian town/village names. Each writer filled one to five forms with preselected town/village names and the cor-responding postcode. Ground truth was added to the image data automatically and verified manually. As an example, Table 1 shows images of the same name ( ) written by 12 different writers out of the IfN/ENIT-database.

Table 2 shows in detail the number of names, characters, and Part of Arabic Words (PAWs = regularly connected parts ofaword)intheIfN/ENIT-databasev2.0p1e.Thesefivedata-sets ( a to e ) were available to the participants to train and test their systems. 2.2 The test datasets The competition was organized with a collection of new data unknown to all participants. Again, the words were selected from the same lexicon and written by writers who had not contributed data to the database before. These data were sep-arated into the four sets f , s , t , and t 1 (Table 3 ). Details about the test datasets are described in M X rgner and Abed [ 25 ].
Set f was collected in Tunisia (in the same way it was done for sets a to e ). To test the ability of the systems to recog-nize also words handwritten by persons from other regions, a small set of data predominantly written by students (again the same lexicon was used) was collected in the United Arabic Emirates. This dataset s was collected in the department of Computer Science at the University of Sharjah, with the help of Prof. Ashraf Elnagar. Tables 4 and 5 show some further statistics of the different test datasets. The test datasets will be freely available for non-commercial research (www.ifne-nit.com) at the end of 2010. 3 Participating systems The following section gives a brief description of the systems submitted to the ICDAR 2009 competition. Table 6 summa-rizes the description of the participating systems. Each group is identified by a group ID (G-ID) and each system by a sys-tem ID (S-ID). 3.1 The system: UOB-ENST (S-IDs 1 X 4) This system was submitted by Chafic Mokbel and Ramy Al-Hajj from the University of Balamand (UOB), Lebanon, and Laurence Likforman-Sulem from Telecom ParisTech, France.

Four variants of the UOB-ENST system were presented: a basic variant (S-ID 1) similar to that presented at ICDAR 2005 [ 1 ] and two systems (S-IDs 2 and 3) with advanced handling of variations of the slant of handwriting [ 3 ]. The system is HMM based and of analytic type without pre-seg-mentation. Figure 1 shows a block diagram of the overall UOB-ENST system. The system was developed using the general purpose HMM toolkit HCM [ 29 ].Theworkwas carried out within the PhD thesis of Ramy Al-Hajj in tight collaboration with ENST-Paris. The advanced versions were developed to reduce the recognition errors caused by slanted handwriting and erroneous positions of diacritical points and marks. The proposed system comprises two stages: the first stage deals with recognition and classification based on the technique of slanted windows (with different angles) to extract the features, the second stage consists in a combined post-processing step (S-ID 4). Different combination meth-ods were used and examined, such as majority vote rules and Borda count combination operator. In addition, a combina-tion method based on an artificial neural net (ANN) is used [ 2 ]. The recognition results and the speed of the systems of this group are summarized in Table 7 .
 3.2 The system: REGIM (S-ID 5) The Research Group on Intelligent Machines (REGIM) at Ecole Nationale d X  X ng X nieurs de Sfax (ENIS), University of Sfax, Tunisia, participated with a system submitted by Abd-elkarimElBaati,MonjiKherallah,HoucineBoubaker,Mahdi Hamdani, Adel M. Alimi, and Abdellatif Ennaji from LITIS, University of Rouen, France.

The system is based on the automatic reconstruction of the trajectories of a handwritten word and their temporal order using the image of the word only [ 11 ]. To benefit from dynamic information also, a sampling operation consider-ing trajectory curvatures is calculated using the correlation between the angular velocity and the curve. Finally, the tra-jectory is sampled at fixed time intervals by traversing it with a curvilinear velocity [ 11 ]. Subsequently, the curvilin-ear velocity signal uses beta-elliptical modeling, which was developed for on-line systems [ 21 ] to calculate the features. As recognizer, a HMM-based system using HTK was devel-oped [ 16 ]. Figure 2 shows a block diagram of the recognition process. The recognition results and the speed of the REGIM system are summarized in Table 8 . 3.3 The system: MDLSTM (S-IDs 9 X 11) Alex Graves from Technische Universit X t M X nchen, M X nchen, Germany, submitted three systems. As a recog-nizer, a multilingual handwriting recognition system based on a hierarchy of multidimensional recurrent neural networks [ 12 , 13 ] is used.

The system can accept either on-line or off-line hand-writing data, and in both cases, it works directly on the raw input without any preprocessing or feature extraction. It uses the multidimensional Long Short-Term Memory net-work architecture [ 12 ], an extension of Long Short-Term Memory [ 18 ] to data with more than one spatio-temporal dimension. The basic structure of the system, including the hidden layer architecture and the hierarchical subsampling method is described in Graves and Schmidhuber [ 14 ]. Figure 3 gives a graphical representation of the MDL-STM recognition system:  X  X irst the input image is collected into boxes 3 pixels wide and 4 pixels high, which are then scanned by four MDLSTM layers. The activations of the cells in each layer are displayed separately and the arrows in the corners indicate the scanning direction. Next, the MDL-STM activations are gathered into 4  X  3 boxes and fed into a feed forward layer of tanh summation units. This process is repeated two more times, until the final MDLSTM activa-tions are collapsed to a 1D sequence and transcribed by the CTC layer (Connectionist Temporal Classification). In this case, all characters are labeled correctly except the next to last one, and the correct town name is chosen from the dic-tionary X  [ 14 ]. The recognition results and the speed of the systems of this group are summarized in Table 9 . 3.4 The system: RWTH-OCR (S-IDs 12 X 15) Four systems were submitted by Philippe Dreuw, Stephan Jonas, Georg Heigold, David Rybach, and Hermann Ney from RWTH Aachen University, Human Language Technol-ogy and Pattern Recognition, Aachen, Germany.

The System-1 is a multipass system. The first pass (S-ID 12) uses a modified maximum mutual information training criterion. The second pass (S-IDs 13 X 14) is automatically built using a novel unsupervised confidence-based discrimi-native training criterion on the output of the first pass system to adapt the model to the unknown testing data [ 4 ]. Train-ing is made with a discriminative training approach based on the Modified Maximum Mutual Information criterion (M-MMI). The criterion is modified by a margin term which can be interpreted as an additional observation-dependent prior weakening the true prior [ 17 ]. Additionally, a lexicon with multiple writing variants is used, where the white spaces between the pieces of Arabic words are explicitly modeled as writing variants as proposed in Dreuw et al. [ 5 ]. In the second-pass system, a novel unsupervised confidence-based discriminative model adaptation approach using the modi-fied MMI training criterion is used to automatically adapt the models to the unknown testing data.

System-2 (S-ID 15) is a single-pass HMM-based hand-writing recognition system which is Viterbi trained using the maximum-likelihood training criterion. A lexicon with mul-tiple writing variants is used, where the white spaces between thepiecesofArabicwordsareexplicitlymodeledasproposed in Dreuw et al. [ 5 ]. Figure 4 visualizes the alignment of the spaces. The model uses a character independent topology. During recognition, a strong pruning is applied to reduce the active search space. The recognition results and the speed of the systems of this group are summarized in Table 10 . 3.5 The system: LSTS (S-ID 17) ThissystemwassubmittedbySamiaSnoussi-Maddourifrom LSTS group at the Ecole Nationale d X  X ng X nieurs de Tunis (ENIT), Tunis, Tunisia. This system is based on a so-called Transparent Neural Network (TNN) that combines Global and Local Vision Modeling (GVM X  X VM) of the word [ 32 ]. In the forward propagation movement, the GVM proposes a list of words containing structural features characterizing the presence of some letters in the word. Then, in the back-propagation movement, these letters are confirmed or not according to their proximity to corresponding printed letters. The correspondence between the letter shapes and the cor-responding printed letters is performed by LVM using the correspondence of their normalized Fourier descriptors [ 31 ]. The particularity of the TNN-LVM is that it does not use any training steps. It can be used for different languages or differ-ent lexicons by a simple change of the content of each layer. Figure 5 shows a part of the system layers in some detail. The recognition results and the speed of the LSTS system are summarized in Table 11 (Fig. 5 ). 3.6 The system: A2iA (S-IDs 6 X 8) The A2iA Arab-Reader system was submitted by Fares Menasri and Christopher Kermorvant (A2iA SA, France), Anne-Laure Bianne (A2iA SA and Telecom ParisTech, France), and Laurence Likforman-Sulem (Telecom Paris-Tech, France).

This system is a combination of two different word recognizers, both based on an HMM recognizer (Fig. 6 ). The first one (S-ID 6) is a Hybrid HMM/NN recognizer with grapheme segmentation [ 24 ]. It is mainly based on the stan-dard A2iA word recognizer for Latin script, with several adaptations for Arabic [ 28 ]. The second one (S-ID 7) is a Gaussian Mixture HMM developed using the HTK toolkit, with sliding windows (without explicit pre-segmentation). The computation of features was inspired by Al-Hajj X  X  works on geometric features for Arabic recognition [ 2 ]. The results of these two word recognition systems are combined (S-ID 8) to compute the final result [ 2 ]. The recognition results and the speed of the systems of this group are summarized in Table 12 . 3.7 The system: LITIS-MIRACL (S-ID 16) This system was submitted by Yousri Kessentini (LITIS, University of Rouen, France, and MIRACL, University of Sfax,Tunisia),ThierryPaquet(LITIS),andAbdelMajidBen-hamadou (MIRACL).

The recognizer is based on a multistream segmentation-free HMM [ 19 ]. Two feature vector sequences are created using a sliding window and simultaneously decoded accord-ing to the multistream formalism. One stream is composed of density features while the other is made of contour features [ 20 ]. Training the multistream HMM consists of two tasks: the first task is the estimation of its HMM stream component parameters and the second task is the estimation of appro-priate stream exponents. During the recognition phase, an HMM-recombination approach is used [ 19 ]. Figure 7 shows a block diagram of the recognition methodology. The recog-nition results and the speed of the LITIS-MIRACL system are summarized in Table 13 . 4 Tests and results We evaluated the performance of the 17 different Arabic handwriting recognition systems in three steps. In the first step, we used a subset and then the whole datasets d and e of the IfN/ENIT-database for a function check of the systems. In a second step, we used the test datasets f and s , unknown to all participants. In a third step, the speed performance of the systems was compared on two subsets t and t 1 .Themost important results of our tests are shown in Table 14 . For each test, the three best results (only the best system is selected from each group) are marked in bold font. The results present the word recognition rates in %. 4.1 Tests with known data (sets d and e ) The comparison of the systems based on the results of sets d and e , which are part of the training set, shows 7 systems with a recognition rate better than 90% on set d and 83% on set e . Four systems have a recognition rate of less than 70% on set d and three systems of less than 60% on set e .Itis interesting to see that the relative position of all systems is the same for sets d and e . 4.2 Main tests (sets f , f a , f f , and f g ) The most important test to compare the performance of the different systems is of course the test using the new set f .The features of this set should be similar to sets a to e ,asitwas collected in the same country. As the distributions of words in all sets of the database are different, three subsets of set f are generated to make the word distribution of the training and testing sets more similar: Set f a (8,290 names) limits the number of a name in the test set by the number of the name in the training set, set f f (4,319 names) approaches the distribution of the test set by that of the training set, and in set f g (3,393 names) the appearance of a name in the test set is limited to three.

Table 14 shows some interesting results: (1) Three sys-tems recognize more than 90% correctly, (2) the difference between set f and the f x sets is about 1 to 3% (i.e., there is no strong dependency of the words statistic), (3) the loss of the systems compared to set e differs significantly; however, one system shows the same and another system shows even better results on set f than on set e . The best system has a recognition rate 2% higher than the second-best system and the absolute value is again much higher than that in the 2007 competition. It is obvious that a further improvement of the performance of systems since ICDAR 2007 has been accomplished. 4.3 Robustness test (set s ) The test with data from the UAE is very interesting. Although all training data comes from Tunisia, the recognition rate on this set is better than 80% in the case of one system and better than 70% in 9 cases. This is a loss of about 10% compared to the recognition rate on set f , but it shows that the ability of the systems to generalize is fair. 4.4 Speed tests (sets t and t 1 ) The average processing time per image on the two test sets t (1,000 images) and t 1 (100 images), respectively, is shown in the last two columns of Table 14 . A substantial difference in speed can be observed. The slowest system is more than 1000 times slower than the fastest one. An average process-ing time of 114 ms per image is a good result, and it combines high speed with very good recognition results (second-best recognition result on set f ). The total processing time was 50 days, 16 h, 30 min, and 25.186 s. 5 Discussion 5.1 Discussion of the results The most important result of this competition in general is the fact that again a higher recognition rate is reached in com-parison with the last competition in 2007. If we go into some details, we observe that in contrast to the last competition, where the best systems were based on HMM technologies, in this competition the best system (S-ID 11) uses a new NN-based method. Additionally, this best system does not use any normalization or feature extraction; they are integrated into the training and classification steps. This seems to be a flexible and, depending on the training data, optimal method.
Takingacloserlookatthemodulesofarecognitionsystem and the solutions of the participating systems, we can con-sider the following. Due to the data used, no preprocessing such as noise reduction is needed. As a next step, normaliza-tion is performed in many cases to reduce the variability of handwriting and pens used. In this competition, none of the systems used any normalization before calculating the fea-ture sets. If we look closer at the used features we can observe that none of the systems uses complex sets of structural and statistical features. The systems rely on simple features based on pixel or pixel-derivatives statistic. The winning NN-based system furthermore does not calculate features prior to rec-ognition but trains the feature parameters in an integrated process together with the parameters of the recognizer. The advantage of this technique is that not only the recognizer but also the features are optimized in relation to the training data.

Finally, most of the systems of this competition use some kind of post-processing of the recognizer output; especially, a combination of the outputs of more than one recognizer is used to optimize the final system output [ 9 , 10 ]. As a resume, we can say that in addition to HMM also NN-based systems show good performance, especially bec-ause new robust features are used.

This brings us to the important aspect of the data which were used in this competition. The top performing sys-tems successfully exploited information from the lexicon and the training data for feature extraction, recognition, and post-processing. It is obvious that the high recognition rates are reached due to the limited size of the IfN/ENIT-database. It follows that for a further improvement, such application of systems combination and fusion approaches [ 10 , 15 , 30 ], of Arabic handwritten word or better text rec-ognition systems there is the need of using new data. We recommend to use new data in a similar format as the IfN/ENIT-database to allow a fast and easy adaptation of already running systems to this new data. The authors of the IfN/ENIT-database are currently collecting new datasets. 5.2 Future trends Thestateof theart of Arabicoff-linehandwrittenwordrecog-nition as presented with this 2009 competition demonstrates that a further step has been taken in the last years to achieve a performance comparable to systems for the recognition of English words. It could also be observed that the best performing systems are using general solutions with only some adaptations to Arabic or better to the training data and lexicon used.
 Yet, the word recognizer is only one part of an off-line Arabic handwriting recognition system. A complete system also needs document analysis components for image prepro-cessing, document segmentation, text block detection, line segmentation, word segmentation, and baseline estimation. All these processing steps must be done on real-world doc-uments, such as letters, bank transfer forms, and insurance forms. Competitions on isolated Arabic words are only a first step in system development, because they are concerned only with word recognition performance. A complete system takes the paper document as input and performs all tasks from preprocessing to recognition automatically. Additionally, an optimized Arabic text recognition system needs to consider the characteristics of the Arabic language, being its syntax and semantics. Finally, a natural language processing has to be integrated if full text recognition in conjunction with large lexicon is the goal. 5.2.1 Recognition modules In an Arabic handwriting recognition system, the features of Arabic handwriting must be considered along with syntax and semantics to conduct the recognition process. This infor-mation can be used implicitly or explicitly during the recog-nition process to reduce the lexicon size and to verify the recognition result on word or sentence level. Besides using dictionary lookup, letter n -grams (or even word morphology rules) can improve recognition results as well. The use of language modules in recognition systems requires databases that allow the training and testing of such methods. 5.2.2 Benchmark and evaluation Competitions organized on the basis of images of real-world data are recommended. Address reading systems, for exam-ple, use the image of an envelope as input and deliver name and address of the recipient as output. The test of a sin-gle module, such as text block location, word segmentation, baseline estimation, and word recognition, is possible if the associated ground truth information is available in the region description. A further important aspect of competitions is the detailed presentation and discussion of used methods to understand how a method works and why it performs better than another. Last but not least, the organization of a bench-mark/competitionworkshoptopresenttheresultsanddiscuss the different approaches is recommended. 6 Conclusions The competition results of this third competition on Arabic handwriting recognition show that Arabic handwritten word recognition systems have further made remarkable progress within the last years. Most of the participating systems show a very high accuracy and some also perform at very high speed. As this paper is too short to present all participating systems in detail, we recommend reading the cited papers with the description of details and specific features of the systems.
 References
