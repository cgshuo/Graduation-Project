 Location-based social networks (LBSNs) have attracted an increasing number of users in recent years. The availabil-ity of geographical and social information of online LBSNs provides an unprecedented opportunity to study the human movement from their socio-spatial behavior, enabling a vari-ety of location-based services. Previous work on LBSNs re-ported limited improvements from using the social network information for location prediction; as users can check-in at new places, traditional work on location prediction that re-lies on mining a user X  X  historical trajectories is not designed for this  X  X old start X  problem of predicting new check-ins. In this paper, we propose to utilize the social network infor-mation for solving the  X  X old start X  location prediction prob-lem, with a geo-social correlation model to capture social correlations on LBSNs considering social networks and geo-graphical distance. The experimental results on a real-world LBSN demonstrate that our approach properly models the social correlations of a user X  X  new check-ins by considering various correlation strengths and correlation measures. H.3.3 [ Information Search and Retrieval ]: Information Filtering; J.4 [ Computer Applications ]: Social and Be-havioral Sciences Location-Based Social Networks, Location Prediction, Lo-cation Recommendation, Geo-Social Correlation
Location-based social media have attracted millions of users. A recent survey from the Pew Internet and American Life Project reports that over 28% of Americans use mobile  X  X heck-in X  at a physical place. The  X  X heck-in X  posts a user X  X  current geographical location, making known to his friends the information on when and where he is. Compared with many other online activities,  X  X heck-in X  reflects a user X  X  geo-graphical action in the real world, residing where the online world and real world intersect. Thus, the study of check-ins provides an ideal environment to understand human behav-ior, and could also benefit a variety of location-based services from mobile marketing [2] to disaster relief [6].

In recent years, with the increasingly available informa-tion on LBSNs, researchers began to investigate the role of social networks, and hoped to leverage the social network information in explaining a user X  X  check-in behavior [10, 4]. However, recent work on LBSNs has reported a limited role of social information in improving location prediction per-formance [5, 7, 3]. In search of the reasons why social information has made limited contribution to the perfor-mance of location prediction, we notice the problem of  X  X old start X  check-ins. It is reported in previous research that a user X  X  check-in behavior displays a power-law property on LBSNs [7], indicating that users do visit new places, result-ing in the  X  X old start X  check-ins. Traditional research pre-dicts a user X  X  next location relying on sufficient numbers of observations of an individual X  X  check-in history [9, 5, 7]; how-ever, it is difficult to apply them to the X  X old start X  X heck-ins.
In this paper, we tackle these two challenging yet impor-tant problems in LBSNs, i.e., role of social networks and  X  X old-start X  check-in prediction, propose the concept of geo-social correlations, which considers both effects from social networks and geographical distance, and study user X  X  check-in behavior while taking into account  X  X old-start X  check-ins. To the best of our knowledge, this work presents the first study of social correlations for the  X  X old start X  problem on location-based social networks. The contributions of our work are summarized below:  X  D S F  X  D : Local Friends S  X  F  X  D : Local Non-friends
D S F D : Distant Friends S  X  F D : Distant Non-friends
When we observe a check-in from a user, there are two scenarios: checking in at a previous visited location, or a new location that the user has never checked in before. In this paper, we define the former one as X  X xisting check-in(s) X , and the latter one as  X  X ew check-in(s) X . As a user X  X   X  X xisting check-in X  X ould be correlated to both of his historical ties and social ties [7], while when a user performs a  X  X ew check-in X , the effect of this behavior is more likely from his social ties than his historical ties, which indicates the chance to study the correlation between such check-ins and his social net-works in a controlled social environment that excludes the effects of users X  historical ties, while in turn also provides a feasible perspective of solving the traditional  X  X old start X  location prediction problem. Therefore, we focus on inves-tigating the social correlations with a user X  X   X  X ew check-in X  by eliminating the historical tie effect to the largest extent.
Figure 2(a) shows the percentage of  X  X ew check-ins X  over the total number of observed check-ins in a period of a half year with 11,326 users and 1,171,521 check-ins on Foursquare. The x-axis represents the number of observed check-ins in a chronological order, and the y-axis represents the percentage of  X  X ew check-ins X . The figure indicates that a user would like to go to a new location when he does not have much check-in history at early time; and then, as time goes by, the user would gradually shift his check-ins from new loca-tions to existing locations.

Social scientists found that geographical distance plays an important role in social connections [8]. Previous work on LBSNs studied the spatial property of social networks, and reported that the probability of having a social connection between two individuals is a function of their distance [10]. Therefore, to study the social correlation of a user X  X   X  X ew check-in X  X ehavior, we divide the social correlations into four sub-correlations, namely geo-social correlations, correspond-ing to four social circles with respect to the factors of social friendship and geographical distance. The confusing matrix of the four social circles is listed in Table 1, where F indicates observed social friendship,  X  F indicates non-friendship, D in-dicates long geographical distance, and  X  D indicates short geographical distance. For example, S F  X  D represents a user X  X  social circle consisting of his friends who live close. We define the four social circles as  X  geo-social circles  X . In [5], it is reported that the relative influence of a friend who lives 1,000km away is 10 times greater than the influence of a friend who lives 40km away on a user making check-ins. Therefore in this paper, we consider a pair of users within the same state/province as living close with short geographical distance, and a pair of users in different states/provinces as living distant with long geographical distance.

Figure 1 illustrates a user X  X   X  X ew check-in X  X ehavior in dif-ferent social correlation aspects. User u goes to the airport at t 1 , and then the restaurant at t 2 followed by the hos-pital at t 3 . When u performs a  X  X ew check-in X  at t 4 , i.e., the check-in location does not belong to { l 1 , l 2 , l 3 Figure 1: Geo-social correlations of new check-in behavior be correlated to those users that are from u  X  X  different geo-four circles enables us to study a user X  X  check-in behavior in four corresponding aspects: local social correlation, distant social correlation, confounding, and unknown effect.
To model the geo-social correlations of  X  X ew check-in X  be-havior, we consider the probability of a user u checking-in at a new location l at time t as P t u ( l ). We define this probability as a combination of the four geo-social correlations, where  X  1 ,  X  2 and  X  3 and  X  4 are four distributions that gov-indicates the geo-social correlation probability, which is the probability of user u checking-in at location l that is corre-lated to u  X  X  geo-social circle S x . In the following sections, we will further discuss how to model the geo-social correlation strength and measuring the correlation probabilities.
To explicitly model the distribution  X  1 ,  X  2 ,  X  3 and  X  we investigate the intrinsic patterns of correlations between a user X  X  check-ins and his geo-social circles. We plot the percentage of  X  X ew check-ins X  that can be found from the different geo-social circles in Figure 2(b). The x-axis repre-sents the number of observed  X  X ew check-ins X  in a chrono-logical order, and the y-axis represents the percentage of  X  X ew check-in X  locations that have been checked-in before by users from that specific geo-social circle. The percentage of  X  X ew check-ins X  from S  X  F D is not presented, since it can be deduced from the other three. Note that the geo-social correlations of the four geo-social circles may overlap. For example, a user may visit a new location l where both of his local friends and distant friends have visited before.
Eq. (1) indicates that with probability  X  1 , the current  X  X ew check-in X  is correlated to S  X  F  X  D . According to the ob-servation in Figure 2(b), the correlation between X  X ew check-ins X  and the geo-social circle S  X  F  X  D (blue line) increases with the increment of the number of observed  X  X ew check-ins X . It keeps increasing rapidly early on, and then gradually be-comes stable. Therefore, we set  X  1 as an active function to control the social correlation strength from local non-friend (a) Ratio of new check-ins. Figure 2: New check-in rate and social correlation on Foursquare data.
 Features Description users, which considers a set of features capturing u  X  X  histor-ical check-in behavior and his different geo-social circles. where f t u is a check-in feature vector of a single user u at time t, w is a vector of the weights of f t u , and b controls the bias. In this work, we define a user X  X  check-in and social features f t u in Table 2. Note that f t u is time sensitive, where all the features in f t u are computed at time t. f (  X  ) is a real-valued and differentiable function that guar-antees the range of  X  1 limited in [0, 1]. In this case, a sigmoid function is often used [1], which can approximately capture the observations about S  X  F  X  D in Figure 2(b). Sim-ilarly, we observe that the social correlations of S F D and S D are fairly constant in Figure 2(b), therefore we define, where  X  1  X  [0 , 1],  X  2  X  [0 , 1] are two constants to govern the social correlation strength of local friends and distant friends respectively.
 Based on above definitions, we can rewrite the probability P ( l ) in Eq. (1) as below, We define ( u, l, t ) as a check-in action at location l performed by user u at time t , and learn the parameters w , b ,  X  1  X  2 through maximum likelihood over all the ( u, l, t ) actions in whole dataset. We take the projected gradient method to solve the maximum likelihood problem.
In this section, we discuss the measurement of geo-social ability of user u checking in at location l at time t that is cor-related to u  X  X  S x , S x = { S F D , S F  X  D , S  X  F D 3 geo-social correlation measures to examine the probability P ( l | S x ), considering the factors of location frequency, user frequency and user similarity, as described below, We adopt S.Lf.Uf , S.Lf and S.Uf to compute P t u ( l | S P vation of their good performance on corresponding geo-social as a probability of random jump to a location in current location vocabulary that u has not checked-in before.
In this work, we use location prediction to evaluate our proposed geo-social correlation model ( gSCorr ). In partic-ular, we evaluate the following: (1) How the geo-social cor-relation strength and measures affect the X  X ew check-in X  X  be-havior; and (2) whether social correlations help  X  X ew check-in X  prediction. Before we delve into experiment details, we first discuss an LBSN dataset and evaluation metrics. relations of check-in behavior on location-based social net-works. Foursquare is one of the most popular online LBSNs. It has more than 20 million users and 2 billion check-ins in data from January 2011 to July 2011 through Twitter with the same crawling strategy as proposed in [10, 7]. We also collected the user friendships and hometown informa-tion through Foursquare.

We use the check-in data ranging from January 1 to June 30 as the training set to learn our model parameters, and construct the testing set (to discuss later) from the check-in data in July to predict the check-in probability. The statistics of the final dataset are shown in Table 3. The user distributions w.r.t. the world is given in Figure 3.
Table 4 lists detailed statistical information of the ob-served  X  X ew check-in X  distribution in four geo-social circles on the check-in data in July. We define  X  X ocial Co-occurrence Check-ins X  (SCCs) as the  X  X ew check-ins X  whose check-in locations can be found from the user X  X  different social cir-cles before its checking in time. The check-in data in the July contains 213,702 check-ins, with 77,581  X  X ew check-ins X  performed at the locations that have never been visited be-fore (the July testing data is a closed set in the sense that it does not consider the historical check-ins before July). Among the 77,581  X  X ew check-ins X , around 44 . 5% SCCs can be found from the S  X  F  X  D , 7 . 26% from S F  X  D , 4 . 62% from S and 50 . 82% from S  X  FD . Note that there are 2 . 2%  X  X thers X  can not be found from any of the four social circles. We consider this as an unknown effect and merge it into S  X 
We use location prediction as a prediction task and utilize the prediction accuracy to evaluate our model performance. The user similarities are computed based on the training set by cosine similarity, while each user is represented by a http://www.public.asu.edu/  X  hgao16/Publications.html Table 4: Statistical information of the July data check-in vector, and the vector entry indicates the visiting frequency of the user at the location. The testing set is se-the ground truth is the corresponding check-in locations, indicating the maximum number of accurate predictions we can achieve by utilizing social correlation information from S
D , S F  X  D and S F D . We do not consider S  X  F D because from a user X  X  perspective, friends and local non-friends are the ones that are reachable, while the distant non-friend users are too weak in relation for the user to correlate.
To evaluate gSCorr, we consider the effect of both geo-social correlation strength and measures in capturing the user X  X   X  X ew check-in X  behavior. Therefore, we set up five baselines to compare the location prediction performance with gSCorr, as shown in Table 5. Each baseline adopts a different combination of correlation strength and mea-sures, where  X  X s X ,  X  X s X ,  X  X s X ,  X  X m X ,  X  X m X  represent  X  X qual Strength X  (set all the geo-social correlation strength as 1),  X  X andom Strength X  (randomly assign the geo-social corre-lation strength),  X  X arious Strength X  (the same as gScorr),  X  X ingle Measure X  (use S.Lf.Uf to measure the correlation probabilities for all the geo-social circles) and  X  X arious Mea-sures X (the same as gScorr) respectively. Note that gSCorr is a various strength and various metrics approach. Following the evaluation metrics of recommendation system, we return top-k locations as prediction, and treat the prediction as cor-rect as long as the ground truth location is among the top-k returned locations. We set k = 1 , 2 , 3 in the experiment. For each random strength approach (RsSm and RsVm), we run 30 times and report the average accuracy.

Table 6 shows the detailed prediction accuracy of each method for further comparison. We summarize the essential observations below: Table 6: Location Prediction with Various Geo-Social Correlation Strength and Metrics gSCorr performs the best among all the approaches. To demonstrate the significance of its improvement over other baseline methods, we launch a random guess approach to predict the  X  X ew check-ins X . The prediction accuracy of the random guess is always below 0.005% for top-1 prediction, and below 0.01% for top-2 and top-3 prediction, indicat-ing that gSCorr significantly improves the baseline meth-ods, suggesting the advantage of gSCorr as considering dif-ferent geo-social correlation strength and metrics for each geo-social circle.
To further investigate the contribution of different geo-social circles, we compare the prediction results by utilizing various combinations of geo-social circles, as shown in Ta-ble 7. The geo-social correlation metrics are all selected as the best one for the corresponding social circles, and the geo-social correlation strength is learned in the previous section through gSCorr.

The results show that the social correlations of user X  X  di-rect friendships S F D and S F  X  D are significantly lower than the local non-friend users S  X  F  X  D . The latter contributes more than 95% of accurate prediction, which indicates that there is a big overlap of check-in locations between local non-friend users and direct friends. On the other hand, the correlations of S F D and S F  X  D do not overlap much, where the combi-nation of them has significant improvement over S F D and S
D individually. This is due to the diversity of friends distribution since local friends and distant friends do not share much common geographical environment. Further-more, the combination of S  X  FD  X  S F  X  D performs much bet-ter than S  X  F D  X  S F D , indicating that local non-friend users share more common check-in locations with local friends than distant friends. Finally, gSCorr always performs the best among all the combinations of social circles, demon-strating that by taking advantage of both social networks and geographical distance, our approach properly captures the user X  X   X  X ew check-in X  behavior on LBSNs, and could be utilized to benefit location-based services such as new loca-tion recommendation.
 Table 7: Location Prediction with Various Social Circle Combinations
In this paper, we propose a geo-social correlation model to capture the social correlations of check-in behavior on LBSNs. We investigate the correlations in context of social networks and geographical distance. We observe that social correlations do exist on LBSNs and it can be leveraged to solve the  X  X old start X  problem to a certain extent. We also find the correlation is more relevant to a user X  X  local non-friends than direct social friends. It would be interesting to consider a continuous function of social correlations with the changing of geographical distance instead of the binary function. In the future we will continue to study how to take advantage of both social correlations and historical check-ins, and explore novel usage of such information.
This work is supported, in part, by ONR (N000141010091). [1] J. Anderson, R. Michalski, R. Michalski, J. Carbonell, [2] S. Barnes and E. Scornavacca. Mobile marketing: the [3] J. Chang and E. Sun. Location 3: How users share [4] Z. Cheng, J. Caverlee, K. Lee, and D. Sui. Exploring [5] E. Cho, S. Myers, and J. Leskovec. Friendship and [6] H. Gao, G. Barbier, and R. Goolsby. Harnessing the [7] H. Gao, J. Tang, and H. Liu. Exploring [8] J. Goldenberg and M. Levy. Distance is not dead: [9] A. Monreale, F. Pinelli, R. Trasarti, and F. Giannotti. [10] S. Scellato, A. Noulas, R. Lambiotte, and C. Mascolo.
