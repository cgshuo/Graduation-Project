 Modeling physical activity propagation, such as the activ-ity level and intensity, is the key to prevent the cascades of obesity, and help spread wellness and healthy behavior in a social network. However, there has been lacking of sci-entific and quantitative study to elucidate how social com-munication may deliver physical activity interventions. In this work we introduce a C ommunity-level P hysical Activ-ity P ropagation (CPP) model to analyze physical activity propagation and social influence at different granularities (i.e., individual level and community level). CPP is a novel model which is inspired by the well-known Independent Cas-cade and Community-level Social Influence models. Given a social network, we utilize a hierarchical approach to detect a set of communities and their reciprocal influence strength of physical activities. CPP provides a powerful tool to dis-cover, summarize, and investigate influence patterns of phys-ical activities in a health social network. The detail exper-imental evaluation shows not only the effectiveness of our approach but also the correlation of the detected commu-nities with various health outcome measures (i.e., both ex-isting ones and our novel measure, named Wellness score , which is a combination of lifestyle parameters, biometrics, and biomarkers). Our promising results potentially pave a way for knowledge discovery in health social networks. H.2.8 [ Database Management ]: Database Applications X  Data Mining Theory; Algorithms; Experimentation Physical activity propagation; health social network
Regular physical activity reduces the risk of developing cardiovascular decease, diabetes, obesity, osteoporosis, some cancers, and other chronic conditions [15]. Public health goal standards recommend adults to participate in at least 30 minutes of moderate-intensity physical activity on 5 or more days a week [16]. However, less than 50% of the adult population meets these standards in many industrialized countries [1, 15]. Thus finding the effective population-based intervention strategies to propagate the physical activity is a key challenge.

The exploiting of Internet and the success of online social networks hold promise for wide-scale promotion of physical activity behavior change. In many developed countries, In-ternet access is greater than 63% and keeps increasing [5]. The Internet is identified as an important source of health information and may thus be an appropriate delivery for health behavior interventions [10]. Since 2000, a wide range of studies evaluating Internet-delivered health behavior in-terventions have been reported. Over half of them have been reported positive behavioral outcomes [9, 17, 18, 27]. Re-cently, online social networks can help people to interact and participate various physical activities and thus could better promote and spread physical activities with affordable cost. However, there has been lacking of scientific and quantita-tive study to elucidate how social network may contribute to physical activity propagation.

Besides online social network, recent advances in mobile technology provide new opportunities to support healthy behaviors through lifestyle monitoring and online commu-nities. Mobile devices can track and record the walk-ing/jogging/running distance and intensity of an individual. Utilizing these technologies, our recent study, named Yesi-Well, conducted in 2010-2011 as a collaboration between PeaceHealth Laboratories, SK Telecom Americas and Uni-versity of Oregon to record daily physical activities, so-cial activities (i.e., text messages, social games, meetup events, competitions, etc.), biomarkers, and biometric mea-sures (i.e., cholesterol, triglyceride, BMI, etc.) for a group of 254 individuals who formed a health social network. Phys-ical activities are reported via a mobile device carried by each user. All users enroll an online social network appli-cation allowing them make friend and communicate each other. Biomarkers and biometric measures are recorded via monthly medical tests performed at our laboratories on each user. The fundamental problems this study seeks to answer, Figure 1: Probability of a message becomes effective to propagate physical activities. which are also the key in understanding the determinants of healthy behavior propagation, are as follows: 1. Can social communication affect the physical activity 2. How can we leverage the social interaction to understand 3. How can we understand the propagation process with 4. Can we clarify the effect of physical activity propagation
For the first question, to illustrate that social communi-cation can deliver physical activity, we have performed a simple statistical analysis on our health social network. As-sume that a user u receives a message m at timestamp t from another user, we compare the total number of walking and running steps of u in the future period [ t,t +  X  t ] with the past period [ t  X   X  t,t ]. If u increases his total number of steps then m is considered as an effective message. The solid line in Figure 1 illustrates the probability of a message becoming effective; meanwhile the dashed line shows the probability of users increasing total number of steps when randomly choosing timestamp t (i.e., user might or might not receive a message at a random time t ). It is clear that with  X  t = 1 day the probability a user increasing his total number of steps is up to 0.58 and significantly larger than 0.26 of ran-dom t . This phenomenon remains when  X  t increases to 50 days before dropping down. This evidence strengthens our belief that social communications in health social networks can help propagate physical activities.

Motivated by the evidence, our goal in this paper is to understand the dynamics of physical activity propagation via social communication channels at both individual level and community level. More in concrete: 1) we aim to evalu-ate the probability of physical activity propagations for ev-ery social communication edge. The estimated probabilities can be used in many applications (i.e., propagation predic-tion, health behavior interventions, etc); 2) we then devise a graph summarization paradigm for the analysis of phys-ical activity propagation and social influence. In fact, we aim to find an abstraction of the propagation process which provides data analysts with a compact, and yet meaning-ful, view of patterns of influence and activity diffusion over health social networks. Members in the same community tend to play the same role in the propagation process. To achieve this goal, we are inspired by the well-known Independent Cascade (IC) model [7] and the Community-level Social Influence (CSI) model [12] to fit a health social network. In our health social network, users are strongly encouraged to communicate each other. The correlation be-tween effective messages and ineffective messages does not truly represent the user-user influence relationship. There-fore, existing models (e.g., CSI) cannot extract meaning-ful community structures. To overcome this issue we pro-pose a new model called C ommunity-level P hysical Activity P ropagation (CPP) in which effective messages are com-bined with a user X  X  responsibility to infer the probability of physical activity propagations in a health social network. Regarding our discovered structure, a community is iden-tified by a set of communicated nodes that share a similar physical activity influence tendency over nodes belonging to other communities. In order to clarify the effect of activ-ity propagation to health outcome, we analyze the corre-lation between detected communities not only with exist-ing health outcome measures (i.e., biometrics, BMI, average number of steps, BMI slope) but also with a novel measure, named Wellness score , which is modeled as a combination of lifestyle parameters, biometrics, and biomarkers.
The main contributions of this paper are as follows: 1. We introduce the Community-level Physical Activity 2. Given a set of disjoint communities, we devise an 3. We propose a novel health outcome measure, named 4. Through a comprehensive experiment on the YesiWell so-
The rest of the paper is organized as follows. In Sec. 2, we formally define the problem tackled in this paper and explain the technical detail of our model. The experimental evaluation is in Sec. 3. We briefly review related prior art in Sec. 4 and conclude the paper with a summary of our major findings and future research directions in Sec. 5.
We first give a definition of a single trace of physical activ-ity propagations and review the fundamental independent cascade propagation (IC) model [7] in Sec. 2.1. Then we introduce CPP model (Sec. 2.2). Finally, we present our parameter learning process and model selection in Sec. 2.3.
We first explain how to identify a single trace when a user v influences another user u by sending a message. Assume that at time t , user v sends a message m to user u ; given a  X  t , v is called to activate u at time t if the total number of (walking &amp; running) steps of u in [ t,t +  X  t ] is larger than or equal to the total number of steps of u in the past period [ t  X   X  t,t ]. Normally, the influence can be further propagated if u successfully activates other users at the next timestamp (i.e., t +1) [7]. However, the process in health social networks is usually slower than that. Following [11], we circumvent this problem by adopting a time window w to define a single trace as follows: given a chain of users  X  = { U 1 such that U i is a set of users, U 1  X  U 2  X  ...  X  U n =  X  ;  X  is called a single trace if  X  i  X  [1 ,n  X  1] ,  X  u  X  U i +1 is activated by some user u 0  X  U i such that t  X  ( u )  X  [ t  X  ( u 0 ) ,t where t  X  ( u ) is the activation time of u in  X  . In real cases, U 1 can be a user instead of a set of users.

Let G = ( V,E ) denote a directed network, where V is the set of vertices and E  X  V  X  V denotes a set of directed arcs. Each arc ( v,u )  X  E represents an influence relationship (i.e., v is a potential influencer for u ) and it is associated with a probability p ( v,u ) which represents the strength of such influence relationship. Let D = {  X  1 ,..., X  r } denote a log of observed propagation traces over G . We assume that each propagation trace in D is initiated by a special node  X  6 X  V , which models a source of influence that is external to the network. More specifically, we have t  X  ( X ) &lt; t ( v ) for each  X   X  D and v  X  V . Time unfolds in discrete steps. At time t = 0 all vertices in V are inactive,  X  makes an attempt to activate every vertex v  X  V and succeeds with probability p ( X  ,v ). At subsequent time steps, when a node v becomes active, it makes one attempt at influencing each inactive neighbor u , who receives a message from v , with probability p ( v,u ). Multiple nodes may try to independently activate the same node at the same time.
 There are different ways to evaluate the function p . The Independent Cascade (IC) model proposed by Kempe et al. [7] can be instantiated with an arbitrary choice of p . They use a uniform probability q in their experiments, that is, p ( v,u ) = q for all ( v,u )  X  E . On the other hand, Saito et al. [21] estimate a separate probability p ( v,u ) for every ( v,u )  X  E from a set of observed traces. These two approaches can be viewed as opposite ends of a complexity scale. Using a single parameter results in a simple but potentially low accuracy model, while estimating a different probability for each arc might provide a good fit but at the price of risking to overfit.

Next we introduce our CPP model to shift the model-ing of influence strength from node-to-node to community-to-community. In our community-based model, all vertices which belong to the same cluster are assumed to have iden-tical influence probabilities towards other clusters.
We start by introducing the likelihood of a single trace  X  when expressed as a function of single edge probability. This is useful to define the problem that we tackle in this paper. Let I  X ,u be the set of user u  X  X  neighbors that potentially influence u  X  X  activation in the trace  X  :
Let p : V  X  V  X  [0 , 1] denote a function that maps every pair of nodes to a probability. The log likelihood of the traces in D given p can be defined as:
Each v  X  I  X ,u , v succeeds in activating u on the considered trace  X  with probability p ( v,u ) and fails with probability 1  X  p ( v,u ). We define  X   X ,v,u as users X  responsibility which represents the probability that in trace  X  . The activation of u was due to the success of the activation trial performed by v . The traces are assumed to be i.i.d. By using  X   X ,v,u we can define the likelihood of the observed propagation as follows:
L  X  ( p ) = Y
Note that social communication is very important to keep people following health intervention programs. Conse-quently we encourage social communications, i.e., message sending. Thus users may receive many messages but we only consider successful arcs of physical activity influence in Eq.3.
To shift the influence strength estimation from node-to-node to community-to-community in the CPP model, we use a hierarchical decomposition H of the network G . In detail, H is a tree with the network G as a root r , the nodes in V as leaves, and an arbitrary number of internal nodes (i.e., between the root r and the leaves u  X  V ). A cut h of H is a set of edges of H , so that for every v  X  V , one and only one edge e  X  h belongs to the path from the root r to v . Therefore, by removing all the edges in h from H , we disconnect every v  X  V from r .

Let C H denote the set of all possible cuts of H . Each h  X  C H results in a partition P h of the network G , so that all vertices in V that are below the same edge e  X  h in H belong to the same cluster c e  X  V . Let c ( u ) denote the cluster to which the node u  X  V belongs to the partition P . In the CPP model, all vertices that belong to the same cluster are assumed to have identical influence probabilities towards other clusters. Given a probability function  X  p P h  X P h  X  [0 , 1] that assigns a probability between any two clusters of the partition P h , we define:
In the next section, we will show that we can find  X  p h ing an expectation maximization (EM) algorithm. For the moment, we can assume that  X  p h is induced by h in a de-terministic function since our aim is to identify our prob-lem in terms of finding an optimal cut h  X   X  C H . In fact, a straightforward solution is the cut at the leaf level of H that maximizes the likelihood defined in Equations 2 and 3 (i.e., individual level). Reducing the number of pairwise in-fluence probabilities used by the model can only result in a lower likelihood but the model complexity can be simplified. That is the reason why we propose to use a model selection function f that takes into account both likelihood and the complexity of the model.

For instance, Figures 2 and 3 respectively illustrate an example of input and output for our problem, i.e., a CPP Figure 3: A possible detected community structure resulted from the input of Figure 2 and correspond-ing to the cut h 3 . The edge thickness represents the strength of the influence. model. The cut h 1 corresponds to the leaf level model where each single node of the social graph constitutes a state of the CPP model. Essentially this is the maximum likelihood cut that corresponds to the idea of standard independent cascade model [7] (i.e., individual level). Two other cuts are also presented, where h 2 corresponds to the clustering {{ A,D,F } , { B,G } , { E,K } , { M } , { L,N,O }} and the cut h results in our model in Figure 3, which is the best model according to the model selection function f in the example.
Then we can formally define the model learning problem addressed in this paper. Note that the network G and the hierarchy H remain fixed. The model complexity is only affected by the cut h  X  C H .
 Definition 1. CPP Model Learning. Given a network G = ( V,E ) , a set of propagation traces D across G , a hier-archical partitioning H of G , and a model selection function f , find the optimal cut of H defined as
It is interesting to note that the two extreme cases outlined above, i.e., uniform probability, or all links have a different probability can be modeled in our approach. Indeed, the cut h 1 in Figure 2 places all vertices of G in separate clusters, which corresponds to the most complex model with a sep-arate influence probability on every edge. The cuts h 2 and h 3 induce models with a lower granularity (i.e., community level). Finally, if there is no cut then all vertices are in the same cluster, which results in the simplest possible model with a constant p ( v,u ) for each edge ( v,u ).
In this section, we propose an expectation-maximization (EM) approach for estimating the pairwise influence strength among the clusters of nodes, i.e., the parameters of the CPP model. As presented before, we assume that the clusters in a partition P h have been induced by a cut h of a given hierarchical decomposition H of G . However, the EM method presented in this section can be applied to an arbitrary disjoint partition of V . Remind that c ( u ) denotes the cluster to which u belongs, and let C ( x )  X  V denote the set of vertices that belong to cluster x  X  X  h .

According to the discrete-time independent cascade model [7], given a single trace  X  , at least one of user v  X  I  X ,u successful to deliver physical activities to user u indepen-dently, but we do not know which one. As discussed before, by using users X  responsibilities  X   X ,v,u we can define the com-plete expectation log likelihood of the observed propagation as follows: where  X  p h previous means the probability of the previous partition. Assume that we have an estimate of every  X   X ,v,u we can determine the  X  p h which maximizes Eq.6 by solving gives the following estimate of  X  p h ( x,y ).
Next, we need to provide an estimate for every  X   X ,v,u . We do this based on the assumption that the probability distri-butions  X   X ,v,u are independent of the partition P . Indeed, if v is believed to be the physical activity influencer for u in the trace  X  , this belief should not change for different ways of clustering the two nodes. Therefore, we estimate  X   X ,v,u from the model where every u  X  V belongs to its own cluster, since this results in simplified estimates which only depend on the network structure. By denoting this model as  X  p o , we obtain the following estimation of  X   X ,v,u :
We can summarize our learning method as follows: 1. Run the EM algorithm without imposing a cluster-2. After obtaining  X   X ,v,u , keep  X   X ,v,u fixed for different
We have already presented our learning method to max-imize the log likelihood L ( D | p h ) at individual and given a partition P h . Recall that the log likelihood is maximized for the cut h that places every node in its own cluster. We need thus an approach to address the trade-off between model accuracy and model complexity. In this work, we utilize the Bayesian Information Criterion (BIC) [22] as a selection function f in the Eq.5. In statistics, the BIC is a criterion for model selection among a finite set of models.
 where | h | is the number of inter-community influences  X  p ,y ) we need to estimate, | D | is the number of traces in D .
Finally, we can evaluate different cuts h  X  C H of the hier-archical decomposition of the network. Next, we utilize the heuristic bottom-up greedy algorithm proposed in [12] to re-port the best solution found as output given the hierarchical decomposition H . In each iteration, the algorithm finds out the two best communities to merge and to update the model. The resulting cut as well as the corresponding parameters are stored in the set C . Once the algorithm reaches H  X  X  root, it evaluates the objective function for every cut in C and returns the one having the best value.
The CPP model generalizes the presentation of physical activity propagations in health social networks. In the fol-lowing we will describe how a CPP model can be exploited for different purposes including data understanding, and characterization of physical activity propagation flow. Fur-thermore it can be used to categorize users based on influ-ence behaviors and health outcomes. We use the real world user behavior data and the corresponding social network to empirically validate the effectiveness of the CPP model. We first elaborate on the experiment configurations on the data set, and health outcome evaluation metrics. Then, we in-troduce the experimental results and how we can utilize our discovery in different applications.
Human Physical Activity Dataset. The YesiWell study is conducted in 2010-2011 as collaboration among sev-eral health laboratories and universities to help people main-tain active lifestyles and lose weight. The dataset is collected Figure 4: Distribution of the record number and user number.
 Figure 5: The number of inbox messages and the number of users distribution. from 254 users, including personal information, a social net-work, and their daily physical activities in ten months from October 2010 to August 2011.

The initial physical activity data, collected by a special electronic equipment for each user, includes information of the number of walking and running steps. Since in the dataset, some users X  daily records are missing, we show the basic analysis on the distribution of physical activity record numbers in Figure 4. In the Figure 4, there are 14 users with their daily physical activity record number smaller than 10, and 8 users with their record number larger than 10 but smaller than 20. Thus, to clean the data, we filtered the users whose daily physical activity record number is smaller than 80. In addition, we only consider users who contribute to the social communication (i.e., users must send (resp., receive) messages to (resp., from) other users). Finally, we have 123 users for experiments. Figure 5 illustrates the dis-tribution of the number of inbox messages and the number of users in our data. It clearly follows Power law distribution.
Body Mass Index (BMI) is a measure for human body shape based on an individual X  X  mass and height, BMI = ( height ( m )) 2 . The BMI is used in a wide variety of contexts as a simple method to assess how much an individual X  X  body weight departs from what is normal or desirable for a person of his or her height. Indeed, BMI provides a simple numeric measure of a person X  X  thickness or thinness, allowing health professionals to discuss overweight and underweight prob-lems more objectively with their patients. The current value settings are as follows: a BMI of 18.5 to 25 may indicate op-timal weight, a BMI lower than 18.5 suggests the person is underweight, a number above 25 may indicate the person is overweight, a number above 30 suggests the person is obese.
Wellness Score. The medical establishment has ac-knowledged major shortcomings of BMI. BMI depends upon weight and the square of height but it ignores basic scal-ing laws whereby mass increases to the 3rd power of lin-ear dimensions. Hence, larger individuals, even if they had exactly the same body shape and relative composition, al-ways have a larger BMI. Also, its assumptions about the distribution between lean mass and adipose tissue are some-how inexact [14, 25]. Thus, to enrich the health outcome and to rank user X  X  health, we further propose a novel mea-sure called Wellness score . In essence, wellness score is a composite score of one X  X  health based on lifestyle parame-ters, biometrics, and biomarkers. Lifestyle parameters en-compass physical activities measured in steps per minute, self-reported lifestyle parameters, the number of goals set and achieved, and social activities in terms of the size of and communications within one X  X  social network, creation of and participation in competitions and social games, and public/private feed activities within the our social network.
The biometric and biomarker component scores are based on a combination of utility functions (i.e., BMI vs. mortal-ity, triglyceride/HDL vs. health risk, LDL vs. health risk, HbA1c vs. diabetes risk level, etc.) and correlation func-tions between BMI and biomarkers. In short, one X  X  com-ponent risk score y =  X  1 U ( BMI ) +  X  2  X  1 U ( TG/HDL ) +  X   X  2 U ( LDL ) +  X  4  X  3 U ( HbA 1 c ), where  X  is component weight, U ( . ) is a specific utility function associated with the component in parentheses,  X  is the correlation coefficient be-tween BMI and the selected biomarker component. Lifestyle component score is based on a heuristic weighted combina-tion of the number of steps per day, intensity of steps based on estimated speed, and various social activity-derived fea-tures highly associated with future weight loss [8].
Finally raw wellness scores are computed over multiple participants through Markov Chain Monte Carlo sampling in an attempt to remap the raw scores such that remapped scores mimic percentile ranking. For instance, a wellness score of 90 means 90% ranking (i.e., top 10%). We also apply some boosting at the bottom so that people do not become too discouraged when their scores are too low.
Experiment Setting. Our proposed model (source code 1 ) requires input as a hierarchical decomposition of the network. Following [12], we obtain this hierarchy by recur-sively partitioning the underlying network using METIS [6], which reportedly provides high quality partitions. Finally, the delay threshold  X  t and the time window w are respec-tively set to a day and a week. We ran our experiments on a Intel i7 2.8 GHz processor and 4 GB memory.
An effective way of summarizing influence relationships in the network is to consider the community-level influence propagation network. In Figure 6, we show the network of physical activity propagations for our dataset. The node size is the average number of steps for all users in their commu-nity. While the edge width is proportional to the probability of physical activity influences. The shapes will be described later. Note that we only consider the arcs which have prob-abilities larger than 0.25. It is very interesting since the network is almost acyclic, and this suggests a clear direc-ix.cs.uoregon.edu/~haiphan/Publications/CPP.rar Figure 6: Detected community structure in our health social network data. tionality pattern in the flow of physical activities. Moreover, with the CPP model we are able to categorize the eight de-tected communities into three kinds of group based on their influence behavior as follows: 1) Influencer -This group can be seen as circle nodes in Figure 6. Indeed, these nodes have the strongest influence probability to deliver physical activities to other users in other communities. In addition, they almost do not receive physical activity delivering from other communities. 2) Influenced users -This group can be seen as rectangle nodes in Figure 6. These nodes are easy to be influenced by influencers (i.e., circle nodes) since they receive the physi-cal activity delivering with high propagation probabilities. Moreover, the average number of steps of these nodes are quite large, even larger than the influencer nodes. These influenced users sometimes try to deliver physical activities to other communities but not much. 3) Non-Influenced users -This group can be seen as tri-angle nodes in Figure 6. These nodes are very hard to be in-fluenced since they receive very small probabilities of physi-cal activity propagations from other groups. In addition, the average number of steps of the non-influenced nodes is very small compared with the other mentioned kinds of nodes.
Essentially, the effectiveness of our approach can be val-idated by exploiting the differences among the three user categories in terms of behaviors, life styles, and health out-comes to explain why they have such physical activity prop-agation behaviors. We will illustrate the varying of health outcome measures (i.e., BMI, #steps, Wellness score) over time for the three groups. Note that in the next experi-ments, all the users in the same category will be gathered together and thus we will have only three groups of users instead of the eight detected communities.

BMI. Figure 7 illustrates the average and the standard deviation of BMI for the three groups (i.e., influencers, in-fluenced users, and non-influenced users). Interestingly, the influencer group has average and standard deviation of BMI significantly lower than the other two groups. Since the pur-pose of participants who enrolled in this study is to reduce their BMIs, the influencer group can potentially be their external motivation. That is one of the reasons to explain why the influencer group has a strong influence probabilities to other groups. Meanwhile, the non-influenced users have almost the highest average and standard deviation of BMI. Even they have quite similar BMI values with the influenced user group at the beginning.

Physical activity record number. Figure 8 illustrates the average number of steps for the three groups over time. non-Influenced users. (Best view in color) We can see that the influencer group not only has the best BMI values but also is stable in doing practices day by day (i.e., a good life style) from the beginning to the end of the study. Together with the CPP model results, it clarifies the activity delivering role of the influencer group. Regarding the influenced user group, they did less physical activities at the beginning (i.e., at the middle of November, 2010) but after that they had rapidly increased activities, even more than the influencer group. Interestingly, their activity performance is stabilized along with the influencer group until the end of the program. With the CPP model results, we can say that the influencer group has been successful to deliver physical activities to the influenced user group.
Regarding the non-influenced user group, there is no big change in their physical activity behaviors. They have the lowest activity performance and it usually fluctuates in the whole program lifetime. It is only a short period (i.e., Jan-uary to March, 2011) within that they have a quite stable (but the lowest) activity performance. So, we can say that it is hard to improve the practice behavior of non-influenced user group via social communications.

Wellness score. We have illustrated the correlation be-tween the CPP model results and health outcome measures such as BMI and the exercise activity record number inde-pendently above. However, these individual measure cannot reflect the actual user health status which is a complex com-bination of a user lifestyle, biometrics, and biomarkers. Our proposed wellness score is a such metric. Figure 9 illustrates the wellness score for the three user groups. It is quite clear that the influencer group always has a high wellness score. In addition, the influenced user group has a big change in their scores. In fact, the influenced user group has a low score at the beginning but after that they had increased their scores to be one of the highest ones. Meanwhile, the non-influenced user group has the lowest score even they has a better starting point compared with the influenced user group.

Community consistency. Interestingly, in Figure 7b and Figure 9b, the standard deviations of the BMI and Well-ness score are quite small (i.e., from 1.5 to 2.5 for the BMI standard deviation, and from 3 to 5 for the Wellness score standard deviation). Furthermore they are quite stable (i.e., no big changes) for all the three user groups. Therefore, not only the health outcome measures but also the lifestyles and physical activity record numbers are quite consistent among the users in the same communities.

Until now, we can conclude that there are significant dif-ferences in terms of behaviors, lifestyles, biometrics, and biomarkers between the three user groups. Indeed, the CPP model offers us an effective tool to discover the flow of physi-cal activity propagations. Base on that we can easily exploit unrevealed influence patterns and distinguish users in terms of physical activity delivering. Moreover, the detected com-munities are internally consistent. It is very useful for many categories in Figure 6. other tasks such as activity propagation prediction. Conse-quently, the CPP model has a strong correlation with health outcomes that is very meaningful for us to design physical activity interventions through health social networks.
The CPP model vs social link clustering. The out-put of the CPP model can be graphically represented to analyze the influence probability between two communities and social link relationships. An effective way is plotting the corresponding heat-maps, as shown in Figure 10. In these figures, we plot the Jaccard similarity in terms of number of steps and wellness score between the CPP model and ob-tained clusters by clustering the social network links. Note that the clustering algorithm maximizes the high correlation within-cluster and low between-cluster. Given two clusters A and B , the Jaccard similarity is computed as follows: where u.steps is the total number of steps reported by u . We use the similar equation for J ( A,B, wellness score ). In general, we register almost no correlation between the CPP model and the social link clustering. Five over eight detected communities in the CPP model are found almost in the cluster 0, which is the densest cluster in our friend network. Thus, applying normal clustering algorithm on social network links cannot discover communities obtained by the CPP model.

Comparison of the CPP model and the CSI model [12]. To highlight the effectiveness of our CPP model, we further compare our results with a CSI model. Indeed, we applied both model selection functions MDL [19] and BIC proposed in a CSI model. The former function generates only one community while we observe 6 communities from the latter function. In Figure 11, we plot the intensity of the influence probability between two communities observed from the CSI model (BIC model selection function) and the CPP model. In the CPP model, it is clear to see the influence role of the communities c 0 ,c 1 , and c 3 while c 7 ,c receive strong influence probabilities. Furthermore, c 4 c do not contribute much to the process.

Meanwhile it is not clear to distinguish the differences between the communities observed by the CSI model. In addition, the probability range in the CSI model is [0, 0.7] smaller than the range in our model. The reason might be our model is designed for health social network and we do not take into account users who clearly fail to influence others. In contrast, the CSI model does not consider that.
Regular physical activities decrease the risk of develop-ing cardiovascular disease, diabetes, obesity, osteoporosis, some cancers, and other chronic conditions. Thus, find-ing effective population-based intervention strategies to pro-mote physical activities is a key challenge. Website-delivered physical activity interventions have the potential to over-come many of the barriers associated with traditional face-to-face exercise counseling or group-based physical activity programs. An Internet user can seek advice at any time, any place, and often at a lower cost compared with other delivery modalities [20].

In 2000, a set of articles that identified the potential of interactive health communications, including Internet and website-delivered interventions, for improving health behav-iors were published [9, 17, 18]. Since then, over fifteen stud-ies [27] evaluating a website-delivered intervention to im-prove physical activities that used the Internet or e-mail have been reported. Improvement in physical activities was reported in eight. Better outcomes were identified when in-terventions had more than five contacts with participants and when the time to follow-up was short (  X  3 months; 60% positive outcomes), compared to medium-term (3-6 months, 50%) and long-term (  X  6 months, 40%) follow-up. Indeed, a little over half of the controlled trials of website-delivered physical activity interventions have reported positive be-havioral outcomes. However, intervention effects were short lived, and there was limited evidence of maintenance of phys-ical activity changes.

Although the website-delivered approaches reported posi-tive results, research is needed to identify elements that can improve behavioral outcomes. The maintenance of change and the engagement and retention of participants; larger and more representative study samples are also needed. Indeed, social network has this potential for being adopted since it take the advantage of the nature of social relationships to deliver healthy behavior. Furthermore, social network could be a long-life environment and thus the retention of partici-pants could be naturally improved. Though we are in a long way to reach the goal, our proposed model and discovery is the foundation for further researches since it offers us a pow-erful tool to understand the physical activity propagation on a health social network.
Social influence and the phenomenon of influence-driven propagations in social networks have received considerable attention in the recent years. One of the key issues in this area is to identify a set of influential users in a given social network. Domingos and Richardson [3] approach the prob-lem with Markov random fields, while Kempe et al. [7] frame influence maximization as a discrete optimization problem. Another line of study has focused on the problem of learning the influence probabilities on every edge of a social network given an observed log of propagations over this network [4, 21, 24, 28]. In addition, many tasks in machine learning and data mining involve finding simple and interpretable mod-els that nonetheless provide a good fit to observed data. In graph summarization, the objective is to provide a coarse representation of a graph for further analysis. Tian et al. [26] and Zhang et al. [29] consider algorithms to build graph summaries based on node attributes, while Navlakha et al. [13] use Minimum Description Length principle (MDL) [19] to find good structural summaries of graphs. In [12], Mehmood et al. introduce a hierarchical approach to sum-marize patterns of influence in a network, by detecting com-munities and their reciprocal influence strength.
In this paper we introduce a hierarchical approach to an-alyze the physical activity propagation through social com-munications at the community level (which also can be ap-plied to individual level). Our proposed CPP model offers a more compact representation of the network of propaga-tions. Furthermore it can be easily plotted and exploited to understand and detect interesting properties in the in-formation propagation flow over the network. Our empiri-cal analysis over a real-world health social network empha-sizes the three meaningful observations: 1) social networks have great potential to propagate physical activities via so-cial communications, 2) the propagation network found in a health social network by the CPP model is almost acyclic, and 3) the physical activity-based influence behavior has a strong correlation to health outcome measures such as BMI, lifestyles, and our proposed Wellness score.

Since online social networks have been exploited in re-cent years, our first observation paves an early brick on a new, promising, and perhaps most effective way to propa-gate physical activities to wide population. While the second observation offers interesting insights, it shows the existence of a clear direction in the propagation of physical activities. That is useful for physical activity intervention approaches to design more effective strategies. The third observation might be exploited to categorize users or to predict user macro-activities based on their influence behaviors [23].
In the near future, we are going to clarify the correlation between the physical activity propagation via social com-munications and a corresponding friend network. Indeed, homophily principle is important to deliver healthy behav-ior on health social networks [2]. Therefore, by discovering the correlation between homophily effect and social commu-nications, we could have a complete picture. As a result we will be able to build up better human behavior predictive models and physical activity intervention approaches. This work is supported by the NIH grant R01GM103309. The views and conclusions contained in this document are those of the authors and should not be interpreted as rep-resenting the official policies, either expressed or implied, of the NIH, or the U.S. Government. [1] A. Bauman, T. Armstrong, J. Davies, N. Owen, [2] N. Christakis and J. Fowler. The spread of obesity in [3] P. Domingos and M. Richardson. Mining the network [4] A. Goyal, F. Bonchi, and L. V. S. Lakshmanan.
 [5] http://www.internetworldstats.com/stats.htm. [6] G. Karypis and V. Kumar. A fast and high quality [7] D. Kempe, J. Kleinberg, and E. Tardos. Maximizing [8] D. Kil, F. Shin, B. Piniewski, J. Hahn, and K. Chan. [9] B. Marcus, C. Nigg, D. Riebe, and L. Forsyth.
 [10] A. Marshall, E. Eakin, E. Leslie, and N. Owen. [11] M. Mathioudakis, F. Bonchi, C. Castillo, A. Gionis, [12] Y. Mehmood, N. Barbieri, F. Bonchi, and A. Ukkonen. [13] S. Navlakha, R. Rastogi, and N. Shrivastava. Graph [14] N. I. of Health. Aim for a healthy weight: Assess your [15] U. D. of Health and H. Services. Physical activity and [16] R. Pate, M. Pratt, S. Blair, and et al. Physical activity [17] K. Patrick. Information technology and the future of [18] J. Prochaska, M. Zabinski, K. Calfas, J. Sallis, and [19] J. Rissanen. A universal prior for integers and [20] L. Ritterband, L. Gonder-Frederick, D. Cox, [21] K. Saito, R. Nakano, and M. Kimura. Prediction of [22] G. Schwarz. Estimating the dimension of a model. The [23] Y. Shen, R. Jin, D. Dou, N. Chowdhury, J. Sun, [24] J. Tang, J. Sun, C. Wang, and Z. Yang. Social [25] R. Taylor. Use of body mass index for monitoring [26] Y. Tian, R. Hankins, and J. Patel. Efficient [27] C. Vandelanotte, K. Spathonis, E. Eakin, and [28] R. Xiang, J. Neville, and M. Rogati. Modeling [29] N. Zhang, Y. Tian, and J. Patel. Discovery-driven
