 A joint clustering problem over the geography domain and the optimization domain is that given a set of data objects with their attributes in both the geography domain and the optimization domain, we should partition objects into several groups such that objects i n the same group are connected in the geography domain while minimizing the dissimilarity of the data objects in the optimization domain.

In this paper, we formulate a joint clu stering problem with the connected constraint. Then, an algorithm KLS (standing for K-means with Local Search) is proposed. KLS consists of three phases: the transformation phase, the coarse clustering phase and the fine clustering phase. First, given the connected con-straint required and the attributes of objects in the geography domain, grid-cells data structure is used to efficiently derive ConGraph (standing for CONnected Graph), where each vertex is a data o bject and an edge exists between two objects if their distance in the geography domain is within a given threshold. In light of ConGraph, we exploit the concept of K-means and local search to coarsely cluster objects into several gro ups. Based on the clustering results de-rived, we could further fine tune clusters to minimize the dissimilarity in the optimization domain. Our experimental evaluation demonstrates that algorithm KLS is indeed able to efficiently derive cluster results.

The joint clustering problem were proposed in [3,6,4]. Moreover, the cluster-ing problem with constraints are addressed in [7,1,2]. Although prior works have elaborated on the joint clustering problem, the connected constraint in the geog-raphy domain is not clearly defined, let alone proposing efficient algorithms for large scale of objects given. These features distinguish our study from others.
The rest of the paper is organized as follows. Preliminaries are given in Sec-tion 2. The proposed algorithm is presen ted in Section 3. Performance evaluation is conducted in Section 4. This paper concludes with Section 5. Objects considered in this paper have two domains of attributes. The two do-mains are the optimization domain and the geography domain. To facilitate the presentation of this paper, an object i is denoted as o i . The corresponding set of attributes of o i in the optimization domain is expressed by S i ,the j th attribute in S i is represented as s j i , and the dimension of the optimization domain is d S . Similarly, the definitions of L i , l j i and d L are respected to the geography do-main. The Euclidean distance between two objects is used as the dissimilarity measurement. For two objects o i and o j , the distance in the optimization domain geography domain is denoted as dist geo ( o i ,o j ).
 in the optimization domain is formulated as: Consequently, given a set of clusters SC =( C 1 ,C 2 , ..., C k ), the average cost of in the geography domain is used to cluster objects such that their distance in the geography domain is within a threshold required such that objects in thesameclusterare connected . The definition of the connected constraint is defined as: Definition 1. (Connected constraint on cluster) Given a clusters C t ,where |
C a sequence of objects o u 1 ,o u 2 ,...,o un  X  C t such that ently when | C t | =1 .
 From the definitions above, the problem in this paper is that given the number in the optimization and geography domain, the goal is to derive a set of clusters SC =( C 1 ,C 2 , ..., C k ) such that (1) each object o i belongs to only one cluster C , (2) objects in the same cluster are co nnected, and (3) the average cost (i.e., f ( SC )) is minimized. We propose algorithm KLS consisting of three phases: the transformation phase, the coarse clustering phase, and the fine clustering phase. In the transformation phase, ConGraph (standing for CONnected Graph) is derived for efficiently ver-ifying the connected constraint. Then, in the coarse clustering phase, rough clusters are efficiently derived via ConGraph. The number of clusters is greater than or equal to k and the clusters may lose some qualities due to the efficiency consideration. Finally, the rough clust ers are iteratively m erged according to f ( SC ) until the number of clusters is k . 3.1 Transformation Phase In this phase, given a set of objects, the goal is to derive ConGraph that captures the connected features among objects in the geography domain. The definition of ConGraph is as follows: Definition 2. (ConGraph) Given O = { o 1 , ... , o n } and a threshold r ,aCon-Graph is a graph G =( V, E ) , where vertex v i is object o i and an edge e ( v i ,v j ) between v i and v j exists if dist geo ( o i ,o j )  X  r .
 We divide the geography domain into eq ualed sizes of cells. Objects are hashed into cells according to their attributes in the geography domain. Through cells, givenanobject o i , we are able to quickly find out possible objects nearby o i . Since the threshold of the connected constraint is set to r , the length of a cell size can be set to 2 r such that only 2 d L neighbor cells are required to explore when retrieving the neighbor nodes of a v ertex. Therefore, the generation of ConGraph is efficient in that only a lim ited amount of objects are accessed. 3.2 Coarse Clustering Phase Same as in K-means, we first select k vertices as initial centroids. Adapting the concept of local search [5], these verti ces are used as the represented objects for their clusters. Then, those neighbors of t hese represented objects are extracted. The distance of these neighbors to the corresponding centroid in the optimization domain are calculated. Then, only the neighbor with the smallest distance value will be selected into the nearest cluste r and the centroid of the corresponding cluster will be updated. Moreover, the represented object for the corresponding cluster is replaced by the new neighbor. The above procedure will be repeated until there is no unclustered neighbor. After this procedure, the unclustered objects are assigned to the nearest clus ter if the connected constraint is not violated. 3.3 Fine Clustering Phase Before explaining the fine clustering me thod, the connectivity of two clusters is defined as follows: Definition 3. (Connected constraint among clusters) Two clusters C i and C j are connected if  X  o t  X  C i and  X  o u  X  C j such that dist geo ( o t ,o u )  X  r . The goal of this phase is to merge clusters until the number of clusters is k .To minimize the average cost, we adapt the agglomerative hierarchical clustering with the mean distance. The fine cluste ring phase is to recursively merge two connected clusters with the smallest dist ance between their centroids until the number of clusters is k . We generate synthetic data with attributes in the two domains. The dimensions of the optimization and geography domain are three and two, respectively. Our generator requires parameters k and r ,where k indicates how many clusters should be generated, and r is the threshold of the connected constraint. The shapes of objects are composed of mainly horizontal and vertical lines in the ge-ography domain. After generating attributes in the geography domain, attribute in the optimization domain are then determined at random similar to [3]. We use r  X  1 as the parameter of the data generator in order to make objects closer. The other parameter k , the number of clusters, is diff erent among test scenarios.
For comparison purposes, we implement one naive algorithm Connected K-means (abbreviated as CK-means) which has three phases as KLS does. The only difference is that in the coarse clustering phase of CK-mean, objects are first partitioned by K-means with the attributes in the optimized domain only. After clusters OC are derived by K-means, we generate a new graph G =( V, E ), G and get connected subgraphs G 1 , G 2 , ... , G k . Then each connected subgraph is an equivalent cluster which fits the connected constraint. Therefore, k  X  k clusters are found.
Figure 1 shows the results of the experiments with our algorithms. We use 2 k as the number of seeds in KLS instead of k . This small modification increases the precision of clusters found by KLS sin ce it is hard to choose the correct seeds even a useful heuristic method is used. Then, the fine clustering phase iteratively merges clusters until the number of clusters is k .

According to Fig. 1(a) and 1(b), CK-means performs worse than KLS. Spe-cially, when the number of clusters incr eases, CK-means performs much worse than KLS. Fig. 1(c) shows the corresponding value of the overall precision and recall that show CK-means perfor ms worse due to its low precision.

AsshowninFig.2,CK-meansisslowerthanKLS.InFig.2(a),theexecution time of the fine clustering phase dominates the overall time of CK-means since CK-means generated too many clusters in the coarse clustering phase. On the other hand, in Fig. 2(b), the transformation phase dominates the execution time. In this paper, we formulated the joint clustering problem in which a connected constraint and the number of clusters should be specified. We propose algorithm KLS that consists of three phases: the transformation phase, the coarse cluster-ing phase, and the fine clustering phase. In the transformation phase, we only consider the connected constraint and then derive ConGraph. Thus, in the coarse clustering phase, by exploring local search in ConGraph, rough cluster results are derived. In the fine clustering phase, these clusters are able to further merged to optimize the objective of the joint clustering. Experimental results show the effectiveness and efficiency of our proposed algorithm.
 Wen-Chih Peng was supported in part by the National Science Council, Project No. NSC 95-2211-E-009-61-MY3 and NSC 97-2623-7-036-001-D, Taiwan, Repub-lic of China.

