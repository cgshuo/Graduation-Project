 1. Introduction new needs and new challenges. Despite recent developments and technological advances within  X  e.g., web-based media the-art in real-life event retrieval systems in term of retrieval effectiveness.
  X  mainly focus on scenario (2). Due to their characteristics, pictures in photo sharing applications such as Flickr mio 2 are particularly interesting. For example, most of such pictures are accompanied with contextual metadata and other metadata to retrieve event-related pictures.

The main goals of this work are (1) to build a framework to extract a set of geographical features from geographical raw user) tags. Further, we investigate how we can combine these features with the state-of-the-art temporal features to improve the retrieval performance of an event-based image retrieval system. Finally, we explore integrating a machine-learning-based approach with our retrieval system. We study how these features can be used in a query expansion feedback documents.

To this end, we propose a novel framework that improves the retrieval effectiveness of tag-based image search by of tag terms and the geographical correlation between two geographical distributions of two tags. Spatio-temporal information retrieval is an established field already. However, existing approaches have mainly been concerned with &amp; Huang, 2011 ). With the constantly increasing number of geotagged pictures  X  e.g., in Flickr, metadata has become increasingly important.

In summary, the main contributions of this paper are as follows. First, we propose a new robust set of geographical geographical distributions. To do this, we have developed new measures derived from a well-founded Exploratory Analysis tures can be incorporated in a machine learning-based query expansion model to improve the ability to select good expan-sion terms. In addition, we demonstrate how these features can be combined with existing document-based approaches and temporal features to achieve improved retrieval performance. Third, through our experimental evaluation we show the proposed geographical features  X  in the afore-mentioned machine learning-based query expansion process.
The rest of this paper is organized as follows. To put our research in a perspective Section 2 provides an overview of the problems addressed in this paper. Section 4 presents our proposed geographical features and explains how we extract tion 8 we conclude the paper and outline our future work. 2. Related work
In the past decades, detection of events from textual document streams and databases has been treated extensively in the ing events from different types of datasets. To the best of our knowledge, only few works have addressed the problems of Flickr pictures.

A research area closely related to ours is pseudo-relevance feedback. Generally speaking, pseudo-relevance feedback called pseudo-relevant feedback documents to update an existing query model. Experiments have shown that these 2009 ). This has also been the main motivation for including them in our study.

Cao et al. (2008) present a classification approach to automatically select good expansion terms from a set of candidate annotation as source for improving the retrieval performance has also previously been investigated by Zhou, Bian, Zheng, features.
 Also within general information retrieval, results from existing work have proven its usefulness. For example, ( Dakka, approaches to improve pseudo relevance feedback based models. Nevertheless, while existing approaches seem to have to improve the semantic relatedness measure of two terms by capturing the correlation between the temporal profiles of different correlation measures, based on spatial and temporal co-occurrence. In summary, although these approaches are ferent. Also, while these approaches were originally developed for textual documents containing much term redundancy that can normally carry the document semantics, image tags usually consist of few unique terms. This makes it more chal-thus further proving the usefulness of our approaches. 3. Preliminary an overview the statistical method our approach are built on. 3.1. Data and problem definition
This work mainly focuses on media sharing applications, where resources are usually tagged with terms  X  i.e., tags, that describe the content of the resources. Such resources may also have information specifying their geographical locations, expressed in longitude and latitude values, and are referred to as geotagged resources.
Let D X f P 1 ; ... ; P N g be a set containing N  X jDj resources. Then, assume that each resource P of tag T i , a temporal timestamp t i and a geotag g i  X  X  latitude ; longitude  X  , such that P of the above information at the same time. Further, let E X f E
E  X f P j 1 ; ... ; P j N poral timestamps. This means that following our setup above, a query picture related to an event E
P  X f T j q g  X  i.e., g j
T  X Q X f q 1 ; ... ; q n g , where n  X jQj and q i ; i  X  1 ; ... ; n are query tag terms.

The problem addressed in this paper concerns how we can effectively retrieve event-related pictures with a query Q , using only the textual tags. First, we investigate how current state-the-art information retrieval methods perform when applied on our dataset, and let the methods serve as the baseline for our experimental evaluation. Second, we study how
Third and finally, we compare our method with the baseline methods. 3.2. Exploring interaction between spatial point patterns a spatial profile for each tag.

Assume now we have a large dataset b D # D containing L  X j exploratory analysis ( Diggle, 2003 ).

To be able to use and understand the ideas of exploratory analysis translated into our domain, we need to establish two point processes , which is formally defined as follows: called Picture Point Pattern.
 in a studied region. With this assumption, we derive a so-called Tag Point Pattern from Definition 3.1 as:
Definition 3.2 ( Tag Point Pattern ). A Tag Point Pattern P
Point Pattern P , and is a set consisting of the geographical positions of pictures annotated with w below is a brief overview of the multivariate Ripley X  X  K-function . 3.2.1. Multivariate Ripley X  X  K-function space ( Ripley, 1976 ). Hence, it can be used to determine the spatial distribution patterns of objects in spaces. (1976) : bivariate or multivariate point patterns. It is specified as follows ( Ripley, 1976 ): Let k point patterns P i and P j , and assume k i and k j being constant throughout R patterns, we have four K functions: two self-K functions K is most used estimation of K ij  X  h  X  , as proposed by Ripley (1976) : where d i k j l is the distance between a k -th point of type i and a l -th observed point of type j . I
I  X  d the rate between the number of points and the considered area A .
 spatial point patterns are generated by two different and independent spatial processes. Under this independence assump-tion, with the bivariate form or the cross-K function, K acteristics between the two point patterns as follows: Attraction ,if repulsion ,if b K ij  X  h  X  &lt; p h 2 .
 3.2.2. Cross-D function
Using the same assumption of independence of spatial point patterns as before, we get L the empirical values of L ij  X  h  X  ; b L ij  X  h  X  , can be used to characterize tag point patterns P attraction between the point patterns, b L ij  X  h  X  X  h shows spatial independence , whereas
Based on the empirical cross-L function, the D -function is given by
Again, we can use b D ij to characterize the two tag point patterns P
P and P j ; b D ij  X  h  X  X  0 means we have independence between P
P . In the rest of the paper, assuming P i  X  P j , we refer this function to as cross-D function .
Example [Cross-D function]: To explain our ideas, assume we have of Greenwich" as two specific tags, both referring to areas in London. Then, consider a cross-L function L the University of Greenwich 6 is located within the area of the Old Naval College. tagged with  X  X  X ld Royal Naval College" are spatially attracted to pictures tagged with University of Greenwich (See
Fig. 1 a and b). To further illustrate this relatedness, consider the corresponding cross-D function D the spatial attraction among the studied point patterns. As can be seen in Fig. 2 , the graph of D the figure) is greater than the upper envelope (denoted as  X  X  X igher X  X  in the figure), at all values of h . distribution  X  X  X ules X  X  we have  X  X  X ttraction X  X  between the two point patterns.
In the following, we elaborate on how we extract our set of features based on the spatial characteristics of a tag point pattern, and the interaction between two spatial point patterns derived from the cross-D function. 4. Exploring the spatial distribution of tags for such tags. 4.1. Single and term-to-term spatial features related to the geographical similarity between the spatial profiles of two considered tags w explain how we extract both these features.
 function from Section 3.2.1 , estimated over this interval.

To capture the clustering tendency of tag point patterns for single terms, in Ruocco and Ramampiaro (2012) we intro-duced two features called b I SUM and b I MAX estimators. between the D -function and the curve representing the null hypothesis; whereas
D -function and the null hypothesis curve. If we assume that point pattern p i . Then, for a given tag term w i , value of b I SUM  X  w i  X  means that there is a strong aggregation among pictures that are annotated with w pattern that the D -function was derived from and the null hypothesis. A high value of pattern p i contributes to a high degree of clustering .

For the bivariate case, we can do similar estimation of the attraction tendency of two tag point patterns as follows: where w i and w j are two specific tags with their tag point pattern p ative Discrete Positive Area (RDPA) and Relative Discrete Maximum Distance (RDMD) . The main idea is to extend b I ^ g
Sum and ^ g Max are computed as follows: where f and g , with f &lt; g , are two indexes related to two points h then ^ g Sum  X  w i ;  X  h f ; h g  X  X  b I SUM  X  w i  X  and ^ g which divide and summarize the spatial characteristics over more sub-intervals within the original scale interval. For the bivariate case, we apply a similar approach, and compute ^ g the D i function with D ij . 4.2. N-order spatial features can extract the information on the shape of the curve of the D -function. In Geometry, the derivative f the forward finite difference ( Smith, 1985 ), as follows: where h l and h m are two specific scale points. Note that the value of increases, but negative at all scale points where D -function decreases. Moreover, the higher the positive value of the ative of b D ij  X  h  X  as b D 0 ij  X  h  X  by extending Eq. (12) to take into account both w features. We call such features second order spatial features , which we get by doing further derivation of the function from b D 0 i  X  h  X  ; b D 0 ij  X  h  X  and b D 00 i  X  h  X  ; b
In the next section, we show how the spatial features presented above are useful, especially when used in a query expan-sion framework for event-based image retrieval. 5. Query expansion framework
Query expansion techniques have been one of the most studied approaches within the information retrieval field since the work by Maron et al. (1960) . However, new application areas have made query expansion still needed in order to on event-related image retrieval. In this section, we specifically elaborate on how we use our proposed spatial features within a query expansion framework. In addition, we explain how spatial features can be combined with temporal features for better retrieval performance. 5.1. Overview of the Kullback X  X eibler expansion model
A general query expansion model is a post-processing step in a retrieval system that expand and re-weight an original query with terms from top-k retrieved documents that are assumed to be pseudo-relevant. Such top-k retrieved documents are also called feedback documents.

The Kullback X  X eibler divergence-based approach (or just KL-divergence) is a query expansion approach that has been lyze the term distributions, and maximize the divergence between the distribution of the terms from the top-k retrieved documents and the distribution of terms over the entire collection. The terms chosen for the query expansion are those compute the KL-score for a specific term t in the feedback documents, the following equation is used ( Carpineto et al., 2001 ): be estimated by the normalized term frequency of t in the top-k documents, while P and high probability on the retrieved top-k documents have the highest KL-score.

After the expansion terms have been selected, we can proceed to re-weighting the query terms. A classical approach for where ^ w  X  t q  X  denotes the new weight of a term t q of the query, w  X  t KL
Di v  X  t q  X  ; max w is the maximum weight from the expanded weight model, max tf query, and tf q t q denotes the frequency of the term in the query.
 approach for our experiments.
 5.2. Learning-based query expansion framework
As can be inferred from our discussion in previous sections, the approach proposed in this paper concerns using geo-spa-tio temporal features in query expansion frameworks. In particular, we develop a learning-based approach to choose good expansion terms and maximize the retrieval performance.

Fig. 3 shows the principle behind our approach. As shown in this figure, the process is divided into two main parts con-search context to select the actual  X  previously unseen  X  candidate expansion terms. Algorithm 1 summarizes the steps in the query expansion (QE) process.

Algorithm 1. Query expansion procedure 1: Run query Q applying ranking model r 2: Get the set D of top-N relevant docs 3: Extract unique tags from D and get the candidate expansion term set E 4: for e j 2E do 5: X ExtractTermFeats  X  e j ; Q X  . Section 5.2.1 6: Y ExtractTemporalFeats  X  e j ; Q X  . Section 5.2.1 7: Z ExtractGeoFeats  X  e j ; Q X  . Section 5.2.1 , Section 5.2.2 8: Calculate confidence value Conf . Section 5.2.3 , Fig. 4 9: Combine KL score and confidence value Conf in a single score ! KL 10: end for 11: Rank e j 2E terms according to KL Final  X  e j  X !E Rank 12: Re-build Q with the top-k terms from E Rank ! b Q 13: Run Query b Q by using ranking model r An important question is: how do we select the candidate expansion terms? To answer this question, recall
Q X f q 1 ; ... ; q n g is query consisting of n terms, and E X f e ing on a similar principle as the approach in Cao et al. (2008) , we find e query to the expanded on by computing
In other words, a candidate expansion term e i is a good term if AP term. In practice, a threshold h is used to control the difference value, such that AP different classification algorithms to find the optimal value of h (see Section 7.1 ). we select the feature set that can be used to represent each expansion term e value with the baseline KL-score of the same candidate term to re-rank the set of candidate expansion terms E . 5.2.1. Selecting the feature set tents only. document retrieval, where term redundancy is normal, and thus term frequency would be an important feature. Since a tag well the features suggested in this work improve the retrieval performance.
 represent the temporal distribution of the term in the whole collection. Here, we propose single term features and term-( KURT 1), and the combination of a candidate expansion term e with a term q
In addition to this, we are interested in knowing about the randomness of terms over time. A way to detect such a ran-tistical correlation between two values of the same variable at a given time t 2011 ). Cross-correlation is computed by assessing the correlation of the frequency of q which seven days gave the best results. To summarize, we investigate how combining previously proposed temporal features would affect the retrieval performance. These have proven successful in other more general information retrieval approaches, but the way we analyze the effects of their combination within event-related image retrieval have not been done before.

For each pair of terms e and q i , we first extract the set of geographical world tiles T documents annotated with q i , spatial points associated to documents annotated with e , and those related to documents annotated with both q i and e . Next, we extract a set of six spatial feature vectors from each tile T pattern (see Eq. (11) ), consisting of D ! Max  X  e  X  ; D ! the relative discrete positive area function (see Eq. (10) ), consisting of D for both the resulting first and second derivative of ^ g according to Eqs. (2) X (5) , implicitly decided by the value of the distance scale h . usefulness and importance with respect to improving the retrieval performance. 5.2.2. Combining the spatial features using the world dataset avoid the Arctic and Antarctic areas, since these areas have normally poor photographic activity. The width of each tile such tiles be significant tiles, denoted by T .

With this in mind, we extract the spatial feature vectors for a pair of terms w sion term e , as follows. First, let T i  X fT i 1 ; T i 2 ... ; T
T  X fT j 1 ; T j 2 ... ; T j M g be the set of M tiles containing pictures tagged with w taining pictures tagged with both w i and w j , we merge the two sets T tile, T ij , we compute the bivariate D -function and the corresponding estimators for the tag point patterns for both w w (see Section 4 ).

To have a data structure allowing efficient feature extraction operations, we index each tile T by the set W T l  X f w l 1 ; ... ; w l jT for each tag w l i 2W T l , which we can formulate formally as follows: This means that each tag is linked to an inverted list containing the id of the tile and the term frequency, tf score. For simplicity, by treating tiles as documents, we index and search them using Solr list of tiles is ranked using Lucene scores. 10 5.2.3. Query re-weighting process We now explain how we perform the re-weighting process using the sets of features presented in the previous sections. trained with instances using the complete set of features. Thus, given a query term q with both e and any q i 2Q . Thus, producing the spatial feature vectors from the functions g tures only.
 We call the final confidence score for good candidate expansion terms from our expansion term selection process the term-based KL-score as follows: which component should have the highest contribution. That is, a  X  1 means that we only apply the regular KL-divergence, the final score  X  i.e., we use a  X  0 : 5.
 give their contributions exploring terms over different dimensions, and that they complement, rather than extend each other. With this in mind, Conf  X  X j e  X  can be computed as follows: respectively. The choice of the value 0.5 as threshold is made based on the fact that 0 is a sensible choice. 6. Experimental setup
In this section we present our dataset and the methodology for our experimental evaluation. 6.1. Dataset we use a large dataset of pictures gathered from Flickr 11 31.12.2008, each of which belongs to a specific event from the Upcoming event database. the heterogeneity of the included events are the main advantage of the Upcoming dataset, and the main reason we decided to use it. For generality, we merged the Upcoming dataset with the set of other Flickr pictures.
To perform our experiments, we indexed all image tags using Terrier. mer algorithm ( Porter, 1980 ); and English stopword removal. 6.2. Evaluation methodology the methods we used as baseline for our experiments. Third, we elaborate on the evaluation metrics we applied. 6.2.1. Input query set show some example of input queries used in our experiments. 6.2.2. Baseline methods
To assess the effectiveness of the retrieval framework, we compare our models with several baseline methods. First, we perform the searching process by using classical retrieval models, including the Vector Space Model (VSM) , Okapi BM25 smoothing. Since BM25 gave the best results in term of effectiveness, we only show the results related to this model. We values of KLML are comparable with the MAP values of KL . We compare the baseline approaches with our proposed methods, first by comparing them with a query expansion framework applying a classifier trained with the combination of terms and computation. However, the results from these experiments were, though comparable, worse than those from the BM25+KL query expansion models. Thus, for simplicity we did not include the results from these experiments. 6.2.3. Comparison with related work
To have a fair comparison with similar approaches, we implemented the geo-temporal tag relatedness by Zhang et al. (2012) , which we, from now on, refer to as ZKYC ( Zhang et al., 2012 ) for simplicity. As with our approach, with ZKYC ments of numbers of users applying the tag in each bin; and the geo-temporal feature vector or matrix contains m n ele-ments of the counts of unique users tagging a picture within the geo-temporal bin. All vectors are normalized with l ing feature vectors.
 ing equation equivalent to Eq. (17) as a KL  X  X  1 a  X  rel geo temp value of the parameter a over a set of 50 queries. 6.2.4. Evaluation metrics
To evaluate the retrieval performance of all the models, we use Mean Average Precision ( MAP ), a widely used evaluation metric within information retrieval ( Baeza-Yates &amp; Ribeiro-Neto, 2011 ). We compute our MAP values based on 1000 retrieved documents (images). To make sure that any improvements are statistically significant, we perform paired two-significant, unless otherwise specified. 7. Results classifier with an optimal feature selection procedure. 7.1. Classification accuracy the queries using the training set.
 0.1, and 0.5.

We summarize the averaged results in Table 3 . Here,  X  X + X  X  is the positive class containing the good candidate terms, terms was 93% and the recall was as high as 97.56%.
 increases. Moreover, both J48 and Random Forest (RF) outperformed the Na X ve Bayes (NB) and SVM, with high margin. that has a high degree of randomness and a high number of independent features. This conclusion is also supported by parameters is beyond the scope of this work. In conclusion, we choose Random Forest as the base classifier for our framework. 7.2. Retrieval effectiveness comparison
As part of our evaluation, we performed a comparative study on the retrieval performance. We compared our approaches with both the KL divergence model to choose the expansion terms. For each query expansion run, we used the default value scale, due to the size of the geo-temporal bin.

Overall, both our proposed query expansion methods outperform both of the baseline methods, for all the combinations of number of documents and number of terms. For KL _ T , the maximum MAP improvement is 9.7%, while for KL _ ST , the retrieval performance.

In Fig. 6 , we summarize the improvements of MAP compared to BM25 , while varying the numbers of feedback documents for each method by only taking into account the numbers of feedback documents, independent of the number of terms. As Moreover, ZKYC ( Zhang et al., 2012 ) does not consider spatial attractiveness and variation in scales. 7.3. Analysis of the features selection of the expansion terms. The question we want answered is: Do the features we have proposed in this paper con-
Symmetrical Uncertainly (SU) evaluates the goodness of a subset of features F by comparing its symmetrical uncertainty with another subset of features ( Yu &amp; Liu, 2003 ). Let F
Tables 5 X 7 report the IG, GR and SU scores, respectively, for the features we used in our classification of good and bad expansion terms. They show which features are the best using the baseline and temporal features compared with applying baseline, temporal and spatial features .
 does not seem to have any effects on determining good candidate expansion terms. However, the temporal correlation between the distribution of documents annotated with a candidate expansion term and of those annotated with a term from query term.
 with all the three feature selection methods, the most important features are those related to the vectors D RDMDL 12 in Table 5 X 7 ), D ! Max  X Q X  e  X  (or RDMD 12), D ! didate expansion term and a query term as features for classification of good and bad candidate expansion terms. 8. Conclusion
In this work, we have developed a new approach to effectively retrieve event-based images from typical media sharing ing our features in a machine-learning-based query expansion framework. More specifically, we have used our spatial and the way we extract these features and how we use them to choose the best expansion terms. Our experiments and extensive the usefulness of our spatial features in more general information retrieval settings, we currently study applying our approach on other resources than pictures. Second, in this paper, we have focused on selecting candidate expansion terms pervised selection of expansion terms based on their associated temporal and geo-spatial characteristics. Third, we are exploring the combination of this approach with Open Linked Data usage, such as DBPedia, to further improve the choice of best expansion term candidates.
 Acknowledgement uscript. This work is supported by the Research Council of Norway, VERDIKT Program Grant No. 176858. References
