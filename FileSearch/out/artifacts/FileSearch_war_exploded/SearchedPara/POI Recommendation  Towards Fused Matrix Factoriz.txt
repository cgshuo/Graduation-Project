 Providing personalized point-of-interest (POI) recommen-dation has become a major issue with the rapid emergence of location-based social networks (LBSNs). Unlike tradi-tional recommendation approaches, the LBSNs application domain comes with significant geographical and temporal dimensions. Moreover most of traditional recommendation algorithms fail to cope with the specific challenges implied by these two dimensions. Fusing geographical and temporal influences for better recommendation accuracy in LBSNs re-mains unexplored, as far as we know. We depict how matrix factorization can serve POI recommendation, and propose a novel attempt to integrate both geographical and temporal influences into matrix factorization. Specifically we present GeoMF-TD, an extension of geographical matrix factoriza-tion with temporal dependencies. Our experiments on a real dataset shows up to 20% benefit on recommendation preci-sion.
 H.3.3 [ Information Search and Retrieval ]: Retrieval models; Information filtering X  matrix factorization; kernel density estimation; accuracy measures
The last years have witnessed the emergence of location-based social networks (LBSNs) such as Foursquare, Flickr, Weibo, Facebook places and so on. The success of these LBSNs has promoted the advent of new forms of online ser-vices. One of the main goals of these services is to offer to users the possibility to interact with each other and to explore new sets of points-of-interest (or POIs) by sharing their personal experiences and feelings on POIs they have visited in the past.
 c  X  Differently Regularized Matrix Factorization presented in [1] apply CF personalized methods on dimensionally reduced user-POI matrices aiming at minimizing squared regular-ized errors. In [11] Sattari et al. proposed Improve Feature Combination (IFC), which is based on an extended matrix factorization model that integrates additional data resources before applying Singular Value Decomposition technique to the extended model. It has been proven in several studies that IFC performs better than CLAF in terms of prediction accuracy.

Since each POI comes with a significant geographical di-mension, many works have tried to integrate this geograph-ical information into the recommendation model. Recently Ye et al. showed in [14] how to integrate geographical in-fluence with classical CF approaches. More precisely Ye et al. have studied the geographical influence of POI assum-ing a power-law distribution of the visited POIs. On an-other hand, Cheng et al. [2] have recently proposed a multi-center gaussian model as a model of the spatial clustering phenomenon. Differently Zhang et al. in [15] proposed a personalized fusion framework based on kernel density esti-mation of the distances distribution between POIs of each user.

In addition to the geographical dimension, the temporal dimension is another important factor leveraging the accu-racy of the model. Exploring temporal dimension into ma-trix factorization is not a new idea. Recently in [4] Gao et al. have proposed a location recommendation framework with temporal effects (LRT). Specifically they showed how to model two main temporal properties of data (i.e. non uniformness and consecutiveness) with matrix factorization. The experiments conducted showed that LRT outperforms traditional recommendation algorithms.
Let u = { u 1 ,u 2 ,...,u m }  X  U m be a subset of users and p = { p 1 ,p 2 ,...,p n }  X  P n a subset of POIs. Then let C  X  R m  X  n be a user-POI matrix containing m users and n POIs. Value c u,j in C refers to the visit frequency of user u to the POI i .
Basically the goal of matrix factorization is to approxi-mate matrix C by the product of two matrices P  X  R m  X  k , and Q  X  R n  X  k of latent factors with dimension k min( m,n ) by solving the following classical optimization problem, with  X  a non-negative parameter to avoid overfitting by con-troling the capability of P and Q . Then it becomes possi-ble to approximate the missing value g c u,j in C by comput-ing the inner product between corresponding latent factors g c u,j = P u Q T j . However, the application domain of LBSNs is different from traditional recommendation domains. In-deed the check-in datasets in LBSNs provide only indication of confidence but no information about preferences of users. This property refers to the recommendation problems with implicit feedback . Specifically Hu et al. have proven in [7] that weighted matrix factorization (WMF) gives the best results with implicit feedback datasets. Weighted matrix factorization takes into account of the asymmetry existing between confidence and preference and creates two new vari-this model assumes that the influence area of each POI fol-lows a normal distribution fixed in advance and only based on distances over space. However the influence areas of two distinct POIs can be very different in reality by considering different parameters other than the distances. Notably the temporal effects in POIs visit sequences play also a signif-icant role [4]. Particularly these effects can reflect that a POI j can be in the influence area of another POI i but not being really negative.

Following the GeoMF approach, our basic idea is to in-tegrate these temporal influences into the GeoMF model. Actually, we propose to modify the values of the influence area of each POI i through the grid g l  X  N L to take into ac-count the time spent by a user to go from the POI i to the other POIs collocated in g l . More precisely, for each POI i , we compute the average time that each user spend to reach j ( j is in g l ) from i . We compute this for every user that has at least one check-in at i and another (more recent) check-in at j into g l . Then, we average the per-user values to get a single value related to POI i . Let t g l i be the average time computed between i and collocated POIs existing in g l . We introduce temporal coefficients  X  l ( t g l i ) as follows, where  X  i refers to the standard variation of time intervals for POI i and y l i has been computed from Eq(5). Then we fuse these coefficients with influence vector y i for POI i , The idea of these temporal coefficients is to decrease the negativeness of potential negative POIs when no user has checked-in them during a certain time. That is why these coefficients let unchanged the influence area value when this value is low. We use these coefficients as a fusion output be-tween geographical gaussian influence over space, and tem-poral dependencies existing into the dataset.
In our experiments, we compared the accuracy of our ap-proach with GeoMF. This section describes the dataset we used, the evaluation metrics we chose, and the results we obtained. We evaluated the algorithms on check-ins crawled from Gowalla 1 and publicly available [3]. Gowalla was a famous LBSN closed in 2012. Gowalla dataset has already been used in several works on POI recommendation [2, 3, 15]. Table 1 presents the main statistics concerning this LBSN. In order to reduce matrix sparsity in the dataset we keep only users with at least 50 check-ins and for practical purposes we use only check-ins localized in France. Figure 1 presents the spa-tial distribution of check-ins over the France area. Finally it remains 161 users, 7697 distincts POIs for 12418 distinct check-ins, which is very few but enough for an initial evalu-ation. Then we organize this dataset as a user-POI matrix.
The Gowalla check-ins dataset can be downloaded here: http://snap.stanford.edu/data/loc-gowalla.html Figure 2: Precision comparison between GeoMF and GeoMF-TD Figure 3: Recall comparison between GeoMF and GeoMF-TD depict a comparative analysis of respectively the precision @ N and the recall @ N results of GeoMF and our approach (GeoMF-TD) with N ranging from 1 to 20 for the precision, and with N ranging from 1 to 100 for the recall. As expected the temporal coefficients we introduce allowed to take into account the temporal dependencies existing between POIs and thus improve the global accuracy. Figures 2 and 3 show an average benefit of 60% for recall and 20% for precision. This overall performance comparison does not integrate the study of the influence of the threshold parameter, but gives promising results for the future.
In this paper, we have focused on the problem of POI rec-ommendation in LBSNs. Specifically we have investigated matrix factorization algorithms based on geographical in-fluence. Our goal was to try to leverage the factorization model of GeoMF by considering the temporal influences of POIs checked-ins. To this end we have provided GeoMF-TD algorithm as a first proposal of an extension of GeoMF and we have presented accuracy comparisons. Our experimental evaluation shows that GeoMF-TD presents better accuracy performances than GeoMF.

Considering the preferences of the user will change over time, a future line of work we should investigate will be to take into account of the online integration of user X  X  prefer-ences changes and to capture this evolution into our model. This problem refers to the recommendation dynamicity chal-lenge widely studied in recent studies [5, 6]. Additionally, one of our future goal will be to include POI categories into the model, and to cope with the scalability issues.
