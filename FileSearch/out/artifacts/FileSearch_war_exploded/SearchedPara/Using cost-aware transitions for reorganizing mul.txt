 1. Introduction
Current trends in the Multiagent Systems (MAS) research community require models that are able to define organizations that can be dynamically adapted according to changes in the environment or in the organization specification. Dynamic adap-tation involves modifications in the structure and behaviour of a
MAS, such as adding, removing, or substituting components, which are all done while the system is running and without bringing the system down ( Dignum et al., 2004 ). The process that changes an organization into a new one is commonly known as reorganization ( H  X  ubner et al., 2004 ).

According to Horling and Lesser (2005) , organization adapta-tion eliminates the need to determine all possible runtime condi-tions a priori, which is unknown in many systems. Before this can occur, the space of organizational options must be mapped and their relative benefits and costs understood. To date, however, few reorganization approaches have emerged that incorporate mechanisms for measuring the impact that different changes have on the components of the organization. One main reason is that current approaches do not provide support for specifying the requirements of organizations that are to be achieved. The other reason is that without this support, it is difficult to measure the impact on the costs of applying the reorganization and on the performance of the whole organization, without carrying out the reorganization.
 focused on the increase in utility ( Matson and DeLoach, 2004 ; Bou et al., 2007 ). However, the costs associated with carrying out the reorganization and the indirect costs/benefits affecting other agents as side effects of the reorganization have not been widely taken into account. Other approaches assume that a change in some specific agents does not affect the other agents in the organization ( Kota et al., 2009a ; Nair et al., 2003 ). However, the impact of a reorganization should consider both the costs asso-ciated to carrying out the process and the benefits or costs of the reorganization to all the components of the organization. Thus, reorganization models that are able to reason about reorganiza-tion considering both the benefits of the new organization and the cost of changes are necessary for the next generation of open and dynamic systems.
 zation in multiagent systems and focuses specifically on a novel work based on transitioning to future organizations by providing a specific measurement of the transition impact. In this paper, we show an extension of the work presented in Alberola et al. (2011b) , which provides initial support to our transitions approach. This support is provided by a Reorganization Facilitator service that has been integrated into the Magentix Multiagent
Platform ( Fogue  X  s et al., 2010 ). The impact-aware transition model used by our framework is focused on finding the future organiza-tion to be transitioned to based on the performance of this organization as well as the costs for achieving it. Since the reorganization consists on finding potential different future orga-nizations, the impact of the process can be accurately measured in terms of the agents directly involved in the change as well as the rest of the agents in the organization. We also present a practical approach based on a tourist application that focus a transition process, which considers the impact that the transition causes in all the elements of the organization and the costs required to carry out the process. Finally, we carry out an in-depth performance evaluation of the system, a trace of execution in order to show an example of transition, and an execution of the system for compar-ing the utility of the system depending on different considerations for transition.

The rest of the paper is organized as follows. In Section 2 ,we describe the Organization Transition Model. In Section 3 , we detail the implementation of the Reorganization Facilitator service.
Then, in Section 4 , we describe the practical approach. In Section 5 , we detail some previous works related to our proposal. Finally, in Section 6 , we present some concluding remarks. 2. Organization Transition Model
The Organization Transition Model is based on the concept of organization transitions ( DeLoach et al., 2008 ) which allows us to relate two different organizations at different moments. This model is based on our previous work ( Alberola et al., 2011c ), in which we presented initial support for organization transitions.
The Organization Transition Model is composed of three parts: the definition of organization; the organization transition that relates two organizations at different moments; and the computation of the cost related to the organization transition.

This model obtains the future organization according to speci-fied requirements that can be achieved at the minimal impact, i.e. the greater benefits with the minimal costs. This reorganization approach considers a type of reorganization that is widely used in other works in the field which consists of a role reallocation process ( Hoogendoorn and Treur, 2006 ; Deloach and Matson, 2004 ; Nair and Tambe, 2005 ; Seelam, 2009 ). This reorganization takes into account both the changes in the roles played by agents and the services provided by agents. Since the design of our reorganization approach is modular, we could this functionality in order to take into account other reorganization considerations. 2.1. Organization
Organization models allow both the elements that make up the organization and the interactions among these elements to be represented. Several approaches can be found in the literature for modeling agent organizations based on the requirements of the applications. Current organization models have been compared and reviewed by works such as Va  X  zquez-Salceda et al. (2005) , Dignum (2009) , and Argente et al. (2009) .

Though several approaches can be used to model organizations, we use an adaptation of the organization model proposed by
Esparcia and Argente (2011) since we found it to be sufficient for the requirements of the model proposed. We are interested in modelling an organization transition that considers service and role reallocation among the agents of the organization. Therefore, we require an organization definition that represents the agents of the organization, the services that these agents provide, and the roles that agents play based on these services. Furthermore, we require the model to provide the dynamism necessary to repre-sent different states of the organization at different moments. An organization at a specific moment t is defined as a tuple
O  X  / O t O , O t R S where O t O stands for Organizational Objects and represents individual objects of the organization. It is defined as O  X f R t , S t , A t g , where:
R t represents the set of roles contained in the organization at a specific moment t .

S t represents the services that the organization is offering at a specific moment t .
 A t represents the agent population at a specific moment t .
O t R stands for Organizational Relationships and represents rela-tionships of the organization by means of a link between the objects. It is defined as O t R  X f offers t , provides t , plays offers t  X f X  r , s  X  A R t S t g represents relationships between roles and services, where ( r , s ) represents that the role r offers the service s at moment t . provides t  X f X  a , s  X  A A t S t g represents relationships between agents and services, where ( a , s ) represents that the agent a provides the service s at moment t . plays t  X f X  a , r  X  A A t R t g represents relationships between agents and roles, where ( a , r ) represents that the agent a plays the role r at moment t . suitability  X  function A t S t - X  0 :: 1 defines how well an agent can provide a service.

Given an organization O t at a specific moment t , a must provide all the services s that r offers at time t , in order for an agent a to be able to play a role r at time t 8 X  a , r  X  A plays t 9  X  r , s  X  A offers t - X  a , s  X  A 2.2. Organization transition
The concept of organization transition allows us to relate two different organizations at different moments, current ( c )andfuture ( f ). It is the mechanism by which an organization is reorganized into a new one. This mechanism is based on individual changes that are applied to the objects and relationships of O c in order to obtain the objects and relationships of O f . We can divide the organization transition into two transitions: the objects transition function and the relationships transition function .The objects transition function ( g )is the mechanism that supports the transition of the objects of O the objects of O f , that is, individual changes that can be applied to the objects of O c to obtain the objects of O f .The relationships transition function ( d ) is the mechanism that supports the transition of the relationships of O c into the relationships of O f individual changes that can applied to the relationships of O obtain the relationships of O f . The application of both these transi-tion functions allows an organization to transition from O
An event e defines each individual change that can be applied to an object or to a relationship during the organization transition. It is expressed as a function in terms of a ddition or deletion of individual objects or relationships. Given an organization O c  X  / O O  X f R c , S c , A c g and O c R  X f offers c , provides c , plays causes the specific object or relationship to be added to the specific set of O c .Asanexample,wecandefineaneventforadditionsuchas  X  add  X  role  X  r  X  X  torepresentthattherole r is added to the set of roles.
Given two organizations, O c  X f O c O , O c R g and O f  X f O O to O f as the events that cause a transition to O f when all of these events are applied to O c . These events can be divided into organizational object events ( t O O ) and organizational relationship
The set of organizational object events t O O comprises events that cause a transition to O f O when all of them are applied to O .

The set of organizational relationship events t O R comprises events that cause a transition to O f R when all are applied to O
An event e A t is dependent on another event e 0 A t if, e 0 must first be applied, in order for e to be applied. The function dep  X  e , t  X  obtains the events of t that e is dependent on. The dependency between events defines which ones could be applied simulta-neously during the transition process and which ones must be applied sequentially.

A set of events t must be split into subsets of events that group independent events. Therefore, a set of events t can be repre-sented as a sequence of subsets of events t 1 , t 2 , ... , t dependency order, i.e., at least one event of t i  X  1 is dependent on one event of t i , whatever i is.

If a sequence of subsets t 1 , t 2 , ... , t n is applied to transition from O c to O f , the application of each t i t causes a transition to an intermediate organization. The sequence of organizations that is reached in the transition between O c and O f represents a transition path between the two organizations. 2.3. Organization transition computation
The application of the set of events t associated to an organization transition provides us with information regarding what changes must be carried out in order to complete the transition. In order to measure this application, we define the concept of organization transition impact as a measurement of the effects of an organization transition in terms of organization utility based on the costs for carrying out this transition. Comput-ing the impact becomes essential in order to empirically specify the value of this transition in terms of time consumption, money, resources, and so on.

Each event e has an associated impact i  X  e  X  . This impact represents the costs/benefits that the application of this event causes in the organization. This impact shows the effect of this event in the components involved in the change and also how other components are affected by this event. The impact also shows the cost for carrying out the application of the event.
Therefore, for any set of events t that allow a transition from a current organization O c to a future organization O f , we define the impact that is associated to this transition as the impact of applying all the events of t I  X  t  X  X 
As we stated in Section 5 , in this work we consider a role reallocation transition. This type of reorganization changes both the roles played by the agents and the services provided by the agents. The organizational relationships provider and plays repre-sent the services that are provided by each agent and the roles that are played by each agent, respectively, at a specific moment.
Nevertheless, for a given cost, an agent can provide other services and can play different roles that it is not currently playing. Given a specification of the current organization O c , the organizational objects of the future organization that is to be achieved O organizational relationships offers f that are to be achieved, some agents could be reallocated to provide other services and to play other roles that they were not playing in O c . A role reallocation transition entails the application of a specific set of events t composed by provider and plays relationships, which transforms the provider c and plays c relationships into provider f and plays , respectively. Each one of these role reallocations determines a different O f that could be transitioned to by applying a set of events t R with an associated impact I  X  t R  X  .
 how costly it is for agents to acquire the services to play a specific role, to start playing this role, to stop playing a role that is currently being played by an agent, and to stop providing the services required for this last role. This impact also measures how beneficial it is for the agents involved in the role reallocation and for the organization to have these agents change their roles.
To calculate the impact of a role reallocation transition, we need to estimate the impact related to the events required for each agent that is reallocated to play a new role.
 offered by a new role r n that are not already provided by the agent as I AS  X  a x , r n  X  X  for every service s n that  X  r n , s n  X  A offers f 4  X  a agent a x provides these services, it can start playing the role r playing r n is defined as
I PL  X  a x , r n  X  X  I AS  X  a x , r n  X  X  i  X  add _ plays  X  X  a defined as i  X  delete _ plays  X  X  a x , r c  X  X  X  . Once a x can stop providing the services required to play r c that are no longer required in order to play other roles in O f for an impact of I DS  X  a x , r c  X  X  for every service s c that  X  a x , s c  X  A provides c 4) r  X  a x , r d  X  A plays f . Thus, the whole impact of agent a a current role r c is defined as I SP  X  a x , r c  X  X  i  X  delete _ plays  X  X  a x , r c  X  X  X  X  I from role r c to role r n by taking into account the impact related to stop playing r c in order to play r n
I R  X  a x , r c , r n  X  X  I PL  X  a x , r n  X  X  I SP  X  a x , r events t R that causes a role reallocation transition from O can be written as I  X  t R  X  X  where  X  a x , r c  X  A plays c 4  X  a x , r n  X  A plays f . define a different role reallocation transition from O c and that obtain a different O f . The challenge of the role reallocation transition is to find the specific set of events b t R that minimizes the role reallocation transition impact
I  X  b t R  X  X  argmin
O c would cause a transition to a future organization, which can be transitioned to at the minimal impact. 3. Reorganization Facilitator service service, which provides support for computing the transition from an initial organization to a future one with the lowest impact. The RF service uses the Organization Transition Model described in
Section 2 , and implements an Organization Transition Mechanism, which is composed of different models that provide support for computing organization transitions. We use Fogue  X  s et al. (2010) as the framework for developing the RF service. Magentix supports and enables the development and execution of open MAS.
It focuses on providing support at the interaction and organization levels, which are key levels in open environments, where hetero-geneous agents interact and organize themselves into organiza-tions. Magentix provides support to virtual organizations by means of the THOMAS architecture ( Rebollo et al., 2009 ), which defines flexible services that can be used by agents:
Service Facilitator ( SF ), which allows the registration and search of services provided by internal or external entities by following Service-Oriented Architectures guidelines.

Organization Management System ( OMS ), which is in charge of the management of the organizations, taking control of their underlying structure, the roles played by the agents, and their relationships.

The SF and the OMS provide services for managing the life-cycle of the organizations as well as the services provided by the agents.
Therefore, systems can be developed where agents are able to dynamically enter and leave the system, change their services, or change the roles that they play in the organizations. A special organization manager agent is defined for managing the execution of each organization. In order to carry out the organization transition, the organization manager agent calculates the role reallocation impact for each broker agent to be reallocated to each role as stated in Section 2.3 , according to the costs and benefits associated to the specific application.

In Fig. 1 we show the interaction between the organization manager agent and the Magentix services. The impacts that are calculated by the organization manager agent are transferred to the RF in order to calculate the organization transition. The RF provides the register _ transition _ impact service to define these impacts.

Then, the RF can be requested to calculate a transition by using the request _ organization _ transition service. This makes the RF find the organization whose transition impact is the lowest and also determines the sequence of steps required to achieve it.
Then, the RF is able to calculate the sequence of events that causes a transition to the future organization with the lowest impact. Finally, these events are returned to the organization manager agent which can ask the OMS and the SF services to carry out this organization transition.
 In order to carry out this operation, the RF implements the Organization Transition Mechanism ( Fig. 2 ), which is composed of the following four modules:
The Role _ realloc _ calculation module calculates the plays and provider relationships involved in a role reallocation transition, which minimizes the organizational transition impact I  X  b t ( Section 2.3 ). This module finds the role reallocation with the lowest impact according to the specification of the current organization O c , the organizational objects of the future organization that is to be achieved, and the offers relation-ships of the future organization. The algorithm used for this implementation is a modification of the Hungarian algorithm for solving problems of task assignment in polynomial time.
The algorithm carries out several iterations in order to find the reallocation of agents to roles that fulfills the requirements of the future organization to be achieved and has associated the minimal impact. The optimal assignment follows an imple-mentation of the Edmonds X  X arp algorithm, which has been applied in the literature for these kinds of problems. This algorithm computes the maximum flow in a flow network in
O  X  9 N 9 9 A 9 2  X  (with N being the nodes and A being the arcs of the flow network) by using a breadth-first search.

Once the relationships associated to the future organization with the minimal impact have been calculated, the O definition is complete. Thus, the Set _ of _ events module is in charge of obtaining the set of events required to transition from O c to O f .

The Transition _ path module takes the set of events t obtained in previous module and calculates the dependency of events. In this case, dependent events must be split into different subsets, providing a sequence that must be applied in order of depen-dence by defining the transition path between O c and O f
Finally, the Spec _ generator module uses this sequence of events and generates a sequence of service requests to the OMS and SF .
These service requests are returned to the agent along with the cost associated to the organization transition. These requests should be carried out sequentially in order to transition to the future organization. 4. Organization transitions in a tourist application
In this section, we present an example that uses the RF service, which is based on an application of tourist services. This applica-tion is composed of agents that are grouped into three different organizations: user agents, broker agents, and provider agents.
User agents require tourist services and request information regarding different travel packages, which involves booking of hotels, flights, trains, etc. These agents interact with broker agents in order to obtain the reservations required. Provider agents are the agents that belong to the specific hotels, airlines, and train companies, etc. Broker agents are in charge of offering travel packages that are based on their negotiation with different pro-vider agents. Broker agents act as intermediaries between user agents and provider agents. In this example, we focus on the organization of broker agents.
 The organization of broker agents at a moment c is defined as
O  X  / O c O , O c R S . The Organizational Objects O c O  X  / the individual objects of the organization. In this application, six different roles are defined as R c  X  / r 0 , r 1 , r 2 , r moment c . Each one of these roles is specialized for a specific ( r ), and family ( r 6 ). Each role offers a service that is related to the management of the specific kind of travel packages that the role is specialized in. As an example, role r 1 offers the service s the honeymoon &amp; romance travel package management service.
An application in which more than a single service is offered by a role can be seen in our previous work ( Alberola et al., 2011b ).
The population of broker agents is defined as A c  X f a 1 , ... , a g for a given moment c . At a moment c , an agent a x plays the role r if the service s y is provided by a x at that moment. Nevertheless, this agent can provide other services and can play different roles that it is not currently playing at a given cost. This cost represents the penalization for returning the travel packages that have not been sold.
 which plays the role r y , receives a number of requests from user agents that demand travel packages related to the service s number of requests is represented as R  X  a x , s y  X  t 0 t a x has an associated suitability for providing a service s defined as suitability  X  a x , s y  X  . This suitability defines how well a broker agent can provide a service and, thus, how well this agent can play a role.
 specific number of these requests will finally be sold, which a x generates to the organization. This number depends on the suit-ability of a x for providing s y , which in this example, is represented as the probability of a received request finally being sold. Apart from the profit, suitability also influences the costs associated for leaving a role.
 plays the role r y represents the number of requests received in the whole organization R  X  A , s y  X  t 0 t  X 
In order to simulate this application, each request has associated the same probability p  X  1 = 9 plays t r agent a x that plays the role r y , where 9 plays t r of agents that play r y at t .

X that follows a binomial distribution X B  X  n , p  X  , with parameters n  X  R  X  a x , s y  X  t 0 t and p  X  suitability  X  a x , s y number of sales carried out by each agent from the number of requests received, a Bernoulli random numbers generator ( Algorithm 1 ) is used. This method is similar to the one used in
Kachitvichyanukul and Schmeiser (2009) and generates n inde-pendent random values, returning the number of these values that are less than or equal to p .
 period of time between t and t 0 is represented as the number of sales by this agent multiplied by the profit obtained from the sale of each individual travel package of the service s y U  X  a x  X  t 0 t  X  S  X  a x , s y  X  t 0 t profit  X  s y  X  is measured as the profit generated by all the sales of the organization in this period U  X  O  X  t 0 t  X 
Algorithm 1. Bernoulli random numbers generator.
At design time, it may not be possible to know what service distribution among the agents provides the highest utility.
Furthermore, even though the best performing role allocation is known, it may not be the best one at every moment of the organization X  X  life-span because service demand may change, requiring a different distribution. Therefore, organization transi-tions provide alternatives for improving utility. In the following section, we illustrate how role reallocation costs and benefits are measured in terms of impacts. 4.1. Impact measurement of organization transition
As stated in Section 2.3 , the impact of role reallocation for agent a x is obtained by Eq. (3) . This equation calculates the impact of leaving the current role (Eq. (2) ) and playing a new role agent a x providing the services offered by the new role r example, we consider that each broker agent is able to provide each service at a given suitability. Thus, this impact can be assumed to be null since no cost is required to provide a service.
The term i  X  add _ plays  X  X  a x , r n  X  X  X  (Eq. (1) ) measures how the organization utility would be affected if a x plays the role r
According to the law of large numbers ( Baum and Katz, 1965 ), if a large number of requests are received, these would be uniformly distributed among all the agents that play the role r y . Being
R  X  A , s n  X  t 0 t the requests received for the service s n in the organization in a previous period of time, the number of these requests that would be received by a x can be estimated as the number of requests divided by the number of agents that would be playing r : R  X  A , s n  X  t 0 t =  X  9 plays t 0 r
Given these received requests and the suitability of a x for providing the service s n , the number of sales that would be carried
In contrast, these requests would not be received by the agents that were already playing r n , causing these requests to be reduced to
R  X  A , s
Therefore, the benefits generated by the agents that were already playing r n would be reduced to
S  X  A , s 9
According to this, the estimated number of sales by all the agents that would be playing r n can be calculated as
S 0  X  A , s
According to the above estimations, the impact i  X  add _ plays  X  X  a , r n  X  X  X  is calculated as the difference between the profits obtained by the sales that are carried out when a x is not playing r and the sales that would be carried out if a x was playing r  X  S  X  A , s
A high impact represents that the utility is expected to decrease if a x plays the role r n while a low impact represents an expected increase in utility.

The impact I DS  X  a x , r c  X  (Eq. (2) ) refers to the cost required for a to return the travel packages regarding the service s c that remain unsold. In this example, agents that provide a service with higher suitability are able to return the unsold travel packages at a lower cost, while agents that provide a service with lower suitability have a higher cost for returning the unsold travel packages.
Therefore, the impact I DS  X  a x , r c  X  is calculated as the number of unsold travel packages that are returned at the price that they should have been sold, according to the agent suitability unsold  X  a x , r c  X  price  X  r c  X  X  1 suitability  X  a x , r the organization utility would be affected if a x is not playing the for the service s c , these requests would be received by the other agents that provide s c if a x were not playing r c . Depending on the suitability of these agents, a number of sales would be carried out. The suitability at which these sales would be carried out can be estimated as the mean suitability of the broker agents that were already playing the role r c from t to t 0 suitability 0  X  A , s n  X  X  S  X  A , s c  X 
Given this suitability and the number of requests R  X  a x sales that would be carried out are estimated as S 0  X  a x Algorithm 1 ( Section 4 ). Therefore, the impact i  X  delete _ plays  X  X  a is calculated as the difference between the profits obtained by the sales that are carried out if a x is playing r c and the profits that would be obtained out if a x were not playing r c  X  S  X  a x , s c  X  t 0 t S 0  X  a x , s c  X  t 0 t  X  price  X  s
A high impact represents that the utility is expected to decrease if a x is not playing the role r c while a low impact represents an expected increase in utility. 4.2. Trace
In this section, we present an example of a transition execution in order to show the required steps.

The organization manager agent retrieves information about the requests, the number of sales, and the number of travel packages that remain unsold by each broker agent during a specific period of time. Given the estimation of the impacts described in Section 4.1 , the role reallocation impact for each agent a x from its current role r c to any other role r n according to Eq. (3) .

By using the service register _ transition _ impact ( Section 3 ), the organization manager agent provides the role reallocation impacts to the RF service. Then, by using the service request _ organization _-transition , the organization manager agent requests the RF service for an organization transition calculation, which obtains the role reallocation transition with the minimal transition impact. If there is not any role reallocation that improves the current configura-tion, any change is required. Otherwise, the sequence of events that allow the transition to the future organization would be obtained by the Set _ of _ events and Transition _ path modules. An example is shown below DeregisterAgentRole  X  agent 1 , role 4  X  DeregisterAgentRole  X  agent 9 , role 2  X  DeregisterAgentRole  X  agent 10 , role 0  X  RemoveProvider  X  agent 1 , service 4  X  RegisterProvider  X  agent 1 , service 1  X  RegisterAgentRole  X  agent 1 , role 1  X  RemoveProvider  X  agent 9 , service 2  X  RegisterProvider  X  agent 9 , service 0  X  RegisterAgentRole  X  agent 9 , role 0  X  RemoveProvider  X  agent 10 , service 0  X  RegisterProvider  X  agent 10 , service 4  X  RegisterAgentRole  X  agent 10 , role 4  X 
In this example, the role reallocation consists of three agents swapping roles. Then, the Spec _ generator module translates this sequence of events into a specification of requests to the SF and OMS services. A fragment of this specification is shown as follows:
In case that the organization manager agent decides to finally carry out the transition, the above requests are sequentially carried out in order transition to the future organization in which these three agents swap their roles. 4.3. Performance evaluation
In this section, we show an evaluation of the RF service that is focused on testing the performance and the scalability of the system presented. This evaluation denotes three aspects: (1) how long the Organization Transition Mechanism takes to find the optimal role reallocation, (2) how the final organization can be achieved, and (3) how often the organization should deliberate on the possibility of transitioning to other organization.
In order to carry out these experiments, some of the constraints defined in Section 4 are relaxed. These constraints are related to the number of agents, services, roles, and dependency between events. In this evaluation, the population of broker agents is from the number of roles and services being half the number of agents ( 9
R c 9  X  9 S c 9  X  9 A c 9 = 2). This is used to test the performance of the system according to the size of the organizational objects.
The percentage of services offered by each role from the total number of services provided by the organization changes from 0.2 to 1. Thus, for each role r y , the percentage of services offered by p  X  0.2 means that each role offers 20% of the services from the whole set of services of the organization. Thus, in order for an agent to be able to play the role, this agent must provide all of these services. This modification is used to test the performance of the system when the requirements for playing a role are changed.
The dependency between events is another parameter that is changed. A minimal degree of dependency is required to maintain the consistency during the transition process. This dependency is represented as 0 and corresponds to events such as the additional dependencies that would represent other restrictions such as  X  X  X n order to an agent being provider of service s service s x must be provided before X  X . Therefore, the addition and deletion of events related to these operations are also dependent. also changed in these experiments. Each agent is able to provide only a percentage of the services at a finite cost. Thus, if the impact on the organization of an agent a x providing a service s to provide this service, and, therefore, it is not able to play the roles that offer this service. This is used to test the performance of the system based on the number of agents that are capable of playing a role. The percentage of services that each agent is able to provide at a finite cost is 20% higher than the number of services offered by each role. With p being the percentage of services offered by a role r y , each agent is able to provide a percentage of 0 : 2  X  p services when p o 1, and all the services when p  X  1. lated. Figs. 3, 4 and 6 show for each data point the average value of the 1000 organization transitions with a 95% confidence interval.
The Student X  X  t-test has also been performed for assessing whether the differences based on the parameters are significant or not. 4.3.1. Results ability to find the optimal future organization to be transitioned to based on the current organization. Fig. 3 shows the perfor-mance of different agent populations. This performance is shown on the y -axis in terms of iterations of the algorithm used in the Role _ realloc _ calculation module in order to find the optimal role reallocation. The percentage of tourist services offered by each role is shown on the x -axis. 1 2 / ? xml version  X   X  X 1 : 0 X  X  encoding  X   X  X  UTF 8 X  X  ? S 3 / Process S 4 .... 5 / Service _ request S 6 / Platform _ Service _ ID S OMS / = Platform _ Service _ ID 7 / Service _ definition S 8 / Service _ name S DeregisterAgentRole / = Service _ name 9 / Agent _ ID S agent 10 / = Agent _ ID S 10 / Role _ ID S role 0 / = Role _ ID S 11 / = Service _ definition S 12 / = Service _ request S 13 .... 14 / Service _ request S 15 / Platform _ Service _ ID S SF / = Platform _ Service _ ID
S 16 / Service _ definition S 17 / Service _ name S RemoveProvider / = Service _ name S 18 / Agent _ ID S agent 4 / = Agent _ ID S 19 / Service _ ID S service 4 / = Service _ ID S 20 / = Service _ definition S 21 / = Service _ request S 22 .... 23 / = Process S
It can be observed that the agent population that makes up the organization has an influence on the number of iterations carried out by the algorithm. This is because, as the population increases, the number of roles also increases and, in turn, the number of combinations for acquiring roles also increases. There-fore, the algorithm needs to carry out more iterations to achieve the optimal role reallocation. According to the Student X  X  t-test , these results are significant.

Fig. 4 shows a similar experiment but with the agent popula-tion on the x -axis. In contrast to Fig. 3 , it can be observed that the number of iterations for the same agent population is similar for each percentage of services offered by the roles (and provided by the agents). According to the Student X  X  t-test performed in this experiment, differences are not significant. Therefore, we can conclude that the number of services provided by agents has no influence on the number of iterations that the algorithm carries out for the same agent population.

Fig. 5 shows the time required for obtaining the organization transition depending on the agent population, the percentage of services offered by a role and the services provided by each agent.
It can be observed the increase in the time computation according to the agent population increases. However, it can be pointed out the less computation time when few services are provided by each agent, specially for the largest tested population. This reveals that as the less agents are candidates to play each roles, the less time is required to find best reallocation. In contrast, when each agent is able to play every role, the computation time increases due to all the agents are candidates to be reallocated to each role.
Fig. 6 tests the number of events that are required for transi-tioning to the future organization. This figure shows the perfor-mance of the RF service when the percentages of services provided by agents and offered by roles are changed. It can be observed that the evolution of the number of events is similar for each agent population. First, the number of events increases until the per-centage of services offered by roles is 0.4 or 0.6, and then the number of events decreases as the percenztage increases. This behaviour allows us to conclude that, for the same agent popula-tion, since broker agents provide a greater number of tourist services, they can play a greater number of roles. Therefore, by reallocating a small number of agents, the transition can be made with a low number of events. When the percentage of tourist services offered by each role is less than 0.6, it means that agents are not able to provide a high number of tourist services. There-fore, if an agent needs to be reallocated, not all the remaining agents are able to play the role left by the agent, and a higher number of reallocations needs to be carried out. In contrast, with a percentage of 0.6 and higher, the agents are quite capable of playing almost every role left by other agents. According to the 10 20 30 40 50 60 70 80 90 100
Iterations 0 10 20 30 40 50 60 70 80 Iterations Time (ms)
Events
Student X  X  t-test , the size of the broker agent population is sig-nificant for the number of events generated.

Fig. 7 tests the number of intermediate organizations (i.e. the transition path length) required for transitioning depending on the degree of dependency between events. In this experiment the degree of dependency between events is modified in order to test how this parameter influence the transition process. This figure shows on the y -axis the number of intermediate organizations of the algorithm used in the Transition _ path module for different agent populations. We fix the percentage of tourist services offered by each role to 0.6 and the percentage of services provided by each agent to 0.8. It can be observed that the transition path length increases abruptly when the degree of dependencies changes from 0 to 0.05. However, as this degree increases, the difference in the transition path length does not increases as so much. This reveals that for a specific configuration, we can delimit a maximum number of intermediate organizations that are required to be reached in a transition process. Obviously, as the dependencies between events increase, these must be split into a higher number of subset of events, causing a larger transition path. The differences between a population of 20 agents and the other populations of agents are significant according the t-test , but they are not significant according we increase the number of agents.
 can be the organization deliberation for transitioning, depending on the population size and the services demand. In this experiment different agent populations are tested for five different service demand configurations. These configurations range between a con-figuration in which all the services are equally demanded (demand rate of 1) and a configuration in which the most demanded services are five times higher than the less demanded services (demand rate of 5). For each configuration, 100 time-steps are simulated and the number of time-steps between two consecutive transitions is shown in Fig. 8 . This number represents how long can be the interval for transition deliberation.
 length for every agent population. The figure shows that when the demand for each service is similar, a shorter interval is required, and therefore, the frequency for transition deliberation is required to be higher. This can be explained due to the possibility of reallocating different agents to play roles becomes also higher. In contrast, when the demand of services is more different, this interval is higher. As an example, for a population of 10 agents, the interval is around 20. This means that deliberations may occur every 20 time-steps due to the roles do not require to be reallocated so often. It can also be observed in the figure the influence of the population size in the interval length. Note that as the population size increases, the interval length becomes shorter.
This reflects that as the more agents can be reallocated to play each role, the frequency of transition deliberation should be higher, due to the range of reallocation possibilities is also higher. 4.4. Execution for organization transitions during an execution of several time-steps. The organization manager deliberates on whether or not to transition to another organization based on the benefits of this organization and the transition costs. We carry out different experiments in order to show the capacity of the approach for achieving organizations that provide better utility by carrying out transitions. We also want to demonstrate the importance of considering costs before carrying out a transition since an organi-zation that provides higher utility may not be worth the reorgani-zation costs. Finally, we want to show the flexibility of the system for introducing new considerations in the organization transitions. Transition path length Time-step length
To perform these tests, we introduce the possibility of transitioning to organizations in which the number of agents that play each role could be changed.

The organization is always composed of a set of twelve agents a , ... , a 11 . Each agent has an associated suitability for providing each service which is determined to be between 0 and 1. Each of tourist management service that each agent provides. At the initial moment t 0 , each role is played by two agents that are randomly selected, without taking into account the suitability of each agent for providing each service. This random distribution is carried out in order to observe the adaptation ability of the organization.

For each test, we reproduce a system that simulates user agent requests for travel packages during the 50 time-steps. At t organization receives 30 requests from user agents for each one of the tourist services. As we stated in Section 4 , the 30 requests of each service s y are received by the two agents that play the role r
Then, in a period of time between two consecutive time steps, the number of requests for each service s y are generated according to the following formula:
R  X  A , s y  X  t t 1  X  R  X  A , s y  X  t 1 t 2 random  X  0 : 95 , 1 : 05  X 
As can be observed, the number of requests received in two consecutive time steps may change in an interval of 7
However, in a real scenario, demand of services may change at any time. Therefore, in order to simulate a more realistic and dynamic execution, we varied the demand of services during the 50 time-steps. This causes that some services are more or less demanded than others. These new requirements should cause the organiza-tion to transition to other organizations in order to provide better utility.

Fig. 9 shows a comparison of the utility of two static and one adaptive organization. Adaptive organization represents an orga-nization that is able to carry out transitions. The figure also shows the time-steps in which transitions are carried out for this organization. After carrying out a transition, the transition cost in terms of the penalization for returning the unsold tourist packages is also reflected in the utility of the next time-step.
The static organizations represent the initial distribution of services between roles, and a distribution of roles between a pair of agents that provide the service associated to the role with the highest suitability. This distribution tries to maximize the mean suitability provided by each service. However, the two best agents for providing a service may not play the role that offers this service if another role is played by two agents with low suitability.
Fig. 9 shows that although the initial distribution of services in the adaptive organization is worse than the highest suitability distribution, the organization carries out transitions in t order to find an organization that makes higher profits. This increases the utility of the initial configuration until a utility similar to the highest utility is achieved. At t 20 , the service demand by user agents changes from this moment on. This causes the demand for services s 2 and s 5 to increase while the demand for rest of the services decreases. As can be observed, the utility of the static organization with the highest suitability and the utility of the adaptive organization decrease at t 21 . However, the adaptive organization carries out transitions in t 21 and t 22 in order to improve the utility. These transitions achieve organizations in which the pair of agents that plays roles r 2 and r 5 are those that provide s 2 and s 5 with the highest suitability, although other roles are played by agents with low suitability. When the demand for services is not similar to the initial demand, static organizations are not able to improve utility.

In order to measure the influence of considering costs for organization transitions, Fig. 10 shows a comparison of the organization utility when costs for transition (i.e. the costs for returning the unsold requests) are taken into account and when they are not. When costs are not taken into account, the organiza-tion to be transitioned to is the one with the highest expectation of increase in profits, independently of the costs required to achieve this organization. As the figure shows, in both cases adaptive organizations tend to improve the organization X  X  utility. From t 0 on, several transitions are carried out in order to achieve a distribution of services that provides higher utility. Note that the adaptive organizations achieves a utility that is similar to the static organization with the highest suitability. Similar to the previous experiment, the service demand changes throughout the 50 time-steps. The service s 0 is the most demanded one from t on, while the service s 2 is the most demanded one from t Adaptive organizations respond to these changes in demand. They generate organizations with provide better utility than the organization with highest suitability distribution. However, the utility of the adaptive organization that only considers the benefits generated is usually lower than the utility of the organi-zation that also considers costs for transition, i.e., the utility is expected to increase; however, these transitions may not worth the cost. As an example, at t 6 the utility generated by the adaptive organization that only considers benefits is slightly better than the organization that also considers costs. Nevertheless, the costs required to carry out the transitions at t 2 , t 3 , and t the profits generated. It is also important to note the great number of transitions carried out in the organization that does not consider costs. This great number of transitions also affects the lower utility of the organization that only considers benefits in comparison with the organization that also considers costs.
The following experiment introduces another requirement for consideration in organization transitions: the number of agents that play a role. Until now, the number of agents that play each role remains constant during the 50 time-steps. Organization transitions considers a role swap between two or more agents. In this experiment, the organization not only considers transitions to organizations where each role is played by a pair of agents, it also considers organizations in which the number of agents that play a role can be changed, i.e., a role cardinality transition. To deal with this problem, in each time-step, the organization considers several final organizations to be transitioned to by maintaining, increasing, or decreasing the number of agents that play each role. With this new transition consideration, the range of organizations that can be transitioned increases.

Fig. 11 shows the utility of two adaptive organizations. One of these adaptive organizations considers role reallocation transition Profit by role swap. The other adaptive organization also considers changes in the role cardinality. This figure also shows the utility of two static organizations: one of them with the same initial distribution as the adaptive organizations, and the other one with the higher suitability distribution. Note that, similar to the above experiments, adaptive organizations try to improve the utility of the organization, which increases up to t 10 . From t 10 on, the demand for the service s 0 becomes the most demanded one. At that moment, the performance of adaptive organizations changes abruptly; however, as in the above experiments, after carrying out several transitions, the utility of adaptive organizations is even better at t 15 than the utility of the static organization with the highest suitability distribution. When service demand changes, the adaptive organization that considers role swap determines that the best distribution of services is to associate the role r the brokers that provide the service s 0 with the highest utility. The adaptive organization that also considers role cardinality deter-mines that it could be even better to increase the number of agents playing role r 0 . In both adaptive organizations, the utility is better than the static organizations, which are not able to improve their utility when the demand for services changes. However, since the range of transitions considered by the adaptive organi-zation that considers both swap and cardinality is greater, the utility is much better than the one that only considers a role swap.
At t 26 the demand for tourist services changes with the service s being the most demanded one. Similar to previous change at t , changes in the demand may abruptly reduce the utility of the adaptive organizations. These organizations were adapted to provide high utility when service s 0 was the most demanded one. Nevertheless, adaptive organizations are able to carry out transitions in order to improve this performance. At t 42 demand changes again, where the services s 1 and s 2 are the most demanded ones and the behaviour of adaptive organizations is similar.

In summary, introducing new considerations in the computa-tion of organization transitions increases the range of solutions that can be found. Therefore, the organization utility could also improve if other considerations are also taken into account. 5. Related work
In the last few years, several works have appeared that deal with reorganization in MAS. We analyzed in Alberola et al. (2011a) the most relevant approaches by comparing them based on what they support for different phases of the reorganization life-cycle.
As far as we are concerned, there is few support for representing and evaluating accurate costs related to reorganization; therefore, complex deliberation processes about the suitability of the reor-ganization cannot be carried out.
 the benefits of the process but also the costs associated to it measured in terms of the cost required to carry out the process and also how other agents are affected by the changes. A reorganization model is presented in DeLoach et al. (2008) in which metrics can be used to allow designers to make design time tradeoffs between flexibility and computational costs. Neverthe-less, since this design must be specified before running the system, this measurement is not computed or updated with any knowledge of how the organization is behaving at runtime. The costs of applying changes and the impact that these changes have on the rest of the agents cannot be specified in this approach. As an example, the process for an agent a being reallocated to play a role r is carried out without any cost associated to the process.
Moreover, this reallocation process does not have any effect (positive or negative) in the rest of the agents of the organization. aimed at providing support to suit the organization to its envir-onment and to efficiently achieve its goals. This approach provides great flexibility so that it can be applied to a wide range of applications because individual agents are in charge of carrying out the reorganization phases. Different methods can be imple-mented at the agent level depending on the domain, allowing the implementation of heterogeneous mechanisms for designing and selecting reorganization solutions. However, methods for measur-ing the suitability/goodness of a reorganization are not provided by the reorganization approach itself. If this behaviour is imple-mented at design time, this could not be determined depending on how the organization is performing at runtime.
 (2009b) that is focused on task-solving environments. Reorganiza-tion consists of enabling each pair of agents to continuously and autonomously evaluate (and change if necessary) their relations based on past interactions. Specific mechanisms are provided to evaluate the performance of these relationships at each time-step of the organization X  X  life-span. However, the impact of changing a relationship only takes into account the benefits/costs for the agents involved in the change. There is no support for measuring how other agents are affected by a change, i.e., how tasks received by other agents can be reallocated due to a relationship change in other agents.
 is aimed at improving goal accomplishment. This approach con-siders adaptation costs (in time and/or resources) that should be taken into account in order to decide the adaptation frequency.
However, these costs are not taken into account in either the design or the selection of the reorganization since changes are introduced with the aim of increasing the utility of the current goals. As an example, in the peer-to-peer scenario presented in
Campos et al. (2011) , reorganization is focused on modifying relationships to obtain a network with the shortest latencies.
However, these modification costs could be so high that it could be more beneficial to adapt to a sub-optimal network that has a lower reorganization cost associated to it.
 zation management ( Weyns et al. 2010 ). Reorganization is carried out in a distributed fashion. It is automatically triggered by external events (e.g. when an agent stops playing a role) and changes in the environment, which are described as laws. In this model, the communication cost for merging and splitting organi-zations is measured. However, this cost is not taken into account Profit for deciding that a reorganization is required. As we stated previously, reorganization is automatically caused when a law is triggered.

In Glaser et al. (1997) , a reorganization model based on conventions is proposed. The objective of reorganization is to maximize the agent utilities and the organization utility. In this approach reorganization costs are defined. However, mechanisms for measuring these costs as well as the impact that changes cause in all the agents of the organization are not provided.
One main reason for the lack of support for accurate cost computation is that most of the current approaches view reorga-nization as a reactive process that is guided by changes. Thus, the impact of the final organization that is to be achieved cannot be accurately measured until the reorganization process ends, mak-ing the behaviour of this new organization difficult to simulate.
Some works such as the work of Matson (2009) view reorga-nization as a response to events that require the organization to make the necessary adjustments in order to continue to fulfill its goals. The work of Hoogendoorn and Treur (2006) takes into account changes in the roles played by the agents that populate the organization in order to fulfill the organization X  X  goals.
Other approaches such as the work of Kota et al. (2009a) , view reorganization as a mechanism for maximizing utility. In these approaches, reorganization is oriented to improving the utility of the organization. Similar to the work of Kota ( Mathieu et al., 2002a , b ), view reorganization as a process that changes agent relationships. They consider situations in which an agent can learn skills provided by other agents and then, the number of interac-tions is minimized. In Matson and DeLoach (2004) propose a role reallocation model that is oriented to maximizing the organiza-tion X  X  utility. The work of Horling et al. (1999) proposes a system that changes the interactions between consumers and transpor-ters in order to overcome insufficient resources. Bou et al. (2007) evaluate the utility of the organization in terms of norms. Thus, reorganization consists of changing the regulations of the system to obtain better utility. Nair et al. (2003) and Nair and Tambe (2005) present a reorganization that is based on changing the roles played by the agents.

As can be observed, there is no approach that provides support for an accurate measurement of the reorganization consequences, not only in terms of benefits but also in terms of costs and the indirect benefits/costs that this process cause in the rest of the organization. Current approaches do not focus the reorganization to be guided by the requirements of the future organization that is to be achieved and how this organization should be achieved.
By specifying the requirements of the future organization, the changes associated to the reorganization are those that are necessary to change the current organization into the future one. In the reorganization approach provided by the Reorganization
Facilitator service presented in this paper, the estimation of the impact of changes can be measured more accurately since the desired organization to be achieved is known. Thus, the benefits and costs of the reorganization are measured not only for the agents involved in the change but also for the rest of the agents.
Furthermore, since changes associated to the reorganization are known, the cost estimation for carrying out the process can be also estimated before carrying out the process. 6. Conclusions
Similar to human societies ( Kotter and Schlesinger, 1979 ), both reorganization costs and the impact of changes in each element of the organization are important parameters that should be taken into account in order to evaluate the suitability of the reorganiza-tion. If reorganization consequences are not measured before carrying out the process, the costs associated to the reorganization may not be worth the benefits generated. The RF service presented in this paper is focused on providing support for measuring the impact of the reorganization not only in terms of benefits but also in terms of costs and how this reorganization would affect each element of the organization. The paradigm implemented in the RF service is focused on a reorganization according to the future organization that is to be achieved. Thus, the performance of the future organization can be estimated in terms of benefits and costs for the whole organization without carrying out the reorganiza-tion since the future organization to be achieved is known. The measurement provides support for specifying impacts to indivi-dual changes that can occur, with the objective of measuring the reorganization impact as accurately as possible.

The use of the support presented in this paper allows the organization manager to reorganize the current organization to suit it to new requirements. We have shown the importance of considering costs before carrying out the transition. If costs are not accurately estimated, the benefits caused by reorganization may not be worth the costs required to carry out the process. More-over, if reorganization effects are not measured for the entire organization, an expected improvement in the performance of some specific agents might lead to a decrease in the performance of other agents.

As we have shown in the last experiment, by introducing new considerations for organization transitions such as the number of agents playing a role, the range of final organizations that could be transitioned to is increased. Thus, an organization transition with better expectations can be found if new considerations are taken into account. Since this implementation of the RF service is modular, new modules can be introduced in the service to extend the functionality of the system. We plan to extend the Organiza-tion Transition Model in order to include transitions that consider other kinds of transitions that have been widely considered in other reorganization approaches such as relationships between agents as well as changes in the agent population.
 Acknowledgements
We acknowledge ITMAS 2011 as the forum in which the main ideas behind this paper were preliminary discussed. This work has been partially supported by the projects TIN2011-27652-C03-01 and TIN2009-13839-C03-01. Juan M. Alberola has received a Grant from Ministerio de Ciencia e Innovacio  X  ndeEspan  X  a (AP2007-00289). References
