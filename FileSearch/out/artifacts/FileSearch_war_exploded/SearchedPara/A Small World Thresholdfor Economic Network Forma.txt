 Research over the last decade from fields as diverse as biology, sociology, economics and computer science has established the frequent empirical appearance of certain structural properties in natu-rally occurring networks. These properties include small diameter, local clustering of edges, and heavy-tailed degree distributions [11]. Not content to simply catalog such apparently  X  X niversal X  properties, many researchers have proposed stochastic models of decentralized network formation that can explain their emergence. A typical such model is known as preferential attachment [3], in which arriving vertices are probabilistically more likely to form links to existing vertices with high degree; this generative process is known to form networks with power law degree distributions. In parallel with these advances, economists and computer scientists have examined models in which networks are formed due to  X  X ational X  or game-theoretic forces rather than probabilistic ones. In such models networks are formed via the self-interested behavior of individuals who benefit from participation in the network [7]. Common examples include models in which a vertex or player can purchase edges, and would like to minimize their average shortest-path distance to all other vertices in the jointly formed network. A player X  X  overall utility thus balances the desire to purchase few edges yet still be  X  X ell-connected X  in the network. While stochastic models for network formation define a (possibly complex) distribution over possible networks, the game-theoretic models are typ-ically equated with their (possibly complex) set of (Nash) equilibrium networks. It is also common to analyze the so-called Price of Anarchy [9] in such models, which measures how much worse an equilibrium network can be than some measure of social or centralized optimality [6, 2, 5, 1]. In this paper we introduce and give a rather sharp analysis of a network formation model of the game-theoretic variety, but which was inspired by a striking result of Kleinberg [8] in a stochastic model, and thus forms a bridge between these two lines of thought. In Kleinberg X  X  stochastic model, the network formation process begins on an underlying substrate network that is highly regular  X  for instance, a grid in two dimensions. This regular substrate is viewed as a coarse model of  X  X ocal X  connectivity, such as one X  X  geographically close neighbors. The stochastic process then adds  X  X ong-distance X  edges to the grid, in an attempt to model connections formed by travel, chance meetings, and so on. Kleinberg X  X  model assumes that the probability that an edge connecting two vertices whose grid distance is d is proportional to 1 /d  X  for some  X  &gt; 0  X  thus, longer-distance edges are bution. An interesting recent empirical study [4] of the migration patterns of dollar bills provides evidence for the validity of such a model. In a theoretical examination of the  X  X ix degrees of sepa-ration X  or  X  X mall world X  folklore first popularized by the pioneering empirical work of Travers and Milgram [10], Kleinberg proved that only for  X  = 2 will the resulting network be likely to support the routing of messages on short paths using a natural distributed algorithm. For larger values of  X  the network simply does not have short paths (small diameter), and for smaller values the diameter is quite small, but the long-distance edges cannot be exploited effectively from only local topological information.
 Our model and result can be viewed as an  X  X conomic X  contrast to Kleinberg X  X . We again begin with a regular substrate like the grid in two dimensions; these edges are viewed as being provided free of charge to the players or vertices. A vertex u is then free to purchase an edge to a vertex v at grid rather than lower probability, but again in a power law form. We analyze the networks that are Nash equilibria of a game in which each player X  X  payoff is the negative of the sum of their edge purchases and average distances to the other vertices.
 vertices) of equilibrium networks in this model. In particular, we show a sharp threshold result: for any  X  &lt; 2 , every pure Nash equilibrium network has only constant diameter (that is, diameter independent of the network size n ); and for any  X  &gt; 2 , every pure Nash equilibrium has diameter that grows as a root of the network size (that is, unbounded and growing rapidly with n ). In the full version, we show in addition that the threshold phenomenon occurs in mixed Nash equilibrium as well.
 Despite the outward similarity, there are some important differences between our results and Klein-berg X  X . In addition to the proofs being essentially unrelated (since one requires a stochastic and the constant diameter, which sharply crosses over to polynomial growth at  X  = 2 . On the other hand, rather than constant) diameter, but that short paths can be navigated by a naive greedy routing algo-rithm. However, simulation results discussed in Section 5 suggest that the equilibrium networks of our model do support fast routing as well. Like Kleinberg X  X  results, all of ours generalize to higher dimensions as well, with the threshold occurring at  X  = r in r -dimensional space.
 The outline of the paper is as follows. In Section 2 we define our game-theoretic model and introduce the required equilibrium concepts. In Section 3 we provide the constant diameter upper bound for r = 2 when  X  &lt; 2 , and also even better constants for  X   X  1 . Section 4 provides the diameter lower bound for  X  &gt; 2 , while in Section 5 we explore greedy routing in equilibrium networks via simulation. We devote this section to a formal definition of the model. We assume that the players are located on to other players v i has purchased. We let s = s 1  X  X  X  X  X  s n be the joint action of all the players, v , ..., v n . We also use s  X  i to denote the joint action of all players except player v i . The Graph. The joint action s defines an undirected graph G ( s ) as follows. The nodes of G ( s ) are E The graph induced by s is G ( s ) = ( V, E ( s )) .
 we define a natural family of edge cost functions in which the cost of an edge is a function of the grid distance: where a,  X  &gt; 0 are parameters of the model. Thus, grid edges are free to the players, and longer edges have a cost polynomial in their grid distance.
 The Game. We are now ready to define the formal network formation game we shall analyze. The overall cost function c i of player v i is defined as i wishes to minimize c i ( s ) , which requires balancing edge costs and shortest paths. We empha-size that players benefit from edge purchases by other players, since shortest paths are measured with respect to the overall graph formed by all edges purchased. The graph diameter is defined as Equilibrium Concepts. A joint action s = s 1  X  X  X  X  X  s n is said to be a Nash equilibrium if for Nash equilibrium we say that its corresponding graph G ( s ) is an equilibrium graph. A joint action deviations (as opposed to Nash, which permits arbitrary unilateral deviations), and is a private case simplicity and due to the fact that it is easily computable, as opposed to computing best responses which in similar problems is known to be NP-Hard [6]. Note that as the grid edges are free, the diameter of an equilibrium or link stable graph is bounded by 2  X  n . hold under the more general notion of link stability as well. The following is the first of our two main theorems.
 any n , all Nash equilibria or link stable graphs over n players have diameter at most c (  X  ) . have an incentive to purchase an edge to u due to the centrality of u in the graph.
 then  X  G ( s ) ( v, w )  X  d since all grid edges are free. We would like to show that even a stronger this property is no longer simply implied by the grid edges, it requires arguing that grid-distant vertices have an incentive to purchase edges to each other. Suppose there are nodes u and v such that the cardinality of S u is large  X  thus u  X  X  neighborhood is densely populated. For this we define u = { w |  X  ( u, w )  X  d/ 3 }  X  S u order d 2 . Figure 1: (A) The number of nodes at exact distance k is exactly 4 k , while the number within k is order k 2 . (B) Illustration of the main argument of Theorem 3.1. Here u and v are vertices at grid size of S  X  equilibrium graph; this in turn allows us to argue that v 0 wishes to purchase an edge to u as well.  X  In other words, for  X  X mall enough X  values of  X  (quantified in the full proof), vertices quite distant from u in the grid have an incentive to buy an edge to u , by virtue of the dense population in S  X  But this in turn argues that the size of S u is even larger than S  X  to show that yet further vertices have an incentive to connect to u , and so on. We now proceed with the formal proof based on this argument.
 Lemma 3.2 Let G ( s ) be an equilibrium or link stable graph and u be the grid center. Suppose  X  thus Equipped with this lemma we can prove rather strong results regarding the case where  X  = 2  X   X  , for which grows, and the second is that instead of having d in the base we have only d/ 3 . The next lemma shows that as long as d is large enough we can ignore the fact that the base decreases from d to d/ 3  X  and thus  X  X mplify X  the exponent  X  in the preceding analysis to a larger exponent (1+  X  1 )  X  . Lemma 3.3 (Amplification Lemma) Let G ( s ) be an equilibrium or link stable graph. Let  X  = 2  X   X  d &gt; c (  X  ) , for every node v such that  X  ( u, v )  X  d  X  (where  X   X  1 , d  X  &lt; v where both inequalities hold for d  X  c (  X  ) Now we are ready to prove the main theorem of this section.
 of
G ( s ) . Next we prove that all nodes within grid distance k c (  X  ) = 6 c 0 (  X  ) , we obtain the theorem. 3.1 Even Smaller Constant Diameter at Equilibrium for  X   X  1 The constant diameter bound c (  X  ) in Theorem 3.1 blows up as  X  approaches 0. In this section we show that for  X  &lt; 1 , rather small constant bounds hold. Note that when  X   X  1 , the most expensive every equilibrium graph G ( s ) has a small constant diameter.
 providing a technical lemma.
 Lemma 3.4 Let G ( s ) be an equilibrium or link stable graph. Let u, v  X  V be an arbitrary pair of players. If ( u, v ) /  X  E ( s ) then | T G ( s ) ( u, v ) | X   X  ( u,v )  X  T buying the edge is bounded by  X  ( u, v )  X  .
 Lemma 3.5 Let G ( s ) = ( V, E ( s )) be an equilibrium graph and let u, v  X  V . d a 2 + 4 e + 1 , where u is the grid center node (note that the grid distance from u is bounded by  X  (See Figure 3.1) including u . We first bound the size of S 2  X  at most 3 . Thus, the benefit from buying the edge ( v, u ) is at least ( d a 2 +4 e X  1  X  3) | S 2 from buying it is at most  X  ( v, u ) . This implies that d a 2 e| S 2 one of them has at most a  X  n descendants by Lemma 3.4. Since the graph is connected, we get that a  X  3.2 The Case  X  = 2 In this case we obtain neither a constant upper bound nor a polynomial lower bound. We show that for  X  = 2 the diameter is bounded by O (  X  n 2 / c (i.e. this bound is very small as well); however it bounds from above any polylogarithmic function. or link stable graph . Then the graph diameter is bounded by O (  X  n 2 / Proof: We again apply Lemma 3.2 repeatedly, but now with  X  = 2 . After applying it for the first time we have that all nodes which are in grid distance ( d and now compute x 2 : Solving it we obtain that x 2 = d 4 / 2 obtain the following bound for the k + 1 iteration: bound on the distance form the center grid u we would like to find an initial d such that and d is minimal. This clearly holds for d = n 2 /  X  logn and k = the minimal value for which it holds. Now using similar arguments to previous proofs we show that every other node cannot be further away from u . We now give our second main result, which states that for  X  &gt; 2 the diameter grows as a root of n and is thus unbounded.
 We first provide a simple lemma (stated without proof) regarding the influence of one edge on a connected graph X  X  diameter.
 Lemma 4.2 Let G = ( V, E ) be a connected graph with diameter C , and Let G 0 = ( V, E S { e } ) for any edge e then the diameter of G 0 is at least C/ 2 .
 Proof: (Theorem 4.1) Let D be the diameter of an equilibrium graph, and d be the grid distance of ( w, v ) the most expensive edge bought in G , note that the most expensive edge corresponds to the longest edge in grid distance terms. First we observe that D  X  2  X  n/d , as the grid diameter is 2  X  4.2 the benefit of buying an edge ( u, v ) is at most 2 D ( n  X  3) , since the diameter before was at most 2 D and the distance to your two neighbor and yourself has not been changed. Therefore, have  X  ( u, v )  X  = d  X   X  2 D ( n  X  3) . Next we use the two simple bounds Substituting the bound of d in Equation 2 into equation 1 we obtain that as required. The analyses we have considered so far examine static properties of equilibrium and link stable graphs, and as such do not shed light on natural dynamics that might lead to them. In this section we briefly describe dynamical simulations on a 100  X  100 grid (which has 10 8 possible edges). At each iteration a random vertex u is selected. With probability 1/2, an existing edge of u (grid or long-distance) is selected at random, and we compute whether (given the current global configuration of we instead select a second random vertex v , and compute whether (again given the global graph) u it is to a link stable graph and not necessarily a Nash equilibrium, since only single-edge deviations are considered.
 The left panel of Figure 3 shows the worst-case diameter as a function of the number of iterations, and demonstrates the qualitative validity of our theory for this dynamic. For  X  = 1 , 2 the diameter quickly falls to a rather small value (less than 10). The asymptotes for  X  = 3 , 4 are considerably higher.
 The right panel revisits the question that was the primary interest of Kleinberg X  X  work [8], namely the efficiency of  X  X aive X  or greedy navigation or routing. If we wish to route a message from the grid center to a randomly chosen destination, and the message is always forwarded from its current vertex to the graph neighbor whose grid address is closest to the destination, how long will it take? Kleinberg was the first to observe and explain the fact that the mere existence of short paths (small right panel of Figure 3 we show that the routing efficiency does in fact seem to echo our theoretical results  X  for the aforementioned dynamic, very short paths (only slightly higher than the diameter) are found for small  X  , much longer paths for larger  X  . Figure 3: Left panel: graph diameter vs. iterations for a simple dynamic. Right panel: greedy routing efficiency vs. iterations for the same dynamic. We conclude by briefly mentioning generalizations of our theoretical results that we omit detailing. All of the results carry over higher dimensions, where the threshold phenomenon takes place at  X  equaling the grid dimension. We can also easily handle the case where the grid wraps around rather than having boundaries. We can also generalize to the pairwise link stability notion of [7], in which that the cost of each link is shared between the end points of the edge. Finally, we can construct network that are stable.

