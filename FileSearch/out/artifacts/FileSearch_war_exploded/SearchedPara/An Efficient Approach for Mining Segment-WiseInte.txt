 T he m o der nli fe pr o duces mass iv e vol umes o ft i me -ser i es streams .T hese streams are wi th huge qua n t i t y a n d keep in creas in g wi th the t i me e volvin g .To u n der -sta n dtheru l es in these streams n eeds t o a n a ly ze the i ra ff ect in gfact o rs .How e v er , ge n era lly, only asma ll part o fthea ff ect in gfact o rs are k nown. T h i smakema ny meth o ds fa il on pract i ca l data .T hus , pe o p l eurge n e w meth o ds t o d i sc ov er y k nowl edge in such c i rcumsta n ces .
 In a no ther wo rds ,i fthes y stem status became u n stab l e , theremustbes o me o uts i de ab no rma l th in gs happe nin g ; a n da l s o: I f w es i mp ly treat the ra w stream seque n t i a lly, the a n a ly s i sresu l tma y be use l ess .
 Example 1. Global financial crisis of 2008 is creating great panic. It is associ-ated with banking panics, stock market crashes and the bursting of other financial bubbles, currency crisis, and so on.

A sa nin d i cat o rt o fi n a n ce , the st o ck in de x reaches se v era l peaks a n d v a ll e y s wi th the o uts i de e nvi r on me n t v ar yin g , the reas on f o rmarket in de x ge n erat ion i sa l s o cha n g in g .I fpe o p l esearchthe o utburst o ftra n sact ion s in in de x rec o rds seque n t i a lly, the resu l tma y be use l ess :A stra n sact ion st o ps in e v er yS aturda y a n d S u n da y, e v er yMon da y m i ght be m i srec o g ni zed as o utbursts .
T h i s o bser v at ion sh ow s that the market in de x rec o rds in the i de n t i ca lw eekda y fi v e (on ef o re v er yw eekda y). T h i smeth o d i s n amed segme n t -wi se w a y a n d i t wo rks t o e li m in ate the d iff ere n ces caused b y d iff ere n t w eekda y s .
W eha v epr o p o sed a n e w meth o dt o a n a ly ze the in ter v e n t ion e v e n ts in traffic rec o rd stream in pre vio us wo rk [1]. T h i sstud y e x te n ds o ur pre vio us meth o d (1) P r o cess stream wi th segme n t -wi se in ter v e n t ion; ( 2 )D etect in ter v e n t ion in stream adapt iv e ly; (3) An a ly ze the ru l eh i dde ninin ter v e n t ion d yn am i cs ;( 4 ) onlin epr o cess in ge nvi r on me n t .

T he rema inin g o fth i spaper i s o rga ni zed as f ollow s :S ect ion 2d i scusses the vi des a nov e l frame wo rk ca ll ed STM f o r in ter v e n t ion m inin g , as w e ll as g iv es the a l g o r i thms t o estab li sh o ur m o de l; S ect ion 4pr ovi des a l g o r i thms t o detect Fin a lly, sect ion 7c on c l udes the paper a n dh i gh li ghts future wo rks . Mining base patterns in data stream. Researchers pr o p o sed ma ny m in-in gmeth o ds t o m in e base patter n s in data stream [ 2 ]. Li terature [3] pr o p o sed regress ion-based a l g o r i thms t o m in efreque n ttemp o ra l patter n s in data stream ; Li terature [ 4 ] stud i ed a n a ly t i ca lly c l uster in gdatastreamsus in g on edatasca nK-med i a n tech ni que ;T he li terature [5] ga v eframe wo rks based on regress ion a n a ly s i s t o dea lwi th in c i de n ts detect iv ea n dtre n ds a n a ly s i s in data stream .D ue t o the li m i tat ion o fregress ion, i t only a n a ly zes cha n ges in a lo ca l sc o pe .T hus , regres -s ion i s no t wi de ly app li ed in m inin gdatastream .Li terature [6] app li ed stat i st i ca l meth o ds t o m in e the data stream .T hese meth o ds d i sc ov er e volvin gdatastream b y keep in g l ear nin g o rupdat in gm o de l sfr o mthee volvin gdata .How e v er , these meth o ds ma y rema in steps beh in d the curre n ttre n ds [ 7 ]. T he deep reas on i sthat s o me patter n su n der the surface cause the v ar yin g o fdata , a n dthetrad i t ion a l m o de l sf o cus only on the ru l es superfic i a lly a n d i g no re the i r structure cha n ge . T he l atter ma y a l s ol ead t o m o de l X  s ov erfitt in gpr o b l em e x treme ly[ 8 ]. Mining high-order patterns in data stream. M a ny researchers tr i ed t o m in eh i gh -o rder patter n s in stream on huge stream e nvi r on me n t .Li teratures [9] pr o p o sed s o me h i gh -o rder m o de l st o re v ea l the ru l ebeh in dthe v ar yin g o f data .Ji a w e iH a n et a l, [10] pr ovi ded segme n t -wi se a l g o r i thms f o rm inin guser spec i fied part i a l per io d i c patter n s .B ased on the f o rmer wo rks ,JY a n geta l, [11] in tr o duced as yn chr ono us per io d i c patter nino rder t o s olv etheper io d i c patter n ru nnin g status o f the pr o cess in gs y stem .T he i rge n era l frame wo rk i sfirstt o ge n erate a Hi dde nM ark ov m o de l f o rthe o bser v at ion, the n t o use the B a y es i a n meth o dt o est i mate the parameters .Li teratures [1 4 ] ga v es o me nov e lw a y s o f ab no rma l d i sc ov er in g in data stream .How e v er , these wo rks only c on cer n ed the s i mp l e target such as ema il stream , a n dthe y d ono t step deeper t o re v ea l the ru l es ab o ut the detect ion resu l ts .

B ased on the f o rmer wo rks ,YW a n geta l, [1] pr ovi ded a n a iv emeth o dt o dea lwi th the traffic stream in the pre vio us wo rk . Followin gthec on tr i but ion s on meth o dt o estab li sh a m o re pract i ca l m o de l. In add i t ion, i tapp li es the n e wly pr ovi ded m o de l t o d i sc ov er the k nowl edge in rea l t i me -ser i es stream . Segment-wise method for time-series stream.

L et X be a per io d i ct i me -ser i es stream , pbetheper io d l e n gth o f X, tbe the t i me t i ck ( t =0,1, 2 , 3...). P art i t ion the subseque n ce in each per io d in t o dsegme n ts :D e no te the n th (n=0, 1, 2 .. d -1) substream as X n (  X  ), a n dthe t th e l eme n t in X n (  X  )i s X n ( t ).
 Example 2. Consider a 4-week stock index records sequence X= 3.1, 12.5, 20.3, 5.2, 15.3, 3.2, 12.1, 20.1, 5.0, 16.0, 2.9, 11.7, 21.0, 4.8, 30.1, 3.3, 12.2, 19.8, 5.1, 15.7. (1)S eque n t i a lw a y: S upp o se that ab no rma l cha n ges are defi n ed wi th n umer -i ca l d iff ere n ce m o re tha n10 bet w ee n ad j ace n tp oin ts on X. I f Xi spr o cessed resu l t i suse l ess . ( 2 )S egme n t -wi se w a y: w erege n erate subseque n ce fr o m X f o re v er y5 e l eme n t (on eseque n ce f o re v er yw eekda y), the o r i g in a l seque n ce ca n be part i t ion ed in t o 5 subseque n ces as f ollowin g : 2 0.1, 2 1.0, 19. 8 } X 3 (  X  )= { 5. 2 ,5.0, 4 . 8 ,5.1 } X 4 (  X  )= { 15.3, 16.0, 30.1, 15. 7 } No te that : there i s no s i g ni fica n tcha n ge in deed in s i de subseque n ces X 0 ( * ), X 1 ( * ), X 2 ( * ), X 3 ( * ). O nly in the subseque n ce X 4 ( * ), the th i rd e l eme n t  X 30.1 X  e x cess the e l eme n ts ar o u n d i tt oo much , a n dth i sm i ght be the true ab no rma l pe o p l e wi sh t o fi n d .
 Hidden Markov Model for Stream Processing System. C on s i der a stream i ts status i ssat i sfied certa in pr o bab ili st i cd i str i but ion. Fo rma lly, w eha v ethe f ollowin g assumpt ion.
 Assumption 1 (Independent and identically assumption). Data gener-ated by stream processing system satisfy specific probability distribution under stable outside environment. Moreover, when the outside changes are within some threshold, the states of this system will satisfy a set of Independent and identi-cally distributions (i.i.d) with different parameters.

By the segme n t -wi se meth o d , the w h ol e o bser v at ion stream ca n be part i t ion ed in t o se v era l subsets , a n dacc o rd in gt o the assumpt ion 1: data in each subset sat i sf yi de n t i ca l d i str i but ion wi th same parameters .T hus , the tre n d o fstream pr o cess in gs y stem ca n be descr i bed as seque n ces o f states prec i se ly.
W he n m inin gtheru l es in t i me -ser i es stream , t wo seque n ces ca n be o bta in ed fr o mra w stream :( a ) the feature seque n ce that represe n ts the ra w data , a n d ( b ) the s y stem states seque n ce that descr i bes the v ar yin gtre n d o fthestream .
Mo re ov er , as the curre n ts y stem state i s only c on cer n ed wi th the l ast state , the seque n ce o f the states sat i sfies the character o f M ark ov cha in. T hus ,w euse Hi dde nM ark ov Mo de l (HMM) as o ur bas i cm o de lin th i spaper . 3.1 Identify System States from Stream i ts o ccurr in gt i mes in afi x ed per io d will sat i sf y the Poi ss on d i str i but ion wi th pr o bab ili t y de n s i t y fu n ct ion: N(N=0,1, 2 ...) refers t o the happe n ed t i mes o f certa in d i screte e v e n ts happe n ed in fi x ed t i me in ter v a l, a n d  X  represe n ts the a v erage o ccurr in grate .
Non-Ho m o ge n e o us Poi ss on P r o cess (NHPP) i se x te n ded fr o m Poi ss on d i str i-( t , t + s ). S upp o se  X  ( t )i se v e n t  X  s o ccurr in grate , NHPP X  sdefi ni t ion i s :
D efi n e : T hus : In the NHPP m o de l up on, m ( t )i safu n ct ion o ft i me , a n d i t descr i bes the rate stream  X  s in creme n ta l sat i sfies Poi ss on d i str i but ion, i t i sa NHPP. A cc o rd in gt o the c on cepts ,w epr ovi de f o rma l defi ni t ion o fs y stem state .
 Definition 1. Let X n be the sub-stream of the observation stream (n=0,1,2,..., d-1), t be the time tick. If X n ( t ) satisfies Poisson distribution with m(t), Then (1) System feature F(t) is denoted as a function of Poisson parameters in certain time interval, and it can be calculated as: (2) State q is defined as set of features, and its weight w ( q ) is denoted as: (3) State Distance is defined as the weight difference between two states, and it can be calculated as: (4) For any q 1 , q 2  X  System state set, if Dist( q 1 , q 2 ) &lt; minPts, q 1 and q 2 are equiv-alent states;
Wi th the c on cepts upp on, w epr ovi de a l g o r i thm :S tate M ergeC l uster in gt o d o feature ge n erat ion a n d state i de n t i ficat ion.

T he ma in pr o cess o fthea l g o r i thm S tate M ergeC l uster in gca n be descr i bed as :(1) C onv ert the o bser v at ion stream in t o feature stream ;( 2 )P ut the s i m il ar features in t oon e state ;(3)M erge the equ iv a l e n ce states in t oon e state . 3.2 Intervention Analysis Mechanics the status o fs y stem .To d i sc ov er the k nowl edge bet w ee n these e v e n ts a n ddata , w e n eed the f ollowin g assumpt ion.
 Assumption 2. During the process of stream processing system, if no outside intervention exists, the system will retain stable status.
 Wi th assumpt ion 2 ,w eg iv e the defi ni t ion o f in ter v e n t ion e v e n ts . Definition 2. (Intervention events) Let t be the time point in stream system, v be the event variant. Let v (t) = true denote the event v happens at t, q 1 , q 2 be the states before and after v respectively. (1) The event that causes states change of corresponding system is called in-tervention event. (2) The impact of certain intervention event is defined as the weight difference between q 2 and q 1 ,anditcanbecalculatedas: w average ( q i ) de no tes the a v erage w e i ght v a l ue o f state q i (i=0,1, 2 ,3...). Stream Trend Model. T he base frame wo rk o f S tream T re n d Mo de li s w e i ghted aut o mat ion. W e i ghted aut o mat ion m o de li spr ovi ded in [ 7 ], w h i ch i susedt o dea lwi th the burst pr o b l ems in d o cume n tstream .S upp o se u n der the pr o cess in g o f certa in stream s y stem c i rcumsta n ces , se v era l states are i de n t i fied fr o mthe o bser v at ion stream .S tream tre n d Mo de li sdefi n ed as f ollowin g : Definition 3. (Stream Trend Model, STM) Let N be the number of the total states, R be the number of intervention events, Pr be the prior probability vec-tor of system states, M t be transition matrix between system states, Mc be the confusion matrix between states and feature stream, Q be a set of system states, V be a set of intervention events then: (1) A STM is a 7-tuple  X  = { N, R, P r , M t , M c ,Q= function when system state transfer from q i to q j ,anditcanbecalculatedas: Learning Parameters Observation 1. Let m(t) be the Poisson parameter for non-homogeneous Pois-son distribution in time interval [0 ,t ] . The value of m(t) can be estimated by average recorded number of observed target in interval [0 ,t ] .

By ma xi mum li ke li h oo dest i mate m ( t 0 + t )-m ( t 0 )=N( t ). A sm ( t 0 )=0 w he n t =0, m ( t )=N( t ), theref o re m ( t )=N( t )/ t . Obser v at ion 1 g iv es us a w a y t o est i mate curre n tm ( t ) f o r STM.

In the e x per i me n ts ,o ur app li cat ion ad j usts m inP ts t o make STM get the best up on t o ad j ust the parameter N adapt iv e ly. P r a n d M t i s the pr io rtra n sfer pr o bab ili t y bet w ee n the states o f STM. T he y ca n be o bta in ed wi th the pr o cess o fstream . M c i sthere l at ion bet w ee n states a n d feature stream .To descr i be the status o ffeatured i screte ly, o ur app li cat ion set Pin ter v a l sf o r the feature stream , a n d M t ca n rec o rd v ar yin gpr o bab ili t y fr o m each state t o each in ter v a l. By D efi ni t ion 1, the s y stem state i saset o ffeatures .T hus ,w ec o u l d o bta in t i me character o f on e state thr o ugh c o u n tthec on t in ue n umber o ffeatures in that state . Definition 4. If a system state of STM q= { F(0),F(1),...F(n) } ,then 1) The duration interval is the continuous time interval in the feature set of state q; and it is denoted as t duration (q)= { [ t 0 ,t 3 ] , [ t 1 ,t end ] ... } ; 2) An intervention event v happened in state q, if the event v happened in t 3) Transfer point is denoted as the time point when system transfers from one state to another; 4) Adjoin state is denoted as the states next to the transfer point; 5) Intensity of intervention event v(t) is denoted as the impact varying rate in duration interval .

B ased on the c on cept ion s in D efi ni t ion 4 ,T he f ollowin ga l g o r i thms are created t o detect a n dpred i ct the in ter v e n t ion e v e n ts fr o mra w stream . (1) Detect the intervention events adaptively W epr ovi de a l g o r i thm In ter vD etect t o detect in ter v e n t ion e v e n ts .
No te that , the detect ion o ftheu n k nown in ter v e n t ion i s in the f ollowin gsteps : (1) Fin d o ut sets o ftra n sfer p oin ts on the STM estab li shed on the o bser v at ion stream .( 2 )V a li date the tra n sfer p oin ts :I fthe n umber o f the features in the ad join state o fthetra n sfer p oin ts e x ceeds certa in thresh ol d , the nw ec o u l dc on-s i der s o me u n k nown e v e n ts that are detected in these t i me p oin ts . Other wi se , w e treat the tra n sfer p oin ts wi th t oo sma ll ad join states as noi ses . (2) Predict the future intervention events
U se the resu l ts l ear n ed fr o mra w data ,w eg iv ethe In ter vP red i ct a l g o r i thm t o d o pred i ct .
 in d iff ere n tt i me .To re v ea l th i spr in c i p l e ,w eha v ethef ollowin gthe o rem . Theorem 1. Let m(t) be the Poisson parameter of observation stream X(*), X(t) be the stream value in t. For intervention event v: if m(t) &gt; X(t), then impact(v) is increasing with m(t); vice versa, if m(t) &lt; X(t), then impact(v) is decreasing with m(t).
 Proof. As the former definitions, the intervention intensity is decided by the weights of the state q in the time interval. w ( q ) =(F( t 1 )+F( t 2 )+...F( t n ))/n, and equivalence state consists of close features. Moreover, suppose F( t a )can represent the average feature values in q X  X  state set, and thus, weight of q can be reduced to: w(q)= F( t a ). By Definition 1: w ( q ) =-Log(P(X(t);m( t a ))). Thus, the differentiation on variant m(t) of w ( q ) is: By this equation, when m(t) &gt; X(t), w(q) is increasing function to m(t); when m(t) &lt; X(d), w ( q ) is decreasing function to m(t). Thus, when the average rate of observation stream is higher than the current observation value, impact(v) will increase; and oppositely, impact(v) will decrease. This completes proof.
 data stream usua lly d o es no tgetthesame i mpact .W he n m ( t )i sh i gher tha n in crease the m ini mum p oin tc o rresp on ds o as t o decrease the fa l se a l arms .T he o fm ( t ), detect pr o gram sh o u l d decrease the m ini mum p oin t in o rder t o get e no ugh in ter v e n t ion e v e n ts . 6.1 Date Sets and Base Framework (1) Syn thet i cdataset :T he s yn thet i cdatasets i sge n erate b y us in g JS C I[1 8 ]API wi th parameters li sted in tab l e 1. ( 2 )P ract i ca l data sets : X  X  ah oo fi n a n ce  X  data set has 3,300 rec o rds a n d i supdatede v er y da y.( C oll ected fr o m [15] st o ck in de x o f y ah oo [1996-4 -15  X 2 009-1-19]);  X  X o dgers  X  fr o m [16]. T here are t o ta lly 50, 4 00 traffic rec o rds ( 288 rec o rds f o r on eda y, t o ta lly 78 rec o rded -e v e n ts ).
All o fthee x per i me n ts are c o mp l eted on a no teb oo k P C wi th a 1. 7G H ZC PU a n d2G B ma in mem o r i es .W e i mp l eme n tarea l t i me data stream pr o cess in g data f o r v a li dat ion a n dtra inin g 6.2 Experiments and Analysis Correctness and Completeness Experiments: T est on T raffic data :A sthe a l g o r i thms in th i sstud y are in creme n ta l a l g o r i thms , the detect ion resu l tma y no tbe v er y prec i se at the beg innin g o fthec o mputat ion. B ut the accurac yo f the detect ion resu l tbec o mes m o re prec i se f o ra w h il e .Fi gure 1 sh ow stheresu l t on traffic data In th i spr o cess , the prec i s ion rat io r p =5 2 .0 4 % a n d reca ll rat io r r = 65.3 8 %. W ea l s o dr ill d own t o detect the start in ga n d durat ion t i me in on eda y. A s i t i s sh own in the Fi gure 2 , the detect ion resu l tsh ow s that dur in gthe24h o urs in 2 005-9-2 9, there are three ma in in ter v e n t ion e v e n ts happe nin g , a n dtheab no r -ma l per io ds are  X 6:00-11:10 X ,  X 13:30-1 7 :30 X , X 1 8 :30-2 3:16 X  respect .By check in g the e v e n ts li st pr ovi ded b y the data set ,w efi n d that there i s a game p l a y dur in g 19:10 t o 22 : 24 in 2 005-9-2 9, w h i ch i scapturedb yo ur a l g o r i thm .T est on Syn-( EOR ) a n d detect ion c o mp l ete n ess (D C )o f o ur a l g o r i thms ca n be see nin figure the c o mp l ete n ess will fa ll qu i ck ly. T h i s i scausedb y t oo ma ny ab no rma l e v e n ts ( e x ceeds the no rma l states ), a n dth i ssh o u l dbea voi d in the pract i ca l app li cat ion. Emp i r i ca lly, o ur app li cat ion perf o rms w e ll wi th EOR ar o u n d 0.3. Scalability Experiment: T h i s sect ion tests the m inin geffic i e n c y a n dsca l ab il-on eapp li cat ion t o test sca l ab ili t yon Syn 3 data a n dm inP ts i ssetas2 .Fi gure perf o rma n ce .
 Practical intervention events Detection Experiment: w eapp ly o ur a l g o-r i thm t o detect a n de v a l uate pract i ca lin ter v e n t ion e v e n ts ( the k nowl edge be -t w ee n the st o ck rec o rd data a n d n e w se v e n ts .), a n d keep track s o me i mp o rta n t pr o cess c o mp l eted wi th 2 50-m illi sec on ds ). A ssh own in the T ab l e2 ,o ur meth o d grabbed fr o m w eb .Sixi mp o rta n te v e n ts w ere detected b yo ur a l g o r i thm .Two u n k nown n e w s i tems ma yin d i cate s o me p o te n t i a l cha n ges ab o ut Y ah oo, w h i ch w ere no trep o rted b y med i a .By c o mpar in gthe n e w s li st wi th the m inin gresu l ts , w ef o u n dthereare no s i g ni fica n tcha n ges in s o me e v e n ts o ccurred t i me .T hat mea n s , th o se in ter v e n t ion mea n sd ono treachthe i r in te n t ion. T h i spr ovi des e vi de n ces qua n t i tat iv e ly f o r future in ter v e n t ion mea n s .
 Predict the best intervention point experiment: W eusethepred i ct a l g o-as the p o ss i b l ebest in ter v e n t ion o ccas ion. T he resu l ts sh ow that w he n pred i ct a l g o r i thm i terates m o re tha n6 per io ds , the pr o bab ili t yo fs y stem keep stab l e status will be low 0.50. T hat in d i cates the 6 th w eek after  X  2 009-1-19 X  ma y be the best o ccas ion t oin ter v e n e in o rder t o cha n ge status o fthemarket in de x. In th i sstud y, w eha v ed on ethef ollowin g :(1) pr ovi de m o de l st o re v ea l the pr in-o ur a l g o r i thms b o th on s yn thet i ca n dpract i ca l data set .

Minin g in ter v e n t ion e v e n ts a n dthe i rru l es fr o mdatastream i sapr o m i s in g mete o r olo g y. T he stud yov er in ter v e n t ion i s j ust beg innin g , a n dma ny researches are t o be d on e .T he future wo rks will f o cus on m inin gthe in ter v e n t ion e v e n ts on mu l t i-s o urces u n certa in streams in o rder t o fi n d in terest in g patter n sfr o ma g lo ba lvi e w.
 Acknowledgments. T ha n ks t o m y ad vi s o r ,P r o fess o rCha n g -ji e T a n g , f o ra ll h i sc o mme n ts a n d suggest ion sas Iwo rked on th i spaper .A she i s P Cc o-cha i r o f WA I M 2 010, h i s n ame ca nno tappear in the auth o rs  X  X i st .

