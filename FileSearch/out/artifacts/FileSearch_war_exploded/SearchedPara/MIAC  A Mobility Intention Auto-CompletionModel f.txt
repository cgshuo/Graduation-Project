 Along with the popularity of smart devices with sensing technology, the past decade has witnessed a tremendous increase in the availability of mobility data, ranging from early cellular tower data of Personal Communication Systems (PCS) [1], GPS trajectories [2] to the check-in data of various location-based services (LBSs) [3]. In addition, many systems originally designed for fare pur-pose are naturally enriched with mobility data, for example, the Smart Card Data (SCD) of public transport [4]. Those available massive mobility data boom many appealing research works in human mobility, including location prediction, social strength inference etc.. Location prediction is considered as the core func-tion of various proactive systems, such as mobile marketing, emergency response and public security [5]. efforts in the past few years, and various location prediction models have been proposed to explore the regularity embedded in human mobility data. Typi-cally two essential sub tasks are involved in those models: how to discover and prediction . Traditional location prediction models usually represent the mobil-ity regularity as the common locations or the spatio-temporal features, such as Markov model [6]. By assuming that human mobility patterns are uniform and arise consecutively, many prediction algorithms can be designed based on the Markov property.
 has a boundary of 93% [1], the performance of state-of-the-art location prediction models is far below this limit. Accordingly, there are two significant challenges to reach this theoretic limit of location prediction: first, how to effectively char-acterize those regularities embedded in human mobility data; second, how to properly utilize those mobility regularities for location prediction. diction model called the Mobility Intention Auto-Completion (MIAC) model. Through a tensor decomposition method, we extract the mobility intentions from mobility data and then characterize regular patterns by mobility inten-tions. Here, the mobility intention refers to the common cause that prompts a user to transit from the current location to the next location, such as commut-ing, entertainment and recreation. As will be shown in Section 4.4, more regu-larities are occurring in the mobility patterns characterized by mobility inten-tions. After that, we propose a location prediction algorithm based on the Query Auto-Completion (QAC) mechanism which predicts a user X  X  intended query in information retrieval [7]. As showing in Fig. 1, if considering the partial mobility intention as a prefix and the mobility pattern composed by intentions as a query, the location prediction task in our context is very similar to the QAC prediction in information retrieval: when more mobility intentions are available, it is easier to predict future mobility intentions, which can then be used to predict future locations.
  X  We propose a new representation to characterize the regularities in mobil- X  We develop a new predicting algorithm based on auto-completion mecha-work. Section 3 provides detail description of MIAC model. In Section 4, the performance of MIAC model is evaluated and analyzed. Finally, we summarize the conclusions and envisage the future work in Section 5. 2.1 Mobility Regularity Characterization Spatio-temporal characterization. Most pioneering works have been mostly fo-cused on the mobility regularity in locations [2, 8, 9], while some also resorted to temporal mobility patterns. For example, Gao et. al. [10] proposed HPY Prior Hourly Daily model (HPHD) and extracted the temporal regularities in hours and days by Gaussian distribution. Salvatore et. al. [11] focused on the regularity on the epoch and dwell time of a location. Lian et. al. and Wang et. al. stud-ied the location regularity constrained by times [5, 12]. Some researchers also considered the spatial-temporal regularity on the mobility dataset. For example, [3] proposed the periodic mobility model (PMM) which considers both temporal and spatial regularity between home and workplaces.
 Semantic Characterization. Semantic characterization captures the mobility reg-ularity as hidden states which characterize the semantic information such as location category, activity category or user relationship. Likhyani et. al. [13] il-lustrated that the accuracy can be improved by using the location categories. YING et. al. [14] generated the geographic, temporal and semantic intentions re-spectively for the mobility patterns mining, and Ye et. al. [15] and Yu et. al. [16] further proposed to used the activity categories in check-in data.
 tion dataset and efficient once the models are trained. However, semantic char-acterizations represent the mobility regularity better than the spatial-temporal representations, though they mainly focus on spatial semantic, while the tem-poral or spatio-temporal information has been largely unexplored. 2.2 Prediction Algorithm Various algorithms have been proposed for location prediction. Petzold et. al. [17] evaluated five machine learning techniques and found that Markov predictors usually achieve better accuracy with lower resource requirements. Since then, variants of Markov predictors have been widely used in location prediction mod-els [6, 9, 16], such as the high order Markov [13] and the Variable Order Markov (VOM) [8]. However, those models mainly focus on the simple mobility pat-tern between the next location and a fixed number of past observations. In fact, human mobility is complex and dynamic, this calls for more flexible location pre-diction algorithm that can capture and utilize multiple mobility patterns which may contain different number of elements. 3.1 Problem Statement a set of N users. Each observation o is defined as a tuple ( `,t ) which represents that user u j  X  U visited location `  X  L at time t . The history observations of vary with different users. We use D = { O 1 ,O 2 ,  X  X  X  ,O N } to denote the mobility dataset.
 Definition 1 (Location Prediction). Given a mobility dataset D , the location novel location prediction model called the Mobility Intention and Auto-Completion (MIAC) model. We decompose the location prediction into the following three sub-problems: Problem 1 (Mobility Intention Extraction and Transformation) Given a mobility dataset D , how to extract those mobility intentions from D and map O (1  X  j  X  N ) into the mobility intention sequence s j (1  X  j  X  N ).
 Problem 2 (Mobility Intention Prediction) Given s j and O j , how to design a prediction algorithm for u j  X  X  future mobility intentions m j,n j +1 ,... . Problem 3 (Future Location Prediction) Given D , S = { s j | 1  X  j  X  N } and m j,n j + k (1  X  k  X  k max ), how to predict the future locations ` j,n + k (1  X  k  X  k 3.2 Mobility Intention Extraction and Transformation In general, the mobility of a creature is driven by various intentions such as mat-ing needs and food resources [18]. Similarly, the human mobility is fundamentally driven by diverse intentions, ranging from job commuting, family entertainment to routine and social activities. Mobility intention is the key factor for human mobility, while mobility patterns characterized by mobility intention are more regular than other characterizations, as will be shown in experiments. Hence, we use the mobility intention to characterize the mobility patterns.
 relationship between spatial and temporal features in mobility dataset and CP decomposition is a widely used NTF algorithm [19]. Through the Non-negative Tensor Factorization (NTF) , we can extract basic mobility pattern which can explain why a user visited a place at a given time and day from mobility dataset D [20]. These basic mobility patterns can be considered as mobility intentions. Here, the mobility intention extraction aims to construct a three-dimensional tensor Y  X  R M  X  H  X  D composed by location -hour -day . The element y r i ,t j ,d three-way tensor Y is computed as where r i , t j , and d k are index of location , time bins and day respectively, and d -th day. Then we factorize the tensor into a linear combination of rank-one tensors by CP [19] which can be represented as follows: acteristics of mobility intention for hour , location and day , respectively. Y k can be used to explain why people move to the location at certain time. Therefore, we consider every Y k as a mobility intention, and use m i for the i -th mobility intention and M = { m i | 1  X  i  X  w } for the set of mobility intentions. tory observation o corresponds to one mobility intention, in other words, be-longs to a class. We choose the support vector machine (SVM) and adopt the one  X  versus  X  the  X  rest strategy to construct multi-class SVM classifiers [21]. After finishing training, SVM classifier can map an observation sequence O j = { o The regular mobility patterns can be mined from s j to facilitate the location prediction. 3.3 Mobility Intention Prediction Most existing location predicting algorithms assume that human mobility is composed by simple mobility patterns with a fixed number of elements. Schnei-der et. al. [22] further show that human mobility can be decomposed to multiple unique networks motifs with variable-length elements. Accordingly, human mo-bility can be considered as a set of mobility patterns rather than a single one. posed by mobility intentions that repeatedly occur in the user X  X  mobility inten-tion sequence, as shown in Fig. 2. If the mobility pattern to which the current mobility intention belongs can be identified, future mobility intentions can then be predicted. Fig. 2 shows two mobility patterns of one user: mobility pattern 1 is the weekdays pattern characterized by four mobility intentions: m 1 for buy-ing fresh vegetables, two continuous m 2 for commuting between home and work place and the following m 3 for recreation; mobility pattern 2 is the weekend pattern characterized by three mobility intentions: m 4 for entertainment, m 2 for commuting back to home and m 5 for family dinners. If the last unknown mobility pattern is mobility pattern 1 , it X  X  easy to know that the next mobility intention is likely m 2 . Furthermore, we can predict the second next mobility intention as m tion sequence, because various mobility patterns may share the same intention subsequence. Though mobility pattern can hardly be solely determined by the current mobility intention, with more previous mobility intentions available, the mobility pattern gets more focused and clear. For example in Fig. 2, if only given the current mobility intention m 2 , it is not sure whether the current mobility pattern is mobility pattern 1 or mobility pattern 2 . When m 1 is known to follow m 2 , the mobility pattern can then be identified as mobility pattern 1 . search engines, such as Google , Baidu and Bing . QAC aims to predict users intention and formulate queries by providing completion suggestions as soon as the first few words are typed. When more query words are available, user X  X  query intention get more and more clear. We adopt the QAC framework into our new predicting algorithm. Learning to QAC, in generally, is a supervised learning and has a two-step process [7]: filtering by prefix-trees and learning to rank . as prefix-trees (tries) that allow efficient lookups by prefix matching. We consider the arbitrary subsequence of s j as one mobility pattern, and split it into prefix and corresponding candidate. we use MITrie which is similar to prefix-trees to store the pair of prefix and corresponding candidate. Once the prefix-tree is created, we can apply virtually any existing learning-to-rank algorithm for auto-completion ranker, such as Most Popular Completion (MPC) [7]. MPC aggregates the query frequencies over a query log, and uses these aggregated values to rank the QAC suggestions. When the prefix tree and the ranking candidate mobility patterns are ranked by their past popularity.
 bility intentions. Hence, the proposed algorithm has the ability of long-range mobility intention prediction. In the following sections, we use m f to denote the next mobility intention. By now, given a user X  X  mobility intention sequence s i , we can obtain the future mobility intention m f through the identified mobility patterns by QAC-based algorithm. 3.4 Location Prediction Intuitively, given u j  X  X  future mobility intention m f , locations mapped to mobility intentions m f in O j are candidates for m f . We use C  X  m set. The popularity of locations can be simply used as a ranking score. However in reality, human mobility behaviors are influenced by spatial-temporal context. Hence, candidate locations must satisfy spatial and temporal constraints in the context. Suppose u j  X  X  current observation is o c = ( ` c ,t c ). Let where  X ,  X  are thresholds for the distance and the time respectively. We consider the locations in set C m is the probability of p u j ( ` k ): where Count ( ` k ) is number of ` k  X  X  occurrence times in C m of C m associated with exploratory activity in response to novel stimulation, people also show their interests in exploring unvisited locations. A user seeks a new loca-tion for certain mobility intention m f , the most possible choice is the preferred location by majority of other users with the same mobility intention m f in the same context for social conformity. Following a similar analysis to those in one user X  X  future location candidates, we obtain the location candidates L g m v g locations come from the observation set m f . The probability of locations in C g m f can be evaluated as: where r g is the cardinality of C g m tention. We use  X  (0 6  X  6 1) to measure the degree for a user with the mobility intention m t to explore a novel location. If  X  is close to 0, the future locations are mainly influenced by the user u j  X  X  visited locations. Otherwise, the predicted lo-cation is mainly decided by other users with the same mobility intention. Hence, evaluated as bility of candidate locations and take the one with the max probability as the prediction. Or more generally, top-k ( k  X  1) results can be generated. 4.1 Data Set and Settings In the experiment, we use three real-world datasets with decreasing sampling fre-quency: GeoLife , BBSC and Gowalla . Among them, Geolife dataset is a public available GPS trajectory mobility dataset [2]. We extract the stay point as the location to be predicted, following the method presented by Zheng et al. in [2]. The BBSC dataset collects prepaid smart card records for public transportation in Beijing, China. We obtained a dataset with 275 , 951 , 094 bus transaction records about 16 , 161 , 460 users in October of 2014, which contains more than 90% of Beijing urban public traffic lines. Gowalla dataset [3] is a publicly available check-in dataset with 6 , 442 , 890 check-ins of 196 , 591 users from February 2009 to October 2010. Mobility data of each user are split into training portion and testing portion in chronological order. We construct the prediction model from the training portion and test the performance of the constructed model on the test dataset.
 Location (MF), First Order Markov Model (Markov1), HPHD [10] and PMM [3]. Among them, MF uses the most popular location in user X  X  history observation for prediction. Relationship between the current and the next location can be cap-tured by Markov1 Model and then for location prediction. HPHD is a probabilis-tic mobility model based on spatial-temporal features. PMM adopts a Gaussian mixture model to learn user locations constrained by independently truncated Gaussian distribution temporal component.
 accuracy is the fraction of locations for which the predicted locations are exactly accuracy@top10 is the percentage of accurate predictions for a list of predictions with length 10. 4.2 Performance Comparison on the Next Location Prediction The prediction accuracy of the MIAC model and baseline models on three datasets are shown in Fig. 3, which shows that the accuracy of MIAC is higher than that of baseline models in most cases. For the GeoLife dataset, MIAC X  X  accuracy is nearly twice as those of baseline models. One possible reason is that GeoLife is with dense sampling and contains enough information of mobility regularity, and mobility patterns are more regular when characterized by mobil-ity intention. BBSC dataset in Fig.3(b) is much sparser than GeoLife dataset. Markov1 is the best baseline model on this data set, and this implies that fre-quent patterns exist in the observation. The accuracy of MIAC exceeds Markov1 by 15%, and this result implies that other forms of mobility patterns exist but can not be captured by Markov1.
 Gowalla dataset is not as good as on the other two datasets. The accuracy of all baseline models are less than 10%. This could be attributed to the sparsity and randomness in check-in data. Even so, MIAC exceeds other baseline models when training fraction (TR) is more than 0 . 5. As shown in Fig.3(d), the perfor-mance of different prediction models on three datasets varies when TR is 90%. For example, HPHD achieves better performance than Markov1 on the GeoLife dataset, but it X  X  not good as Markov1 on the BBSC dataset. However, MIAC is robust with different amount of mobility regularity available in three different dataset. Our experiments demonstrates that: the use of mobility intention repre-sentation and QAC-based prediction algorithm improve the location prediction performance. 4.3 Performance Comparison on the Future Location Prediction The MIAC model predicts a number of future intentions, hence it can predict not only the immediately next but also future locations. Fig 4 shows accuracy@top10 for future locations prediction on three mobility datasets. It shows that the accuracy@top10 of the second next location is 0 . 56, 0 . 38 and 0 . 17 respectively, corresponding to GeoLife , BBSC and Gowalla dataset, respectively. Even for the fifth next location, the prediction accuracy@top10 is 0 . 31 and 0 . 23 for GeoLife and BBSC dataset. It X  X  indicates that the proposed MIAC model is promising in future locations prediction. 4.4 Performance Comparison on Mobility intention and QAC-based In order to determine the effect of the characterization in mobility intention and the QAC-based predicting algorithm ( see Sec. 3.3), We perform a set of comparisons on the BBSC dataset. we use location, location category [13] and mobility intention as the characterizations of mobility patterns, and compare the Markov1 and QAC-based predicting algorithm in experiments.
 markably when the mobility intention is the characterization for mobility pat-terns. When characterizing by mobility intention, the performance of Markov1 algorithm is 6% higher than that when characterizing by locations, and is 20% higher than when characterizing by location categories, while the performance of MIAC algorithm is more than 10% higher than that when characterizing by locations or categories. These results implies that mobility intentions can char-acterize the regularities in mobility patterns better than other features. ing algorithms. QAC-based prediction algorithm is 10% and 3% higher than Markov1 algorithm when characterization through mobility intention and lo-cations, respectively. Fig. 5(d) shows that there is limited improvement when mobility patterns is characterized by locations, probably due to limited patterns characterizing by locations. On the other hand, Fig. 5(c) shows that there is almost 10% performance improvement when characterizing by mobility inten-tion, it also shows that complex patterns exist in the observation when using aggregate features to represent observation sequence. QAC-based algorithm has ability to exploit more regular mobility patterns and is more suitable for location predicting than Markov1. In this paper, we have proposed a new location prediction model called MIAC, which considers the mobility intention as hidden variable and adopts the auto completion mechanism into the location prediction. Extensive experiments indi-cate that the proposed model significantly outperforms existing location predic-tion models. In our future work, we plan to adopt more sophisticated learning-to-rank techniques, such as Lambda-MART or RankSVM, to further improve the performance of mobility intention prediction.

