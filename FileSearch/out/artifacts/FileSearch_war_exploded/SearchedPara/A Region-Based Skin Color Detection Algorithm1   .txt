 Skin color detection has played an important role in many applications such as face recognition, gesture recognition, human-computer interaction, tracking faces, and filtering pornographic images in web pages [1, 2, 3]. However, it is not easy to detect skin color accurately, b ecause images are taken with different camera hardwares and under confusing illumination. Moreover, there are many other objects whose color are similar to s kin and which are easily confused with skin. Finally, different human ra ces present different skin tones.
Plenty of detecting strategies and skin color models have been proposed to de-tect skin color in images. These approaches can be classified into two categories: pixel-based methods and region-based methods [4]. Pixel-based methods have long history. Kovac et al. defined explicitly skin color cluster boundaries through a series of decision rules in the RGB color space [2]. Jones et al. constructed skin and non-skin color histogram models and derived a skin pixel classifier through the standard likelihood ratio approach [5]. As for parametric skin color distri-bution models, a single Gaussian or a mixture of Gaussians probability density function was used to model the distribution of skin color in a 2-D chrominance space [3]. In contrast to pixel-based methods, region-based detection methods use spatial arrangement information of skin color pixels to improve detection rates. Considering that skin patches especially human faces are nearly elliptic, Kruppa et al. [1] and Yang et al. [6] refined detection algorithms with this shape information.

In this study, we propose a new region -based approach to detect skin color without assuming that skin color pixels merge in ellipses. In section 2, we first choose the chrominance space in which the single Gaussian model fits the distri-bution of training skin color samples best. Then, a few decision rules are defined to delete some background color, and nearly 95% of skin pixels are preserved. Fuzzy C-means (FCM) algorithm is employed to segment remainder pixels in Section 3. In particular, the local charac teristic [7] is adopted to constrain fuzzy functions in order to decrease influences of illumination. Besides that, the algo-rithm initializes the maximum number of cl asses and cluster centroids adaptively in terms of histogram properties of images. In Section 4, how to classify skin color patches and experiments are intro duced. Section 5 summarizes our study. 2.1 Skin Color Distribution in Different Color Spaces A color space efficiently separating chrominance from luminance in the original color image helps to improve a robustness to changes in illumination conditions. This can be achieved by reducing one dimension from a color space through a transformation from the 3-D RGB color space into a 2-D chrominance space [3]. Different algorithms use different spaces. The algorithm presented in [2] was realized in the Cb-Cr chrominance space. Perceptually uniform spaces CIE-Luv and CIE-Lab were also adopted in [6, 4].

We collect 200 real-world images randomly from Internet and sample nearly 1.2 million skin color pixels as the training database. The races include Caucasian and Asian. The cumulative distributions of all training skin pixels are mapped with 256  X  256 bins in six different chrominance spaces: normalized r-g, T-S, H-S, CIE-ab, I-Q, Cb-Cr (Fig. 1). Comparing the six histograms, we draw a conclusion that the distribution of skin color in the normalized r-g space is a bit more compatible than that in other spaces and fits the single Gaussian model best. The single Gaussian model is given by the following expression Parameters  X  and  X  are mean color vector and covariance matrix respectively, which can be trained from training data using Maximum Likelihood Estimation. threshold. As the first part of Eq. 1 is a constant once  X  is given, Eq. 1 reduces to Then, the classification rule is replaced by 2.2 Raw Detection Rule Using confining detection rules to describe the skin cluster is very attractive because of its simplicity and low comput ing consumption. However, detection rules alone are not satisfied. But, as a pre-processing step, they can eliminate some non-skin pixels without losing many skin pixels, which helps to diminish computing cost. This also means that complexities of backgrounds are reduced.
After analyzing the skin color histogram in the normalized r-g chrominance space, we make some detect ion rules. Projected into the r-g plane, the distri-bution of skin color forms a approximate ellipse. So a external rectangle of the ellipse is employed to bound the skin color class. It should keep more than 95% of skin color pixels in original images. Meanwhile, we adopt and change some rules of [2]. Lastly, our detection rules are the following where r and g are normalized by 255. 3.1 Fuzzy C-Means Clustering Algorithm When the FCM algorithm is applied to cluster data set X = { x 1 , x 2 ,..., x n } into c classes, it is derived by minimizing the following cost function where u ij is the membership function of x j to the i th class, subjecting to the constrains [9] and the best choice and the midpoint m = 2 is often the preferred choice [10].
The solution of FCM algorithm is a iterative process. The execution process is expressed as follows [8]: 1. Initialize cluster centroids V =( v 1 , v 2 ,..., v c ). 2. Fuzzy membership functions is computed by 3. Update centroids V by 4. Repeat until the value of J m is no longer d ecreasing.
 If d ( x i , v j ) = 0, the membership function u ij cannot be computed by Eq. 8. It is then defined as
Considering that the number of classes cannot be known previously for each image, we adopt Xie-Beni cluster validity criteria S function [8] to measure the average compactness and separation of clusters and to decide the optimal number of classes. The Xie-Beni criteria is described by where c =2 , 3 ,...,c max , and the value of c corresponding to the minimal S is the optimal number of classes.
 3.2 Improved Fuzzy C-Means Algorithm In this study, a approximate method, valid and fast, is used to initialize cluster centroids. The histogram of a pre-processed image shapes several mountains. An example can be seen in Fig. 2(c). As color vectors corresponding to peaks of mountains are in the interior of samples and distributions of samples near peaks are tight, these color vectors are initialized as initial centroids, and the number of local peaks is used to set the upper limit of the number of classes c max in the cluster validity algorithm.
In addition, we propose to use the local characteristic [7] to restrain illumina-tion effect in segmentation. The local characteristic is the conditional probability of pixel x j classified to the i th class. It is defined by [7] Here, i j represents that pixel x j is classified into the i th class;  X  j represents categories of neighborhoods (usually 8-neighbors) of pixel x j ;  X  j ( i )isthenumber in [7]. Let  X  =1 . 5 in our algorithm and it seems to work well in experiments. Furthermore, x j belongs to the class i  X  according to the following rule Therefore, the steps of FCM becomes 1. Initialize cluster centroids V =( v 1 , v 2 ,..., v c ) using the approach above. 3. Update centroids V using 4. Repeat until the value of J m is no longer d ecreasing.
 A comparison of the performance of the original FCM algorithm and the improved FCM algorithm is shown in Fig. 3. In order to distinguish conve-niently, different gray values are used to denote different patches in Fig.3(c) and Fig.3(d). Skin patches will be decided with the following method. Initially, label each patch of segmented images, and the same class which do not connect each other in space will be labeled as different patches. Next, compute the ratio of skin pixels in each patch. A patch will be considered as a skin patch, if its ratio exceeds the threshold  X  . This condition is defined as where S i and P i are the number of skin pixels and total pixels in PATCH i respectively.

Another 160 pictures downloaded from Internet form our test database. These pictures are also chose randomly. Different values of  X  s and  X  will definitely lead to distinct detection results. We first draw a ROC curve shown in Fig. 4 corresponding to  X  s and  X  = 1 3 . Table 1 lists the ratios of correct detection and false detection corresponding to different  X  and  X  s =0 . 15 , 0 . 2.
Fig. 5 are some examples of our algorithm performance with  X  s =0 . 15 and  X  = 1 3 . The images in Fig. 5(b) are segmentation results, and different gray values label different patches. Although the edges of skin patches in results (Fig. 5(c)) are not detected accurately , the results are acceptable. The paper presents a new region-based skin detection algorithm. Images are seg-mented into patches using fuzzy C-means algorithm improved by employing the local characteristic which helps to overcome influences of illumination. Mean-while, in order to decrease computing cos t, local peak values of histograms are initialized as cluster centroids. Lastly, a skin patch is decided by checking its ratio of skin pixels to total pixels in the patch.
 The authors would like to acknowledge support from Shandong Provincial Nat-ural Science Foundation under contract No.Z2005G03.

