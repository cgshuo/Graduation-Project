 REGULAR PAPER Michael Steinbach  X  Vipin Kumar Abstract In this paper, we explore extending association analysis to non-traditional types of patterns and non-binary data by generalizing the notion of con-fidence. We begin by describing a general framework that measures the strength strength of one association pattern provides information about the strength of an-other. Although this framework can serve as the basis for designing or analyzing measures of association, the focus in this paper is to use the framework as the basis for extending the traditional concept of confidence to error-tolerant itemsets (ETIs) and continuous data. To that end, we provide two examples. First, we (1) describe an approach to defining confidence for ETIs that preserves the interpre-tation of confidence as an estimate of a conditional probability, and (2) show how association rules based on ETIs can have better coverage (at an equivalent confi-dence level) than rules based on traditional itemsets. Next, we derive a confidence measure for continuous data that agrees with the standard confidence measure when applied to binary transaction data. Further analysis of this result exposes some of the important issues involved in constructing a confidence measure for continuous data.
 Keywords Confidence  X  Support  X  Association rules  X  Error-tolerant itemsets  X  Data mining 1 Introduction Traditional association analysis [ 1 ] focuses on transaction data, such as the data that results when customers purchase items in a store. This market basket data can be represented as a binary matrix, where there is one row for each transaction, one column for each item, and the ij th entry is 1 if the i th customer purchased the j th item, but 0 otherwise. 1 More recently, the concept of association analysis has also been applied to continuous data and non-traditional patterns [ 16 ].
 of items that frequently occur together in a transaction. For example, baby formula and diapers are items that may often be purchased together. The strength of a fre-quent itemset is measured by its support [ 1 ], which is the number (or fraction) of transactions in which all items of the itemset appear together. Although frequent itemsets are interesting in their own right, the end goal of association analysis, typically, is the efficient generation of association rules [ 1 , 2 ], where an associa-tion rule is of the form A  X  B ( A and B itemsets) and represents the statement that the items of B occur in a transaction that contains the items of A . The strength of an association rule is measured by the confidence of the rule, conf( A  X  B ), which is the fraction of transactions containing all the items of A that also contain all the items of B . This definition of confidence is an estimate of the conditional probability of A given B .
 the support of A  X  B to the support of A . Thus, traditional confidence depends on two key elements. First, there must be a definition of support. Second, the ratio of the supports of A  X  B and A must have a meaningful interpretation. However, the assumptions on which traditional confidence is based may fail to hold. We provide two examples to illustrate this point.
 (ETIs) [ 22 ], which are itemsets in which a specified fraction of the items can be missing from a transaction. (ETIs are useful when, for example, real association patterns are distorted by noise.) To illustrate, if the specified fraction is 0.2, then for a set of five items, a transaction supports this itemset if it contains at least four out of the five items. As described later in this paper, the traditional definition of confidence is not appropriate for ETIs because the ratio of confidence is not meaningful in this case.
 be directly applied to such data. Nonetheless, if discretization techniques [ 13 , 20 ] are employed, then association analysis can be used for such data sets. However, discretization complicates the analysis procedure and the interpretation of its re-sults, as well as potentially causing a loss of information. An example of an ap-proach that directly deals with continuous data is Min-Apriori [ 8 ], which uses the anti-monotone property of the min function to produce a new version of support that also has the anti-monotone property. For binary transaction data, the support computed by Min-Apriori matches that of the standard approach if the data is pre-normalized. However, as described later, when Min-Apriori is applied to binary transaction data, the confidence that Min-Apriori computes for an association rule may not match that of traditional confidence. paper presents an approach for generalizing the notion of confidence 3 based on a general framework for defining the strength of the connection between two item-sets. Specifically, this framework views the strength of such a connection (associa-tion) as the composition of two functions: (1) a function that evaluates the strength evaluation vector, and (2) a function that measures the strength of the relationship between a pair of pattern evaluation vectors. The strength of the relationship may, for example, be measured by the extent to which one pattern evaluation vector pre-dicts the other, or by the proximity (similarity or dissimilarity) of the two pattern evaluation vectors. Note that the traditional definition of confidence as an estimate of the conditional probability of one set of items given another is an evaluation of how well one set of items predicts another.
 1. We describe a general framework that measures the strength of the connection 2. For traditional binary transaction data, we describe how to modify the standard 3. Using an example based on Min-Apriori, we show (1) a limitation of trying 1.1 Overview Section 2 introduces the notation that will be used in this paper and quickly re-views the traditional notions of support and confidence. The limitations of con-fidence for non-traditional association patterns are then considered in Sect. 3 through an example based on ETIs. In Sect. 4 , we describe our general framework for defining association measures between two itemsets (two sets of attributes). framework. Section 5 then uses this framework to derive a general definition of confidence for Boolean association patterns that can be interpreted in terms of conditional probability. This section also presents an example (involving ETIs and a real-life data set) that shows that our new approach to confidence can be useful for deriving association rules that are more powerful than traditional association in a traditional manner for continuous data, and demonstrate how this definition is not consistent with traditional confidence when Min-Apriori is applied to bi-nary data. We also show how our framework can be used to derive a new def-inition for confidence that overcomes this limitation. However, further analysis reveals that yet another approach may be preferable. A discussion of related work isgiveninSect. 7 , and Sect. 8 provides a conclusion and directions for future work. 2 Background After introducing some notation, we state the formal definitions of concepts, such as support and confidence, that are important to association analysis. 2.1 Notation Ta b l e 1 provides an overview of the notation used in this and later sections. Typ-binary data, but commonly use the terms  X  X ttribute X  and  X  X bject X  when dealing with continuous data. In some cases, these terms are used to refer to both binary and continuous data.
 2.2 Traditional support and confidence Using the notation of Table 1 , we briefly summarize the traditional concepts of (1) the support of an itemset, (2) a frequent itemset, (3) the support of an association rule, (4) the confidence of an association rule, and (5) the anti-monotone property of support.
 Definition 1 (Support) For a binary transaction data matrix D with transactions T and items I , the support 6 of an itemset, i.e., a set of binary attributes, X  X  I , is given by which is simply the count of transactions containing all the items of X . Definition 2 (Frequent itemset) Given an itemset X  X  I and a specified mini-mum support threshold, minsup, X is a frequent itemset if  X ( X )&gt; minsup . Definition 3 (Support of an association rule) The support of the association rule, X  X  Y, where X  X  I ,Y  X  I , and X  X  Y = X  , is given by Definition 4 (Confidence) The confidence of the association rule X  X  Y, where X  X  I ,Y  X  I , and X  X  Y = X  , is given by Definition 5 (Anti-monotone property of support) If X and Y , X  X  Y, are two itemsets, then  X ( Y )  X   X ( X ) .
 provides an efficient way to find frequent itemsets and is the foundation of the well-known Apriori algorithm [ 2 ]. The anti-monotone property for the support of itemsets allows us to find its corresponding patterns efficiently. However, as we show later, for many non-traditional patterns, such as ETIs, the lack of an anti-monotone property of support renders the notion of confidence problematic. 3 Limitations of traditional confidence Here, we provide an example involving ETIs to illustrate the problem with using the standard definition of confidence. Since ETIs are a type of Boolean association pattern, we begin by defining that concept. 3.1 Boolean association patterns occurrence of all items in the itemset is present in a transaction) if all the items in the itemset are contained by the transaction. If we treat the items as Boolean attributes, then the process of evaluating whether a transaction supports an item-set X ={ i 1 ,...,  X  k } , corresponds to evaluating the truth of the Boolean formula, i  X  i Boolean formulae consisting of the logical connectives  X  ( and ),  X  ( or ), and  X  ( not ). For example, we could use the Boolean formula, i 1  X  i 2  X  X  X  X  X  i k as a pattern evaluation function. The key feature of Boolean association patterns is that, given a set of items (attributes) and a transaction, there is a formula/function/procedure that indicates whether the specified pattern is present in the transaction. As we will see, ETIs are Boolean association patterns, even though they are not defined in terms of a Boolean formula.
 the standard computation of support. In particular, support is the number of trans-actions in which the pattern occurs. Nothing has changed except the means of evaluating whether a pattern is present in a transaction. However, unlike tradi-tional support, support for many Boolean association patterns does not have the anti-monotone property. As we illustrate with ETIs, the traditional definition of confidence cannot be interpreted in terms of conditional probability in such cases. 3.2 Applying traditional confidence to ETIs known as a strong ETI. Definition 6 provides a formal definition of a strong ETI [ 22 ]. For brevity, we will use the term ETI instead of strong ETI.
 Definition 6 (Strong ETI) A strong ETI consists of a set of items X  X  I ,such that there exists a subset of transactions R  X  T consisting of at least  X   X  M transactions, and for each t  X  R, the fraction of items in X which are present in t is at least 1  X  .  X  is the minimum support expressed as fraction, M the number of transactions, and the fraction of missing items.
 tain at least 3/8 of the specified items ( = 5 / 8), and half the transactions must both X and Y are ETIs with a support of four transactions.
 This seems quite odd because (1) the confidence is larger than 1, and (2) the ETI pattern in X never co-occurs with the ETI pattern in Y . Thus, for ETIs, the tradi-tional notion of confidence does not seem appropriate. Later, we will indicate how to define confidence for ETIs and other Boolean association patterns.
 with lower values of . Consider the data shown in Table 3 . Each transaction must contain at least 4/5 of the specified items ( = 1 / 5), and half the transactions must then X ( Y ) is an ETI with a support of 4 (8), and X  X  Y has a support of 8. Thus, conf ( X  X  Y ) =[  X ( X  X  Y ) ] / [  X ( X ) ]= ( 8 )/( 4 ) = 2.
 results from the fact that ETIs do not have the anti-monotone property of sup-port defined on page 283 . Many other non-traditional Boolean association patterns have similar problems. 4 A general framework for association measures between sets of attributes 4.1 Pattern evaluation functions To generalize the notion of confidence, we created a general framework for associ-ation measures between sets of attributes. The key to this framework is the notion of evaluating, in each transaction, the strength of a pattern involving a specified set of items. The evaluation of the strength of a pattern can take various forms. Most commonly, and this is the case for traditional association analysis, the pattern is is 0. (As noted, we call such patterns Boolean association patterns .) More gen-erally, the evaluation of strength can be a real number. This will be particularly relevant when we discuss confidence for continuous data. an evaluation function, e v al , is a function that takes a set of items X  X  I as an argument and returns a pattern evaluation vector , v , whose i th component is the strength of the pattern in the i th transaction. Thus, we can write we will distinguish between their pattern evaluation vectors by using subscripts, e.g., v X and v Y . Various e v al functions are shown in Table 4 .Notethat X = { i , i and continuous data. An illustration of the operation of evaluation functions for binary and continuous data is provided by Tables 5 (a) and (b), respectively. by a vector whose length is the number of transactions. Each component of this pattern vector measures the strength of the pattern in a particular transaction. This mapping of each itemset to a pattern vector creates a collection of pattern vectors, and further analysis involves only these vectors. This is analogous to computing a similarity matrix from a data matrix and then performing the clustering using only this similarity matrix. For clustering, pairs of objects (transactions) are trans-formed into values in a similarity space, while for our framework, itemsets (sets of attributes) are transformed into vectors in a pattern space. This approach can also be used to create a framework for generalizing support by equating support with measures of the magnitude of a pattern vector [ 16 ]. 4.2 Association measures between sets of attributes Most generally, the strength of a connection (association) between two associa-tion patterns can be viewed as a measure of the information that one association pattern provides about another, where by association pattern, we mean any pat-tern involving an itemset (set of attributes) that is defined by a pattern evaluation vector. Specifically, the strength of an association is a function that quantifies the relationship between the evaluation vectors of a pair of itemsets (pair of sets of attributes). This is captured by the following definition.
 Definition 7 (A general definition of the strength of an association) If X  X  I and Y  X  I ,X  X  Y = X  , are itemsets (sets of attributes), then the strength of the association between them can be defined in terms of a function  X  that maps the evaluation vectors of the two association patterns to a real value. More formally, assoc : ( M , M )  X  ,where is the set of real numbers and M the number of transactions (objects). meaningfully capture the strength of a relationship between two association pat-terns. For example,  X  may (1) capture the extent to which the strength of one association pattern can be used to predict another, or (2) capture the proximity (similarity or dissimilarity) between the two association patterns. Although our focus in this paper will be on using this framework to extend the notion of con-fidence, we briefly describe some of the possible alternatives to confidence and then discuss some of the more general implications of this framework. After, this brief discussion, the remainder of this paper will focus on using the framework to generalize the notion of confidence. 4.2.1 Examples of association measures We begin by describing association measures, which are called interestingness or objective measures, that have been developed to address the issue that association measures with properties different from that of traditional confidence can be use-ful. A list of many such measures is given in Table 6 . Note that these measures are given in terms of two binary variables i 1 and i 2 and the frequencies with which their 0 and 1 values co-occur, as defined in Table 7 . These measures have been ex-tensively investigated by numerous researchers. A survey of these measures, their properties, and related issues is provided in Tan et al. [ 18 , 19 , 20 ]. of different ways. For example, there are several, including confidence, that have an interpretation in terms of conditional probability or related notions involving statistical independence or information theory. All-confidence is the minimum of the confidence measured for all possible rules that can be created from the union of the two itemsets. Lift is the confidence divided by the support of the second itemset, while interest is, conceptually, the probability that the two items co-occur divided by the probability that would be observed if they are independent. Mutual information is an information theoretic measure that quantifies the degree of in-formation that the first itemset (the antecedent) provides about second itemset (the consequent). As an example of measures of a different sort, some of the other mea-sures in Table 6 correspond to similarity measures, namely, the cosine measure , correlation ,andthe Jaccard coefficient . especially useful to consider confidence measures based on some of the similar-ity or distance measures that have been developed for evaluating the strength of a connection between two continuous vectors. Some of these measures are the con-tinuous analogues of similarity measures in Table 6 , such as the cosine, correla-tion, and the extended Jaccard [ 17 ] measures. Other alternatives include Euclidean distance and a relatively new set of measures, known as Bregman divergences [ 4 ]. 4.2.2 General usefulness of the framework We mention three general uses for this framework. First, the framework allows any binary measure of association, i.e., any measure that is defined only for two items (attributes), to be used when the itemsets, X and Y , contain more than two items. Specifically, we first compute the pattern evaluation vectors of X and Y and then calculate the strength of the association in terms of this pair of pattern evaluation vectors. Although some binary measures, including those of Table 6 , have natural extensions to the case where X and Y contain multiple items, many do not. Second, using the framework, the measures of Table 6 can be automati-cally applied for non-traditional patterns such as ETIs. As we show later, a gen-eralized version of confidence for ETIs seems quite useful, and thus, generalized versions of other association measures for ETIs may also prove valuable. Third, our framework provides a way of defining various measures of association when the pattern evaluation functions that are applied to the data (continuous, binary, etc.) produce continuous pattern evaluation vectors. In particular, any of the many similarity and dissimilarity measures that have been defined for pairs of continu-ous vectors can be used as association measures between two sets of continuous attributes. 5 Confidence for Boolean evaluation functions pretation of confidence as conditional probability to the case of general Boolean association patterns. We then show how this generalized version of confidence provides a reasonable value of confidence for the first example of Sect. 3 . Finally, we provide an example with a real-life data set that demonstrates the practical value of association rules based on ETIs. 5.1 Derivation of confidence from conditional probability Given two attributes X and Y , and a Boolean pattern evaluation function, what we are seeking is a measure of the strength of the connection between the pattern evaluation vectors of X and Y that corresponds to traditional confidence in the sense that it is can be interpreted as an estimate of conditional probability. For any Boolean pattern evaluation function, e v al b , the resulting pattern evaluation we assume that only the presence of a pattern (a value of 1) is important. This reduces the problem to one of computing, Prob ( v Y ( t ) = 1 | v X ( t ) = 1 ) ,which is the probability that an entry of v Y is 1 when the corresponding entry of v X is 1. An estimate of this conditional probability is the fraction of entries where v X following general definition of the confidence of an association rule when using a Boolean association pattern: Definition 8 (Confidence of an association rule for Boolean association patterns) Given two disjoint sets of attributes X and Y , the traditional support function,  X  , and a Boolean pattern evaluation function eval b that defines the Boolean association pattern and generates pattern evaluation vectors, eval b ( X ) = v
X and eval b ation rule X  X  Y with respect to the Boolean association pattern is given by v ( t ) = 1  X  v as conditional probability for the case of a general Boolean association pattern. However, our results also show that the standard approach for computing confi-dence cannot be used in the general case. In particular, the approach employed in standard association analysis would use a numerator of  X ( X  X  Y ) =|{ t  X  T : v case and does not hold in general. 5.2 Example: Strong ETIs (continued) Computing conf ( X  X  Y ) , as given in Definition 8 , requires computing  X ( { v X and Y and then sum the entries of the resultant vector. The ETI pattern of X occurs only in the first four transactions, while that of Y occurs only in the last four transactions. If  X  denotes the componentwise  X  X nd X  function, then and consequently,  X ( { v X , v Y } ) = 0.
 which is much more intuitive than the previous result: conf ( X  X  Y ) = 2. 5.3 An example of the application of generalized confidence to the mushroom data set Here, we present an example of the power of confidence for ETIs. We use the mushroom dataset from the FIMI website [ 7 ], which has binary attributes. 7 In the binary format, the data set consists of 119 binary attributes (items) and 8124 rows (transactions). Each transaction represents a mushroom and each item an attribute, e.g., odor or color. The first item, denoted by p , indicates whether a mushroom is poisonous, while the second item, e , indicates whether a mushroom is edible. There were 3916 poisonous mushrooms and 4208 edible ones.
 ber of attributes, but here the focus is on illustrating the practical usefulness of confidence involving ETIs versus regular itemsets. Thus, we restrict ourselves to rules involving only three items on the left-hand side and the item p on the right-hand side. Specifically, we found all itemsets of three items (excluding p and e ) and computed the confidence between these itemsets and the p item, both by treat-ing the itemset as a standard itemset and as an ETI.
 inition 4 . Second, we treated each itemset as an ETI that had to have at least two of the three items and calculated confidence of the rule as given in Definition 8 . We kept only those rules that had a confidence of 1. We give two examples. rule has a confidence of 1 and a support of 576. On the other hand, if we require confidence of 1, but the support is 3312. Thus, in this case, using ETIs, with the modified approach to confidence, results in a rule of equal quality but expanded coverage.
 rule has a confidence and support of 0. However, if we require only two of the three 3024. The reason for this is that items 48 and 95 never co-occur with one another, but they do frequently co-occur individually with item 85. This type of disjunctive rule [ 24 , 9 , 6 ] would not be produced by standard association analysis. use association rules based on ETIs. In turn, as this example has illustrated, such rules can provide better coverage (at an equivalent level of confidence) than rules based on traditional itemsets. Furthermore, rules based on ETIs automatically in-corporate disjunctive characteristics. 6 Confidence for continuous data In this section, we consider, for continuous data, the traditional notion of confi-dence as defined as a ratio of supports. The basis for this discussion will be the Min-Apriori algorithm [ 8 ], which we will describe next. On the surface, this al-gorithm defines support and confidence for continuous data in a way that seems almost identical to the way these concepts are defined for binary data. However, when applied to binary data, Min-Apriori X  X  definition of confidence produces re-Using the framework introduced in Sect. 4 , we analyze this issue and produce a new measure of confidence for Min-Apriori that agrees with traditional confidence for binary data. This result is further analyzed to highlight some of the important issues in constructing a confidence measure for continuous data. 6.1 Min-Apriori The Min-Apriori algorithm operates as follows. First, to adjust for possible differ-ences in the scales of attributes, Min-Apriori normalizes the data in each column (attribute) of the data matrix by dividing each column entry by the sum of the column entries. Given this normalization, the support of a set of attributes is com-puted by taking the minimum value in each row and summing the resultant values. In what follows, we will indicate this support function with the notation,  X  min to distinguish this support function from the standard one. 8 The Min-Apriori process of computing the support of already normalized data is illustrated in Table 8 . though with the definition of support as defined above, i.e., conf ( X  X  Y ) =  X  it does not always yield the same confidence values as the standard definition of confidence on the original data. This is illustrated by the data shown in Table 9 . The original data is shown in Table 9 (a), Table 9 (b) shows the data after it has been normalized, and Table 9 (c) shows the evaluation vectors. Using traditional confidence, we obtain 6.2 A new confidence measure for continuous data derive a confidence measure for continuous data that agrees with traditional con-fidence when used on binary transaction data. We first prove a supporting the-orem that relates the cosine measure and traditional confidence and then use this result to derive a new confidence measure that is consistent with confidence sired consistency. However, a further analysis of the new measure of confidence more clearly reveals a key issue involved in extending confidence to continu-ous data, namely, the need to normalize continuous data to remove dependen-cies of scale and the fact that the confidence measure is not invariant to such a normalization. 6.2.1 Relationship between the cosine measure and traditional confidence We begin by proving Theorem 1 , which indicates that the traditional confidence of the association rule X  X  Y for binary data equals the cosine measure between the evaluation vectors of X and Y multiplied by a factor that depends on the relative support of the two itemsets. This theorem serves as the basis for our approach, as well as being interesting in its own right. Note that if both association patterns have the same support, then the confidence simply reduces to the cosine of their is also symmetric, i.e., conf ( X  X  Y ) = conf ( Y  X  X ) .
 Theorem 1 Given traditional support and the corresponding evaluation function, e v al  X  ,weget Proof Y , respectively. We have used the definition of the cosine measure, cos ( x , y ) = x  X  y / || x || e v are the L 1 and L 2 vector norms, respectively. 6.2.2 A measure consistent with traditional confidence If two vectors are multiplied by (potentially different) non-zero constants, their cosine measure is unchanged. As a result, if each attribute of a binary transaction matrix is normalized to have an L 1 norm of 1, then the cosine measure between attributes does not change. Thus, if we can express port based on the Min-Apriori support function,  X  min , then we will have an alter-native definition of confidence that matches the standard definition of confidence for binary transaction data and works for continuous data. The following theorem provides the details.
 Theorem 2 For traditional binary transaction data whose attributes have been normalized to have an L 1 norm of 1 (the Min-Apriori normalization) and an itemset X ,  X  min ( X )/ m =  X ( X ) , where m is the mean of the non-zero entries of e v al min ( X ) and  X ( X ) the traditional support of the attributes X for the original, unnormalized data.
 Proof First, notice that when attribute i is normalized, its non-zero entries  X  tinuous data that is normalized to have an L 1 norm of 1.
 Definition 9 (New definition of confidence for continuous data) 6.2.3 Example: confidence for continuous data using Min-Apriori (continued) We provide a numerical illustration of the result that we have just derived, using the data in Table 9 . Recall that conf ( CD  X  AB ) = 0 . 5 when traditional con-fidence is used. Using Table 9 (c), we apply Definition 9 with X ={ C , D } and Y ={ A , B } . Summing column AB of Table 9 (c), we obtain  X  Summing column CD of Table 9 (c), we get  X  min ( CD ) = 4 / 5. From Table 9 (c), 1 /  X  trated in the example in Sect. 6.1 . 6.2.4 Further analysis Although we have produced a measure of confidence that addresses a potential limitation of the Min-Apriori version of confidence, further analysis is warranted to better understand the meaning of this measure. In particular, at first glance, di-vision by the mean of the non-zero entries seems mysterious. However, the role of this factor is clear if we realize that its effect is to counteract the normaliza-tion of the data performed by Min-Apriori as an initial preprocessing step. An examination of the previous example provides an illustration of this.
 al. [ 19 ], various properties of association measures were considered, including in-variance with respect to the scaling of the data. The normalization performed by Min-Apriori corresponds to an independent scaling of the columns of the data, and, as was indicated in Tan et al. [ 19 ], confidence is not invariant to such a trans-formation. In light of this, the formula for confidence that we derived above be-comes much more understandable; i.e., to match confidence for unnormalized bi-nary data, the effects of normalization must be counteracted. It is worth noting that if the normalization step of Min-Apriori is omitted, then Min-Apriori produces confidence results for binary data that are consistent with traditional confidence. 9 measure to continuous data in a way that yields the same value as traditional con-fidence for the original binary data. However, both approaches run counter to the purpose of normalization, which may be desirable in situations involving contin-uous data. Indeed, despite the fact that Min-Apriori is not always consistent with traditional confidence on binary data, the Min-Apriori approach to confidence may be preferable for continuous data because of the normalization issue. However, other types of association measures should also be considered. More investigation is needed into these issues. 6.3 A final observation Here, we make the observation, which some may find interesting, that the Min-Apriori approach to confidence is only partially inconsistent with confidence for binary data. Consider the following example that again uses Table 9 (a) X (c), but computes conf ( AB  X  CD ) instead of conf ( CD  X  AB ) . Using traditional con-fidence, we obtain Using Min-Apriori X  X  definition of support, we get that obtained from Min-Apriori. Indeed, when using Min-Apriori, the confidence of one of the association rules conf ( X  X  Y ) or conf ( Y  X  X ) will always match that of traditional confidence when applied to binary data. We omit a min i  X  X 1 / X  ( i ) X ( X ) , that was used in the previous proof. 7 Related work Although there has been considerable work on various association measures [ 18 , 19 ], we are unaware of any work similar to ours in constructing a frame-work for such measures or in generalizing confidence. The most relevant previous work concerns interestingness/objective measures. These alternative association measures and their connection to the framework are discussed in Sect. 4 and are surveyed in Tan et al. [ 18 , 19 , 20 ].
 from another. There has also been some work in integrating regression with as-view of association rules and confidence, which involves only the prediction of the strength/presence of one pattern from another.
 provides a framework for generalizing support. The work in this paper, although independent of the support work, is complementary to that work. Our previous work on Min-Apriori [ 8 ] also played an important role in this work by providing a concrete example of confidence for continuous data. 8 Conclusions and future work We described a general framework for measures of the strength of an associa-tion between two itemsets (sets of attributes) and showed how this framework dence for Boolean association patterns, including ETIs, in a way that preserves the interpretation of confidence as an estimate of conditional probability. Second, we constructed an estimate of confidence for continuous data that agrees with tra-ditional confidence when applied to binary data. However, a further analysis of this measure showed that its approach runs counter to the normalization that may be desirable for continuous data.
 high confidence association rules for non-traditional patterns and non-binary data sets. Also, more experiments are needed to evaluate the usefulness of such asso-ciation rules. Although preliminary, the results of using ETIs to form association rules for the mushroom data set were very promising and need to be further in-vestigated. In particular, we would like to conduct an extensive comparison of the usefulness of rules based on ETIs and traditional association rules. Also, the con-nection of rules based on ETIs to disjunctive rules and more general Boolean pat-terns needs to be further explored. In the context of Boolean association patterns, using various objective (interestingness) measures [ 18 ] as association measures, particularly in the context of ETIs or other Boolean association patterns, would be worth exploring. Finally, more research is needed to understand the appropriate association measures for continuous association analysis.
 References Author Biographies
 Traditional association analysis (Agrawal et al. 1993) focuses on tr ansaction data, such as the data that results when customers purchase items in a store. This market basket data can be represented as a binary matrix, where there is one row for each transaction, one column for each item, and the ij th entry is 1 if the i th customer purchased the j th item, but is 0 otherwise. 1 More recently, the concept of association analysis has also been applied to continuous data and non-traditional patterns (Steinbach et al. 2004).
 items that frequently occur together in a transaction. For example, baby formula and diapers are items that may often be purchased together. The strength of a frequent itemset is measured by its support (Agrawal et al. 1993), which is the number (or fraction) of transactions in which all items of the itemset appear together. Although frequent itemsets are interesting in their own right, the end goal of association analysis is typically the efficient generation of association rules (Agrawal et al. 1993, Agrawal &amp; Srikant 1994), where an associatio n rule is of the form A  X  B ( A and B itemsets) and represents the statement that the items of B occur in a transaction that contains the items of A . The strength of an association rule is measured by the confidence of the rule, conf( A  X  B ), which is the fraction of transactions containing all the items of A that also contain all the items of B . This definition of confidence is an estimate of the conditional probability of A given B .
 the support of A  X  B to the support of A . Thus, traditional confidence depends on two key elements. First, there must be a definition of support. Second, the ratio of the supports of A  X  B and A must have a meaningful interpretation. However, the assumptions on which traditional confidence is based may fail to hold. We provide two examples to illustrate this point.
 sets (ETIs) (Yang et al. 2001), which are itemsets in which a specified fraction of the items can be missing from a transaction. (ETIs are useful when, for exam -ple, real association patterns are distorted by noise.) To illustrate, if t he specified fraction is 0.2, then for a set of 5 items, a transaction supports this item set if it contains at least 4 out of the 5 items. As described later in this paper, the traditional definition of confidence is not appropriate for ETIs because the ratio of confidence is not meaningful in this case.
 not be directly applied to such data Nonetheless, if discretization techniques (Srikant &amp; Agrawal 1996, Tan et al. 2005) are employed, then associatio n analysis can be used for such data sets. However, discretization complicates the analysis procedure and the interpretation of its results, as well as potentially causing a loss of information. An example of an approach that directly deals with cont in-uous data is Min-Apriori (Han et al. 1997), which uses the anti-monotone prop-erty of the min function to produce a new version of support that also has the anti-monotone property. For binary transaction data, the support computed by Min-Apriori matches that of the standard approach if the data is pre-normalized. However, as described later, when Min-Apriori is applied to binary transaction data, the confidence that Min-Apriori computes for an association rule may not match that of traditional confidence.
 paper presents an approach for generalizing the notion of confidence 3 based on a general framework for defining the strength of the connection between two itemsets. Specifically, this framework views the strength of such a connection (association) as the composition of two functions: (1) a function that eval uates the strength or presence of an association pattern for each transaction, producing a pattern evaluation vector, and (2) a function that measures the strength of the relationship between a pair of pattern evaluation vectors. The strength of the relationship may, for example, be measured by the extent to which one pattern evaluation vector predicts the other, or by the proximity (similarit y or dissimilarity) of the two pattern evaluation vectors. Note that the tra ditional definition of confidence as an estimate of the conditional probability of one set of items given another is an evaluation of how well one set of items predicts another.
 1. We describe a general framework that measures the strength of the connection between two association patterns by the extent to which the strength of one association pattern provides information about the strength of another. The traditional approach to confidence is based on support, which can be regarded as a summarization of the strength of a pattern over all transactions, and r ep-resents only one way of measuring the strength of an association between sets of items. In contrast, the proposed framework is based on directly evaluati ng the relationship between the pattern evaluation vectors of two association pa t-terns. The main focus of this paper is to use this framework to generalize the notion of confidence to non-traditional patterns and continuous data, but this framework has a usefulness beyond that application. For example, the frame-work allows any measure of association for two items to be used as a mea sure of association between a pair of itemsets or ETIs that contain multiple it ems. 2. For traditional binary transaction data, we describe how to modify the st an-dard definition of confidence for Boolean association patterns, 5 including ETIs, so that confidence can be viewed as an estimate of conditional probability. We provide an example of how applying the standard definition of confidence to
ETI X  X  yields a nonsensical result, while the modified definition gives the intu-itively desired result. Based on these results, we provide an example involvi ng a real-world data set that indicates of how association rules for ETIs can be more powerful than traditional association rules. 3. Using an example based on Min-Apriori, we show (1) a limitation of try ing to apply the traditional definition of confidence to continuous data, and (2) demonstrate how we can use our framework to derive an alternative approach to confidence that overcomes this limitation. In doing so, we derive an inter-esting relationship between cosine similarity and traditional confidence. The confidence measure that we derived is further analyzed to expose some of the important issues involved in constructing a confidence measure for continuous data.
 and quickly reviews the traditional notions of support and confidence. The limi-tations of confidence for non-traditional association patterns are then considered in Section 3 through an example based on ETIs. In Section 4, we describe our general framework for defining association measures between two itemsets (two sets of attributes). A brief discussion is provided to outline the more general implications of this framework. Section 5 then uses this framework to derive a general definition of confidence for Boolean association patterns that can be interpreted in terms of conditional probability. This section also presents an ex -ample (involving ETIs and a real-life data set) that shows that our new approac h to confidence can be useful for deriving association rules that are more power-ful than traditional association rules. In Section 6, we discuss Min-Apriori, an approach for defining confidence in a traditional manner for continuous data, and demonstrate how this definition is not consistent with traditional confidence when Min-Apriori is applied to binary data. We also show how our framework can be used to derive a new definition for confidence that overcomes this limitation. However, further analysis reveals that yet another approach may be preferable. A discussion of related work is given in Section 7, and Section 8 provides a conclusion and directions for future work. After introducing some notation, we state the formal definitions of concepts, such as support and confidence, that are important to association analysis. Table 1 provides an overview of the notation used in this and later sections. We typically use the traditional terms  X  X tem X  and  X  X ransaction X  when dealing with binary data, but commonly use the terms  X  X ttribute X  and  X  X bject X  when dealing with continuous data. In some cases, these terms are used to refer to both binar y and continuous data. Using the notation of Table 1, we briefly summarize the traditional concepts of (1) the support of an itemset, (2) a frequent itemset, (3) the support of an association rule, (4) the confidence of an association rule, and (5) the anti-monotone property of support.
 Definition 1. Support For a binary transaction data matrix D with transactions T and items I , the support 6 of an itemset, i.e., a set of binary attributes, X  X  I , is given by which is simply the count of transactions containing all the items of X . Definition 2. Frequent Itemset Given an itemset X  X  I and a specified minimum support threshold, minsup , X is a frequent itemset if  X  ( X ) &gt; minsup .
 Definition 3. Support of an Association Rule The support of the association rule, X  X  Y , where X  X  I , Y  X  I , and X  X  Y =  X  , is given by Definition 4. Confidence The confidence of the association rule X  X  Y , where X  X  I , Y  X  I , and X  X  Y =  X  , is given by Definition 5. Anti-monotone Property of Support If X and Y, X  X  Y , are two itemsets, then  X  ( Y )  X   X  ( X ).
 of standard support provides an efficient way to find frequent itemsets and is the foundation of the well-known Apriori algorithm (Agrawal &amp; Srikant 19 94). The anti-monotone property for the support of itemsets allows us to find its corresponding patterns efficiently. However, as we show below, for many non-traditional patterns, such as ETIs, the lack of an anti-monotone property of support renders the notion of confidence problematic. Here we provide an example involving ETIs to illustrate the problem with us ing the standard definition of confidence. Since ETIs are a type of Boolean associa-tion pattern, we begin by defining a that concept. An itemset is supported by a transaction (i.e., the pattern defined by the co-occurrence of all items in the itemset is present in a transaction) if all the items in the itemset are contained by the transaction. If we treat the items as Bool ean attributes, then the process of evaluating whether a transaction supports an itemset X = { i 1 , . . . ,  X  k } , corresponds to evaluating the truth of the Boolean formula, i 1  X  i 2  X  . . .  X  i k . This approach can be generalized X  X ee for example Bollmann-Sdorra et al. 2001 or Srikant et al. 1997 X  X n order to define more gen-eral types of association patterns by using general Boolean formulas consist ing of the logical connectives  X  ( and ),  X  ( or ), and  X  ( not ). For example, we could use the Boolean formula, i 1  X  i 2  X  . . .  X  i k as a pattern evaluation function. The key fea-ture of Boolean association patterns is that, given a set of items (attri butes) and a transaction, there is a formula/function/procedure that indicates whether the specified pattern is present in the transaction. As we will see, ETIs are Boolean association patterns, even though they are not defined in terms of a Boolean formula.
 to the standard computation of support. In particular, support is the number of transactions in which the pattern occurs. Nothing has changed except the means of evaluating whether a pattern is present in a transaction. However, unlike traditional support, support for many Boolean association patter ns does not have the anti-monotone property. As we illustrate with ETI X  X , the tr aditional definition of confidence cannot be interpreted in terms of conditional probability in such cases. Here we attempt to use traditional confidence for a binary association pattern known as a strong ETI. Definition 6 provides a formal definition of a strong ETI (Yang et al. 2001). For brevity, we will use the term ETI instead of strong ETI. Definition 6. Strong Error Tolerant Itemset A strong ETI consists of a set of items X  X  I , such that there exists a subset of transactions R  X  T consisting of at least  X   X  M transactions, and for each t  X  R , the fraction of items in X which are present in t is at least 1  X   X  .  X  is the minimum support expressed as fraction, M is the number of transactions, and  X  is the fraction of missing items.
 contain at least 3/8 of the specified items (  X  = 5 / 8) and half the transactions then both X and Y are ETIs with a support of 4 transactions.
 This seems quite odd because (1) the confidence is larger than 1 and (2) the ETI pattern in X never co-occurs with the ETI pattern in Y . Thus, for ETIs, the traditional notion of confidence does not seem appropriate. Later, we will indicate how to define confidence for ETIs and other Boolean association patterns. ETIs with lower values of  X  . Consider the data shown in Table 3. Each trans-action must contain at least 4/5 of the specified items (  X  = 1 / 5) and half the results from the fact that ETIs do not have the anti-monotone property of sup-port defined on page 5. Many other non-traditional Boolean association patterns have similar problems. To generalize the notion of confidence, we created a general framework for as-sociation measures between sets of attributes. The key to this framework is the notion of evaluating, in each transaction, the strength of a pattern involv ing a specified set of items. The evaluation of the strength of a pattern can take vari ous forms. Most commonly, and this is the case for traditional association analysis, the pattern is either present, i.e., the pattern strength is 1, or it is absent, i. e., the pattern strength is 0. (As noted, we call such patterns Boolean association patterns .) More generally, the evaluation of strength can be a real number. This will be particularly relevant when we discuss confidence for continuous data. an evaluation function, eval , is a function that takes a set of items X  X  I as an argument, and returns a pattern evaluation vector , v , whose i th component is the strength of the pattern in the i th transaction. Thus, we can write we will distinguish between their pattern evaluation vectors by using subscripts, e.g., v X and v Y . Various eval functions are shown in Table 4. Note that X = { i 1 , i 2 ,  X   X   X  , i k }  X  I and that some of the eval functions are valid for both binary and continuous data. An illustration of the operation of evaluation functi ons for binary and continuous data is provided by Tables 5(a) and 5(b), respectively. by a vector, whose length is the number of transactions. Each component of this pattern vector measures the strength of the pattern in a particular trans-action. This mapping of each itemset to a pattern vector creates a collection of pattern vectors and further analysis involves only these vectors. This is analo -gous to computing a similarity matrix from a data matrix and then perform ing the clustering using only this similarity matrix. For clustering, pairs of o bjects (transactions) are transformed into values in a similarity space, while for our framework, itemsets (sets of attributes) are transformed into vectors i n a pat-tern space. This approach can also be used to create a framework for generalizing support by equating support with measures of the magnitude of a pattern vector (Steinbach et al. 2004). Most generally, the strength of a connection (association) between two associ-ation patterns can be viewed as a measure of the information that one associ-ation pattern provides about another, where by association pattern, we mean any pattern involving an itemset (set of attributes) that is defined by a pattern evaluation vector. Specifically, the strength of an association is a function t hat quantifies the relationship between the evaluation vectors of a pair of itemsets (pair of sets of attributes). This is captured by the following definition. Definition 7. A General Definition of the Strength of an Association If X  X  I and Y  X  I , X  X  Y =  X  , are itemsets (sets of attributes), then the strength of the association between them can be defined in terms of a function  X  that maps the evaluation vectors of the two association patterns to a real va lue. More formally, assoc : (  X  M ,  X  M )  X   X  , where  X  is the set of real numbers and M is the number of transactions (objects). that meaningfully capture the strength of a relationship between two associatio n patterns. For example,  X  may (1) capture the extent to which the strength of one association pattern can be used to predict another, or (2) capture the proximity (similarity or dissimilarity) between the two association patterns. Although our focus in this paper will be on using this framework to extend the notion of confidence, we briefly describe some of the possible alternatives to confidence and then discuss some of the more general implications of this framework. After, t his brief discussion, the remainder of this paper will focus on using the framework to generalize the notion of confidence. We begin by describing association measures, which are called interestingness or objective measures, that have been developed to address the issue that as-sociation measures with properties different from that of traditional confidence can be useful. A list of many such measures is given in Table 6. Note that these measures are given in terms of two binary variables i 1 and i 2 and the frequencies with which their 0 and 1 values co-occur, as defined in Table 7. These measures have been extensively investigated by numerous researchers. A survey of these measures, their properties, and related issues is provided in Tan et al. 2002, Ta n et al. 2004, and Tan et al. 2005.
 of different ways. For example, there are several, including confidence, that have an interpretation in terms of conditional probability or related notions inv olving statistical independence or information theory. All-confidence is the minimum of the confidence measured for all possible rules that can be created from the union of the two itemsets. Lift is the confidence divided by the support of the second itemset, while interest is, conceptually, the probability that the two items co-occur divided by the probability that would be observed if they are independent. Mutual information is an information theoretic measure that quantifies the de-gree of information that the first itemset (the antecedent) provides about second itemset (the consequent). As an example of measures of a different sort, some of the other measures in Table 6 correspond to similarity measures, namely, the cosine measure , correlation , and the Jaccard coefficient .
 seems especially useful to consider confidence measures based on some of the simi-larity or distance measures that have been developed for evaluating the strength of a connection between two continuous vectors. Some of these measures are the continuous analogues of similarity measures in Table 6, such as the cosine, correlation, and the extended Jaccard (Strehl et al. 2000) measures. Other alter-natives include Euclidean distance and a relatively new set of measures, known as Bregman divergences (Banerjee et al. 2004). We mention three general uses for this framework. First, the framework all ows any binary measure of association, i.e., any measure is defined only for two item s (attributes), to be used when the itemsets, X and Y , contain more than two items. Specifically, we first compute the pattern evaluation vectors of X and Y and then calculate the strength of the association in terms of this pair of patt ern evaluation vectors. Although some binary measures, including those of Table 6, have natural extensions to the case where X and Y contain multiple items, many do not. Second, using the framework, the measures of Table 6 can be automat-ically applied for non-traditional patterns, such as ETIs. As we show below, a generalized version of confidence for ETIs seems quite useful, and thus, gener-alized versions of other association measures for ETIs may also prove val uable. Third, our framework provides a way of defining various measures of association when the pattern evaluation functions that are applied to the data (continuous, binary, etc.) produce continuous pattern evaluation vectors. In particular, any o f the many similarity and dissimilarity measures that have been defined for pairs of continuous vectors can be used as association measures between two sets of continuous attributes.
 In this section, we use the framework described above to generalize the inter-pretation of confidence as conditional probability to the case of general Boolean association patterns. We then show how this generalized version of confidence provides a reasonable value of confidence for the first example of Section 3. Fi-nally, we provide an example with a real-life data set that demonstrates the practical value of association rules based on ETIs. Given two attributes X and Y , and a Boolean pattern evaluation function, what we are seeking is a measure of the strength of the connection between the pattern evaluation vectors of X and Y that corresponds to traditional confidence in the sense that it is can be interpreted as an estimate of conditional probability. F or any Boolean pattern evaluation function, eval b , the resulting pattern evaluation vectors, v X = eval b ( X ) and v Y = eval b ( Y ), are binary vectors. Furthermore, we assume that only the presence of a pattern (a value of 1) is important. This reduces the problem to one of computing, P rob ( v Y ( t ) = 1 | v X ( t ) = 1), which is the probability that an entry of v Y is 1 when the corresponding entry of v X is 1. An estimate of this conditional probability is the fraction of entries wher e v X and v Y are both 1; i.e., P rob ( v Y ( t ) = 1  X  v X ( t ) = 1), divided by the fraction of entries where v X ( t ) is 1, i.e., P rob ( v X ( t ) = 1). This discussion leads to the following general definition of the confidence of an association rule when using a Boolean association pattern: Definition 8. Confidence of an Association Rule for Boolean Associa -tion Patterns Given two disjoint sets of attributes X and Y , the traditional support function,  X  , and a Boolean pattern evaluation function eval b that defines the Boolean as-sociation pattern and generates pattern evaluation vectors, eval b ( X ) = v X and eval b ( Y ) = v Y , the generalized confidence, gconf( X  X  Y ), of the association rule X  X  Y with respect to the Boolean association pattern is given by where we have used the fact that |{ t  X  T : v X ( t ) = 1 }| =  X  ( { v X } ) and |{ t  X  T : v X ( t ) = 1  X  v Y ( t ) = 1 }| =  X  ( { v X , v Y } ).
 as conditional probability for the case of a general Boolean association patt ern. However, our results also show that the standard approach for computing confi-dence cannot be used in the general case. In particular, the approach employed in standard association analysis would use a numerator of  X  ( X  X  Y ) = |{ t  X  T : v given in Definition 8. The equivalence of  X  ( X  X  Y ) and  X  ( { v X , v Y } ) is a special case and does not hold in general. Computing conf( X  X  Y ), as given in Definition 8, requires computing  X  ( { v X , v Y } ). In turn, this requires us to  X  X nd X  the pattern evaluation vectors of X and Y and then sum the entries of the resultant vector. The ETI pattern of X occurs only in the first four transactions, while that of Y occurs only in the last four trans-actions. If  X  denotes the componentwise  X  X nd X  function, then and consequently,  X  ( { v X , v Y } ) = 0.
 which is much more intuitive than the previous result: conf( X  X  Y ) = 2. Here we present an example of the power of confidence for ETIs. We use the mushroom dataset from the FIMI website (Goethals &amp; Zaki 2003), which has binary attributes. 7 . In the binary format, the data set consists of 119 binary attributes (items) and 8124 rows (transactions). Each transaction repres ents a mushroom and each item an attribute, e.g., odor or color. The first item, denoted by p , indicates whether a mushroom is poisonous, while the second item, e , indicates a mushroom is edible. There were 3916 poisonous mushrooms and 4208 edible ones.
 number of attributes, but here the focus is on illustrating the practical usefulness of confidence involving ETIs versus regular itemsets. Thus, we restrict ourselves to rules involving only three items on the left hand side and the item p on the right hand side. Specifically, we found all itemsets of three items (excluding p and e ) and computed the confidence between these itemsets and the p item, both by treating the itemset as a standard itemset and as an ETI.
 Definition 4. Second, we treated each itemset as an ETI that had to have at least two of the three items and calculated confidence of the rule as given in Definition 8. We kept only those rules that had a confidence of 1. We give two examples.
 has a confidence of 1 and a support of 576. On the other hand, if we require only two of the three items, i.e., treat { 29 , 48 , 90 } as an ETI, then we still have a confidence of 1, but the support is 3312. Thus, in this case, using ETIs, with the modified approach to confidence, results in a rule of equal quality, but expanded coverage.
 rule has a confidence and support of 0. However, if we require only two of the three items, i.e., treat { 48 , 85 , 95 } as an ETI, then the confidence is 1 and the support is 3024. The reason for this is that items 48 and 95 never co-occur with one another, but they do frequently co-occur individually with item 85. This type of disjunctive rule (Elble et al. 2003, Nanavati et al. 2001, Zelenko 1 999) would not be produced by standard association analysis.
 use association rules based on ETIs. In turn, as this example has illustrated, such rules can provide better coverage (at an equivalent level of confidence) than rules based on traditional itemsets. Furthermore, rules based on ETIs automaticall y incorporate disjunctive characteristics. In this section, we consider, for continuous data, the traditional notion of con-fidence as defined as a ratio of supports. The basis for this discussion will be the Min-Apriori algorithm Han et al. (1997), which we will describe next. On the surface, this algorithm defines support and confidence for continuous data in a way that seems almost identical to the way these concepts are defined for binary data. However, when applied to binary data, Min-Apriori X  X  definition of confidence produces results that differ from those of traditional confidence ap-plied to the same data. Using the framework introduced in Section 4, we analyze this issue and produce a new measure of confidence for Min-Apriori that agrees with traditional confidence for binary data. This result is further analyzed to highlight some of the important issues in constructing a confidence measure for continuous data. The Min-Apriori algorithm operates as follows. First, to adjust for po ssible dif-ferences in the scales of attributes, Min-Apriori normalizes the data in each column (attribute) of the data matrix by dividing each column entry by the sum of the column entries. Given this normalization, the support of a set of attributes is computed by taking the minimum value in each row and summing the resultant values. In what follows, we will indicate this support function with the notation,  X  min to distinguish this support function from the standard one. 8 The Min-Apriori process of computing the support of already normalized data is illustrated in Table 8.
 though with the definition of support as defined above, i.e., conf( X  X  Y ) =  X  min ( X  X  Y ) / X  min ( Y ). However, if Min-Apriori is given binary transaction data, it does not always yield the same confidence values as the standard definition of confidence on the original data. This is illustrated by the data shown in Table 9. The original data is shown in Table 9(a), Table 9(b) shows the data after it has been normalized, and Table 9(c) shows the evaluation vectors. Using traditional confidence, we obtain To illustrate the utility of our framework when applied to continuous data, w e derive a confidence measure for continuous data that agrees with traditional confidence when used on binary transaction data. We first prove a supporting theorem that relates the cosine measure and traditional confidence and then use this result to derive a new confidence measure that is consistent with confidence for binary data. An example illustrates that this new measure achieves the desired consistency. However, a further analysis of the new measure of confidence more clearly reveals a key issue involved in extending confidence to continuous data, namely, the need to normalize continuous data to remove dependencies of scale and the fact that the confidence measure is not invariant to such a normalization. We begin by proving Theorem 6.1, which indicates that the traditional confi-dence of the association rule X  X  Y for binary data equals the cosine measure between the evaluation vectors of X and Y multiplied by a factor that depends on the relative support of the two itemsets. This theorem serves as the basis for our approach, as well as being interesting in its own right. Note that i f both association patterns have the same support, then the confidence simply reduces to the cosine of their pattern evaluation vectors, i.e., cos( eval  X  ( X ) , eval  X  ( Y )). In this case, confidence is also symmetric, i.e., conf( X  X  Y ) = conf( Y  X  X ). Theorem 6.1. Given traditional support and the corresponding evaluation func-tion, eval  X  , we get Proof. where eval  X  ( X )  X  eval  X  ( Y ) is the dot product of evaluation vectors of X and Y , respectively. We have used the definition of the cosine measure, cos( x , y ) = x  X  and L 2 vector norms, respectively. If two vectors are multiplied by (potentially different) non-zero constants, thei r cosine measure is unchanged. As a result, if each attribute of a binary trans-action matrix is normalized to have an L 1 norm of 1, then the cosine measure between attributes does not change. Thus, if we can express p  X  ( Y ) / X  ( X ) in terms of support based on the Min-Apriori support function,  X  min , then we will have an alternative definition of confidence that matches the standard definition of confidence for binary transaction data and works for continuous data. The following theorem provides the details.
 Theorem 6.2. For traditional binary transaction data whose attributes have been normalized to have an L 1 norm of 1 (the Min-Apriori normalization) and an itemset X ,  X  min ( X ) /m =  X  ( X ), where m is the mean of the non-zero entries of eval min ( X ) and  X  ( X ) is the traditional support of the attributes X for the original, unnormalized data.
 Proof. First, notice that when attribute i is normalized, its non-zero entries become 1 / X  ( i ). Thus, all the non-zero entries of eval min ( X ) have the value min i  X  X (1 / X  ( i )). Trivially, the average of the non-zero values of eval min ( X ) will be m = min i  X  X 1 / X  ( i ). Furthermore, eval min ( X ) will have  X  ( X ) such entries, one for each transaction where all the attributes of X are all non-zero. Thus,  X  min ( X ) = min i  X  X 1 / X  ( i )  X  ( X ) = m  X  ( X ), and the theorem follows. continuous data that is normalized to have an L 1 norm of 1.
 Definition 9. New Definition of Confidence for Continuous Data where m X ( m Y ) is the mean of the non-zero values of eval min ( X ) ( eval min ( Y )). We provide a numerical illustration of the result that we have just derived, using the data in Table 9. Recall that conf( CD  X  AB ) = 0 . 5 when traditional confidence is used. Using Table 9(c), we apply Definition 9 with X = { C, D } , and Y = { A, B } . Summing column AB of Table 9(c), we obtain  X  min ( AB ) = 3 / 6. Summing column CD of Table 9(c), we get  X  min ( CD ) = 4 / 5. From Table 9(c), we see m AB = 1 / 5 and m CD = 1 / 6. Finally, cos( eval min ( CD ) , eval min ( AB )) = 1 /  X  trated in the example in Section 6.1. Although we have produced a measure of confidence that addresses a potential limitation of the Min-Apriori version of confidence, further analysis is warran ted to better understand the meaning of the this measure. In particular, at first glance, division by the mean of the non-zero entries seems mysterious. However, the role of this factor is clear if we realize that its effect is to counteract the normalization of the data performed by Min-Apriori as an initial preprocessi ng step. An examination of the previous example provides an illustration of this . et al. 2004, various properties of association measures were considered, including invariance with respect to the scaling of the data. The normalization perfor med by Min-Apriori corresponds to an independent scaling of the columns of the data, and, as was indicated in Tan et al. 2004, confidence is not invariant to such a transformation. In light of this, the formula for confidence that we derived abo ve becomes much more understandable; i.e., to match confidence for unnormalized binary data, the effects of normalization must be counteracted. It is worth not-ing that if the normalization step of Min-Apriori is omitted, then Min-Apriori produces confidence results for binary data that are consistent with traditional confidence. 9 measure to continuous data in a way that yields the same value as traditional confidence for the original binary data. However, both approaches run counter to the purpose of normalization, which may be desirable in situations invo lving continuous data. Indeed, despite the fact that Min-Apriori is not always con-sistent with traditional confidence on binary data, the Min-Apriori approach to confidence may be preferable for continuous data because of the normalization issue. However, other types of association measures should also be considered. More investigation is needed into these issues. Here we make the observation, which some may find interesting, that the Min-Apriori approach to confidence is only partially inconsistent with confidence for binary data. Consider the following example that again uses Tables 9a-c, but computes conf( AB  X  CD ) instead of conf( CD  X  AB ). Using traditional confidence, we obtain Using Min-Apriori X  X  definition of support, we get that obtained from Min-Apriori. Indeed, when using Min-Apriori, the confidence of one of the association rules conf( X  X  Y ) or conf( Y  X  X ) will always match that of traditional confidence when applied to binary data. We omit a formal proof, but this is readily established using the relationship,  X  min ( X ) = min i  X  X 1 / X  ( i )  X  ( X ), that was used in the previous proof. Although there has been considerable work on various association measures (Tan et al. 2002, 2004), we are unaware of any work similar to ours in const ructing a framework for such measures or in generalizing confidence. The most rele-vant previous work concerns interestingness/objective measures. These alterna-tive association measures and their connection to the framework were discussed in Section 4 and are surveyed in Tan et al. 2002, Tan et al. 2004, and Tan et al . 2005.
 rules (Aumann &amp; Lindell 1999, Okoniewski et al. 2003, Srikant &amp; Agrawal 199 6, Webb 2001), which try to predict the values of one set of attributes from another. There has also been some work in integrating regression with associatio n analysis (Ozgur et al. 2004). However, both these approaches are distinct from our view of association rules and confidence, which involves only the prediction of the strength/presence of one pattern from another.
 et al. 2004), which provides a framework for generalizing support. The work in this paper, although independent of the support work, is complementary to that work. Our previous work on Min-Apriori (Han et al. 1997) also played an important role in this work by providing a concrete example of confidence for continuous data. We described a general framework for measures of the strength of an associatio n between two itemsets (sets of attributes) and showed how this framework could be used to generalize confidence. First, we showed how to define confidence for Boolean association patterns, including ETIs, in a way that preserves the in-terpretation of confidence as an estimate of conditional probability. Second, we constructed an estimate of confidence for continuous data that agrees with tra-ditional confidence when applied to binary data. However, a further analysis of this measure showed that its approach runs counter to the normalization that may be desirable for continuous data.
 ing high confidence association rules for non-traditional patterns and non-binary data sets. Also, more experiments are needed to evaluate the usefulness of such association rules. Although preliminary, the results of using ETIs to form associ-ation rules for the mushroom data set were very promising and need to be further investigated. In particular, we would like to conduct an extensive comparison o f the usefulness of rules based on ETIs and traditional association rules. Also, the connection of rules based on ETIs to disjunctive rules and more general Boolean patterns needs to be further explored. In the context of Boolean association pat-terns, it would be worthwhile to explore using various objective (interest ingness) measures (Tan et al. 2002) as association measures, particularly in the con text of ETIs or other Boolean association patterns. Finally, more research i s needed to understand the appropriate association measures for continuous associatio n analysis.
 Agrawal, R., Imielinski, T. &amp; Swami, A. N. (1993), Mining Associati on Rules between Sets of Items in Large Databases, in P. Buneman &amp; S. Jajodia, eds,  X  X roceedings of the 1993 ACM SIGMOD International Conference on Man-agement of Data X , Washington, D.C., pp. 207 X 216.
 Agrawal, R. &amp; Srikant, R. (1994), Fast Algorithms for Mining Asso ciation Rules, in  X  X roc. of the 20th VLDB Conf. (VLDB 94) X , pp. 487 X 499.
 Aumann, Y. &amp; Lindell, Y. (1999), A Statisatical Theory for Quantitative As so-ciation Rules, in  X  X roceedings of the Fifth ACM SIGKDD International Con-ference on Knowledge Discovery and Data Mining (KDD 99) X , ACM Press, pp. 261 X 270.
 Banerjee, A., Merugu, S., Dhillon, I. S. &amp; Ghosh, J. (2004), Clustering with Bregman Divergences, in  X  X roc. of the 2004 SIAM Intl. Conf. on Data Mining X , Lake Buena Vista, FL, pp. 234 X 245.
 Bollmann-Sdorra, P., Hafez, A. &amp; Raghavan, V. V. (2001), A Theoretical Framework for Association Mining Based on the Boolean Retrieval Model, in Y. Kambayashi, W. Winiwarter &amp; M. Arikawa, eds,  X  X ata Warehousing and Knowledge Discovery, Third International Conference, DaWaK 2001, Munich, Germany, September 5-7, 2001, Proceedings X , Vol. 2114 of Lecture Notes in Computer Science , Springer, pp. 21 X 30.
 Elble, J., Heeren, C. &amp; Pitt, L. (2003), Optimized Disjunctive Association R ules via Sampling, in  X  X CDM  X 03: Proceedings of the Third IEEE International Conference on Data Mining X , IEEE Computer Society, Washington, DC, p. 43. Goethals, B. &amp; Zaki, M. J. (2003),  X  X requent Itemset Mining Implementatio ns
Repository X . This site contains a wide-variety of algorithms for mining fre-quent, closed, and maximal itemsets, http://fimi.cs.helsinki.fi/.
 Han, E.-H., Karypis, G. &amp; Kumar, V. (1997), TR# 97-068: Min-Apriori: An Algorithm for Finding Association Rules in Data with Continuous Attri butes, Technical report, Department of Computer Science, University of Minnesota, Minneapolis, MN.
 Nanavati, A. A., Chitrapura, K. P., Joshi, S. &amp; Krishnapuram, R. (2001), Mi ning Generalised Disjunctive Association Rules, in  X  X IKM  X 01: Proceedings of the Tenth International Conference on Information and Knowledge Management X , ACM Press, New York, NY, pp. 482 X 489.
 Newman, D., Hettich, S., Blake, C. &amp; Merz, C. (1998),  X  X CI Repository of ma-chine learning databases X .
 URL: http://www.ics.uci.edu/  X  mlearn/MLRepository.html Okoniewski, M., Gancarz, L. &amp; Gawrysiak, P. (2003), Mining Multi-Dimensi onal Quantitative Associations, in O. Bartenstein, U. Geske, M. Hannebauer &amp;
O. Yoshie, eds,  X 14th International Conference on Applications of Prolog, INAP 2001, Tokyo, Japan, October 20-22, (LNCS Volume X , Vol. 2543 of Lecture Notes in Computer Science , Springer.
 Ozgur, A., Tan, P.-N. &amp; Kumar, V. (2004), RBA: An Integrated Framework fo r
Regression Based on Association Rules., in  X  X roc. of the 2004 SIAM Intl. Conf. on Data Mining X .
 Srikant, R. &amp; Agrawal, R. (1996), Mining Quantitative Association Rules in
Large Relational Tables, in H. V. Jagadish &amp; I. S. Mumick, eds,  X  X roceedings of the 1996 ACM SIGMOD International Conference on Management of Data X , Montreal, Quebec, Canada, pp. 1 X 12.
 Srikant, R., Vu, Q. &amp; Agrawal, R. (1997), Mining Association Rules wit h Item
Constraints, in D. Heckerman, H. Mannila, D. Pregibon &amp; R. Uthurusamy, eds,  X  X roc. 3rd Int. Conf. Knowledge Discovery and Data Mining, KDD X , AAAI Press, pp. 67 X 73.
 Steinbach, M. &amp; Kumar, V. (2005), Generalizing the Notion of Confidence., in  X  X roceedings of the 5th IEEE International Conference on Data Mining (ICDM 2005) X , IEEE Computer Society, pp. 402 X 409.
 Steinbach, M., Tan, P.-N., Xiong, H. &amp; Kumar, V. (2004), Generalizing the Notion of Support, in  X  X DD  X 04: Proceedings of the Tenth ACM SIGKDD International Conference on Knowledge Discovery and Data Mining X , ACM Press, pp. 689 X 694.
 Strehl, A., Ghosh, J. &amp; Mooney, R. (2000), Impact of Similarity Measures on
Web-page Clustering, in  X  X orkshop of Artificial Intelligence for Web Search (AAAI 2000) X , AAAI Press, pp. 58 X 64.
 Tan, P.-N., Kumar, V. &amp; Srivastava, J. (2002), Selecting the Right Interest ing-ness Measure for Association Patterns, in  X  X roceedings of the Eighth ACM
SIGKDD International Conference on Knowledge Discovery and Data Min-ing X , ACM Press, pp. 32 X 41.
 Tan, P.-N., Kumar, V. &amp; Srivastava, J. (2004),  X  X electing the Right Objectiv e Measure for Association Analysis X , Information Systems 29 (4), 293 X 313. Tan, P.-N., Steinbach, M. &amp; Kumar, V. (2005), Introduction to Data Mining , Pearson Addison-Wesley.
 Webb, G. I. (2001), Discovering Associations With Numeric Variables, in  X  X ro-ceedings of the Seventh ACM SIGKDD International Conference on Knowl-edge Discovery and Data Mining (KDD 2001) X , ACM Press, pp. 383 X 388.
 Yang, C., Fayyad, U. M. &amp; Bradley, P. S. (2001), Efficient Discovery of Erro r-Tolerant Frequent Itemsets in High Dimensions, in  X  X roceedings of the Seventh ACM SIGKDD International Conference on Knowledge Discovery and Data Mining (KDD 2001) X , ACM Press, pp. 194 X 203.
 Zaki, M. J. &amp; Ogihara, M. (1998), Theoretical Foundations of Association Rules, in  X 3rd SIGMOD X 98 Workshop on Research Issues in Data Mining and Knowl-edge Discovery (DMKD) X , ACM Press, pp. 7:1 X 7:8.
 Zelenko, D. (1999), Optimizing Disjunctive Association Rules, in  X  X KDD  X 99:
Proceedings of the Third European Conference on Principles of Data Mining and Knowledge Discovery X , Springer-Verlag, London, UK, pp. 204 X 213.

