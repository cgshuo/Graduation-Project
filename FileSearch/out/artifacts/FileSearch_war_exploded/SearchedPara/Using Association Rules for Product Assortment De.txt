
It has been claimed that the discovery of association rules is well-suited for applications of market basket analysis to reveal regularities in the purchase behaviour of customers. Moreover, recent work indicates that the discovery of interesting rules can in fact only be addressed within a microeconomic framework. 
This study integrates the discovery of frequent itemsets with a (microeconomic) model for product selection (PROFSET). The model enables the integration of both quantitative and qualitative (domain knowledge) criteria. Sales transaction data from a fully-automated convenience store is used to demonstrate the effectiveness of the model against a heuristic for product selection based on product-specific profitability. We show that with the use of frequent itemsets we are able to identify the cross-sales potential of product items and use this information for better pJOdUCt selection. Furthermore, we demonstrate that the impact of product assortment decisions on overall assortment profitability can easily be evaluated by means of sensitivity analysis. association rules, frequent itemset, product assortment decisions In the past, retailers saw their job as one of buying products and putting them out for sale to the public. If the products were sold, more were ordered. If they did not sell, they were disposed of. Blischok [7] describes retailing in this model as a product-oriented business, where talented merchants could tell by the look and feel of an item whether or not it was a winner. In order to be successful, retailing today can no longer be just a product-oriented business. According to Blischok, it must be a customer-oriented business and superior customer service comes from superior knowledge of the customer. It is defined as the understanding of all customer X  X  purchasing behaviour as revealed through his or her sales transactions, i.e. market basket analysis. A recent data mining technique for market basket analysis is association rules introduced by Agrawal et al. [l]. They provided the following formal description of this technique: set of transactions, where each transaction T is a set of items such that T G I. Associated with each transaction is a unique identifier, called its TZD. We say that a transaction T contains X, a set of some items in Z, if X c T. An association rule is an implication of the form X a Y, where Xc I, Y c I, and X n Y = 0. The rule X 3 Y holds in the transaction set D with confidence c if co? of transactions in D that contain X also contain Y. The rule X 3 Y has support s in the transaction set D if s% of transactions in D contain X u Y. Given a set of transactions D, the problem of mining association rules is to generate all association rules that have support and confidence greater than a user-specified minimum support (minsup) and minimum confidence (minconn. Generating association rules involves looking for so-called frequent itemsets in the data [ 191. Indeed, the support of the rule X j Y equals the frequency of the itemset {X, r&gt;. Thus by looking for frequent itemsets, we can determine the support of each rule. Definition 1 Frequency of an itemset (adapted from [ 191) s(X, D) represents the frequency of itemset X in D, i.e. the fraction of transactions in D that contain X. Definition 2 Frequent itemset (adapted from [19]) An itemset X is called frequent in D, if s(X, D) 2 c with o the minsup. A typical approach [2] to discover all frequent sets X is to use the knowledge that all subsets of a frequent set are also frequent. This insight simplifies the discovery of all frequent sets considerably. Once all frequent sets are known, finding association rules is easy. Namely, for each frequent set X and each Y E X verify whether the rule X \ { yf 3 Y has sufficiently high confidence. To summarise, the technique of association rules produces a set of rules describing underlying purchase patterns in the data, like for instance bread 3 cheese [support = 20%; confidence = 75%]. Informally, support of an association rule indicates how frequent that rule occurs in the data. The higher the support of the rule the more prevalent the rule is. Confidence is a measure of the reliability of an association rule. Determining the ideal product assortment has been (and still is) the dream of every retailer. From the marketing literature [24] it is known that the optimal product assortment should meet two important criteria. Firstly, the assortment should be qualitatively consistent with the store X  X  image. A store X  X  image distinguishes the retailer from its competition and is projected through its design, layout, services take cross-selling effects of products into account. In contrast, the PROFSET model, introduced in this paper, implicitly takes into account cross-selling effects by using frequent itemsets. 
Before specifying the microeconomic optimization model formally, we will first introduce the parameters and components of the model. Gross Margin: Let: q be an individual sales transaction at timej 
Definition 3 rnn is the gross margin generated by sales transaction q 
Definition 4 Mx is the gross margin of frequent itemset X  X  X  X: Mx= C mj with 
It is important to understand why X must equal c for mj to be non-zero. The reason is that we will use the sum of all M, to approximate the total profitability of the assortment. Now, suppose that mj# 0 when Xc Tj instead ofX= q with (il, i2} a frequent itemset and {il, i2, id} a sales transaction. Clearly, [2] that {il} and (i2) must also be frequent. Consequently, and MJ~JJ even if id is not selected for inclusion in the hitlist. 
Thus, if mj # 0 when X c c, then a single sales transaction increases the Mx parameter of all the frequent itemsets that are contained in that transaction. To summarise, a single sales transaction is allowed to contribute to the total profitability only once through the M,Y parameter of the frequent itemset that contains the same items as those included in that transaction. Cost ofproducts: 
Also product handling and inventory costs should be included in the model. Product handling costs refer to costs associated with the physical handling of goods. Inventory costs include costs of re-stocking which are a function of replenishment frequency and the lead-time of the orders. In practice, however, these costs are often difficult to obtain, especially product handling costs. For The empirical study is based on a data set of 27,148 sales transactions acquired from a fully-automated convenience store over a period of 5.5 months in 1998. The concept of the fully-automated convenience (FAC) store is closely related to that of the vending machine. However, as opposed to the product assortment of the typical vending machine, this new retail store offers a wider variety of products. Typically, a selection of about 200 products is included ranging from the typical product categories such as beverages, food, candy and cigarettes, to products like healthcare, petfood, fruit, batteries, film supplies (camera, roll of film), which are presented to the customer by means of a 8 mZ window display. The product assortment of the store under study consists of 206 different items. However, the average sales transaction contains only 1.4 different items because in convenience stores customers typically do not purchase many items during a single shopping visit. With regard to the costs of each individual product in the assortment, detailed information on handling and inventory costs could not be obtained so these will be considered equal for all products and therefore these costs are not included in the model. Basically, the empirical study involves two important phases. In the first phase, structural purchase behaviour under the form of frequent itemsets is discovered by using the data mining technique of association rules (section 4.1). Then, in the second phase, the PROFSET method is used to select a hitlist of products from the assortment (see section 4.2). As the objective function in the PROFSET method requires frequent itemsets as input, frequent itemsets and association rules were discovered from the database. An absolute support of 10 was chosen. This means that no item or set of items will be considered frequent if it does not appear in at least 10 sales transactions. As a consequence, we consider all itemsets X as non-frequent, i.e. describing random purchase behaviour, if the itemset appears in less than 10 rows in the sales-transaction database. It could be argued that the choice for this support parameter is rather subjective. This is partially true, however, domain knowledge from the retailer can often indicate what level of support may be considered as relevant. Furthermore, within relatively small intervals, the model will be insensitive to alterations of the minimum support threshold. The reason is that when gross margins of products are within a relatively small range, frequent itemsets with relatively low support will not be able to influence the objective function. From the analysis, 523 frequent itemsets were obtained of size 1 or 2 with absolute support ranging from 10 to 2833. The size of the frequent itemsets is rather small; this can however be explained by the small size of the average sales transaction. Although the 
These rules demonstrate that whenever a customer buys cigarette paper, he/she also buys tobacco (confidence = 100%) and that when a customer buys tobacco he will often also buy cigarette paper with it (confidence 82%). A more formal method [9] to assess the dependence between two or more products is interest. Definition 5: Interest 
S(X=J Y) 
The nominator s (X =ZJ Y) measures the observed frequency of the co-occurrence of the items in the antecedent (X) and the consequent (Y) of the rule. The denominator s (X) * s (Y) measures the expected frequency of the co-occurrence of the items in the antecedent and the consequent of the rule if both itemsets were conditionally independent. Table 2 illustrates the three possible outcomes for the interest measure and their associated economic interpretation for the dependence between the items in the antecedent and consequent of the rule. Outcome Interpretation Interest &gt; I Complementarity effects between X and Y Interest = I Conditional independence between X and Y Interest &lt; 1 Substitutability X  effects between Xand Y 3 Recall that substitutability indicates less than the expected level of mutual support. Figure 1 (presented above) illustrates the profit impact of the replacement of each product in the hitlist. While most product replacements have only minor profit implications (-2 %), some products (6, 9, 20, 22) represent major profit drivers that should not be deleted from the hitlist. This insight can help retailers to quantitatively evaluate product assortment changes. Furthermore, the replacement of items in the PROFSET model is based on dynamic reselection of products whereas for the product-specific profitability heuristic the product that replaces the exiting product will always be the one with the highest product-specific margin outside the list. If this entrant happens to have no or small cross-selling effects with the items inside the hitlist, selecting a product with a lower product-specific profitability but higher cross-selling effects with items inside the hitlist could be more appropriate. In fact, experiments revealed that for 43% of the products, dynamic reselection of items with the PROFSET model resulted in better overall profit compared to replacement with the product-specific profit heuristic. Obviously, the more cross-selling effects exist in the product assortment, the more impressive the profit improvement of the dynamic reselection will be, when compared to the product-specific profitability heuristic. In this paper, we proposed a microeconomic model for product selection based on the use of frequent itemsets obtained from association rule mining. More specifically, we integrated the notion of frequent sets with some important microeconomic parameters that are often used by retailers to support their product selection decision-making process into an integer programming model. We used sales transaction data from a fully-automated convenience store to empirically validate our approach against a frequently used heuristic for product selection. Results indicated that our model is able to identify cross-selling effects implicitly by using frequent itemsets, instead of having to estimate cross-selling parameters explicitly (like it is often done in product selection and shelf-space allocation models). We also showed that with our model, sensitivity analysis could easily be carried out, enabling the retailer to quantitatively assess the profitability impact of product assortment decisions. Furthermore, the retailer X  X  background knowledge with regard to basic products can easily be incorporated in the model by means of additional constraints. Yet, the retailer should also consider the following limitation. The presented model is deterministic in nature. This means that the model assumes that when for itemset {X, 0 one of the items Xor Y is not selected by the model, consequently all sales related to this itemset will be lost. This is of course too simplistic as customers do not always purchase certain product combinations intentionally. Therefore, it may well be that a fraction of the sales related to that itemset may still be recovered. [6] Anderson, E. An analysis of retail display space: theory [7] Blischok, T. Every transaction tells a story. In Chain [8] Borin, N., and Farris, P. A sensitivity analysis of retailer [9] Brin, S., Motwani, R., and Silverstein, C. Beyond market [lo] Brin, S., Motwani, R., Ullman, J., and Tsur, S. Dynamic [l 11 Brown, W., and Tucker W. The marketing center; [12] Bultez, A., and Naert, P. S.H.A.R.P.: shelf allocation for [I 31 Bultez, A., Gijsbrechts, E., Naert, P., and Vanden Abeele, [14] Corstjens, M., and Doyle, P. A model for optimizing retail [15] Corstjens, M., and Doyle, P. A dynamic model for [16] Hansen, P., and Heinsbroek, H. Product selection and [17] Hedberg, S. The data gold rush, BYTE, October 1995, 83-[18] Kleinberg, J., Papadimitriou, C., and Raghavan, P. A 
