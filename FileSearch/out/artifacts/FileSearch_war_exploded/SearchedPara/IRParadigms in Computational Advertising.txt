 The central problem in the emerging discipline of computa-tional advertising is to find the  X  X est match X  between a given user in a given context and a suitable advertisement. The context could be a user entering a query in a search engine ( X  X ponsored search X ), a user reading a web page ( X  X ontent match X  and  X  X isplay ads X ), a user streaming a movie, and so on. In some situations, it is desirable to solve the  X  X ual X  optimization problem: rather then find the best ad given a user in a context, the goal is to identify the  X  X est audience X , i.e. the most receptive set of users and/or the most suitable contexts for a given advertising campaign. The information about the user can vary from scarily detailed to practically nil. The number of potential advertisements might be in the billions. Thus, depending on the definition of  X  X est match X  and  X  X est audience X  these problems lead to a variety of mas-sive optimization problems, with complicated constraints, and challenging data representation and access issues.
In general, the direct problem is solved in two stages: first a rough filtering is used to identify a relatively small set of ads to be considered as potential matches, followed by a more sophisticated secondary ranking where economics con-siderations take center stage. Historically, the filtering has been conceived as a database selection problem, and was done using simple Boolean formulae, for instance, in spon-sored search the filter could be  X  X ll ads that provide a specific bid for the present query string or a subset of it X . Similarly for the dual problem (audience definition) for, say, a sports car ad, the filter could be  X  X ll males in California, aged 40 or less X .

