 We prop ose to use the comm unit y structure of Usenet for organizing and retrieving the information stored in news-groups. In particular, we study the net work formed by cross-posts, messages that are posted to two or more newsgroups sim ultaneously . We presen t what is, to our kno wledge, by far the most detailed data that has been collected on Usenet cross-p ostings. We analyze this net work to sho w that it is a small-w orld net work with signi can t clustering. We also presen t a spectral algorithm whic h clusters newsgroups based on the cross-p ost matrix. The result of our clustering pro vides a topical classi cation of newsgroups. Our clus-tering gives man y examples of signi can t relationships that would be missed by seman tic clustering metho ds.
 H.3.3 [ Information Storage and Retriev al ]: Informa-tion Searc h and Retriev al; G.2.2 [ Discrete Mathematics ]: Graph Theory Algorithms, Theory Spectral Metho d, Usenet, Clustering
There has recen tly been a tremendous interest in the struc-ture of self-organized net works, including the internet [5],
Microsoft Researc h, One Microsoft Way, Redmond, WA 98122. Email: f borgs, jchayes g @microsoft.com Lab oratory for Computer Science, MIT, Cam bridge, MA Email: mahdian@mit.edu
College of Computing, Georgia Institute of Technology , At-lanta, GA. Email: sab eri@cc.gatec h.edu. This work was done while the last two authors were visiting Microsoft Re-searc h.
 the world wide web [10, 8], and various social net works [11]. These net works are very di eren t from eac h other, but they all share the prop erty that their structures are not engineered, but rather are the result of dynamic non-Mark ovian pro cesses of individual decisions. The net works also share striking observ ed prop erties: a broad ("p ower-law" or "scale-free") distribution of connections, short paths between two given points ("small world phenomenon"), and the presence of man y small dense subnet works ("comm uni-ties" or "clusters"). An understanding of this structure has enabled us to mo del and searc h these net works e ectiv ely, the greatest success having been in searc hes of the of the world wide web [10, 12], whic h has by now become our pri-mary rep ository of information and misinformation.
In this pap er, we consider another large net work, inter-mediate between the internet and a social net work: Usenet, the net work of topic-orien ted newsgroups on the internet, comprising tens of thousands of newsgroups and hundreds of millions of postings by millions of authors throughout the world.

Here we prop ose to explore and searc h the comm unit y structure of Usenet using what we call the cross-p ost graph, whic h is a graph con taining information on instances when messages are posted to two or more newsgroups sim ulta-neously . Past attempts to explore the structure of Usenet focused on seman tic prop erties { principally the names of the newsgroups, but also sometimes the words in the sub-ject headings of the messages. In this sense our work is analogous to the use of the hyperlink structure of the web, rather than the actual con ten t of web pages, to explore and searc h the web [10, 12] { an approac h that has been spec-tacularly successful. In both cases, the information de ning the structure re ects individual decisions on relationships, rather than individual decisions on wording. In addition to being less dep enden t on the vagaries of language, suc h an approac h scales much better than seman tic approac hes.
The basic workings of Usenet are as follo ws. Eac h of the over fty thousand newsgroups has a unique name, with the names groups into trees. Some of the more common roots of these trees include alt. , biz. , and rec. , at least the rst of whic h is probably familiar to man y readers. Within a news-group, the messages are organized in threads. Eac h message is written by a single author; individuals may author more than one message along a thread. Eac h thread originates in a single message with a sub ject heading usually re ecting the con ten t of the message; later messages in the thread, of whic h there can be thousands, are posted as resp onses to the original message. Any message along a thread can be cross-p osted, by its author, to any num ber of additional newsgroups. It is this cross-p osting on whic h our analysis will focus. The decision to cross-p ost the message to addi-tional newsgroups is a re ection of the author's judgemen t that the message will, or at least, should be of interest to the readership of the additional newsgroups. Cross-p osts are thus in some sense similar to hyperlinks on a webpage, whic h re ect a webpage author's judgemen t that additional webpages may be of interest to the readership of the original webpage.

The web certainly con tains a tremendous amoun t of in-formation, much of whic h is useful. However, without an understanding of the hyperlink structure of the web, and the dev elopmen t of searc h engines re ecting that hyperlink structure, the vast ma jorit y of this information would be inaccessible. Similarly , Usenet con tains a great deal of in-formation, again with some, but not all of it being useful. It is our hop e that the dev elopmen t of metho ds to explore the structure of Usenet, and to searc h Usenet according to this structure, will enable us to access the useful information. We exp ect that this may also lead to a substan tial increase in the size, and hop efully the seriousness, of Usenet. Indeed, once the web became ecien tly searc hable, man y more individ-uals, businesses and institutions were encouraged to dev ote the necessary resources to write webpages. Giv en that it is much easier to post information on Usenet { information is posted in the form of simple messages { the e ect of ecien t searc hing algorithms should be felt all the more quic kly.
We organize the information on cross-p ostings into a cross-post matrix or multigraph. Let N = N ( t ) be the num ber of newsgroups on Usenet at time t. The cross-p ost matrix A = A ( t; t ) is a symmetric N N matrix, with eac h row represen ting a di eren t newsgroup, in some arbitrary but xed order. The non-negativ e integer comp onen ts A ij of A represen t the total num ber of cross-p osts between all mes-sages on newsgroup i and newsgroups j over the time interv al t before time t . We can similarly represen t this informa-tion as a multigraph (i.e., a graph in whic h there may be multiple edges between vertices). In this represen tation, the vertices of the multigraph represen t distinct newsgroups and the edge E ij represen t the total num ber of cross-p ostings be-tween newsgroup i and newsgroup j.

Our con tributions in this work are of sev eral types. First, we will presen t what is, to our kno wledge, by far the most de-tailed data that has been collected on Usenet cross-p ostings. Second, we analyze the cross-p ost matrix to sho w that Usenet is indeed a scale-in varian t small-w orld net work with sig-ni can t clustering. We give speci c measuremen ts of pa-rameters characterizing this structure. Third, we presen t a spectral algorithm whic h clusters newsgroups based on the cross-p ost matrix or graph. This clustering should pro vide a wealth of information to sociologists and others studying the social structure of Usenet. In particular, our clustering gives man y examples of signi can t relationships that would be missed by seman tic clustering metho ds. Finally , we pro-pose a searc h engine to nd newsgroups of relev ance in spe-ci c con texts.
Usenet is a world-wide distributed discussion system. It consists of a set of over fty thousand newsgr oups covering a variet y of topics. Eac h newsgroup has a hierarc hical name like alt.music.rock-n-roll or microsoft.public.word . The names are group ed into trees with di eren t roots suc h as alt. , biz. , and rec. . Articles or messages are poste d to these newsgroups by users. These messages are distributed to other interconnected computer systems via a wide variet y of net works.
 Within a newsgroup, the messages are organized in threads . Eac h message is written by a single author; individuals may author more than one message along a thread. Eac h thread originates in a single message with a sub ject heading usu-ally re ecting the con ten t of the message; later messages in the thread, of whic h there can be thousands, are posted as resp onses to the original message. Any message along a thread can be cross-p osted, by its author, to any num ber of additional newsgroups.

Over the time, Usenet has become a huge rep ository of in-formation. However, its rapid gro wth and chaotic structure mak es it a challenging task to organize this information and mak e it more accessible. Past attempts to explore the struc-ture of Usenet has focused on seman tic prop erties e.g. the names of the newsgroups, the words in the sub ject head-ings of the messages, etc. In this work, we are using the cross-p ost structure of Usenet for organizing and retrieving information stored in newsgroups. In that sense, our work is analogous to the use of the hyperlink structure of the web, rather than the seman tic con ten t of web pages, to explore and searc h the web [10, 12].

In particular, we will pro vide a topical classi cation of the newsgroups that can be used to help users to nd the righ t newsgroup in whic h to post a message or to nd the righ t discussion. The seman tically-based name hierarc hy is not suitable for this purp ose for the follo wing reasons: 1-In man y situations, the name of a newsgroups is not descriptiv e of its con ten t. It may be because the name is not chosen carefully in the beginning, or because the topic of discussion in that newsgroups has changed over time. 2-Tw o similar newsgroups may have di eren t root names suc h as alt.macromedia.flash and macromedia.flash.sitedesign . While this dicult y could easily be overcome by algorithms whic h searc h for overlap of names, the name-based hierarc hical trees used in cur-ren t usenet archiv es, would put suc h newsgroups in di eren t classes. More problematically , the names of two close news-groups migh t not have any word in common for example alt.disney.disneyworld and rec.parks.theme .
The structure of various social and technological net works suc h as the Internet or World Wide Web has been the sub-ject of much recen t researc h [17, 18, 3]. Despite numer-ous di erences between the nature and the origin of these net works, man y common characteristics has been observ ed. These common prop erties include the power-la w distribu-tion of the degree sequences [3], the small-w orld e ect [18], and large clustering coecien ts [18].

Here we study the cross-p ost graph, whic h is a graph con-taining information on instances when messages are posted to two or more newsgroups sim ultaneously . We will use these cross-p osts as evidence of a close relationship between the con ten t of the newsgroups to whic h they are posted.
We de ne the cross-p ost graph as a weigh ted graph with vertices represen ting the newsgroups and weigh ts of edges represen ting the num ber of cross-p osts between the corre-sponding endp oints. This graph exhibits man y interesting prop erties similar to those observ ed for other social and tech-nological net works [3].

Figure 1 sho ws the distribution of the weigh ted degrees of the vertices of the cross-p ost graph (i.e., the num ber of cross-p osts between a newsgroup and all other newsgroups) in linear and log-log scale. This degree sequence app ears close to a power-law distribution. That is, the probabilit y that a newsgroup has x cross-p osts with other newsgroups is prop ortional to x ; here 1 : 3. A similar observ ation about the distribution of the num ber of authors that have posted to a newsgroup (see Figure 2) sho ws that it is close to a power-la w distribution with 1 : 2.

We also observ e the small world e ect in the cross-p ost graph. The graph consists of a gian t connected comp onen t, con taining more than 98% of the vertices, and a few hun-dred comp onen ts with average size less than 5. The maxi-mum and average distance between any two vertices in the gian t comp onen t is 13 and 3.8, resp ectiv ely. This can be compared to the average distance of 19 in the World-Wide Web graph [1].

Another interesting prop erty of this graph is its high tran-sitivit y, also kno wn as high clustering coecien t. The clus-tering coecien t of a graph is the probabilit y that two ran-dom neigh bors of a randomly chosen vertex are neigh bors themselv es. The clustering coecien t of the cross-p ost graph is 0 : 4492 although the densit y of edges are as low as 0 : 0016.
Spectral graph partitioning is a powerful tool based on techniques introduced by Fiedler [6, 7] in 1970's and pop-ularized in 1990 by Pothen et al. [14]. It is used in man y applications in computer science like assigning a set of tasks among pro cessors so as to balance the load and minimize the comm unications [15], data mining in large data sets [2], and web page classi cation [8, 9].
 We will denote the cross-p ost graph as G = ( V; E ) where V is the set of vertices corresp onding to newsgroups and E is the set of edges corresp onding to cross-p osts. Note that G is a multigraph i.e. there may be sev eral edges between two vertices of G .

The goal of clustering is to partition the net work into com-ponen ts suc h that eac h comp onen t is well-connected within itself, but the cut de ned between two comp onen ts is rela-tively sparse. For example, if we want to partition V into S and S , the follo wing ratio is a commonly used measure of the qualit y of the cut between S and S :
Here cut ( S; S ) is the total num ber of edges between S and S . W ( S ) and W ( S ) are the num ber of edges inciden t to vertices in S and S , resp ectiv ely. In a general graph, it is NP-hard to nd the cut that minimizes the above ratio. Therefore, we will use a heuristic algorithm for nding a cut with a ratio close to the minim um. Our heuristic algorithm is based on spectral techniques whic h are the heart of man y algorithms for nding sparse cuts in a graph [16].
Spectral analysis reduces to the analysis of eigen vectors of a normalized version of the adjacency matrix of the graph. Consider the matrix A with a ij equal to the num ber of cross-posts between newsgroups i and j . Here we look at the Laplacian of the matrix A whic h is de ned as L = D A , where D is a diagonal matrix with d ii = j a ij . The Fiedler vector v of A is the eigen vector corresp onding to the second smallest eigen value of L . Here we use a varian t of the Fiedler vector, introduced by Chung [4], whic h is the solution to the generalized eigen vector equation ( D A ) v = D v . Equiv alen tly, v is the second largest eigen vector of
Now, the idea of the heuristic algorithm is to choose a splitting value s and divide the vertices into two sets based on whether or not the value assigned to them by v is greater than s . Di eren t heuristic algorithms are based on di eren t choices of s ; some of the popular ones are [16]:
We will use a variation of the last approac h (best cut) in our algorithms. In order to partition the graph into more than two clusters, we can recursiv ely use the same metho d until the size of eac h comp onen t is sucien tly small. This will give a hierarc hical clustering whic h pro vides us with a classi cation of newsgroups at the desired level of gran ular-ity.
By applying the algorithm describ ed in the previous sec-tion, we obtained a hierarc hical clustering of the newsgroups and hence a tree that allo ws us to study the Usenet at var-ious levels of gran ularit y. Although the e ectiv eness of a particular clustering algorithm is dicult to quan tify and usually application dep enden t, it is clear from the output of our algorithm that it has successfully recognized man y classes of newsgroups with close topics. For the con venience of the reader, we have put an output of our algorithm with 1056 clusters on the web at: http://r esearch.micr osoft.c om/ ~ jchayes/Pap ers/usene t.html
One quan ti able measure of e ectiv eness is the percen t-age of cross-p osts within clusters. In our clustering this percen tage is 83 : 13%, while for a random clustering of the graph with the same distribution of cluster sizes this per-cen tage is less than 1 : 53%. This comparison indicates that the cross-p ost graph is indeed strongly clusterable, and our algorithm has succeeded in nding a good clustering.
An examination of our results gives man y examples of sig-ni can t relationships that would be missed by name-based metho ds. For example alt.disney.disneyworld and rec.parks.theme .

Finally , it is worth noting that the clustering deriv ed from the cross-p ost graph represen ts strong interaction among newsgroups in eac h cluster but does not necessarily indi-cate that the newsgroups are about the same topic. As an interesting example, the newsgroups alt.microsoft.sucks and alt.linux.sucks are group ed together in the same clus-ter. Also, usually newsgroups that share the same language, other than English, are group ed together. is now almost empt y.
In this pap er, we prop osed to use the comm unit y struc-ture of newsgroups for the purp oses of information retriev al. Similar metho ds in using the hyperlink structure of the web have been spectacularly successful.

In particular, we studied the net work formed by cross-posts, messages that are posted to two or more newsgroups sim ultaneously . We analyzed this net work to sho w that it is a small-w orld net work with signi can t clustering. We also used a spectral algorithm whic h clusters newsgroups based on the cross-p ost matrix. The result of our clustering pro-vides a topical classi cation of newsgroups. An instance of our clustering is available at http://r esearch.micr osoft.c om/ ~ jchayes/Pap ers/use net.ht ml .
The result of our algorithm can be used to help users nd the righ t newsgroup to post their messages or nd the righ t discussion. It can also be a source of man y interesting sociological observ ations.

Our metho d can also be used for clustering authors, threads, or messages in a newsgroup or a cluster of newsgroups. Clus-tering authors can poten tially lead to characterizing the exp ertise of activ e authors in eac h newsgroup. Clustering messages migh t be also helpful in distinguishing valuable answ ers from irrelev ant discussions. In clustering messages, we can also use word frequencies in eac h message [2, 13].
We would like to thank the Collab orativ e and Multime-dia Systems Group in Microsoft Researc h, esp ecially Marc Smith, for posing some of the questions addressed here and pro viding us with the data, and for man y helpful discussions. [1] R. Alb ert, H. Jeong, and A. Barabasi. Diameter of the [2] Yossi Azar, Amos Fiat, Anna R. Karlin, Frank [3] A. Barabasi and R. Alb ert. Emergence of scaling in [4] F.R.K. Chung. Spectral graph theory . In Amer. Math. [5] Mic halis Faloutsos, Petros Faloutsos, and Christos [6] M. Fiedler. Eigen vectors of acyclic matices.
 [7] M. Fiedler. A prop erty of eigen vectors of non-negativ e [8] David Gibson, Jon M. Klein berg, and Prabhak ar [9] R. Kannan and V. Vina y. The manjara meta-searc h [10] Jon M. Klein berg. Authoritativ e sources in a [11] M. Newman, D. Watts, and S. Strogatz. Random [12] Lawrence Page, Sergey Brin, Rajeev Mot wani, and [13] Christos H. Papadimitriou, Hisao Tamaki, Prabhak ar [14] A. Pothen, H. D. Simon, and K. P. Liou. Partitioning [15] Horst D. Simon. Partitioning of unstructured [16] Daniel A. Spielman and Shang-Hua Teng. Spectral [17] S. Wasserman and K. Faust. Social Network Analysis . [18] D. Watts and S. Strogatz. Collectiv e dynamics of
