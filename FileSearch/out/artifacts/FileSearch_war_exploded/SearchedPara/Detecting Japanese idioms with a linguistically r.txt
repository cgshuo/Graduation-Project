 Chikara Hashimoto  X  Satoshi Sato  X  Takehito Utsuro Abstract Detecting idioms in a sentence is important to sentence understanding. This paper discusses the linguistic knowledge for idiom detection. The challenges are that idioms can be ambiguous between literal and idiomatic meanings, and that they can be  X  X  X ransformed X  X  when expressed in a sentence. However, there has been little research on Japanese idiom detection with its ambiguity and transformations taken into account. We propose a set of linguistic knowledge for idiom detection that is implemented in an idiom dictionary. We evaluated the linguistic knowledge by measuring the performance of an idiom detector that exploits the dictionary. As a result, more than 90% of the idioms are detected with 90% accuracy.
 Keywords Word sense disambiguation Idiom detection Linguistic knowledge 1 Introduction Detecting idioms in a sentence is important to sentence understanding. Failure of detecting idioms leads to, for example, mistranslation. In the case of the translation service of Excite ( http://www.excite.co.jp/world/ ), it sometimes mistranslates sentences that contain idioms such as (1a), due to the detection failure. (1a) has an idiom, hone-o oru (bone-ACC break)  X  X  X ake an effort. X  X  (1b) is the mistranslation of (1a), where the idiom is interpreted literally.

In this paper, we discuss the linguistic knowledge for idiom detection. The knowledge is implemented in an idiom dictionary that is used by an idiom detector we implemented. Note that the idiom detection we define involves distinguishing literal and idiomatic meanings. 1 Though there has been a growing interest in MWEs (Sag et al. 2002 ), few proposals on idiom detection take into account ambiguity and semantically non-compositional. A precise characterization of the notion  X  X  X diom X  X  is beyond the scope of the paper. 2
Two factors make idiom detection difficult: ambiguity between literal and idiomatic meanings and the transformations that idioms could undergo. In fact, the mistranslation in (1) is caused by the failure to disambiguate between the two meanings.  X  X  X ransformation X  X  also causes mistranslation. Sentences in (2a) and (2b) contain an idiom, yaku-ni tatu (part-DAT tand)  X  X  X erve the purpose. X  X 
Google X  X  translation system ( http://www.google.co.jp/language_tools ) mistrans-lates (2b) as in (2c), which does not make sense, 3 though it successfully translates (2a). The only difference between (2a) and (2b) is that bunsetu 4 constituents of the idiom are detached from each other.

Section 2 discusses the classification of Japanese idioms, the requisite lexical knowledge, and implementation of an idiom detector. Section 3 evaluates the detector that exploits the knowledge. After the overview of related works in Sect. 4, we conclude the paper in Sect. 5. 2 Linguistic knowledge for idiom detection 2.1 Classification of Japanese idioms Requisite linguistic knowledge to detect an idiom depends on how difficult it is to detect determined by the two factors: ambiguity and transformability. Consequently, we identify three classes. Class A is neither transformable nor ambiguous. Class B is transformable but not ambiguous. 5 Class C is transformable and ambiguous. Class A amounts to unambiguous single words, which are easy to detect, while Class C is the most difficult. Only Class C needs lexical knowledge for disambiguation ( disambig-uation knowledge ). As disambiguation knowledge, we exploit grammatical differences between literal and idiomatic usages. For instance, the phrase, hone-o oru ,doesnot allow passivization when used as an idiom, though it does when used literally. Thus, (3), in which the phrase is passivized, cannot be an idiom.
Disambiguation knowledge depends on its POS and internal structure. As for POS , disambiguation of verbal idioms can be performed by the knowledge of passivizability, while that of adjectival idioms cannot. Regarding internal structure , detachability should be annotated on every boundary of bunsetus. Consequently, the number of annotations of detachability depends on the number of bunsetus of an idiom.
Thus, Class C needs further classification according to its POS and internal structure, while there is no need for further classification of Class A and B. Thus, Japanese idioms are classified as in Fig. 1 .
 The whole picture of the subclasses of Class C remains to be seen. 6 2.2 Knowledge for each class Class A needs only string information; idioms of this class amount to unambiguous single words.

Class B requires not only a string but also knowledge about the transformations idioms could undergo, such as passivization. We identify three types of idiom transformations: (1) Detachment of Bunsetu Constituents, (2) Predicate X  X  Change, and (3) Particle X  X  Change. Predicate X  X  change includes inflection, attachment of a negative morpheme, a passive morpheme, and so on. Particle X  X  change represents attachment of topic or restrictive particles.

To normalize the transformations, we utilize a dependency structure, and we call it the dependency knowledge .
 Class C requires the disambiguation knowledge, as well as all the knowledge for Class B.

A comprehensive idiom detector calls for all the disambiguation knowledge for all the subclasses of Class C, but we have not figured all of them so far. Then, we decided to discover the disambiguation knowledge of the most commonly used idioms as a first step. 2.3 Disambiguation knowledge for the verbal (N/P V) The verbal (N/P V) type like hone-o oru (bone-ACC break) is the most abundant in terms of both type and token. 1,834 out of 4,581 idioms ( ^ 40%) in Kindaichi and Ikeda ( 1989 ), which is a Japanese dictionary with more than 100,000 words, belong to this type. Also, 167,268 out of 220,684 idiom tokens in Mainichi newspaper of 10 years ( X 91 X  X 00) ( ^ 76%) are this type.

To discover the disambiguation knowledge of this type, we first examined the linguistic literature (Miyaji 1982 ; Ishida 2000 ) on Japanese idioms. Then, among the characteristics, we picked those that could help with the disambiguation of this type and summarized them in (4).
For example, the idiom, hone-o oru , does not allow adnominal modification by a genitive phrase. Thus, (5) can be interpreted only literally. That is, Genitive Phrase Prohibition is in effect for the idiom.

Note that the constraints in (3) are not always in effect for an idiom. For instance, the Caus-a-tivi-za-tion Prohibition is invalid for the idiom, hone-o oru . In fact, it can be interpreted both literally and idiomatically even when it is causativized. 2.4 Implementation A rough sketch of the detection algorithm is as follows. (1) Analyze the morphology and dependency structures of an input sentence. (2) Look up dependency patterns in the idiom dictionary that match a part of the dependency of the input sentence. The dependency pattern of an idiom, which is equipped with all the requisite knowledge to constituents of the idiom in the sentence if any. We use ChaSen (Matsumoto et al. 2000 ) as a morphological analyzer and CaboCha (Kudo and Matsumoto 2002 )asa dependency analyzer. Dependency matching is performed by TGrep2 (Rohde 2005 ).
The only difference in treatments of Class B and C lies in their dependency patterns. The dependency pattern of Class B consists of only its dependency knowledge, while that of Class C consists of not only its dependency knowledge but also its disambiguation knowledge.

The idiom dictionary consists of 100 idioms, which are all verbal (N/P V) and belong to either Class B or C. 8 Among the knowledge in (4), Selectional Restriction Kindaichi and Ikeda ( 1989 ) or Miyaji ( 1982 ) and that are used most frequently in 10 years of the Mainichi newspaper. As a result, 66 out of the 100 idioms were Class B, and the other 34 idioms were Class C. 9
For the detailed of the idiom detector, see Hashimoto et al. ( 2006 ). 3 Evaluation 3.1 Experiment condition As an evaluation corpus , we collected 309 example sentences of the 100 idioms from the Mainichi newspaper of  X 95. Table 1 shows the breakdown of the data.  X  X  X ositive X  X  indicates sentences including a true idiom, while  X  X  X egative X  X  indicates those including a literal-usage  X  X  X diom. X  X 
A baseline system was prepared to see the effect of the disambiguation knowledge. The baseline system was the same as the detector except that it exploited no disambiguation knowledge. 3.2 Result The result is shown in Table 2 . The differences between the performance of the two systems are marked with bold. Recall(R), Precision(P), and F-Measure(F) are calculated using the following equations.
 As a result, more than 90% of the idioms can be detected with 90% accuracy. disambiguation knowledge.

The result shows good performance. However, there is still a long way to go to solve the most difficult problem of idiom detection: drawing a line between literal and idiomatic meanings. In fact, the precision of detecting idioms of Class C remains less than 70% as in Table 2 . Besides, the detector successfully rejected only 15 out of 42 negative sentences (35.71%).
 3.3 Discussion of the disambiguation knowledge Disambiguation amounts to (i) rejecting negative sentences with observable evidence, (ii) rejecting negative ones without observable evidence, or (iii) accepting NOT an idiom, while (ii) and (iii) are difficult. Our method performs only (i), and thus has an obvious limitation.

Next, we look at cases of success or failure of rejecting negative sentences. There were 15 cases where rejection succeeded, which correspond to (i). The breakdown is as follows: 10 Genitive Phrase Prohibition rejected 6 cases; Relative Clause Prohibition rejected five cases; Detachment Constraint rejected two cases; Negation Prohibition rejected one case. Thus, Adnominal Modification Constraints are the most effective.

Twenty-seven cases where rejection failed are classified into two types; those that could have been rejected by the Selectional Restriction (five cases), and those that might be beyond the current technology (22 cases). Thus, Selectional Restriction would have been effective. A part of a sentence that Selectional Restriction could have rejected is below.
An idiom, tyuu-ni uku (midair-DAT float)  X  X  X emain to be decided, X  X  takes as its argument something that can be decided, i.e., h 1000 : abstract i rather than h 2 : concrete i in the sense of the Goi-Taikei ontology (Ikehara et al. 1997 ). Thus, (6) has no idiomatic sense. An example of a case that might be beyond the current technology is illustrated in (7).
The phrase ase-o nagasu (sweat-ACC shed) could have been an idiom meaning  X  X  X ork hard. X  X  It is contextual knowledge that prevented it from being the idiom. Our technique is unable to handle such a case, since no observable evidence is available.
Finally, the 42 negative sentences consist of 15 sentences, which we could disambiguate, five sentences, which Selectional Restriction could have disambig-uated, and 22, which are beyond the current technique. Thus, the real challenge lies in 7% (22/309) of all idiom occurrences. 4 Related work Few attempts have been made to detect idioms in a sentence with ambiguity and idiom (Shudo et al. 2004 ; Tanaka 1997 ).
A notable exception is Oku ( 1990 ); his idiom detector takes the ambiguity and transformations into account. However, he only uses Genitive Phrase Prohibition, Detachment Constraint, and Selectional Restriction, which would be too few to disambiguate idioms. Although Oku ( 1990 ) seems to think little of constraints on what forms an idiom itself is allowed to appear in, linguistic knowledge about idiom forms plays an important role in detecting idioms in a language, such as Japanese, where syntactic arguments are easily dropped and hence Selectional Restriction often cannot help.

Our technique has the limitation that we cannot reject literal-usage phrases without observable evidence. In that case, the technique discussed in Katz and Giesbrecht ( 2006 ), who tried to disambiguate German MWEs by means of Latent Semantic Analysis, would be helpful. However, using only statistical techniques would not give a satisfactory solution, since each idiom shows various kinds of peculiarities of its own and thus poses a serious sparseness problem. Rather, combining statistical techniques with categorical linguistic knowledge such as those discussed in this paper will provide a far better result.

Fazly and Stevenson ( 2006 ) proposes a statistical method to see in which syntactic forms a given idiom can appear. Though we relied on native speakers X  intuition to construct the disambiguation knowledge, it would be helpful to make use of their method for the disambiguation knowledge construction.

As for the classification of Japanese idioms, Oku ( 1990 ) classifies idioms according to only the transformability and does not take the ambiguity into account. On the other hand, Shudo et al. ( 2004 ) make a very fine distinction between Japanese idioms. Basically, they assign fine-grained linguistic knowledge that corresponds to our disambiguation knowledge to all idioms whether they are ambiguous or not. But, from the viewpoint of the idiom detection, this is too much; only ambiguous idioms need detailed linguistic information. Related to this is that while they take the compositionality into account, they do not care about the ambiguity, which is indispensable for the idiom detection. 11
Our classification of idioms correlates loosely with that of MWEs by Sag Among lexicalized phrases, fixed expressions are equal to Class A. Class B and C roughly correspond to semi-fixed or syntactically flexible expressions . Note that, though the three subtypes of lexicalized phrases are distinguished based on what we call transformability , no distinction is made based on the ambiguity . 12 5 Conclusion Aiming at Japanese idiom detection with ambiguity and transformations taken into account, we proposed a set of linguistic knowledge for idioms and implemented a dictionary. We maintain that requisite knowledge depends on its transformability and ambiguity; transformable idioms require the dependency knowledge, while ambiguous ones require the disambiguation knowledge as well as the dependency knowledge. As the disambiguation knowledge, we proposed a set of constraints applicable to a phrase when it is used as an idiom. The experiment showed that more than 90% idioms could be detected with 90% accuracy but the success rate of rejecting negative sentences remained 35.71%. The experiment also revealed that, among the disambiguation knowledge, Adnominal Modification Constraints and Selectional Restriction are the most effective.

For future work, we will reveal all the subclasses of Class C and all the disambiguation knowledge, and apply a machine learning technique to disambig-uating those cases that the current technique is unable to handle, i.e., cases without observable evidence.
 References
