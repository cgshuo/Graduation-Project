 W ith increasing demand from e v er more sophisti-cated NLP applications, interest in e xtracting and understanding temporal information from te xts has seen much gro wth in recent years. Se v eral w orks ha v e addressed the problems of representing tem-poral information in natural language (Setzer , 2001; Hobbs and P an, 2004; Saur  X   X  et al., 2006), e xtracting and/or anchoring (normalizing) temporal and e v ent related e xpressions (W iebe et al., 1998; Mani and W ilson, 2000; Schilder and Habel, 2001; V azo v , 2001; Filato v a and Ho vy , 2001), and di sco v ering the ordering of e v ents (Mani et al., 2003). Most of these w orks ha v e focused on capturing temporal informa-tion contained in ne wswir e te xts , and whene v er both r eco gnition and normalization tasks of temporal e x-pressions were attempted, the latter almost al w ays fell f ar behind from the former in terms of perfor -mance.

In this paper we will focus on a dif ferent combi-nation of the problems: anchoring t emporal e xpres-sions in sc heduling-r elated emails. In our project w ork of b uilding personal agents capable of schedul-ing meetings among dif ferent users 1 , understand-ing temporal e xpressions is a crucial step. W e ha v e therefore de v eloped and e v aluated our system T em-poral Expression Anchorer (TEA) that is capable of normalizing such e xpressions in te xts. As input TEA tak es Engli sh te xt with temporal e xpressions al-ready identified, and transduces the e xpressions into their representations using T ime Calculus for Nat-ur al Langua g e (TCNL) (Han and K ohlhase, 2003). These representations, or TCNL form ulae, are then e v aluated by incorporating the conte xtual informa-tion t o gi v e the final normalized output. TCNL has the follo wing characteristics: (1) a human calendar (e.g., the Gre gorian calendar) is e xplicitly modeled as a constraint system to deal with the highly under -specified nature of man y t emporal e xpressions, and it allo ws easy e xtension to include ne w temporal primiti v es; (2) a set of NL-moti v ated operators with a granularity-enriched type system f acilitates the representation of the intensional meaning of a tem-poral e xpression in a compositional w ay; and (3) the use of temporal references s uch as  X  X ocus X  in the representation cleanly separates the core meaning of an e xpression from its conte xtual dependenc y . The rest of this paper is or g anized as follo ws. Sec. 2 first surv e ys the characteristics of temporal e xpressions in emails compared to those in ne wswire te xts, and moti v ates the design of our representation. Sec 3 then introduces the formalism TCNL. The sys-tem TEA and the anchoring process is detailed in Sec. 4, and the e v aluat ion of the system is reported in Sec. 5. Finally Se c. 6 concludes this paper and outlines the future w ork. The e xtent of temporal e xpressions considered in this paper includes most of the e xpressions using temporal terms such as 2005 , summer , e vening , 1:30pm , tomorr ow , etc. These e xpressions can be classified into the follo wing cate gories:  X  Explicit : These e xpressions can be immedi- X  Deictic : These e xpressions form a specifi c re- X  Relati v e : These include the other e xpressions  X  Durational : These are the e xpressions that de-It is w orth emphasizing the crucial dif ference be-tween deictic e xpressions and relati v e e xpressions: anchoring the former only relies on the fix ed speech time while normalizing the latter requires the usually hidden focus. As illustrated belo w the latter task can be much more challenging: In the first e xample the  X  W ednesday  X  denotes a dif-ferent date since the first sentence sets up a dif ferent focus. T o mak e things e v en more interesting, v er -bal tense can also play a role, e.g.,  X  He finished the r eport on W ednesday .  X 
There are other types of temporal e xpressions such as r ecurr ence ( X  e very T uesday  X ) and r ate e x-pressions ( X  twice on W ednesday  X ) that are not sup-ported in our system, although the y are planned in our future w ork (Sec. 6).

T o appreciate the dif ferent nature of emails as a genre, an interesting observ ation can be made by comparing the distrib utions of temporal e xpressions in emails and in ne wswir e te xts . The email cor -pora we used for de v elopment and testing were col-lected from MB A students of Carne gie Mellon Uni-v ersity o v er the year 1997 and 1998. The 277 stu-dents, or g anized in approximately 50 teams of 4 to 6 members, were participating in a 14-week course and running simulated companies in a v ariety of mark et scenarios (Kraut et al., 2004). The original dataset, the CSpace email corpus, contains approx-imately 15,000 emails. W e manually pick ed 1,196 emails that are related to scheduling -these include scheduling meetings, presentations, or general plan-ning for the groups. The emails are then randomly di vided into fi v e sets ( email1 to email5 ), and only four of them are used in this w ork: email1 w as used to establish our baseline, email2 and email5 were used for de v elopment, and part of email4 w as used for testing. T able 1 sho ws some basic statistics of these three datasets 2 , and an edited sample email is sho wn in Fig. 1 (names altered). The most appar -ent dif ference comparing these emails to ne wswire te xts i s in the percentage of e xplicit e xpressions oc-curring in the tw o dif ferent genres. In (Mani et al., 2003) it w as reported that the proportion of such e x-pressions is about 25% in the ne wswire corpus the y used 3 . In contrast, e xplicit e xpressions on a v erage only account for around 9.5% in the three email datasets. This is not surprising gi v en that people tend to use under -specified e xpressions in emails for economic reasons. Another thing to note is that there are roughly the same number of relati v e e xpressions and non-relati v e e xpressions. Since non-relati v e e x-pressions (including deictic e xpressions) can be an-chored without tracking the temporal focus o v er a discourse and therefore can be dealt with in a f airly straightforw ard w ay , we may assign 50% as a some-what generous baseline performance of an y anchor -ing system 4 .

Another dif ference between emails and ne wswire te xts is that the former is a medium for communi-cation : an email can be used as a reply , or can be attached within another emai l, or e v en be used to address to multiple recipients. All of this compli-cates a great deal of our task. Other notable dif-ferences are that in emails hour ambiguity tend to appear more often ( X  I X  X l be home at 2.  X ), and peo-ple t end to be more creati v e when the y compose short messages such as using tables (e.g., an entire column of numbers to denote the number of min-utes alloted for each presenter), b ullet lists, abbre vi-ations, and dif ferent month/day formats ( X  1/9  X  can mean J anuary 9 or September 1 ), etc. Emails also contain more  X  X uman errors X  such as misspellings ( X  Thusday  X  to mean Thur sday ) and confusion about dates (e.g., using  X  tomorr ow  X  when sending emails around midnight), etc. Ov erall it is v ery dif ficult to reco v er from this type of errors. This section pro vides a concise o v ervie w of TCNL; readers are referred to (Han and K ohlhase, 2003; Han et al., 2006) for more detail.

TCNL has tw o major components: a constraint-based model for human calendars and a represen-tational language b uilt on top of the model. Dif-ferent from the other representations such as Zeit-Gram (Stede and Haas, 1998), T OP (Androut-sopoulos, 1999), and T imeML/T ime x3 (Saur  X   X  et al., 2006), the language component of TCNL is essen-tially  X  X alendar -agnostic X  -an y tempor al unit can be plugged in a formula once it is defined in the cal-endar model, i.e., the calendar model serv es as the le xicon for the TCNL language.

Fig. 2 sho ws a partial model for the Gre gorian cal-endar used in TEA. The entire calendar model is ba-sically a c onstraint graph with partial or dering . The nodes labeled with  X  year  X  etc. represent temporal units (or v ariables when vie wed as a constraint sat-isf action problem (CSP) (Ruttkay , 1998)), and each unit can tak e on a set of possible v alues. The undi-rected edges represent constrai nts among the units, e.g., the constraint between month and day man-dates that February cannot ha v e more than 29 days. A temporal e xpression in NL is then vie wed as if it assigns v alues to some of the units, e.g.,  X  F riday the 13th  X  ass igns v alues to only units dow (day-of-week) and day . An interv al-based A C-3 algo-rithm with a chronological backtracking mechanism is used to deri v e at the consistent assignments to the other units, therefore allo wing us to iterate to an y one of the possible F riday the 13th .

The orderi ng among the units is designated by tw o relations: measur ement and periodicity (arro ws in Fig. 2). These relations are essential for supporting v arious operations pro vided by the TCNL language such as determining temporal ordering of tw o time points, performing arithmetic, and changing tempo-ral granularity , etc. F or e xample, to interpret the e x-pression  X  early J uly  X , we identify that J uly is a v alue of unit month , and month is measured by day . W e then obtain the size of J uly in terms of day (31) and designate the first 10 days (31/3) as the  X  X arly X  part of July .

Internally the calendar model is further parti-tioned into se v eral components , and dif ferent com-ponents are aligned using non-binary constraints (e.g., in Fig. 2 the year component and the week component are aligned at the day and dow units). This is necessary because the top units in these com-ponent are not periodic within one another . All of the operations are then e xtended to deal with multi-ple calendar components.
 Built on top of the calendar model is the typed TCNL language. The three major types are coor -dinates (time points; e.g., { sep , 6 ber 6 ), quantities (durations; e.g., | 1 hour ) and enumer ations (sets of points, including interv als; e.g., [ { wed } , { fri } ] for W ednesday and F riday ). More comple x e xpressions can be rep-resented by using v arious operators, relations and temporal references; e.g., { now  X  | 1 ter day , {| 1 (or the fir st coming Monday in the fut ur e ; the  X   X  represents the temporal focus), | &lt; | 1 less than one hour , [ { wed } : { fri } ] for W ednes-day to F riday , [ f { sat , noon } ] for by Satur day noon 5 , and [[ { 15 on W ednesday . The TCNL language is designed in such a w ay that syntactically di f ferent formu-lae can be e v aluated to denote the same date; e.g., { tue , now + | 1 { now + | 1 tu e |} ( X  ne xt T uesday  X ) can denote the same date.

Associated with the operators are type and granu-larity requirement s. F or e xample, when a focus is specified do wn to second granularity , the formula { now + | 1 da y |} will return a coordinate at the day granularity -essentially stripping a w ay information finer than day . This is because the operator  X  +  X  (called fuzzy forwar d shifting ) requires the left-hand side operand to ha v e the same granularity as that of the right-hand side operand. T ype coercion can also happen automatically if it is required by an operator . F or e xample, the operator  X  @  X  ( or dinal s election ) re-quires that the right-hand side operand to be of type enumeration. When presenting a coordinate such as { &gt; = } (some point in the fut ure), it will be coerced e and min( s ) returns the set of minimal units among s . into an enumeration so that the ordinal operator can select a requested element out of it. These designs mak e granularity change and re-interpretation part of a transparent process. T able 2 lists the operators in the TCNL language.

Most of under -specified temporal e xpressions still lack necessary information in themselv es in order to be anchored. F or e xample, it is not clear what to mak e out of  X  on W ednesday  X  with no conte xt. In TCNL more information can be supplied by using one of the coordinate pr efixes : the  X  +  X / X   X   X  prefix signifies the relation of a coordinate with the fo-cus (after/before the focus), and the  X  f  X / X  p  X  indicates the rel ation of a coordinate with the speech time (future/past). F or e xample, the W ednesday in  X  the company will announce on W ednesday  X  is repre-sented as + f { wed } , while  X  the company announced on W ednesday  X  is represented as  X  p { wed } . When e v aluating these formulae, TEA will re write the for -mer into {| 1 into {  X  | 1 sentially trying to find the nearest W ednesday ei-ther in the future or in the past. Since TCNL for -mulae can be embedded, prefix ed coordinates can also appear inside a more comple x formula; e.g., ter a futur e Mother X  s day  X  6 .

Note that TCNL itself does not pro vide a mecha-nism to instantiate the temporal focus ( X   X ). The re-sponsibility of shifting a focus whene v er necessary ( focus tr ac king ) is up to TEA, which is described in the ne xt section. The input to our system TEA is English te xts with temporal e xpression markups, and the output is a time string for each temporal e xpression. The format of a time string is similar to the ISO 8601 scheme: for a time point the format is YYYYMMDDTHHMMSS (
T is a separator), for an interv al it is a pair of points separated by  X / X  (slash). Also whene v er there are slots that lack information, we use  X ? X  (question mark) in its place. If a points can reside at an y place between tw o bounds, we use (lower..upper) to represent it. T able. 3 sho ws the TEA output o v er the e xample email gi v en in Fig. 1 ( min and max are the minimal and the maximal time points TEA can reason with).

TEA uses the follo wing procedure to anchor each temporal e xpression: 1. The speech t ime (v ariable now ) and the focus 2. F or each temporal e xpression, its nearest v erb 3. A finite-state parser is then used to transduce an 4. The produced TCNL formula (or formulae 5. Recency-based focus tracking: we use the fol-
Note that in Step 3 the decision to mak e partial semantics of a temporal e xpression a v ailable to our parser is based on the follo wing observ ation: con-sider the tw o e xpressions belo w Both e xpressions share the same  X  X before Y  X  pat-tern, b ut their interpretations are dif ferent 8 . The k e y to discriminate the tw o is to compare the granulari-ties of X and Y : if Y if at a coarser granularity t hen the first interpretation should be adopted.

In Step 4 we use the follo wing procedure to dis-ambiguate the result: 1. Remo v e an y candidate that resulted in an in-2. If the result is meant to be a coordinate, pick 3. If the result is supposed to be an enumeration, 4. Otherwise pick the first one a s the result. F or e xample, if the current ti me is 2:00 pm, for e x-pression  X  at 3  X  with a present/future tense, the best answer is 15:00. F or e xpression  X  fr om 3 to 5  X , the best answer is from 3 pm to 5 pm.

When deciding whether a temporal e xpression can become the ne xt focus, we use simple heuris-tics to rule out an y e xpression that beha v es lik e a noun modifier . This is moti v ated by the follo wing e xample (timestamp: 19970919T103315 ): W ithout blocking the e xpression 1999-2000 from becoming the focus, the last e xpression wil l be in-correctly anchored in year 2000. The k e y obser -v ation here is that a noun-modifying temporal e x-pression usually serv es as a temporal co-reference instead of representing a ne w temporal entity in the discourse. These references tend to ha v e a more con-fined ef fect in anchoring the subsequent e xpressions. The temporal e xpressions in all of the datasets were initially tagged using rules de v eloped for Minor -Third 9 , and subsequently corrected manually by tw o of the authors. W e then de v eloped a prototype sys-tem and established our baseline o v er email1 (50%). The system at that time did not ha v e an y focus track-ing mechanism (i.e., it al w ays used t he timestamp as the focus), and it did not use an y tense infor -mation. The result confirms our estimate gi v en in Sec. 2. W e then gradually de v eloped TEA to its cur -rent form using email1 , email2 and email5 . Dur -ing the four -month de v elopment we added the focus tracking mechanism, incorporating the tense infor -mation into each TCNL formula via the coordinate prefix es, and introduced se v eral representational im-pro v ements. Finally we tested the system on the un-seen dataset email4 , and obtained the results sho wn in T able 4. Note that the percentages reported in the table are accur acies , i.e., the number of cor -rectly anchored e xpressions o v er the total number of temporal e xpressions o v er a dataset, since we are assuming correct tagging of all of t he e xpressions. Our best result w as achie v ed in the de v set email5 (85.45%), and the accurac y o v er the test set email4 w as 76.34%.

T able 4 also lists the types of the errors made by our system. The parsing errors are mistak es made at transducing temporal e xpressions using the finite-state parser into their TCNL formulae, the human errors are described in Sec. 2, and the rest are the anchoring errors. The accurac y numbers are all compared f a v orably to the baseline (50%). T o put this performance in perspecti v e, in (W iebe et al., 1998) a similar task w as performed o v er transcribed scheduling-related phone con v ersations. The y re-ported an a v erage accurac y 80.9% o v er the CMU test set and 68.9% o v er the NMSU test set. Although strictly speaking the tw o results cannot be compared due to dif ferences in the nature of the corpora (tran-scription vs. typi ng), we ne v ertheless belie v e it rep-resents a closer match com pared to the other w orks done on ne wswire genre.

It should also be noted that we adopted a simi-lar recenc y-based focus model as in (W iebe et al., 1998). Although s imple to implement, this nai v e approach pro v ed to be one major contrib utor to the anchoring errors in our e xperiments. An e xample is gi v en belo w (the anchored times are sho wn in sub-script): The last e xpression recei v ed an incorrect date: it should be the same date the e xpression  X  on Mon-day  X  refers to. Our system made this error because it blindly used the most recently mentioned time ( (min..19970822) ) as the focus to anchor the formula + f { mon } . This error later also propag ated to the anchoring of the subsequent e xpressions. In this paper we ha v e adopted a constraint-based representation of time, T ime Calculus for Natur al Langua g e (TCNL), to tackle the task of anchoring temporal e xpressions in a no v el genre, emails . W e belie v e that the genre is suf ficiently dif ferent from ne wswire te xts, and its highly under -specified nature fits well with a constraint-based modeling of human calendars. TCNL also allo ws for an e xplicit repre-sentation of tempor al focus , and man y of our intu-itions about gr anularity c hang e and tempor al ar ithe-matics are encaps ulated in its type system and oper -ators. The per formance of our anchoring system is significantly better than baseline, and compares f a-v orably with some of the closely related w ork.
In the future we will re-e xamine our focus track-ing mechanism (being the most significant source of errors), and possibly treat it as a classification prob-lem (similar to (Mani et al., 2003)). W e also need to in v estig ate the disambiguation procedure and pos-sibly migrate the functionality into a separate dis-course module. In addition, the co-referencing ten-denc y of noun-modifying e xpressions could lead to a better w ay to anchoring this particular type of tem-poral e xpressions. Finally we w ould lik e to e x-pand our co v erage of temporal e xpressions to in-clude other types of e xpressions such as recurrence e xpressions 10 .
 This material is based upon w ork supported by the Defense Adv anced Research Projects Agenc y (D ARP A) under Contract No. NBCHD030010.

An y opinions, findi ngs and conclusions or recom-mendations e xpressed in this material are those of the author (s) and do not necessarily reflect the vie ws of the Defense Adv anced Research Projects Agenc y (D ARP A), or the Department of Interior -National Business Center (DOI-NBC).

