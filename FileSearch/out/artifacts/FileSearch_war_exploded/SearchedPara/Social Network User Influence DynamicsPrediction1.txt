 1.1 Identifying Influential Users One of most popular topics of the social network analysis is identifying influen-tial users and their  X  X etwork impact X . More interestingly, knowing the influence of users and being able to predict it can be leveraged for many applications. The most famous application to researchers and marketers is the viral marketing [5], which aims at targeting a group of influential users to maximize the marketing campaign ROI (Return of Investment). Other interesting applications include search [1], ex-pertise/tweets recommendation [22], trust/information propagation [9], and cus-tomer handling prioritization in social customer relationship management. 1.2 Limitations of Current Research Efforts There is one main limitation of current research efforts on identifying influential users in social network analysis: lacking of an effective approach for modeling, predicting, and measuring the influence.
 Influence Models and Measures. Currently most applications and tools com-pute user influence based on their static network properties, such as, the num-ber of friends/followers in the social gra ph, the number of posted tweets/received retweets/mentions/replies in the activity graph, or users X  centrality (e.g. PageR-ank, Betweeness-centrality, etc.). All o f them make implicit assumptions about the underlying dynamic process that social network users can only influence their followers/friends, with equal impact strength, equal  X  X nfected X  probabilities, and at the same propagation rate; or the influe nce is assumed to take a  X  X andom walk X  on the corresponding static network.

A few works investigate adoption behaviors of social network users as the dynamic influence propagation 1 or diffusion process [18]. The adoption behaviors refer to some activities or topics (tweets, products, Hashtags, URLs, etc.) shared among users implicitly and explicitly such as users forwarding a message to their friends, recommending a product to others, joining some groups with the similar musical favor, and posting messages abo ut the same topics, etc. According to the diffusion theory, the information cascades from social leaders to followers. In most diffusion models, propagators hav e certain probabilities to influence their receivers, and the receivers also have certain thresholds to be influenced. Finding the social leaders or the users who can maximize the influence coverage in the network is the major goal of most diffusion models. Targeting these influential users is the idea behind viral marketing, aiming to activate a chain-reaction of influence, with a small marketing cost.

Some drawbacks of existing social network influence models based on either static networks or the  X  X nfluence maximization X  diffusion process are: (1) Most existing models are descriptive models ra ther than predictive models. For exam-ple, the number of friends or the centrality score of a given user describes his/her underlying network connectivity. The number of tweets that a user posted or get retweeted indicates the trust/inster est that his/her followers have on his/her tweets. All these measures/models are descriptive and very few models are able to predict users X  future influence. (2) Existing  X  X nfluence maximization X  diffusion process is often modeled by discrete-time models such as Independent Cascade Model or Linear Threshold Model. Using d iscrete-time models to model diffusion process in continuous time is very computationally expensive. The time step t needs to be defined as a very small number. Thus parameter estimation (e.g. ac-tivation probability) tends to come out very small numbers as well, and diffusion process simulation could take forever to run. 1.3 Content of the Paper The aforesaid limitation motivates our study on social network user influence and dynamics prediction in this paper. In particular,
To address the limitation, we propose a dynamic information diffusion model based on Continuous-Time Markov Process (CTMP) to predict the influence dy-namics of social network users. CTMP assumes that the number of activations from a given node is following an exponential distribution over the time, which can be observed in the real-world data [12]. Figure 1 shows that the average number of topic adoptions d ecreases exponentially over th e time. Hashtags receive more adoptions compared with URLs, and the number of Hashtag adoptions decreases more slowly. Furthermore, transition rates q are calculated and treated as the tran-sition probabilities (or activation probability) of the embedded Markov chain in CTMP. Then the transition probability P ( t ) can be computed from q , given any time t . In this paper, the nodes in the propagation sequences are the users, and the edges connect users who refer to the same topic contiguously on time. Topics here particularly refer to Hashtags (expressed as # followed by a word) and short URLs (e.g. bit.ly) on twitter, which is one of the most popular microblog services, was launched since July 13, 2006. Hashtags and URLs are both unique identifiers tag-ging distinct tweets with certain  X  X opic X  labels. We regard the temporal sequences of Hashtags and URLs as the diffusion paths, where the topics are reposted subse-quently. Although retweeting is not included in our paper as a diffusion approach, it is implicitly considered because the retweets would usually contain the same Hash-tags and URLs as in the original tweets. Essentially marketers hope by targeting a small set of influential users not only can their marketing campaign messages receive many retweets, but also can the influential users create topics about their products and stimulate a lot of tweets about them continuously. Our experimental results on a large-scale twitter dataset demonstrates a promising prediction per-formance on estimating the number of influenced users within a given time.
The contributions of this paper can be summarized as: (1) A dynamic informa-tion diffusion model based on the Continuous-Time Markov Process is proposed to model and predict the influence coverage of social network users (See Sec-tion 4). (2) The proposed model is compared with two other baseline models. In addition, the experiment is conducted over a large-scale twitter dataset, which validates the capabilities of our model in the real world. Some recent research aims at studying the content in the social network, e.g., Petrovic et al [16] studied the probl em of deciding whether a tweet can be retweeted, Tsur and Rappoport [23] did content based prediction using hash-tags provided by microblogging websites. Meanwhile, a number of works have addressed the matter of user influence on social network. Many of them regard user influence as their network metrics. Kwak et al. [12] found the difference between three influence measures: number of followers, page-rank, and number of retweets. Cha et al. [4] also compared these three measures, and discovered that the number of retweets and the number of mentions are correlated well with each other while the number of friends does not correlated well with the other two measures. Their hypothesis is that the number of followers of user may not be a good influence measure. Weng et al. [24] regarded the central users of each topic-sensitive subnetwork of the follower-and-followee graph as influential users. Other work such as [7], mined users influence from their static network properties derived from either their social graphs or activity graphs.
Various dynamic diffusion models have also been proposed to discover the influ-ential users. They are shown to outperform influence models based on static net-work metrics [17,7]. A lot of work in this direction are devoted to viral marketing . Domingos and Richardson [5,17] were the first to mine customer network values for  X  X nfluence maximization X  for viral marketing in data mining domain. The proposed approach is a probability optimization method with the hill-climbing heuristics. Kemper et al. [11] further showed that a natural greedy strategy can achieve 63% of optimal for two fundamental discrete -time propagation models -Independent Cascade Model (IC) and Linear Threshold Model (LT) . Many diffusion models assume the influence probabilities on the edges or the probability of acceptance on the nodes are given or randomly simulated. Goyal et al. [8] proposed to mine these probabilities by analyzing the past behavior of users. Saito et al. [19,20] extend IC model and LT model to incorporate asynchronous time delay. Model parame-ters including activation probabilities and continuous time delay are estimated by Maximum Likelihood. Our proposed diffusion model is different from the above discussed models: (1) We model the dynamic probabilities of edge diffusion and node threshold changing over the time, rather than computing the static probabil-ities. (2) Our model is a Continuous-Time diffusion model instead of a discrete-time one. Although Saito et al. also proposed Continuous-Time models, the fundamen-tal diffusion process of their models are following LT and IC models. For example, in asynchronous IC, an active node can only infect one of its neighbors in one itera-tion, while our proposed models does not assume iterations so that nodes can be ac-tivated at any time without resetting the clock in the new iteration. Moreover, the models proposed by Saito et al. supposed only one initial active user and focused on model parameter estimation, not much on prediction. The experiments are eval-uated on simulated data from some real network topology. Our proposed model estimates the model parameters from the re al large-scale social network data, al-lows many initial active users asynchronously or simultaneously to influence other users, and predicts the real diffusion sizes in the future.

In addition, most of influence models are basically descriptive models instead of predictive models. Bakshy et al. [3] studied the diffusion tree of URLs on twitter, and train a regression tree model on a set of user network attributes, user past influence, and URL content to predict users X  future influence. Our work is quite different from the work of Bakshy et al. in the following aspects : (1) They predict users average spreading size in the next month based on the data from the previous month. However, the dynamic nature of word-of-mouth marketing determines that the influence coverage vary over the time. Thus our work aims at predicting the spreading size of each individual user within a specific given date, so we can answer  X  X hat is the spreading size of user A within 2 hours, 1 day, or 1 month, etc. X . (2) Their work is built on top of a regression model, while our work proposes a real-time stochastic model. The input and output from these two models are quite different. (3) Besides URLs diffusion, we also study the diffusion of Hashtags on twitter, which usually have longer lifetime.
Continuous-Time Markov Process (CTMP) has showed its applicability for various research topics, including simula tion, economics, optimal control, genet-ics, queues, and etc.. The detailed description of CTMP can be found in the book by Norris [15]. Huang et al [10] adopted it to model the web user visiting patterns. Liu et al. [13] also utilized CTMP to model user web browsing patterns for ranking web pages. Song et al. [21] employed CTMP to mine document and movie browsing patterns for recommendation. To the best of our knowledge, our work is the first to construct influence diffusion model based on CTMP for spreading coverage prediction and user influence on social networks. 3.1 Influence Network A social graph can be denoted as G ( V,E ), where V represents social network users, and E is the set of edges/relations between users. The follower-followee graph is one type of social graphs, where the edges indicate following relations. Activity graphs are another type of social graphs, which are extracted from users tweeting behaviors, e.g., the tweet-retweet graph.

The above networks can be viewed as static networks, which do not demon-strate the dynamic propagation process over the time. In order to analyze how topics are passing on social networks progressively, we construct a temporal influence network by considering the continuous time. Given a Hashtag/URL ( topic ), a group of users can be ordered based on the time when they post this topic. As shown in Figure 2, user i is linked to user j if they post the same topic contiguously and user j follows/friend with user i . The number on the top of each arrow is the time taken to transfer a topic from a user to another user. Definition 1 (temporal influence network). The temporal influence net-work is G ( V,E,T ( E )) ,where V = { V 0 ,V 1 ,  X  X  X  ,V n } contains all users who posted at least one Hashtag or URL, E = { V i  X  V j | V i posted a topic earlier than V } , where edges can be constrained to only exist between followers and fol-lowees or between friends. So the propagation is along the paths from followees t user j posting the same topic.
 There can be multiple entries in T ( V i  X  V j ) since user i and user j can post the same set of topics or one topic at multiple times. Note that we aggregate all topics together to form this temporal influencer network in this paper. The descriptive influence models answer questions such as  X  X ow many followers that user A has? X  and  X  X ow many followers post the topic  X  X pad X  after user A? X , etc. In this section, we introduce our proposed predictive I nformation D iffusion M odel based on C ontinuous-T ime M arkov P rocess, abbreviated as IDM-CTMP for convenience. IDM-CTMP is able to answer the following question,  X  X n the next month, how many users would post the topic  X  X pad X  estimably if user A posts it now. X , or even a harder question  X  X n order to make a maximal number of people to talk about our product in the next week, who are the seed users we should target? X . Note the influential users discovered by IDM-CTMP maximize not only the information coverage , but also the rate of information cascade given a certain period of time. 4.1 Model Formulation A trending topic (a Hashtag/URL) is propagated by social network users within the temporal influence network defined in Definition 1. Suppose X ( t ) denotes the user who posts a specific topic at time point t , X = X ( t ) ,t  X  0formsa Continuous-Time Markov Process (CTMP) [2], in which the user who will discuss this topic next only depends on the current user given the whole history of the topic propagation. Formally, this markov property can be defined by: where P ij ( t ) is the transition probability from i to j within time t , i is the current user who discusses the trending topic, j is the next user who posts the topic following i ,and x (  X  ) denotes the history of the topic propagation before the time point  X  . We assume that the transition probability P ij ( t )doesnot depend on the actual starting time of the propagation process, thus the CTMP is time-homogeneous: In order to estimate the diffusion size of user i given a pre-defined time window t , we need to compute the transition probability from user i to all the others, then determine the number of users being affected by i at the end of t .The diffusion size of user i over t based on CTMP can be defined as where n i is the number of times that user i occurs at time t . It can be estimated by supposing that it linearly increments on t . However, it is impractical to esti-mate the transition probability matrix P ( t ) with infinite possible t .Thusinstead of estimating P ( t ) directly, we calculate the transition rate matrix Q ,andthen P ( t ) can be estimated from Q .

Before jumping into the details of Q matrix and P ( t ) matrix, a simple example is presented in Figure 3 to illustrate the procedure of predicting the diffusion size of a particular user. 4.2 Estimation of Transition Rate Matrix The transition rate matrix Q is also called the infinitesimal generator of the Continuous-Time Markov Process. It is defined as the derivative of P ( t )when t goes to 0. The entry q ij is the transition rate to propagate a topic from user i to user j . The sum of the rows in Q is zero, with j,j = i q ij =  X  q ii . Note that q ij reflects a change in the transition probability from user i to user j . q i , namely out-user transition rate in this paper, is equal to  X  q ii . It indicates the rate of user i propagating topics to any other users. As shown in Figure 1, the average number of topic adoptions d ecreases exponentially over the time. Thus, in order to compute q i , we assume that the time for user i to propagate a topic to all the other users is following an exponential distribution as observed for many users in our data, where the rate parameter is q i . It is known that the expected value of an exponentia lly distributed random variable T i (in this case, the topic propagation time for user i ) with rate parameter q i is given by: Thus q i is one divided by the mean of  X  j ( T ( V i  X  V j )),whichisdefinedinthe temporal influence network.

According to the theory of Continuous-Time Markov Process, if a propagation occurs on user i , the probability that the other user j would post the topic forms an embedded Markov chain. The transition probability is S ij ,and j S ij =1 ( i = j )and S ii = 0. One important property is that q ij = q i S ij . Then, the transition rate from user i to j can be estimated by: where m is the number of topics diffused from use i to j ,and t m ij denotes the transition time from user i to j on the m -th topic. 4.3 Estimation of Transition Probability Matrix Now we obtain all the entries of the transition rate matrix Q . Next, we will specify how to derive the transition probability matrix P ( t ). The well accepted Kolmogorov X  X  Backward Equations [6] in the Continuous-Time Markov Process can be utilized: By performing some algebra operations, the above equation can be written as the following matrix form: The general solution for this equation is given by: P ( t ) is a stochastic, irreducible matrix for any time t . We approximate it using Taylor expansion, so that P ( t ) can be estimated by [10]: We raise the power of ( I + Qt/n ) to a sufficiently large n . 5.1 The Dataset Description We continuously collected 22-day twitter data, ranging from March 2 to March 24, 2011, using Twitter Gardenhose streaming API. The first 12-day data is used for our training purpose, and the remaining 10-day data is for testing and validation. We removed all non-English tweets and those tweets posted by users with less than 20 followers (autho rs of these tweets are less likely to be influential users.) Notice that the data is represented by tweet records, one of which may include the tweet and the corresponding retweets, thus more than one tweet. Then there are 48,113,490 tweet records in the 12-day training data and 27,237,631 tweet records in the 10-day testing data (tweets without Hashtags or URLs are also removed from the testing data). After, those tweets with more than three Hashtags or URLs are filtered, since they tend to be spam ones as introduced in [12]. Finally, we obtained totally 78,858,046 tweets, in which there are 9,431,404 unique users, 3,209,330 Hashtags, and 21,107,164 URLs. 5.2 Predicting Spreading Size Using IDM-CTMP This paper aims at modeling, predicting, and measuring users X  influence in the social network. Hence, to validate the dynamic metric and the predictive model  X  IDM-CTMP, instead of focusing on identifying influential users like the previous work, we mainly evaluate its capability of predicting how many users would adopt one topic given a certain period of time after a user posts it. Specifically, in our experiment, we first train IDM-CTMP model on the first 12-day training data, then calculate the spreading coverage of each user for each day from day 1 to day 22, including both training and testing periods.
 The Ground Truth. In order to evaluate the prediction performance of IDM-CTMP and present its feasibility in real world applications, we need to provide the ground truth. Suppose user u posts a topic  X  at time t 1 , and subsequently n users post the same topic  X  till time t 2 , then the ground-truth spreading size of we know that user B first posts a topic #ipad in day 2, afterwards there are 10 users posting #ipad in day 2, and 20 users posting #ipad in day 3. Then the ground-truth spreading size of B is 0 for day 1, 10 for day 2, and 20 for day 3.
After a user X  X  spreading sizes over diffe rent topics in a particular period of time are computed, we can obtain the average spreading size over all topics in that time period by dividing the number of involved topics: where DS is the spreading size, u denotes a user, t 1  X  t 2 indicates a time window, and  X  is a topic.
 Baselines. To our best knowledge, this is the first attempt to predict the continuous-time spreading coverage of social network users. Therefore, we em-ploy the Autoregressive Integrated Moving Average (ARIMA) model [14], which is widely used for fitting and forecasting the time series data in the area of statis-tics and econometrics, as one baseline. This model can first fit to time series data (in our case, a user X  X  spreading sizes of different days in the history), then pre-dict this user X  X  spreading size in the future. Thus, the spreading sizes of first 12 days are used to build the ARIMA model. Then, it predicts the entire 22 days. Note that the optimal ARIMA is always selected based on Akaike information criterion (AIC) and Bayes ian information criterion (BIC) for comparison.
In addition to ARIMA, one of the basic information diffusion models  X  Inde-pendent Cascade (IC) [11] is used as the second baseline. In the IC model, a user u who mentions a topic in his/her tweets at the current time step t is treated as a new activated user. An activated user has one chance to  X  X ctivate X  each of his/her neighbors (i.e., make them adopt this topic) with a certain probability. If a neighbor v posts the same topic after time step t ,itissaidthat v becomes active at time step t +1. If v becomes active at time step t +1, u cannot activate v in the subsequent rounds.

In order to apply the IC model to calculate users X  spreading sizes, the activa-tion probability for every pair of users needs to be estimated. Specifically, for a user u , we first obtain the spreading size of each of his/her topics during the first 12 days, thus we can get average spreading size over all of his/her topics. Then, the daily average spreading size ( DDS ) is computed from dividing the average spreading size by 12 days. Finally, 1 /DDS is taken as the activation probability of u and each of his/her neighbors.
 Prediction. To compare the performance of IDM-CTMP, we choose 10 , 000 top users computed by IDM-CTMP given the entire 22 days and 10 , 000 random users. Three well-known metrics for mea suring prediction accuracy are utilized in our experiment for evaluation: MAE (Mean Absolute Error), RMSE (Root Mean Square Error), and MASE (Mean Absolute Scaled Error). The average values of three metrics for IDM-CTMP, ARIMA, and IC are listed in Table 1 and Table 2. It can be seen that our pro posed method IDM-CTMP performs better than baseline methods ARIMA and IC, because ARIMA fits the overall trend of the time series data and does not consider the underlying network cascading causing the change of the spreading sizes. The basic IC model needs predefined time step, which is set to be 1 day. It might be too large to capture the real-time topic propagation. However, if setting it to be small, it would take long time to run. The parameter estimation of the basic IC model assumes the constant activation probability for all neighbors, which could be another reason of poor performance.

In Figure 4, we plot the ground truth spreading sizes and the predicted spread-ing sizes, using IDM-CTMP, ARIMA, and IC for both top 5 users and 5 random users. We can observe that even though the predicted results by IDM-CTMP are not exactly as same as the ground truth, most of the predicted curves fit very close to the true curves. In particular, most of the  X  X eaks X  and  X  X alleys X  can be well captured by our proposed method. However, ARIMA and IC does not perform well, missing many  X  X eaks X  and  X  X alleys X  and having wrong predictions.
In addition to the prediction capability, we also conduct experiments to com-pare the running time of three models. It turns out that IDM-CTMP spends similar running time as IC model for prediction tasks, while ARIMA requires the least running time. However, to achieve the best performance of ARIMA, a lot of parameter tuning work needs to be done beforehand. Considering this, ARIMA cannot be the best choice in terms of the running time.
 In this paper, we propose IDM-CTMP, an information diffusion model based on Continuous-Time Markov Process. IDM-CTMP is able to predict the influ-ence dynamics of social network users, i.e., it can predict the spreading cover-age of a user within a given period of time. Our experiment results show that IDM-CTMP achieves very promising performance as its predicted spreading size demonstrated can fit closely to the ground truth.
 Acknowledgements. The work is partially supported by a Xerox Universit Affair Committee (UAC) Award and by US National Science Foundation under grants IIS-0546280, CCF-0830659, HRD-0833093, and IIS-1213026.

