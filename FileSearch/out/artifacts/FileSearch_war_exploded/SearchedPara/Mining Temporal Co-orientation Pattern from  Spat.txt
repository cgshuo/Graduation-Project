 Spatial data mining is an important task to discover interesting patterns from spatial or image datasets. There exist three basic types of spatial relationships: distance, topological, and directional relationship. Many works have focused on spatial co-location pattern mining concerning with the distance relationship. While little attention has been paid on patterns concerning the directional relationship, we have proposed the spatial co-orien tation pattern mining from a set of spatial images which discover the spatial objects that frequently occur and collocate with the same orientation among each other [6]. 
Recently, some research extended from spatial patterns to spatio-temporal patterns temporal co-orien tation patterns . For a spatio-temporal database consisting of sequences of images, temporal co-orientation patterns refer to the common patterns of changes of spatial co-orientation among sequences. For example, Fig. 1 shows a spatio-temporal database, and Fig. 2 is one of the temporal co-orientation patterns with occurrences no less than two. We propose three-stage algorithm, TCPMiner, for mining the temporal co-orientation patterns. One of the applications of temporal co-orientation patterns is sports video analysis. Sports video analysis aims to provide assistance for training. Much research has been done on analyzing sports video. One of the important tasks in sports analysis is to summarize the play tactics from sports video. While regarding a video as an ordered sequence of images, tactics summarization of play tactics is, in fact, the problem of our proposed temporal co-orientation pattern mining. Mobile group pattern miming is to discover group patterns of users, determined by distance threshold and minimum time duration [1,7]. The group members are physically close to one another and stay together for some meaningful duration when they act as a group. This research reveals the neighboring relation over time without relative direction over time and the change of spatial relation among objects over time. J. Wang et al. proposed some kinds of mining spatio-temporal patterns in spatio-temporal databases. In [3], the work is discovering the topological patterns satisfying not only the spatial proximity relationships but also the temporal proximity relationships. Briefly, the topological patterns occur near in a region and near in time. The main idea of algorithm in [3] is to generate the projected database for mining topological patterns and this idea is similar to the pattern-growth approach. In [5], the work is to discover generalized spatio-temporal patterns which are intended to describe the repeated sequences of events occurring in small neighborhoods, and similarly does [4]. [4] and [5] utilize the concept of Apriori-like approach and pattern-growth approach for mining generalized spatio-temporal patterns, respectively. But these works focus on neighboring relation over time without dealing with relative direction among objects over time. Definition 1. Let a spatio-temporal database STDB ={ V 1 , V 2 , ..., V N } be a set of image sequences. Each image sequence V i is an ordered list of images, sorted by time in ( O 2 , X 2 , Y 2 ),..., ( O m k , X m k , Y m k )} is a set of triples, where type, and ( X h ,Y h ) is the location of an object O h . Note that we regard each image of sequences as a symbolic picture [6]. In this paper, different image sequences is not necessary. Definition 2. A symbolic picture g is said to be contained in a sequence of symbolic of f n j , denoted as g  X  f n j . Definition 3. Given a spatio-temporal database STDB , the global support of a symbolic picture g is the percentage of sequences in STDB that contain the symbolic given minimum global support threshold, minGSup , g is a spatial co-orientation spatial co-orientation pattern . A spatial co-orientation pattern g is maximal if g is not contained in any other spatial co-orientation pattern of STDB . Example 1. Fig. 1 shows a spatio-temporal database STDB of three symbolic picture sequences. If minGSup is 50%, some of the size-2, size-3, and size-4 spatial co-orientation patterns are shown in Table 1. symbolic picture g  X  f s 1 , there exists a symbolic picture g X   X  f s 2 such that g  X  g X  . That is, each element of F s 1 , f s 1,j , 1  X  j  X  m , is a set of symbolic pictures. A sequence F f 2,3 such that g sequence of sets of symbolic pictures. The global support of F s is the percentage of pattern of STDB and the size of f s i is greater than or equal to two, and (2) the global minGSup . the temporal co-orientation pattern F s is the number of sets of symbolic pictures of F s . A temporal co-orientation pattern of length n is called a length-n temporal co-orientation pattern . A temporal co-orientation pattern F s is called a maximal temporal co-ori entation pattern if F s is not contained in any other temporal co-orientation pattern of STDB . this pattern is greater than or equal to two. To solve the problem of mining temporal co-orientation patterns, we also employ the 2D representation [6] to represent sym bolic pictures. Given a spatio-temporal database of sequences of symbolic pictures, the problem of temporal co-orientation patter mining thus becomes the discovery of the frequent sequences of sets of 2D strings among a database of sequences of 2D strings. Each such frequent sequence of sets of 2D string is a temporal co-orientation pattern. 
We propose the three-stage algorithm, TC PMiner, to discover the temporal co-orientation patterns. The proposed approach consists of three stages of processes. The first stage is discovering all size-2 spatial co-orientation patterns from a given spatio-temporal database STDB . The second stage transforms the problem into that of sequential pattern mining. The last stage reconstructs the symbolic pictures from the discovered patterns of the second stage. Fig. 4 shows the detail of TCPMiner algorithm for discovering temporal co-orientation patterns. 
In Fig. 4, at first, we preprocess the given spatio-temporal database STDB to transform each symbolic picture of sequences in STDB to a 2D string, and then generate the database STDB 2D . The detail of GenCandidate function is shown in [6]. In step 9, each spatial co-orientation pattern in O 2 is assigned a unique item number, According to P int , we transform each sequence of STDB 2D to a sequence of itemsets, that is, each symbolic picture is transformed into an itemset. For each symbolic picture, each size-2 spatial co-orientation pattern contained in it constitutes the transformed itemset. After the transformation, sequential pattern mining algorithm [2] is utilized to generate all frequent sequence of itemsets. For the patio-temproal database STDB in Fig. 1, Fig. 5 shows the outcome of TranI in TCPMiner if minGSup is 50%. 
The last stage generates the temporal co-orientation patterns by transforming each symbolic picture. It seems straightforward to transform each itemset into a set of size-2 symbolic pictures. However, the patterns what we wish are the maximal temporal co-orientation patterns. It is essential that the transformation should be performed such that the reconstructed symbolic picture is as maximal as possible. This stage proceeds similarly to the Apriori-based approach for frequent itemset mining. The detailed procedures of the function TranII is shown in Fig. 6. Example 3. Given the spatio-temporal database STDB in Fig. 1, FP int is generated S spatial co-orientation pattern according to l in L . If j =3 and l =(11,15,17), we join size-2 spatial co-orientation patterns 11 and 15 to generate size-3 spatial co-orientation S ={(9,11,15,17)} is restored as {(E&lt;A,E&lt;A),(E&lt;C&lt;B,E&lt;B&lt;C)}. We evaluate the performance of TCPMiner using synthetic datasets. Fig. 7 illustrates the flow of our experimental design and parameters. In order to simulate the sports games for a given team against others, we assume the objects (players) appearing in each video are selected from two distinct teams, the user-specified team  X  and the other team by choosing randomly from (N/ m )-1 teams, where m is the number of players per team. We chose O objects while O/2 objects were selected from  X  and the others from the randomly selected team. Finally, we generate a sequence of images with the length of F  X  (1  X  r ) images by random walk in uniform probability distribution. In our experiments, we generated all images by setting D=6, m =10, O=10, and r =0.2. The convention of T1kF250N60O10G22% means that the data set includes 1000 sequences, average number of images per sequence is 250, total number of objects is 60, average number of objects per image is 10, and minimum global support is 50%. We implement TCPMiner in C++. The experiments were performed on AMD Opteron, 2.39GHz, 3.93G main memory PC. 
We measure the efficiency of proposed algorithm as the function of other parameters. Moreover, we compare relative execution time between the stage of sequential pattern mining and the other stages (the first stage and the third stage denoted as SeqMiner and Other, respectively.) The execution times of TCPMiner scale up gradually with the number of sequences in (a-1). (a-2) illustrates that the effect of number of sequences of SeqMiner is more obvious than the effect of Other as the number of sequences increases. (b-1) demonstrates that the execution time of TCPMiner increases dramatically as the average number of per sequence increase. This is because that the size of database and the length of temporal co-orientation pattern increase. In (b-2), the execution time of SeqMiner increases more rapidly than Other as the number of images per sequence is increasing. As shown in (c-1), the effect of the total number of objects is not obvious while the total number of objects with respect to SeqMiner and Other. We proposed the temporal co-orientation pattern, and the algorithm, TCPMiner, for mining temporal co-orientation patterns. One of the core steps of the proposed algorithm is the sequential pattern mining. The experimental results showed that the step of sequential pattern mining dominates the execution time due to the characteristic of temporal co-orientation patterns. It is essential to develop algorithms for mining sequential patterns with respect to the characteristic of temporal co-orientation patterns. Moreover, it is worth to explore the applications of the proposed temporal co-orientation pattern mining. 
