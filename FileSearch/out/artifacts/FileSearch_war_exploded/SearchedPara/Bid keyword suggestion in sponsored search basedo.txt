 1. Introduction
Sponsored search is one of the major types of online advertising and is also the key source of revenue for search engine companies. In sponsored search, a set of ads are displayed along with organic search results when answering a query. mechanism from that of organic search. While the organic search results are produced according to the relevance of each Motwani, 2006; Varian, 2007 ).

Before the auction happens, each advertiser is asked to participate in a bid process, in which he/she creates a group of ad copies and bids on some keywords for the ad group with their match types. The match type might be exact match or  X  relevance score of the next ad in the ranking list of the auction.

As can be seen above, an advertiser should carefully consider which keywords to bid and what price to set for each of these keywords, in order to win the auction. However, data statistics show that not many advertisers are good at dealing with this (see Section 3.1.2 ). For example, too many advertisers bid on a small number of popular keywords, and thus as as many ad impressions as expected. This is bad for these advertisers since they have missed their campaign goals. This have no ads (or no enough ads) displayed in their search result pages, even if many of them have commercial values (see
Again, this is bad for search engines since many potentially valuable ad slots have been wasted. This is also bad for advertisers since they have missed many advertising opportunities.
 such as Keyword Group Detection of Microsoft AdCenter, 1 Overture (Yahoo!) Keyword Selector Tool, tougher.

In this paper, we propose a novel keyword suggestion technology, which can alleviate the aforementioned problem. In particular, instead of suggesting popular keywords, we recommend a group of relevant yet less-competitive keywords to
To validate this phenomenon in the data analysis experiment, we used a search log dataset that records the submitted queries from a commercial search engine, 4 which was collected in half a month (from 01-April-2011 to 15-April-2011). It extra revenue since many empty ad slots related to the suggested keywords can be utilized.

Mathematically, we formulate the keyword recommendation problem as a mixed integer optimization problem. Given a target ad group, we first collect a set of candidate keywords whose relevance score to the ad group can exceed the floor relevance score in sponsored search. Then we perform selection among these candidate keywords and try to give an optimal bid price for each selected keyword, by maximizing the revenue of ad group with the budget control constraint. In this optimization problem can be solved by binary integer programming and sequential quadratic programming (SQP) in an alternate manner. Simulation results on the sponsored search log obtained from a commercial search engine, ad slots and enlarge the revenue of search engine.

To sum up, the contributions of our work are listed as below. (i) We perform a comprehensive study on keyword bidding search engines unsatisfied. (ii) We propose a bid keyword suggestion method based on competitiveness and relevance, and solve it using binary integer programming and sequential quadratic programming alternatively.
 competitive keywords to improve ad impressions and search engine revenue. The problem definition and the optimization future work are given in the last section. 2. Related work advertisers and proposed a joint optimization of keyword bid price and campaign budget allocation under a multi-campaign sponsored search account.

In addition, several dedicated works have been proposed for bid keyword recommendation. Bid keyword recommendation aims at finding a group of keywords for an advertiser to bid based on his/her original bid keywords and/or ad copies.
Representative work on bid keyword recommendation include ( Abhishek &amp; Hosanagar, 2007; Chen et al., 2008; Fuxman matched it to some relevant concepts, and then considered these concepts and their parent concepts in the hierarchy for keyword recommendation. Fuxman et al. ( Fuxman et al., 2008 ) proposed using the click graph extracted from search logs search engine. The keyword recommendation was based on similarity propagation on the graph. Abhishek et al. ( Abhishek &amp; Hosanagar, 2007 ) proposed a system called Wordy for bid keyword recommendation, in which a term graph similar to calculated from semantic relationship structures such as query similarity graph or concept hierarchy. The problem with In the industry of online advertising, there are also some tools for bid keyword recommendation, such as Keyword Group Detection provided by Microsoft AdCenter, Overture Keyword Selector Tool provided by Yahoo!, and the AdWords Keyword tools tend to recommend those keywords that are relevant to the original bid keywords, and have been bid by many other advertisers. However, as discussed in the introduction, such a keyword recommendation mechanism may increase the com-show their ads.

To solve the problems with the previous work, in this paper, we investigate the problem of keyword recommendation by looking at the factors that are more related to advertising effectiveness, and by avoiding the hot competition among search engine optimization (SEO) companies. 6 3. Data analysis on sponsored search
Our proposal of bid keyword suggestion is motivated by an intensive study on the sponsored search log of a commercial search engine. We used three kinds of data in our study: the search log that records the submitted queries and the corresponding ad impressions and clicks, the auction log that records the detailed auction processes, and the advertiser database that includes the bid keywords, bid prices, and the budget for each ad group. The data were collected in half a month (from 01-April-2011 to 15-April-2011), which contains about 623 million unique queries and about 31 million of active ad groups. The findings of the study are reported in this section. 3.1. Existing problems in sponsored search
The key mechanism in sponsored search is the auction for the ad slots in the search result page of each query. When the the performance of both the advertisers and the search engine. Regarding keyword bidding, we found the following problems through our data analysis. 3.1.1. Wasted ad slots the number of ad groups winning in the corresponding auction is smaller than eight. slots have actually been wasted, even if some of the corresponding queries have commercial values.
Our explanations to the above observations are as follows. On one aspect, advertisers usually prefer popular keywords and ignore the potential of rare yet relevant keywords. On another aspect, the existing keyword recommendation tools provided by search engines also tend to suggest popular keywords to advertisers, because most of these tools are based on the semantic similarity or co-occurrences of keywords across ad groups. As a result, many tail keywords are not bid and their corresponding ad slots are left empty. 3.1.2. Loss in highly-competitive auctions users, and there will be no conversion behaviors (registration, add something to the shopping cart, purchase something, etc.) from the users. The major problems with these ad groups are listed as below, i.e., low relevance
Low relevance. Among the 55.3% ad groups having no ad impression, 42.6% ad groups were never involved in any auction. This is because the keywords that they bid are irrelevant to any query issued during the period of our study.
Low bid price. Among the 55.3% ad groups, 12.7% ad groups participated in some auctions but did not get any impression, although the keywords they bid are relevant. This is because their bid prices are too low as compared to those of other reason might also be the low bid price. That is, their bid prices are not high enough to make them ranked on the top and therefore their corresponding click-through rate (CTR) are low.
 switch to another publisher if the problem cannot be solved after a certain period of time. 3.2. Potential of advertisability
Intuitively, we can improve the aforementioned situations by bidding on rare but relevant keywords. In this way, we can the question is whether the improvement can be significant. In other words, is there enough advertisability in these keywords given that they are rare? In this subsection, we report our findings regarding this question. 3.2.1. Distribution of search queries
To understand the potential advertisability of rare queries, we sort the queries according to their decreasing search volumes and evenly divide them into 50 buckets, i.e., each bucket contains 2% unique queries. Then we count the total numbers of ad impressions and ad clicks associated with the queries in each bucket (See Fig. 2 ). According to Fig. 2 , up to 40.9% ad impressions and 27.8% ad clicks are associated with the 98% least frequent queries. and only 14% of them eventually have ad impressions. Furthermore, 98.9% of these auctions were triggered by broad match competition in the corresponding auctions. Furthermore, biding on a group of such keywords will probably accumulate a number of ad impressions for him/her as a result.
 considerable. 3.2.2. Cost for large number of bid keywords
We investigate the effects of bidding a group of keywords. We sort the ad groups according to the decreasing number of their bid keywords and divide them into buckets. Then we look at ad impressions, ad clicks, total cost, click (CPC) with respect to the buckets. The distributions of these metrics bidding a group of keywords since they can get a lot more clicks by paying less average cost.

In summary, the above study reveals that it is an effective strategy to bid a group of relevant yet less-competitive keywords with low prices, since these cheap keywords may collectively attract accumulated ad impressions and clicks for the advertiser. 4. Bid keyword suggestion a mixed integer optimization problem and discuss how to solve it efficiently. 4.1. Notations and definitions bid keywords, 12 and bid prices. In addition, each ad group is associated with a budget g 4.1.1. Winning score and winning price
In sponsored search, an issued query might trigger an auction. If one of the associated keywords of an ad matches the query by the corresponding match functions according to the match types of the keywords, the ad (together with the matched bid keyword) will be involved in the auction. The search engines may use the product of the bid price and scores. The winning score of an auction is defined as the following.
Definition 1 ( Winning Score ). Given an auction h , its winning score l corresponding search result page.
 be showed in the result pages in sponsored search system.

Suppose the relevance score of an ad group x in an auction h is r
Hillard, Schroedl, Manavoglu, Raghavan, &amp; Leggetter, 2010; Radlinski et al., 2008 ). result page. Usually, there is a floor relevance score r in the sponsored search system. The ad group with r in an auction.

Definition 2 ( Winning Price ). Given an ad group x in an auction h with its relevance score r calculated as l h r 4.1.2. Impression probability based on bid price based on bid price as below.
 an ad group x in auction h , the impression probability of ad group x based on bid price b Here U  X  x  X  correspond to higher impression possibility. 4.1.3. Impression confidence based on competitiveness
Suppose the sponsored search system maintains a universal set of keywords, which for example can be the union of the W  X f w 1 ; w 2 ; ... ; w m g , where m is the number of keywords.

Every keyword w i  X  i  X  1 ; 2 ; ... ; m  X  in W might trigger its auctions H
When an ad group x participates in an auction h , we may compute the relevance score r based on bid price p x ; h . Note that H i might be empty if w afterbiddingthe keyword.Wedefinethefollowingimpressionconfidence basedoncompetitiveness to reflecttheabove effect. auctions triggered by the keyword w , the impression confidence based on competitiveness of an ad group in the auctions triggered by w , denoted by c , is defined as shows some example curves of it. The coefficient s controls the steepness of the curve around l .
The intuitive explanation of impression confidence based on competitiveness is as follows. In the auction for a query keyword w , the number of ad slot l is a critical value to describe the competitiveness. of the sigmoid function) can well reflect the above two intuitions.

Actually, impression confidence based on competitiveness has a strong relation with rare keywords. Rare keywords based on competitiveness will be high. According to our statistics, the impression confidence of 97% rare keywords are be rare keywords. 4.2. Optimization problem
The output of bid keyword suggestion is a subset of keywords W where R is the set of non-negative real numbers, b 0 1 ; b keywords.

Given a target ad group x , keywords whose relevance scores with ad group x are less than the floor relevance score will be filtered out. Therefore, a subset W x # W of much relevant candidate keywords are generated.
Selecting a subset W 0 of bid keywords among candidate keywords subset W indicator vector g  X  X  g 1 ; g 2 ; ... ; g m  X  T , where
In order to find the optimal g and recommend reasonable bid prices b revenue of the ad group which is highly related to the final profit the ad group can make from the service of sponsored search.
 The constraints are the lower bound and the upper bound of the bid prices, and the budget of the ad group.
To ease the illustration, we further introduce two notations as below. (i) q from the historical log. Considering the definition of the impression probability of ad group x based on bid price b by p x ; h , we can approximately estimate the average probability of click on ad group x given bid price b
The maximum of the winning price and the floor price b is the lower bound of the bid prices. The winning price for an ad group x in an auction h is calculated as l h r group x in an auction h .
 cost in GSP, the upper bound of the advertiser X  X  cost on an ad group x with bidding keyword w
P the keyword w i . For all candidate keywords of an ad group x , the upper bound of the advertiser X  X  total cost should be
The objective is to maximize the expected advertiser revenue. Given bidding keyword w of ad group x on this keyword can be approximately calculated as of the ad group x . Considering the impression confidence c ad group, we can write the total expected revenue as,
To sum up the above constraints and the objective, we can obtain the following mixed integer optimization problem for an ad group x . 4.3. Efficient solution
The above problem is a mixed integer programming problem, which is NP-hard. To efficiently solve it, we employ an alternative optimization method. There are two variable vectors in the above problem, i.e., g  X f g fix b x to the corresponding winning prices, and then the problem is converted to a binary integer optimization problem, of the binary integer optimization problem, and thus the problem is converted to a constraint optimization problem on b which can be solved by means of sequential quadratic programming (SQP) ( Cottle, Pang, &amp; Stone, 2009 ). The above ( Tong &amp; Koller, 2002 ).
 2004 ). For the constraint optimization problem on b x , we first rewrite the constraint optimization problem on b following form.
Here we have, where e is a vector with all its elements equal to 1, and d elements.

The above problem can be approximately solved by SQP, in which a quadratic programming (QP) subproblem is solved in each iteration by linearizing the constraints and approximating the following Lagrangian function L  X  b
Here k  X f k i g is Lagrangian multiplier. Starting from any initial b the corresponding Lagrangian multipliers, and H  X  j  X   X  H  X  b
QP subproblem should be solved in the  X  j  X  1  X  -th iteration. of this subproblem, then we use the following formulas to update the solution of the SQP problem. The above iterations lead to a local approximation of the solution. The algorithm can be stabilized by line search.
To sum up, by solving the binary integer optimization problem and the constraint optimization problem on b alternatively, we can get the optimal values g and b x . Then we can select the keywords corresponding to the top-scored elements in g to compose the recommended keyword set, and set the suggested bid prices according to b flowchart is depicted in Fig. 5 . 5. Experimental evaluation algorithms, and evaluation measures. Then we report the experimental results on our proposed algorithm and make analysis and discussion. 5.1. Experimental settings 5.1.1. Datasets
The data in our experiments mainly came from three sources provided by a commercial search engine: search log, auction The database is a snapshot at the end of the month, which contains 31 million ad groups.

We used the search log data in the training period to build the candidate keyword set. We extracted over 1.5 billion raw words, bid prices, and bid numbers, and then compute the average true values, competitiveness, and the relevance scores. 5.1.2. Ad group sampling due to limited budget and improper keyword bidding. Intuitively, it is not necessary to perform such recommendation to
Fig. 6 shows the distribution of the ad impressions for the ad groups. From our statistics, we know that the majority (91.9%) of the ad groups belong to the small advertiser set and majority (82.2%) ad impression volume belong to the big advertiser set. This somehow shows both sets are much important in sponsored search and our proposed technology should the two sets, we randomly sampled 800 ad groups as the target ad groups in our experiments. 5.1.3. Comparison algorithms We compared the proposed algorithm with the following methods for bid keyword suggestion on the two target sets.
These methods are representative approaches on keyword recommendation as mentioned in Section 2 . After we get the sug-auction log in the testing period see the performance. 1. No Recommendation (NR). We simply used the original bid keywords of the target ad group to get the performance in 2. Popular and Relevant (PR). This algorithm is implemented in accordance with the common idea of existing bid 3. Amnesiac Averaged Perceptron (AAP). We implement the learning based approach proposed in ( Gupta et al., 2009 ). 4. Bid Keyword Suggestion (BKS). This is our proposed algorithm, which generates the recommended keywords by 5. Naive Bid Keyword Suggestion (N-BKS). This is a simplified version of our proposed algorithm, which generates the
For NR, we used the original bid price on each keyword. For PR, N-BKS, and AAP, we set the bid price of each recommended keyword to be its mean of winning prices in all auctions. For BKS and N-BKS, the relevance score r number of the recommended keywords is 2000. We assume that the target ad groups will bid on the recommended keywords with the recommended bid prices. Then we perform simulation on the data in the testing period. The target ad group will participate in the auctions in the test data with the constraint of their budgets. We then compute the performances of all the comparison algorithms in terms of the evaluation measures as described in the next subsection. 5.1.4. Evaluation measures
We used the following five measures in our experiments. 1. Ad impressions. This measure reflects the return of an ad group on impressions. We simulated the auctions for the 2. Expected clicks. This measure reflects the return of an ad group on clicks. We use the average CTR and ad impression 4. Expected advertiser revenue. This measure reflects the expected revenue of the advertiser as calculated in Eq. 3 . 5. Advertiser total cost (a.k.a., search engine revenue). This measure reflects the total cost of the advertiser as 5.2. Experimental results
We present the performances of the algorithms NR, PR, AAP, BKS and N-BKS with respect to ad impressions, expected we normalized the values under each evaluation measure by dividing them by the maximum value in the corresponding results, to protect the business secrets of the search engine. 5.2.1. Ad impressions
Fig. 7 shows the average ad impressions of each algorithm on the two sets of ad groups. From the figure we have the following observations.

On the small advertiser set, (i) PR, AAP, N-BKS, and BKS successfully achieve a lot more impressions as compared to NR, showing that the four recommendation methods can all help the small advertisers improve their performance. (ii) AAP slightly performs better than PR. The reason is that taking more algorithms such as search result click similarity will recommend more practical keywords and thus improve the impressions. (iii) N-BKS and BKS significantly outperform PR and AAP. The reason is that N-BKS and BKS takes competitiveness into consideration besides relevance and keyword frequency. They tend to recommend a group of relevant keywords with low competitiveness, which can help the advertisers accumulate satisfying ad impressions. (iv) BKS outperforms N-BKS. The reason is that BKS seeks the optimal bid prices compared with N-BKS. Overall speaking, BKS is the best choice for the small advertisers.

On the big advertiser set, (i) The order of the performance of NR, AAP, N-BKS, and BKS are the same as that of the small proposed method does not hurt the performance of the big advertisers. 5.2.2. Expected clicks the algorithms improve the click number as compared to NR, and BKS still achieves the best performance by recommending proposed method does not hurt the performance of the big advertisers. (ii) PR performs the best among the algorithms. so it gets a second highest expected clicks for the big advertisers. 5.2.3. Average cost per click
Fig. 9 shows the average CPC of each algorithm on the two sets of ad groups. From the figure, we have the following suggested by PR are much more expensive than those suggested by AAP, N-BKS, and BKS. The reason is that PR tends to recommend popular keywords which usually are highly competitive and thus with high CPC. 5.2.4. Expected advertiser revenue
Fig. 10 shows the expected advertiser revenue of each algorithm on the two sets of ad groups. From the figure, we have
NR, PR, and AAP. The keywords recommended by PR and AAP are often very popular and expensive, so the corresponding revenue for the advertisers will be small. (ii) For the big advertisers, PR and AAP can bring more reward than BKS and
N-BKS, for these advertisers have big budgets and they can afford the keywords with high bid prices. 5.2.5. Advertiser total cost (search engine revenue)
Fig. 11 shows the average total cost for different algorithms on the two sets of ad groups. From the figure, we have the in the introduction, the extra revenue comes from utilizing the empty ad slots related to the less-competitive keywords. 5.2.6. Summary and discussions To sum up all the aforementioned experimental results, we can get the following conclusions.

On the small advertiser set, (i) the proposed BKS algorithm can help the advertisers get largely improved performance on impression, click, CPC, and advertiser revenue compared with several popularly-used keyword suggestion methods. (ii)
Although all compared methods can help increase the search engine revenue substantially, from the perspective of the engine.
 can bid popular keywords with much higher price, and then the philosophy of PR is more favorite to them.
In total, our proposed technology can not only work well on the small advertisers that the majority of the ad groups belong to, but also not affect the performance of the big advertisers. 6. Conclusion and future work two problems with the current sponsored search systems: (i) a large number of advertisers cannot get satisfying ad problem solver and an SQP solver. The objective function for subset selection ensures that the proposed technology can simultaneously help advertisers and improve search engine revenue. Our experimental results verified the effectiveness revenue, and advertiser revenue.

For future work, we plan to work on the following directions. The first direction is to consider user experience in the evaluation. As we all know, sponsored search is a three-player game in which user is one of the key players. Therefore, we should also consider user experience besides relevance in order to obtain a comprehensive evaluation of the entire ecosystem. The second direction is to further refine the proposed bid keyword suggestion model to perform optimization for multiple ad groups simultaneously. In particular, we will consider the inter-competition within the ad groups that consume our keyword recommendation service.
 Acknowledgments 863 Project of China under Grant No. 2013AA013204, and the Tianjin Municipal Science and Technology Commission under Grant No. 13ZCZDGX02200 and 13ZCZDGX01098. This work is also partially supported by Microsoft Research Asia under Grant No. FY12-RES-OPP-094.
 References
