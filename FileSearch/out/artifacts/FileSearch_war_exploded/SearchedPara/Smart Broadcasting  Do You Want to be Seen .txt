 Many users in online social networks are constantly trying to gain attention from their followers by broadcasting posts to them. These broadcasters are likely to gain greater atten-tion if their posts can remain visible for a longer period of time among their followers X  most recent feeds. Then when to post? In this paper, we study the problem of smart broad-casting using the framework of temporal point processes, where we model users feeds and posts as discrete events occurring in continuous time. Based on such continuous-time model, then choosing a broadcasting strategy for a user becomes a problem of designing the conditional intensity of her posting events. We derive a novel formula which links this conditional intensity with the  X  X isibility X  of the user in her followers X  feeds. Furthermore, by exploiting this formula, we develop an efficient convex optimization framework for the  X  X hen-to-post X  problem. Our method can find broad-casting strategies that reach a desired  X  X isibility X  level with provable guarantees. We experimented with data gathered from Twitter, and show that our framework can consistently make broadcasters X  post more visible than alternatives.
The popularization of social media and online social net-working has empowered political parties, small and large corporations, celebrities, as well as ordinary people, with a platform to build, reach and broadcast information to their own audience. For example, political leaders use social me-dia to present their character and personalize their message in hopes of tapping younger voters 1 ; corporations increas-ingly rely on social media for a variety of tasks, from brand awareness to marketing and customer service [7]; celebrities leverage social media to bring awareness to themselves and strengthen their fans X  loyalty 2 ; and, ordinary people post about their lives and express their opinions to gain recogni-tion from a mix of close friends and acquaintances 3 . How-ever, social media users often follow hundreds of broadcast-ers , and they often receive information at a rate far higher than their cognitive abilities to process it [13]. This also means that many broadcasters actually share quite a por-tion of their followers, and they are constantly competing for attention from these followers.

In this context, these followers X  attention becomes a scarce commodity of great value [8], and broadcasters would like to consume a good share of it so that their posted contents are noticed and possibly liked or shared. As a consequence, there are myriads of articles and blog entries about the best times to broadcast information in social media and social networking, as well as data analytics tools to find these times 4 . However, the best time to post on social media depends on a variety of factors, often specific to the broad-caster in question, such as their followers X  daily and weekly behavior patterns, their location or timezone, and the num-ber of broadcasters and volume of information competing for their attention in these followers X  feeds (be it in the form of a Twitter user X  X  timeline, a Facebook user X  X  wall or an In-stagram user X  X  feed). Therefore, the problem of finding the best times to broadcast messages and elicit attention (be it views, likes or shares), in short, the when-to-post problem, requires careful reasoning and smart algorithms, which have been largely inexistent until very recently [19].

In this paper, we develop a novel framework for the when-to-post problem, where we measure the gained attention or visibility of a broadcaster as the time that at least one post from her is among the most recent k received stories in her followers X  feed. A desirable property of this time based visi-bility measure is that it is easy to estimate from real data. In order to measure the achieved visibility for a particular deployed broadcasting strategy, one only need to use a sep-arate held-out set of the followers X  feeds, independently of the broadcasted content. This is in contrast to other mea-sures based on, e.g. , the number of likes or shares caused by a broadcasting strategy. These latter measures are difficult to estimate from real data and often require actual interven-tions, since they depend on other confounding factors such as the follower X  X  reaction to the post content [6], whose effect is difficult to model accurately [5].

More specifically, we will model users X  feeds and posts as discrete events occurring in continuous time using the framework of temporal point processes. Our model explic-itly characterize the continuous time interval between posts by means of conditional intensity functions [1]. Based on such continuous-time model, then choosing a strategy for a broadcaster becomes a problem of designing the condi-tional intensity of her posting events. We derive a novel for-mula which can link the conditional intensity of an arbitrary broadcaster with her visibility in her followers X  feeds. Inter-estingly, we can show that the average visibility is concave in the space of (piece-wise) smooth intensity functions. Based on this result, we propose a convex optimization framework to address a diverse range of visibility shaping tasks given budget constraints. Our framework allows us to conduct fine-grained control of a broadcaster X  X  visibility across her followers. For instance, our framework can steer the visibil-ity in such a way that some time intervals are favored over others, e.g. , times when the broadcasters X  followers are on-line. In addition to the novel framework, we develop an effi-cient gradient based optimization algorithm, which allows us to find optimal broadcast intensities for a variety of visibility shaping tasks in a matter of milliseconds. Finally, we exper-imented on a large real-world dataset gathered from Twitter dataset, and show that our framework can consistently make broadcasters X  posts more visible than alternatives. Related work. The work most closely related to ours is by Spasojevic et al. [19], who introduced the when-to-post pro-blem. In their work, they first perform an empirical study on the best times to post in Twitter and Facebook by ana-lyzing more than a billion messages and responses. Then, they design several heuristics to (independently) pinpoint at the times that elicited the greatest number of responses in a training set and then show that these times also lead to more responses in a held-out set. In our work, we measure atten-tion by means of visibility, a measure that is not confounded with the message content and can be accurately evaluated on a held-out set, and then develop a convex optimization framework to design complete broadcasting strategies that are provably optimal.

There have been an increasing number of empirical stu-dies on understanding attention and information overload on social and information networks [2, 14, 16, 13]. The common theme is to investigate whether there is a limit on the amount of ties ( e.g. , friends, followees or phone contacts) people can maintain, how people distribute attention across them, and how attention influences the propagation of in-formation. In contrast, in this work, we focus on optimizing a social media user X  X  broadcasting strategy to capture the greatest attention from their followers.

Our work also relates to the influence maximization pro-blem, extensively studied in recent years [18, 15, 4, 10], which aims to find a set of nodes in a social network whose initial adoptions of certain idea or product can trigger the largest expected number of follow-ups. In this line of work, the goal is finding these influential users but not to find the best times for these users to broadcast their messages, which is our goal here. Only very recently, Farajtabar et al. [11] have developed a convex optimization framework to find broadcasting strategies, however, their focus is on steering the overall activity in the network to a certain state by incentivizing a few influential users, in contrast, we fo-cus on maximizing visibility as measured on a broadcaster X  X  audience X  X  feeds.

Finally, the framework of temporal point processes, which our work builds upon, has been increasingly used to model a wide range of phenomena in social media and social net-working sites, e.g. , from social influence [11], network evolu-tion [12], opinion dynamics [9] or product competition [20].
A temporal point process is a stochastic process whose realization consists of a list of discrete events localized in time, { t i } with t i  X  R + and i  X  Z + . Many different types of data produced in online social networks can be represented as temporal point processes, such as the times of tweets, retweets or likes in Twitter. A temporal point process can be equivalently represented as a counting process, N ( t ), which records the number of events before time t . Then, in a in-finitesimally small time window dt around time t , the num-ber of observed event is and hence N ( t ) = R t 0 dN ( s ), where  X  ( t ) is a Dirac delta func-tion. It is often assumed that only one event can happen in a small window of size dt , and hence dN ( t )  X  X  0 , 1 } .
An important way to characterize temporal point pro-cesses is via the intensity function  X  the stochastic model for the time of the next event given all the times of previous events. The intensity function  X  ( t ) (intensity, for short) is the probability of observing an event in a small window [ t,t + dt ), i.e. , Based on the intensity, one can obtain the expectation of the number of events in the windows [ t,t + dt ) and [0 ,t ) respectively as There is a wide variety of functional forms for the intensity  X  ( t ) in the growing literature on social activity modeling using point processes, which are often designed to capture the phenomena of interests. For example, retweets have been modeled using multidimensional Hawkes processes [11, 22], new network links have been predicted using survival pro-cesses [21, 12], and daily and weekly variations on message broadcasting intensities have been captured using inhomo-geneous Poisson processes [17].

In this work, since we are interested on optimizing mes-sage broadcasting intensities, we use inhomogeneous Pois-son processes, whose intensity is a time-varying function  X  ( t ) = g ( t ) &gt; 0.
In this section, we will present our model for the pos-ting times of broadcasters and the feed story arrival times of followers using point processes parameterized by intensity functions. Based on these models, we will then define our visibility measure, and derive a novel link between the visi-bility measure and the intensity functions of a broadcaster and her followers.
 Representation of broadcast and feed. Given a di-rected social network G = ( V , E ) with m = |V| users, we assume that each user can be both broadcaster and follower. Then, we will use two sets of counting processes to modeling each user X  X  activity, the first set for the user X  X  broadcasting activity, and the second set for the user X  X  feed activity.
More specifically, we represent the broadcasting times of the users as a set of counting processes denoted by a vector N ( t ), in which the u -th dimension, N u ( t )  X  X  0 } X  Z the number of messages user u broadcasted up to but not including time t . Then, we can characterize the message rate of these users using their corresponding intensities
Furthermore, given the adjacency matrix A  X  X  0 , 1 } m  X  m corresponding to the social network G , where A uv = 1 in-dicates that v follows u , and A uv = 0 otherwise, we can represent the feed story arrival times of the users as a sum of the set of broadcasting counting processes. That is which essentially aggregates for each user the counting pro-cesses of the broadcasters followed by this user. Then, we can characterize the feed rates using intensity functions where  X  ( t ) := A T  X  ( t ) = (  X  1 ,..., X  m ) T .
Finally, from the perspective of a pair of broadcaster (or user) u and her follower v , it is useful to define the feed rate of v due to other broadcasters (or users) followed by v as where we assume  X  v \ u ( t ) := 0 if v does not follow u , A Definition of Visibility. Consider a broadcaster u and her follower v , and we note that v may follow many other broadcasters other than u . Thus, at any time t , user v may see stories originated from multiple broadcasters. We can model the times and origins of all these stories present in v  X  X  current feed as a first-in-first-out (FIFO) queue 5 of pairs where  X  ( i ) denotes the i -th element in the queue, t ( i ) time when v receives a story from broadcaster u ( i ) , N denotes the set of broadcasters followed by v , and I is the length of the queue. The length I accounts for the fact that online social platforms typically set a maximum number of stories that can be displayed in the feed, e.g. , currently Twitter has I = 20. The FIFO queue is to model the fact that when a new story arrives, the oldest story, ( t ( I ) at the bottom of the feed will be removed, and the ordering of the remaining stories will be shifted down by one slot, i.e. , and the newly arrived story will be appended to the be-ginning of the queue as t (1) and appear at the top of the feed. For simplicity, we assume that the queue is always full at the time of modeling.

In the list H v ( t ), we keep track of the rank r uv ( t ) of the most recent story posted by the broadcaster u among all the stories received by user v by time t , i.e. , Then, given an observation time window [0 ,T ], and a deter-ministic sequence of broadcasting events, we can define the deterministic visibility of broadcaster u at k with respect to follower v as which is the amount of times that at least one story from broadcaster u is among the most recent k stories in user v  X  X  feed.

Since the sequence of broadcasting events are generated from stochastic processes, we will consider the expected value of T uv ( k ) instead. If we first denote the probability that at least one story from broadcaster u is among the k most re-cent stories in follower v  X  X  feed as then the expected (or average) visibility V ( k ) can be defined as given the integral is well-defined. In some scenarios, one may like to favor some periods of times ( e.g. , times in which the follower is online), encode such preference by means of a time significance function s ( t ) &gt; 0 and consider f uv instead of just f uv ( t,k ).

Note that the visibility V uv ( k ) is defined for a pair of broadcaster u and her follower v given k . We will focus our later exposition on a particular of u and v , and omit the subscript  X  uv and simply use notation such as f k ( t ), V ( k ). However, we note that the computation of the visibility for a pair of users u and v may depend on the broadcast and feed intensities of all users in the network.
 Computation of Visibility. In this section, we derive an expression for the average visibility, given by Eq. 13, us-ing the broadcaster posting and follower feed representation, given by Eqs. 5-8. This link is crucial for the convex visibil-ity shaping framework in Section 5.

Given a broadcaster u with  X  u ( t ) =  X  ( t ) and her follower probability f 1 ( t ) that at least one message from the broad-caster is among the k = 1 most recent ones received by v at time t . By definition, one can easily realize that f satisfies the following equation: f ( t + dt ) = f 1 ( t ) (1  X   X  ( t ) dt ) where each term models one of the two possible situations: 1. The most recent message received by follower v by time 2. The most recent message received by follower v by Then, by rearranging terms and letting dt  X  0, one finds that the probability satisfies the following differential equa-tion:
We can proceed with the induction step for f k ( t ) with k &gt; 1. In particular, by definition, f k ( t ) satisfies the following equation: f ( t + dt ) = f k  X  1 ( t ) where each term models one of the three possible situations: 1. The last message posted by broadcaster u by time t is 2. The last message posted by broadcaster u by time t is 3. The last k messages received by follower v by time t By rearranging terms and letting dt  X  0, we uncover a re-cursive relationship between f k ( t ) and f k  X  1 ( t ), by means of the following differential equation:
Perhaps surprisingly, we can find a closed form expression for f k ( t ), given by the following Lemma (proven in the Ap-pendix A):
Lemma 1. Given a broadcaster with message intensity  X  ( t ) and one of her followers with feed message intensity due to one message from the broadcaster is among the k most re-cent ones received by the follower at time t can be uniquely computed as given the boundary conditions f 1 (0) = ... = f k (0) = 0 and the incomplete Gamma function defined as  X [ k,x ] = R
Once we have a formula that allows us to compute the ave-rage visibility given any arbitrary intensities for the broad-casters, we will now show that, remarkably, the average vis-ibility is concave in the space of smooth intensity functions. Moreover, we will also show that the average visibility is concave with respect to the parameters of piecewise con-stant functions, which we will use in our experiments. Smooth intensity functions. In this section, we assume that the message intensity of the broadcaster belongs to the Figure 1: The visibility shaping problem. A so-cial media user u broadcast N u ( t ) messages at a rate  X  ( t ) . Her messages accumulate in each of her fol-lowers X  feeds, which receives M v ( t ) messages at a rate  X  ( t ) =  X  u ( t ) +  X  v \ u ( t ) , where  X  v \ u ( t ) denotes the mes-sage rate due to other broadcasters v follows. For each follower, the average visibility of a user u X  X  mes-sages is defined as the time that a post from user u is among the last k stories the follower received. In the visibility shaping problem, the goal is to opti-mize  X  u ( t ) to steer visibility. space H of all smooth functions. Before we proceed, we need the following definition:
Definition 2. Given the space H of all smooth func-tions, a functional J : H X  R is concave if for every g 1 ,g H and 0 &lt;  X  &lt; 1 : A functional J is convex if  X  J is concave.

It readily follows that the probability f k ( t ), given by Eq. 18, is a functional with  X  (  X  ) as input. Moreover, the following two theorems, proven in Appendices B and C, establish the concavity of f k ( t ) and V ( k ) with respect to  X  (  X  ).
Theorem 3. Given a broadcaster with message intensity  X  ( t ) and one of her followers with feed message intensity due to other broadcasters  X  ( t ) . The probability f k ( t ) that at least one message from the broadcaster is among the k most recent ones received by the follower at time t , given by Eq. 18, is concave with respect to  X  (  X  ) .

Theorem 4. Given a broadcaster with message intensity  X  ( t ) and one of her followers with feed message intensity due to other broadcasters  X  ( t ) . The visibility V ( k ) , given by Eq. 13, is concave with respect to  X  (  X  ) .

Given the above results, one could think of finding the optimal (general) message intensity  X  ( t ) that maximize (a function of) the average visibilities across a broadcaster X  X  followers. However, in practical applications, this may be inefficient and undesirable, instead, one may focus on a sim-pler parametrized family of intensities, such as piecewise constant intensity functions, which will be easier to opti-mize and fit using real data. To this aim, next, we prove that the average visibility is also concave on the parameters defining piecewise constant intensity functions.
 Piecewise constant intensity functions. In this section, we assume that the message intensity  X  ( t ) of the broad-caster belongs to the space of piecewise constant functions  X  : [0 ,T ]  X  R , denoted by G , which we parametrized as follows: where a m  X  0, M is the number of pieces,  X  i  X   X  i  X  1 = T/M =  X  and  X  0 = 0.

As the reader may have noticed, the results from the pre-vious section are not readily usable since Lemma 1 requires the intensity functions to be smooth. However, we will now show that, for every function  X  ( t )  X  X  , there is a sequence of smooth functions  X  n ( t )  X  X  such that lim n  X  X  X   X  n ( t ) =  X  ( t ) and, this will sufficient to prove concavity. Before we pro-ceed, we need the following definition:
Definition 5. A functional J : G  X  H is said to be such that provided that ||  X   X   X   X  || &lt;  X  , where || X || is a norm in H .
It readily follows that the probability f k is a continuous functional on H . Moreover, we need the following lemma (proven in Appendix D) to prove the concavity:
Lemma 6. For every  X  ( t )  X  G , there is a sequence of smooth functions  X  n ( t )  X  X  where lim n  X  X  X   X  n ( t ) =  X  ( t ) .
Using Lemma 6, for any  X  ( t )  X  X  , it follows that where  X  n ( t ) is a sequence of smooth functions such that lim n  X  X  X   X  n ( t ) =  X  ( t ). As a consequence, we can establish the concavity of f k ( t ) and V ( k ) with respect to a 1 with the following Theorem (proven in Appendix E):
Theorem 7. f k and V ( k ) are concave functionals in the space of piecewise constant functions G .

Corollary 8. If we represent  X   X  X  using Eq. 20, f k ( t ) and V ( k ) are concave with respect to a 1 ,...,a m .
Given the concavity of the average visibility, we now pro-pose a convex optimization framework for a variety of visi-bility shaping tasks. In all these tasks, our goal is to find the optimal message intensity  X  u ( t ) for broadcaster u that maximizes a particular nondecreasing concave utility func-tion U ( V u ( k )) of the average visibility of broadcaster u in all her followers within a time window [0 ,T ], i.e. , caster u  X  X  followers, V uv ( k ) denotes the average visibility in Algorithm 1: Projected Gradient Descent for Visibility Shaping
Initialize c ; repeat until convergence ; follower v , the first constraint asserts the intensity function remains positive, and the second limits the average number of messages broadcasted within [0 ,T ] to be no more than C .
We next discuss two instances of the general framework, which achieve different goals (their constraints remain the same and hence omitted). More generally, the flexibility of our framework allows to use any nondecreasing concave utility function.
 Average Visibility Maximization (AVM). The goal here is to maximize the sum of the visibility for all the broad-caster X  X  followers, i.e. , Minimax Visibility Maximization (MVM). Suppose our goal is instead to keep the visibility in the n followers with the smallest visibility value above a certain minimum level, or, alternatively make the average visibility across the n followers with the smallest visibility as high as possible. Then, we can perform the following minimax visibility max-imization task where V uv [ i ] ( k ) denotes the average visibility in the follower with the i -th smallest visibility among all the broadcaster X  X  followers.
To solve the visibility shaping problems defined above, we need to be able to (efficiently) evaluate the probability func-tion f k and visibility V ( k ). However, a direct evaluation by means of Eqs. 18 and 13 seem difficult. Here, we present an alternative representation of the probability function f k the visibility V ( k ) for piece-wise constant intensity functions, which allow us to compute these quantities very efficiently. Based on this result, we present an efficient gradient based algorithm to find the optimum intensity.

Assume the broadcaster X  X  message intensity  X  ( t ) and the follower X  X  feed message intensity due to other broadcasters  X  ( t ) adopt the following form: Then, each piece m in the above intensities satisfies the re-currence relation given by Eq. 17, which we rewrite as and one can easily prove by induction that, in general, the solution of the above differential equation for each time in-terval  X  m  X  1  X  t &lt;  X  m is given by val. Such representation allows for an efficient evaluation of f ( t ).

Next, we also need to compute the integral of f k efficiently compute the visibility V ( k ). Without loss of gen-erality, we represent the time for each piece in a normalized time window [0 , 1]. Then, the integral of f k ( t ) can be written as follows: where note that the last term is efficiently computable since, for integer values of n , the incomplete Gamma function
Given Eq. 27, we can now easily compute the gradient of the visibility V ( k ), which we can then use to design an effi-cient gradient based algorithm. For brevity, we just show the gradient for k = 1. Let c = ( c 1 ,...,c M ), and y = ( y 0 ,...,y M  X  1 ,y M ) be the values of f k ( t ) at the beginning of each time interval, then,  X  V (1) where we can easily compute  X  X  j / X  X  m recursively as ( b Once we have an efficient way to compute the visibility V ( k ) and its gradient, we can readily design a projected gradient descent algorithm to find the optimal message in-tensity  X  u ( t ) in the visibility shaping problems described in Section 5. Note that, since our optimization problems are convex, there is a unique optimum and convergence is guaranteed. Moreover, for the projection step, we solve a quadratic program, minimizing the distance to the feasible polytope. Algorithm 1 summarizes the overall algorithm. Dataset description and experimental setup. We use data gathered from Twitter as reported in previous work [3], which comprises the following three types of information: profiles of 52 million users, 1 . 9 billion directed follow links among these users, and 1 . 7 billion public tweets posted by the collected users. The follow link information is based on a snapshot taken at the time of data collection, in September 2009. Here, we focus on the tweets published during a six and a half month period, from February 2, 2009 to August 13, 2009. In particular, we sample 10,000 users uniformly at random as broadcasters and record all the tweets they posted. Moreover, for each of these broadcasters, we track down all their followers and record all the tweets they posted as well as reconstruct their timelines by collecting all the tweets published by the people they follow.

In our experiments, we use the first three and a half month period, from February 2 to May 13 to fit the piecewise con-stant intensities of the followers X  timelines and the followers X  significance, which we use in our convex visibility shaping framework. Here, the follower X  X  significance is the proba-bility that she is on-line, estimated as a piecewise (hourly) constant probability from the tweets-retweets the follower posted  X  if a follower tweeted or retweeted in an hour, we assume it was on-line during that hour. Then, we use the last three month period, from May 14 to August 13, to eval-uate our framework. We refer to the former period as the training set and the latter as the test set. We experiment both with T =24 hours ( M =24,  X =1 hour) and T =7 days ( M =24  X  7,  X =1 hour), and set the budget C to be equal to the average number of tweets per T the broadcaster posted in the training period.
 Evaluation schemes. Throughout this section, we use three different evaluation schemes, with an increasing re-semblance to a real world scenario:
Theoretical objective : We compute the theoretical value of the utility using the broadcaster intensity under study, be it the (optimal) intensity given by our convex visibility shaping framework, the intensity given by an alternative baseline, or the the broadcaster X  X  (true) fitted intensity.

Simulated objective : We simulate events both from the broadcaster intensity under study and each of the followers X  timeline fitted intensities. Then, we estimate empirically the overall utility based on the simulated events. We perform 100 independent simulation runs and report the average and standard error (or standard deviation) of the utility.
Held-out data : We simulate events from the broadcaster intensity under study, interleave these generated events on the true followers X  timelines recorded as test set, and com-pute the corresponding utility. We perform 10 independent simulation runs and report the average and standard error (or standard deviation) of the utility.
 Intensities, top-k probabilities and visibilities. We pay attention to four broadcasters, picked at random, and solve the average visibility maximization task for one of their followers, also picked at random. Our goal here is to shed light on the influence that the follower X  X  timeline intensity and significance have on the optimized broadcaster X  X  inten-sity as well as its corresponding visibility and top-k prob-ability for different values of k . Figure 2 summarizes the results, which show that (i) including the significance in the visibility definition shifts the optimized intensities away from the times in which the followers are not online (first row); (ii) the optimized intensities typically achieve a higher av-erage visibility than the one achieved by the broadcaster X  X  true posting activity on a held-out set (third row); and (iii) (  X  optimized intensities with and without significance for k =1 , 20 ( f the optimized intensities without significance for k =1 , 20 ( V the optimized intensities are more concentrated in time for k = 1 (first row) and achieve a higher average visibility and top-k probability for k = 20 (second and third row). Solution quality. In this section, we perform a large scale evaluation of our framework across all 10,000 broadcasters in terms of the three evaluation schemes described above and compare its performance against several baselines. Here, we consider the definition of visibility that incorporates signifi-cance since, as argued previously, may lead to more effective broadcasting strategies 6 .

In the average visibility maximization task, we compare our framework with three heuristics, in which the broad-caster distributes the available budget uniformly at ran-dom (RAVM), proportionally to P n i =1  X  i ( t ) (IAVM) and proportionally to P n i =1 s i ( t )  X  i ( t ) (PAVM), respectively. In the minimax visibility maximization task, we also compare with three heuristics. The first two heuristics are similar to two of the ones just mentioned for AVM, i.e. , the broad-caster distributes the available budget uniformly at ran-dom (RMVM) and proportionally to P n i =1  X  i ( t ) (IMVM).
W e obtain qualitatively similar results if we omit the signif-icance in the definition of visibility. Actually, in such case, our framework beats the baselines by a greater margin. In the third heuristic, the broadcaster distributes its bud-get following a greedy procedure: at each iteration k , it first finds the user with the least visibility given  X  and then solves the average visibility maximization for that user given a budget of C/n . Finally, it outputs the inten-sity  X  ( t ) = P n k =1  X  ( k ) ( t ). The greedy procedure starts with  X  (0) ( t ) = C/M . Additionally, for the held-out comparison, we also compute the actual average intensity that the broad-caster achieved in reality.

Figure 3 summarizes the results by means of a box plot, which shows the utilities achieved by our framework and the heuristics normalized with respect to the utility achieved by the broadcasters X  fitted true intensity (by the posts during the test set for the third evaluation scheme). That means, if y = 1, the optimized intensity achieves the same utility as the broadcaster X  X  recorded posts. For the average vis-ibility maximization task, the intensities provided by our method achieve 1 . 5  X  higher theoretical objective and 1 . 3  X  higher utility on a held-out set, in average (black dashed line), than the broadcaster X  X  fitted intensities. In contrast, alternatives fail at providing any gain, i.e. , y  X  1 for a half of the broadcasters. Finally, for the minimax visibility max-imization task, which is significantly harder, the intensities provided by our method achieve 1 . 6  X  higher theoretical ob-
Th eoretical
S imulated
R eal Held-out Figure 3: Visibility shaping for 10,000 broadcast-ers. The left (right) column corresponds to AVM (MVM), evaluated using the theoretical objective (first row), the simulated objective (second row) and the held-out data (third row). The red (blue) dashed line shows the median (mean) objective popularity and the box limits correspond to the 25% X 75% per-centiles. Figure 4: The average visibility against (a) # of followers and (b) k . Panel (c) plots running time. jective and 1 . 4  X  higher average utility on a held-out set, in average (black dashed line), than the broadcaster X  X  fitted in-tensities. In this case, although our method outperforms the baselines by large margins in terms of theoretical and sim-ulated objectives, the baselines achieved almost the same average utility on the held-out set. The theoretical and sim-ulated objective are almost equal in all cases, as one may have expected.
 Solution quality vs. # of followers. Figure 4(a) shows the average visibilities achieved by our optimized intensi-ties for the AVM task, normalized by the average visibil-ity that the corresponding broadcasters X  fitted intensities achieve, against number of followers for the same 10,000 broadcasters as above. Independently of the number of fol-lowers, we find that the intensities provided by our method consistently outperform the broadcaster X  X  fitted intensities. Visibility vs. k . Figure 4(b) shows the average visibil-ity achieved by our optimized intensities for the AVM task against k for the four broadcasters from Figure 2.
 Scalability. Figure 4(c) shows that our convex optimiza-tion framework easily scale to broadcasters with thousands of followers. For example, given a broadcaster with  X  2000 followers, our algorithm takes 250 milliseconds to find the optimal intensity for the average visibility maximization us-ing a single machine with 64 cores and 1 . 5 TB RAM.
In this paper, we developed a novel framework to solve the when-to-post problem, in which we model users X  feeds and posts as discrete events occurring in continuous time. Under such continuous-time model, then choosing a strategy for a broadcaster becomes a problem of designing the conditional intensity of her posting events. The key technical idea that enables our framework is a novel formula which can link the conditional intensity of an arbitrary broadcaster with her visibility in her followers X  feeds, defined as the time that at least one post from her is among the most recent k received stories in her followers X  feed. In addition to the framework, we develop an efficient gradient based optimization algo-rithm, which allows us to find optimal broadcast intensities for a variety of visibility shaping tasks in a matter of sec-onds. Experiments on large real-world data gathered from Twitter revealed that our framework can consistently make broadcasters X  posts more visible than alternatives.
Our work also opens many interesting venus for future work. For example, we assume that the social network sorts stories in each user X  X  feed in inverse chronological order. While this is a realistic assumption for some social networks ( e.g. , Twitter), there are other social networks ( e.g. , Face-book) where the feed is curated algorithmically. It would be very interesting to augment our framework to such cases. In this work, we model users X  intensities using inhomogeneous Poisson processes, whose intensities are history independent and deterministic. Extending our framework to point pro-cesses with stochastic and history dependent intensity func-tions, such as Hawkes processes, would most likely provide more effective broadcasting strategies. Finally, in this work, we validate our framework on two visibility shaping tasks, average visibility maximization and minimax visibility max-imization, however, there are many other useful tasks one may think of, such as visibility homogenization.

Acknowledgements. This project was supported in part by NSF/NIH BIGDATA 1R01GM108341, ONR N00014-15-1-2340, NSF IIS-1218749, and NSF CAREER IIS-1350983. [1] O. Aalen, O. Borgan, and H. K. Gjessing. Survival and [2] L. Backstrom, E. Bakshy, J. M. Kleinberg, T. M. [3] M. Cha, H. Haddadi, F. Benevenuto, and P. K.
 [4] W. Chen, C. Wang, and Y. Wang. Scalable influence [5] J. Cheng, L. Adamic, P. Dow, J. Kleinberg, and [6] T. Chenhao, L. Lee, and B. Pang. The effect of [7] E. Constantinides. Foundations of social media [8] M. B. Crawford. The world beyond your head: On [9] A. De, I. Valera, N. Ganguly, S. Bhattacharya, and [10] N. Du, L. Song, M. Gomez-Rodriguez, and H. Zha. [11] M. Farajtabar, N. Du, M. Gomez-Rodriguez, I. Valera, [12] M. Farajtabar, Y. Wang, M. Gomez-Rodriguez, S. Li, [13] M. Gomez-Rodriguez, K. Gummadi, and B. Sch  X  olkopf. [14] N. Hodas and K. Lerman. How visibility and divided [15] D. Kempe, J. Kleinberg, and  X  E. Tardos. Maximizing [16] G. Miritello, R. Lara, M. Cebrian, and E. Moro. [17] N. Navaroli and P. Smyth. Modeling response time in [18] M. Richardson and P. Domingos. Mining [19] N. Spasojevic, Z. Li, A. Rao, and P. Bhattacharyya. [20] I. Valera and M. Gomez-Rodriguez. Modeling [21] D. Vu, D. Hunter, P. Smyth, and A. Asuncion.
 [22] Q. Zhao, M. Erdogdu, H. He, A. Rajaraman, and
We will prove this lemma by induction on k . For the case k = 1, f 1 ( t ) satisfies a first-order linear differential equation, whose unique solution is as long as assuming f 1 ( t ) = 0. Then, using that  X [1 , e which proves the theorem for k = 1. Now, in the inductive step we assume the hypothesis is true for 1 , 2 ,...k  X  1 and we prove it for k . We start by rewriting the differential given by Equation 17 as where, by assumption, f k  X  1 ( t ) is unique and known. Then, as long as f k (0) = 0, the above differential equation has a unique solution and thus we only need to find f k satisfies it. To do so, we rewrite the right hand side of the differential equation using the inductive hypothesis as which, using  X [ k  X  1 ,x ] = 1 k  X  1 ( X [ k,x ] +  X   X [ k,x ] expressed as  X  ( t )+  X  ( t ) Next, we hypothesize that and rewrite Eq. 31 as  X  ( t ) +  X  ( t ) f k ( t ) + Then, by the fundamental theorem of calculus, and thus  X  ( t ) +  X  ( t ) f k ( t ) + Finally, using that for differentiable functions g and h , gh ( gh ) 0  X  g 0 h , we have that and then we can rewrite Eq. 34 as  X  ( t ) +  X  ( t ) f k ( t ) + ( k  X  1)!( f which simplifies to This asserts that hypothesized solution for f k ( t ) in Eq. 32 satisfies Eq. 30, hence, it is the unique solution for f k
From Lemma 1, we know that Using integration by parts, we can rewrite the above ex-pression as vex with respect to  X  (  X  ). Moreover, using Lemma 10 and R spect to  X  (  X  ).

Lemma 9. Functional J [  X  ] = e  X  R t a  X  ( x ) dx is convex with respect to  X  (  X  ) for any constant a  X  t .

Proof. We simply verify that J [  X  ] satisfies the definition of convexity, as given by Eq. 19: where the inequality follows from the arithmetic-geometric mean inequality, i.e. ,  X x + (1  X   X  ) y  X  x  X  y 1  X   X  for all positive x , y , and 0 &lt;  X  &lt; 1.

Lemma 10. If the functional J t [  X  (  X  )] is convex with re-respect to  X  (  X  ) .
 verifies the definition of convexity, as given by Eq. 19: where the inequality holds using that, given any two arbi-trary functions h 1 and h 2 such that h 1 ( x )  X  h 2 ( x )  X  0 g ( x )  X  0 for all x  X  X  .

Theorem 3 proves the concavity of f k ( t ) with respect to  X  (  X  ). Therefore, 1  X  f k ( t ) is convex and, using Lemma 10, it holds that R T 0 (1  X  f k ( t )) s ( t ) dt = R T 0 s ( t ) dt  X  also convex. Then, since R T 0 s ( t ) dt is constant, R T is concave with respect to  X  (  X  ) and the proof is complete.
Each piecewise continues function can be represented as summation of a number of heaviside step functions. The count is equal to the number of discontinuity points. How-ever, each heaviside function itself is the limit of smooth tanh functions. Therefore, the piecewise continues function will be the limit of a finite summation of smooth tanh functions. Consider two piecewise constant functions  X  (  X  ) , X  (  X  )  X  G . According to Lemma 6 there exist sequence of smooth func-tions such that lim n  X  X  X   X  n =  X  and lim n  X  X  X   X  0 n =  X  0 cause of the concavity of f k in H we know for 0 &lt;  X  &lt; 1: f k [  X  X  n (  X  ) + (1  X   X  )  X  0 n (  X  )]  X   X f k [  X  n (  X  )] + (1  X   X  ) f Taking the limit and using the continuity of f k we get: f k [  X  X  (  X  ) + (1  X   X  )  X  0 (  X  )]  X   X f k [  X  (  X  )] + (1  X   X  ) f Accompanied with convexity of space G the theorem is proved.
