 W hether in research o rapp li cat ion, i t i s esse n t i a l t o k now the e x act reg ion o f auser .Wi th a user  X  sh i st o r y m ov eme n ts , tra j ect o r y pred i ct ion i sded i cated t o fi n d the pr o bab l e lo cat ion o f the user at s o me future t i me .T he researchers ha v e d on ea lo t o ftra j ect o r y pred i ct ion wo rks on G PS data .T he p o s i t ion o fauser i sc oll ected e v er y3  X  5 m in utes s o that the tra j ect o r y fr o mam ovin g o b j ect appr oxi mate the o b j ect  X  sm ov eme n ts ,w h i ch i sac on t in u o us fu n ct ion fr o mt i me t o space .T he tra j ect o r y pred i ct ion wo rk i s o fgreat v a l ue t olo cat ion based ser vi ces , c i t y p l a nnin g , res o urce ma n ageme n ta n dma ny o ther re l ated areas [1].
How e v er ,in rea li t y, no ta ll the datasets c o u l dpr ovi de sat i sf yin gc on t in u o us lo cat ion data as the rea l tra j ect o r y. O non eha n d , G PS in f o rmat ion ma y be in c o mp l ete dur in gs o me t i me per io ds w h i ch will make the tra j ect o r y d i screte in s o me se n se [ 2 ]. O n the o ther ha n d , ma ny lo cat ion in f o rmat ion datasets ca nno t pr ovi de c on t in u o us tra j ect o r y such as the m o b il ete l ec o mmu ni cat ion s y stem . T he lo cat ion o fauser i srec o rded w he n aca ll i smade in the m o b il eb illin gdata b y m o b il e o perat o rs .T he tra j ect o r yo bta in ed fr o mthem o b il eb illin gdata i s fragme n ta l because the ca ll freque n c yi smuch low er tha n the G PS refresh in g freque n c y.

T he s wi ft pr o gress o fm o der nwi re l ess c o mmu ni cat ion made m o b il eph on e m o re a n dm o re p o pu l ar f o re v er yon e .T he c ov erage o fm o b il eph on es c o u l dreach 90% in de v e lo ped c o u n tr i es a n dm o re tha n 7 0% g lo ba lly[3]. T he resu l t o fthetra -j ect o r y pred i ct ion o fthe l arge cr ow ds on  X  d i screte  X  m o b il eb illin gdata i smea n-in gfu l because o ftheh i gh c ov erage o fthem o b il eusers .

In th i spaper ,w epr o p o sed three d iff ere n ttra j ect o r y pred i ct in gmeth o ds .T he ma in c on tr i but ion s o fth i spaperc o u l d be summar i zed as f ollow s : 1. W epr o p o sed a u niv ersa l frame wo rk o ftra j ect o r y pred i ct ion on d i screte 2 .W eprese n ted the defi ni t ion o fd i screte e n tr o p yw h i ch i susedt o measure 3. A cc o rd in gt o the d iff ere n td i screte e n tr o p y, w epr o p o sed the In d ivi dua lT ra -4 .A pract i ca l h y br i dpred i cat o r wi th h i gh accurac y a n dpred i ctab ili t yi s T he rema inin g o f the paper i s o rga ni zed as f ollow: In sect ion 2 , s o me re l ated wo rk a n dbackgr o u n dk nowl edge has bee n prepared .In sect ion 3, w emakes o me defi ni t ion sa n d stateme n ts o f the pr o b l em .S ect ion 4deta il sthege n era l pred i c -t ion frame wo rk a n d in tr o duced t wo pred i ct o rs .F urther , the h y br i dpred i cat o r i s pr o p o sed t oi mpr ov e the accurac y. S ect ion 5 rep o rts on the dataset in tr o duct ion a n de x per i me n ta l stud y. W ec on c l ude o ur wo rk a n dd i scussed the pr o spects o f the stud yinS ect ion 6. T here are three p o pu l ar p o s i t ionin gmeth o ds , G PS, Wi-Fi, a n dm o b il edata .T he tra j ect o r y pred i ct ion wo rk i sma inly based on these three d i st in ct datasets .
G PS p o ssesses the h i ghest p o s i t ion prec i s ion w h i ch ca n be n ear 1  X  10 m .In [1], Mon rea l e in tr o duced a n e w meth o d o fpred i ct in g in the c i t y b y G PS data . By us in gcr ow ddata , the y ca n pred i ct 60% tra j ect o r i es a v erage ly. How e v er , due t o the c o st o fG PS de vi ces , the samp l erate i s li m i ted . Ge n era lly, the samp l erate wo u l d no tbe ov er 1000 in d ivi dua l s w hat makes the G PS tra j ect o r y pred i ct ion wo rk no tc onvin c in ge no ugh .

Wi th Wi-Fi mac address , auserca n be lo cated in the reg i stered Wi-Fi base s o me mea nin gfu l attempts .How e v er , the Wi-Fi de vi ces are no ts o p o pu l ar a ll ov er the wo r l d .T he tra j ect o r y pred i ct ion wo rk c o u l d only be app li ed in s o me spec i a l areas such as a campus o rac o mmu ni t y.

Mo b il eph on es are m o re a n dm o re wi despread a ll ov er the wo r l d .I tmakes us p o ss i b l et o d o s o me tra j ect o r y pred i ct ion wo rks on l arge m o b il e datasets . T h o ugh the prec i s ion o fthe lo cat ion areas o bta in ed fr o mthem o b il edata i s no t v er y h i gh , usua lly 2 0  X  500 m in the c i t y. T he l arge am o u n ts o fm o b il eusers c o u l dmaketheresu l t no t only li m i ted in the s in g l e in d ivi dua l s but a l s o the l arge cr ow d in the c i t y. In [ 2 ], L e i d i dmea nin gfu l attempts on 10,000,000 users  X  ph on e rec o rds .T he y dem on strate that the upper li m i t o f the pred i ct ion accurac yon m o b il e datasets i s 93%. B ut the y d ono tpr o p o se a ny spec i fic pred i ct ion meth o d . W epr o ceed t o c ov er the data m o de l used in th i spapera n d the pr o b l em addressed . 3.1 Data Model U s in g lo cat ion data , the trace o fam ovin g o b j ect ca n be descr i bed as a tra j ec -t o r ywi th t i me -stamped lo cat ion s .T he lo cat ion i s abstracted b y us in g o rd in ar y Cartes i a n c oo rd in ates , as f o rma lly stated b y the f ollowin gf o rm : Definition 1. A Positioning data is a sequence of triples P = &lt;x 1 ,y 1 ,t 1 &gt; , ... ,&lt; x n ,y n ,t n &gt; ,where t i ( i =1 ... n ) denotes a timestamp such that  X  0 &lt;i&lt;n t &lt;t i +1 and ( x i ,y i ) are point in R 2 .
 U sua lly, i t i shardt o pr o ceed wi th Cartes i a n c oo rd in ates .So the ra n ge i sd ivi ded in t o reg ion sa n dthere i s no n eed t o k now the e x act c oo rd in ate o fthe o b j ect , w h i ch in d i cates that k nowin gthereg ion that the o b j ect be lon g in gt oi se no ugh . In o rder t o stud y act ivi t y regu l ar i t y, t i me i ssegme n ted in t o equa l-l e n gth in ter -v a l s .T he rec o rds i scha n ged in t o t i me ser i es wi th reg ion tabs acc o rd in gt o t i me seque n ce .W eca ll i ttra j ect o r y, defi n ed as f ollowin g : Definition 2. A Trajectory is a time series T = &lt;R 0 , ... ,R n &gt; wheretimeis divided into n equal-length intervals, and  X  0 &lt;i&lt;n R i  X  S . S = { R 0 , ... ,R n } is a set of regions, each position ( x i ,y i ) corresponds to a region R i .
 In the  X  b lin d  X  area w here w eca nno tfi n d o ut the reg ion the user sta y s ,w es i mp ly mark the reg ion wi th a  X ? X . T he tra j ect o r yi s fragme n ta lo r  X  d i screte  X , descr i bed as T = &lt;R 0 , ... ,R n &gt; ,w here  X  0 &lt;i&lt;n R i  X  S  X  ?. T h i sk in d o ftra j ect o r yi s no lon ger  X  c on t inio us  X .

In th i spaper ,w ec on s i der d i sc ov er in gauser  X  sper io d i c patter n sfr o mh i s h i st o r i ca l tra j ect o r y. G iv e n at i me per io d C ,w h i ch i sthe n umber o ft i mestamps that a patter n ma y re -appear , auser  X  stra j ect o r yi sd ivi ded in t o n C sub -patter n s G . G i represe n ts the sub -patter nin the i th o f T . T ca n be represe n ted as T = { G 0 ,G 1 , ... ,G n set as on eda y. 3.2 Problem Characterization W ea i mt o pred i ct a user  X  s future tra j ect o r y based on h i st o r y tra j ect o r y a n d l ast -fe w-h o ur tra j ect o r y.

T here are t wo k in d o fpred i ct ion cases : 1. G iv e nl ast fe w h o urs tra j ect o r yo f the da y, pred i ct n e x tfe w h o urs lo cat ion 2 .P red i ct n e x tfe w da y s lo cat ion wi th o ut l ast fe w h o urs tra j ect o r y. U sua lly, Bo th t wo cases are requ i red t o be successfu lly pred i cted .H ere w etr y t o defi n e apred i ct o r : Problem Statement. A predictor is a function or an algorithm, with the his-tory or common sense, predicts the region of the object staying at a given time.
 Formally written as: r = Predictor ( sub  X  trajectory, time ) where sub-trajectory is the recent trajectory of the day, or is  X  ,and time is the predicting time.
 T he sta n dard t oj udge a pred i ct o r i spred i ct ion accurac y, but a pred i ct o r will no ta lw a y sbethebest wi th the v ar i at ion o f parameters . In th i s sect ion, w efirstdem on strate the frame wo rk o fpred i ct ion.T he strateg yo f e v a l uat in gpred i ct ion accurac yi s in tr o duced .A parameter ca ll ed Di screte E n-tr o p yi s in tr o duced t o measure the pred i ctab ili t yo fauser . G iv e n athresh ol d , users are d ivi ded in t o t wo gr o ups .In pract i ce , Cr ow d T ra j ect o r i es based P re -d i ct o r ( C TP) wo rks w e ll wi th users o fh i gh Di screte E n tr o p y. An d In d ivi dua l T ra j ect o r y based P red i ct o r (ITP) i s better f o rusers o f low Di screte E n tr o p y. 4.1 General Prediction Framework B ecause o fthe n ature o fm o b il edata , the tra j ect o r yw eget i s fragme n ta l. W he n no tequa l t o X ? X .Ino ther wo rds ,w ek now the e x act reg ion o ft i me i .W ec o m -pared the resu l t o fpred i ct ion wi th R i , a n d gather a ll the in sta n ces t o ca l cu l ate pred i ct ion accurac y.

E n tr o p yi spr o bab ly the m o st fu n dame n ta l qua n t i t y measur in gtheregu l ar i t y o fuser  X  sm ov eme n ts .A cc o rd in gt oin c o mp l ete h i st o r y, w eca nj udge w hether a n o b j ect i shardt o pred i ct o r no t .W eca ll the parameter Di screte E n tr o p y, defi n ed as f ollow s : Definition 3. A Discrete Entropy is a parameter to measure the degree of pre-dictability, writtern as where p ( R i ) is the probility of R i exists in T ( T is the sub-trajectory of T whose element of  X ? X  X s remove), and i is the timestamp.
 Fi g .1 sh ow sthed i str i but ion o fd i screte e n tr o p yin the cr ow d .F r o m the figure , w eca n see that i t i sc lo se t ono rma l d i str i but ion. T he users w h o se e n tr o p yi s bet w ee n0 a n d 0.1 h ol dah i gh pr o p o rt ion w h i ch i s because in o ur datasets a gr o up o fpe o p l eca ll s o fe w mere ly 1 o r2ca ll s dur in gt wo w eeks .
 W euse E d , as i mp l e w a y t o measure the degree o f the pred i ctab ili t y. I fthe E d i s low, i t i seas y t o pred i ct b y the e xi st in gh i st o r y T .I fthe E d i sh i gh ,i t i s hard t o pred i ct . 4.2 Individual Trajectory Based Predictor Ultra-pattern Tree Building. In th i s sect ion, w efirsttr i ed t o c o mb in es i m il ar sub -tra j ect o r i es o fauser w h i ch a i med at reduc in guser  X  sh i st o r y. T he nw euse apr oi r i ate a l g o r i thm t o ca l cu l ate the freque n t patter n s o f the user .A t l ast ,w e bu il ds o ca ll ed u l tra -patter n tree t o get resu l t .

D ue t o the l ack o fc on t in ues tra j ect o r y, the tra j ect o r y b y m o b il edataca nno t re fl ects the true m ov eme n t o fauser .Soi t i s i mp o ss i b l et o rebu il dthe w h ol e tra j ect o r y. No rma l data m inin ga l g o r i thm based on freque n ttra j ect o r y ca nno t wo rk .

To c o mb in es i m il ar sub -tra j ect o r i es , a parameter w h i ch character i ze the s i m i-ca n measure the s i m il ar i t yo fm ov eme n t w h i ch i sab l et o measure the s i m il ar i t y o fsub -tra j ect o r i es . Definition 4. The similarity of two trajectories is where G i and G j are two sub-trajectories of a user. And G i,k is the region in time offset k of sub-trajectory G i . If G p,q is  X ? X , we use the most frequent region of the sub-trajectory instead.
 I fthed i sta n ce i ssma ll e no ugh ,w ebe li e v e that the t wo-da y m ov eme n ts are s i m -il ar .T ake the o ffice emp loy ee as a n e x amp l e .In the wo rk in gda y s , he ma y g o t o wo rk b y the same w a y, a n dd o s i m il ar th in gs .So the tra j ect o r i es o f wo rk in gda y s Definition 5. The strategy of combining two sub-trajectories is: according to time order we combine G i and G j , if the two regions of two sub-trajectories are the same, just reserve the region as the result. If one region is known and the other is  X ? X , the result is the known region. If two region are known, choose one randomly.
 Example 1. Two sub -tra j ect o r i es i s : G 1 = { A, B, ? ,C,A,A } G 2 = { A, ? , ? ,A,C, ? } O n ecase o fc o mb in at ion resu l t i s : G 2 1 , 2 = { A, B, ? ,C,C,A } .
 T he meth o d o fc o mb in at ion i s ,w efirstca l cu l ate the S ( G i ,G j ) o ft wo da y X  ssub -tra j ect o r i es in T , the n ch oo se the sma ll est  X  % as ca n d i date a n dreprese n ted as G 2 .W eca l cu l ate the S ( G 2 the sma ll est  X  % as ca n d i date a n dreprese n ted as G 3 .T he wo rk i sfi ni shed u n-t il G  X   X  C .A t l ast ,w ec oll ect a ll the sub -tra j ect o r i es a n dc o mb in at ioin gthese tra j ect o r yi es as U G .T he nw ede l ete a ll  X  ? X  e l eme n ts o f U G w h i ch i sreprese n ted as U G .

H ere w eha v erest o red a ll the tra j ect o r i es o fausera n dthec o mb in ated tra -j ect o r i es , a n dthe nw euse U G t o bu il dt -patter n s w h i ch i s descr i be in [6].
B ecause o ur data i s no ttherea l tra j ect o r yo fauser ,w eca ll o ur tree as u l tra -patter n tree .Fi g . 2 i sa n e x amp l e o fa n u l tra -P atter nT ree .T he ultra-pattern tree building a l g o r i thm (Al g o r i thm .1) descr i bes h ow t o bu il da n u l tra -patter n tree g iv e n aset o ft -patter n s [1].

Each t -patter n be lon g in gt o P set i s in serted in t o the u l tra -patter n tree U .W e tr y t o search f o r the path that c o rresp on ds t o the lon gest prefi xo f p .N e x t ,w e appe n dabra n ch t o represe n ttherest o fthee l eme n ts o f p in th i spath .I fth i stree i saprefi xo f p , a p i sappe n ded t o the path .T he findChild ( node, r ) fu n ct ion retur n sthech il d o f node that has the reg ion equa l t o r a n dac onn ect ion bet w ee n them .T he U pdateSupport ( n, p . supp ) pr o cedures updates the supp o rt o f node . Prediction Strategy. T he ma in i dea beh in d o ur pred i ct ion i st o fi n dthebest path on the tree ,n ame ly the best u l tra -patter n tree that matches the g iv e n tra j ect o r y. H e n ce , f o rag iv e n tra j ect o r yw ec o mpute the best match in gsc o re o f a ll the adm i ss i b l epaths o fthet -patter n tree .T he ch il dre no fthebest no de that o ft wo tra j ect o r i es S t o sc o re the degree o fmatch in g .

G iv e n asub -tra j ect o r y sub a n da n u l tra -patter n tree P ,w ec o mputes the each path o fthe P re l at iv et o p .W he n the tree has bee n c o mp l ete ly vi s i ted , the best match i sc o mputed b y se l ect in gth o se ca n d i dates wi th the sma ll est sc o re , a n dthereg ion ass o c i ated wi th the ca n d i dates i sretur n ed as the pred i ct ion. T here ma y be se v era l pred i ct ion s wi th the same sc o re c o rresp on d in gt o a ll the ch il dre nin the l ast no de o f the path wi th the best sc o re . 4.3 Crowd Trajectory Based Predictor In the pre vio us part ,w ed i scuss the pred i ct ion on in d ivi dua l h i st o r y. How e v er , s o me users  X  m ov eme n ts are i mp o ss i b l et o pred i ct wi th u l tra -patter n tree .T here  X  s no patter n that c o rresp on ds the g iv e n sub -tra j ect o r y.

In the c i t y, pe o p l etra v e l b y pub li ctraffica n dthec i t yi s o fte n d ivi ded in t o d iff ere n tfu n ct ion d i str i cts w h i ch mea n s w he n m ovin g in the c i t y, pe o p l epassthe same streets , thesamebu il d in gs a n dthesamece ll u l ar t ow ers .So the patter n s o f m ovin gares i m il ar .To h i gh -E d o b j ects ,w ec o u l dd o the pred i ct ion wo rk based on the cr ow dtra j ect o r y.
 Modeling of Dynamic Bayesian Network. T he d yn am i c B a y es i a nn et wo rk (DBN) i sdefi n ed as a pa i r ( B 1 ,B  X  ),w here B 1 i sa B a y es i a nn et wo rk w h i ch defi n es the pr io r P ( Z 1 ), a n d B  X  i sat wo-s li ce temp o ra lB a y es n et w h i ch defi n es P ( Z t | Z t  X  1 ) b y mea n s o fa DA G ( d i rected ac y c li cgraph ) as f ollow s : w here Z i t i sthe i th no de at t i me t ,w h i ch c o u l dbeac o mp on e n t o f X t , a n d P ( Z i t ) are the pare n ts o f Z i t in the graph .
 In o ur m o de l, Pa ( Z i t )= Z t  X  1 .T hat mea n s w e only c on s i der the pre vio us state . E x per i me n t in S ect ion 5 sh ow sthat i t i se no ugh t o pred i ct w e ll. Z t =( U t ,X t ,Y t ) represe n ts the in put , h i dde n a n d o utput v ar i ab l es o fastate -space m o de l. In o ur m o de l, X t = X , Y t = X . U t represe n ts the reg ion e xi st in tra j ect o r y, U t  X  S . T he tra n sfer freque n c y bet w ee n reg ion s i s 0in the t i me t .T hat mea n s w ed ono t c on s i der o b j ect m ovin gbet w ee n reg ion s in at i me in ter v a l.

W ec o mpute P ( Z t | Z t  X  1 ), w h i ch suggest the tra v e l tre n dbet w ee n t i me t  X  1 a n dt i me t .T here are C s li ces in DBN m o de l. B ecause w ec on struct the m o de l wi th tra j ect o r y, P ( Z C | Z 0 )i sa llow ed .

Al g o r i thm . 2sh ow sthestepst o c on struct a DBN. In the m o de l, the tre n d o f o b j ect flowin g i sreprese n ted b y P ( Z t | Z t  X  1 ). Fi g .3i sa vi sua l e x amp l e .T he a n dc o mpute the tra n sfer freque n c y matr ix o f S .
 Prediction Algorithm. T he m o de li sbased on pre vio us -t i mes li ce status .B ut w he nyo u w a n tt o pred i ct n e x tt wo o rm o re t i me s li ces  X  X o cat ion, the m o de l ca nno td i rect ly g iv etheresu l t .
 So the strateg y here i s : fi n dthe l ast reg ion w h i ch i s no t  X ? X , the n put i t in t o DBN, f ollow the cr ow dch oi ce , s i mu l ate l ast n steps .
 5.1 Dataset T he wo rk o fth i spaper i sbased on aCh in a Mo b il eb illin g dataset o famed i um -s i zed c i t yin Ch in a .I t in c l uded ov er 100,000 a nony m o us m o b il eph on esub -scr i bers  X  ph on eca ll rec o rds dur in g 1 4da y s .W etra n sf o rm the ph on eca ll rec o rds T he nw esegme n tthet i me t oon eh o ur in ter v a l s .I fse v era l ca ll s w ere made in on eh o ur ,w ech oo se the m o st freque n tce ll t ow er e xi st in g in the ca ll li st .I fthere i s no ca ll rec o rds in on eh o ur ,w emark i t wi th a  X ? X . By th i s w a y, w ebu il d a patter n f o reachuser ,w h o se l e n gth i s L= 24 x1 4 = 336 wi th ce ll t ow er ID a n d  X ? X . In the e x per i me n t ,w eusetheh i st o r yo ff o rmer 13 da y st o bu il d o ur pred i ct o rs .T he rea l ca ll rec o rds o f l ast da y t o measure the accurac y.
In the art i c l e [ 2 ], the auth o r in tr o duced a fu n ct ion R ( t ), measur in gthefract ion o f in sta n ces w he n the user i sf o u n d in h i s o rherm o st vi s i ted lo cat ion dur in gthe c o rresp on d in gh o ur -lon gper io d . Rreprese n ts a low er b o u n df o rpred i ctab ili t y. W ered o the e x per i me n ta n dfi n d that the resu l t i srestr i cted b y h i st o r y as Fi g . 4 . Wi th 13-da y s lon gh i st o r y, the accurac yi s42 %, w h i ch ca n be see n as the low er b o u n d in o ur art i c l e .
 5.2 Features of Predictors W ee v a l uated the accurac y a n dthesteps i ze ( the accurac yw he n pred i ct n e x t ITP a n dC TP t o gether .
 Accuracy. B ef o re a n a ly z in g the features o fpred i ct o rs ,w efirstdefi n es o me parameter o fa l g o r i thm .A s Fi g .5 sh ow s ,w he n the c o mb in at ion pr o p o rt ion  X  i s 60%, the accurac yo fpred i ct ion i sattheh i ghest p oin t ,w h i ch pr ov es the vi e w that 60% o fhuma n tra j ect o r i es are se l fs i m il ar in [ 7 ]. W edefi n e  X  =0 . 6 as the c o mb in at ion pr o p o rt ion in the ITP. Fo rthec onv e ni e n ce o fc o mpar in g wi th e xi st in gmeth o ds , the t i me in ter v a li ssetat on eh o ur in the art i c l e .
In Fi g .6,w eseethatm o st o fthepe o p l earepred i ctab l eespec i a lly w h o se d i screte e n tr o p yi ssma ll. Li m i ted b y u l tra -patter n tree , as the d i screte e n tr o p y in creases , pe o p l ebec o me hard t o pred i ct b y the in d ivi dua l tra j ect o r y pred i ct o r . Fo r w h o se d i screte e n tr o p y are b i gger tha n6.0w h i ch mea n sth o se pe o p l e  X  sm ov e -me n ts are fu ll o fra n d o m n ess ,only ha l f o f them are pred i ctab l eus in g in d ivi dua l tra j ect o r y pred i ct o r .

Fo rcr ow dtra j ect o r y pred i ct o r , a ll the users are pred i ctab l e .A s in tr o duced , w eut ili ze the rea l ph on eca ll rec o rds on eda y t o ca l cu l ate the accurac yo fthe pe o p l e w h o are pred i ctab l e .T he resu l t i ssh own in Fi g . 7 .T he figure re fl ects the pred i ct in g accurac yin d iff ere n tt i me s li ce .A s the figure sh ow s , the accurac yin d iff ere n th o ur v ar i es s li ght ly. T he ab no rma l peak dur in g 3 a . m . t o5 a . m .w as because only fe w samp l es ha v eph on eca ll s dur in gthatt i me per io ds .
 Step Size. F r o m Fi g . 8 , the accurac y d o es no tdr o pdramat i ca lly wi th the in crease o fsteps i ze w h i ch mea n s the pred i ct o rc o u l d wo rk w e ll w he n pred i ct in g auser  X  s lo cat ion w h o se l ast ca ll w as made ma ny h o urs bef o re .T he vi brat in g o f the accurac y dur in g 1 4  X  22 h o urs l ater w as a l s o because o fthesma ll samp l erate . I t i s o b vio us that in d ivi dua l tra j ect o r y pred i ct o rperf o rms better tha n the cr ow d tra j ect o r y pred i ct o rs in ce the ITP ut ili zes the user  X  sh i st o r yin a lon gper io d o f t i me w h il etheC TP only ut ili ze the h i st o r yo ftra n sfer matr ix.
 Hybrid Predictor. F r o m Fi g . 7a n d Fi g . 8 ,w eca n see the accurac yo fthe in d ivi dua l tra j ect o r y pred i ct o r w h o se a v erage accurac yi s 6 8 %i sh i gher tha n the 5 4 %o fcr ow dtra j ect o r y pred i ct o r .B ut the ITP su ff ers the pr o b l em that i t i ssu i tab l et oonly parts o fthepe o p l e .I fth o se pe o p l e w h o are no tpred i ctab l e b y us in g ITP are in c l ud in g w he n ca l cu l at in g the accurac y, the accurac y will decrease in s o me se n se as Fi g .9 sh ow s .

I t i sa n atura li dea t o c o mb in ethet wo pred i ct o rs t o gether .A s Fi g .9 sh ow s , d i screte e n tr o p yo f2 .5 i sthetur nin gp oin t o ftheperf o rma n ce f o rt wo pred i ct o rs . T hat i st o sa y, ITP i sg oo datpred i ct in g the users w h o se act ivi t yi sregu l ar w h il e the C TP i ssu i tf o rpe o p l em ov es ra n d o m ly. T heref o re ,w eset2 .5 as the thresh ol d . I fthed i screte e n tr o p yi ssma ll er tha n 2 .5, ITP i sch o se nin the h y br i dpred i ct o r a n d w he ni t i sb i gger tha n 2 .5 the C TP i sch o se n.

T he accurac yo ftheh y br i dpred i ct o r i sa l s o sh own in Fi g .9.T he a v erage accurac yi s 6 2 % a n d i t i ssu i tab l et o a ll the m o b il eusers .I t i sab i g in crease fr o mthe low b o u n d o f the pred i ct in g accurac yo f4 0% t o6 2 %.
 Tolerant Distance. T he t ol era n td i sta n ce sh o u l dbec on s i dered in o ur e x per i-me n t .I fthe lo cat ion o bta in ed fr o m the pred i ct o r i s n ear wi th the rea llo cat ion, i tma y be the o sc ill at ion e ff ect caused b y the ce ll t ow ers w h il ethe lo cat ion sare thesamea n d i f no tthesame lo cat ion the n ear lo cat ion i sa l s o mea nin gfu lin the pred i ct in g wo rk .W eca l cu l ate the accurac yin d iff ere n tt ol era n td i sta n ce as Fi g .10 sh ow s .T he d i sta n ce bet w ee n t wo reg ion s i sca l cu l ated as the d i sta n ce bet w ee n the t wo ce ll t ow ers w h i ch are the ce n ter o fthereg ion. In th i spaper ,w eprese n ted a n appr o ach w h i ch pred i ct in gauser  X  stra j ect o r yin ah y br i dma nn er ut ili z in g no t only in d ivi dua l h i st o r y but a l s o cr ow dm ov eme n t . S pec i fica lly, patter n s w ere defi n ed a n d fragme n ta l tra j ect o r y ca n be m o de l ed . W ethe nin tr o duced u l tra -patter n tree t o quer yonin d ivi dua l tra j ect o r y a n d Dyn am i c B a y es i a nN et wo rk i s in tr o duced t o pred i ct on cr ow dtra j ect o r i es .W e accurac y.

Wi th the de v e lo pme n t o fthe wi re l ess c o mmu ni cat ion as w e ll as the wo r l d wi de spread o fthem o b il eph on es ,o ur appr o ach o ftra j ect o r y pred i ct in gbased on the m o b il edata will cause m o re atte n t ion. T he appr oxi mate lo cat ion s o fthe l arge m o b il eusers will be s i g ni fica n t in future LBS re l ated app li cat ion sa n d o ther re l ated areas .
 Acknowledgement. Research w as supp o rted b y the N at ion a lN atura lS c i e n ce Fo u n dat ion o fCh in au n der Gra n t No. 60 7 03066 a n d No.60 874 0 82 ;S upp o rted b yB e ijin g M u ni c i pa lN atura lS c i e n ce Fo u n dat ion No. 4 10 2 0 2 6.
