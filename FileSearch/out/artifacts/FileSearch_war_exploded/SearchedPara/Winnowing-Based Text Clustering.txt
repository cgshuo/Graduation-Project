 We present an approach to document clustering based on winnowing fingerprints that achieved good values of effec-tiveness with considerable save in memory space and com-putation time.
 Categories and Subject Descriptors: H.3.3 [Informa-tion Search and Retrieval]: Clustering General Terms: Algorithms, Experimentation, Performance. Keywords: Document clustering, document representation, fingerprinting, experimentation.
Document clustering has been demonstrated as a success-ful way of improving the performance of several tasks in In-formation Retrieval like document retrieval, text summarisa-tion or results presentation. The main problem of applying clustering techniques in real retrieval systems is the compu-tational cost.

Traditionally the clustering algorithms have a high com-putational complexity in terms of space and time [2]. Hier-archical methods are typically O ( n 2 log( n )) ( n is the number of documents) and O ( n 2 ) in time and space respectively. K-means is O ( k  X  i  X  n ) and O ( k + n ) ( k is the number of clusters, i the number of iterations), but has the problem that the quality of the clustering is quite reliant on the ini-tial random cluster seeding among the collection. Meanwhile hybrid approaches as Buckshot are O ( k  X  i  X  n + n log( n )) and O ( ni ), but these methods become inefficient in practice. So with large collections, e.g. the web, the needed time and memory space are not admissible. This has motivated a lot of research in two main ways: the design of cheaper cluster-ing algorithms, and the use of techniques in order to reduce the input size: feature selection and dimensionality reduc-tion.

Fingerprints of documents or signatures were used in in-formation retrieval in several tasks including audio retrieval, image retrieval, and document retrieval. The typical uses of fingerprinting were detection of duplicates, identification of document plagiarism and in ad-hoc retrieval. Although data clustering using document fingerprints was not too much ex-ploited, we want to remark two works. Broder et al. in [1] explored the use of a kind of fingerprints called shingles to perform syntactic clustering of web documents efficiently. Puppin and Silvestri [4] also evaluated the use of the shin-gles in order to get an efficient collection partition.
In this paper we propose the use of winnowing finger-prints [6] for the clustering task. Winnowing was presented with the objective of plagiarism detection, but the finger-print construction guarantees also a set of theoretical prop-erties in terms of fingerprint density and sub-string matching detection.

In order to compare the performance of the selected fin-gerprint method we chose three other document representa-tions: term frequency, mutual information and a designed fixed-size fingerprint that we have coined as n-fingerprint : representations of the documents as n-gram frequency devi-ations from the standard frequency in a given language.
One of the advantages of the winnowing algorithm pre-sented in [6] for hashing selection is the trade-off between the fingerprint length and the shortest matching string to be detected, establishing theoretical guarantees.

Let t be the threshold that guarantees (a) that any match of strings longer or equal than t is detected , and let n be another threshold that guarantees (b) that any match of strings shorter than n is not detected . The parameters t and n are chosen by the user being the n value the n-gram size. Given any list of hashes h 1 ,h 2 ,...h k , if k &gt; t  X  n then at least one of the h 1 &lt;i&lt;k should be chosen in order to guarantee the detection of all matches equal or longer than t . To achieve this the next selection process was proposed:
Let w = t  X  n + 1 be the window size and let h 1 ,h 2 ,...h be the whole sequence of hashes result of hashing all the n-grams in which the document text was decomposed. Each position 1  X  i  X  k  X  w + 1 defines the start of a window (sub-list) of hashes h i ,h i +1 ,...h i + w  X  1 , therefore in order to guarantee the condition (a) is necessary and sufficient to select one hash value for every window to compose the fin-gerprint. The condition (b) is guaranteed by the fact of choosing n-grams of size n . In order to achieve this, the process defined in [6] was:
In each window select the minimum hash value. If there is more than one hash with the minimum value select the rightmost occurrence. Now save all selected hashes as the fingerprints of the document .

After applying the winnowing algorithm each document is a multi-set of hash values. Each multi-set W ( d ) has dif-ferent size depending on the document d size and could have repeated hash values. In order to cluster the collection we have to adopt a suitable similarity measure. For this pur-pose we have adapted the Jaccard Coefficient computed as in equation 1 to multi-sets.
 The union was defined as: W ( d i )  X  W ( d j ) is the multi-set composed of every element of W ( d i ) and W ( d j ) repeated as many times as its maximum presence in W ( d i ) or W ( d j The intesection was defined as: W ( d i )  X  W ( d j ) is the multi-set composed of those hashes present in W ( d i ) and W ( d repeated as many times as in the multi-set where they have lower cardinality. For further reference we shall also define here the join of W ( d i ) ] W ( d j ) as the multi-set composed of all the elements of W ( d i ) and all the elements of W ( d
Another important point in the case of the clustering methods that deal with centroids is the centroid computa-tion. When the documents are represented with term fre-quency, mutual information or n-fingerprints the cluster cen-troid is computed as the average value for every term in the vector for all the documents of the cluster. In our case this approach does not make sense.

The problem of computing cluster centroids for sets has previously been addressed [7] and it is not trivial. One al-ternative could be using the union of the cluster documents as centroid, but it will have a very high cardinality and will not consider the frequency. Thus, when the cluster contains documents with very few elements in common the centroid will not be representative. On the other hand, intersection is not suitable neither because it is very probable to obtain an empty set when working with several documents. The same problems would happen when working with multi-sets, so we have devised a new approach to centroid computation with multi-sets in order to avoid them.

For each cluster C = { W ( d 1 ) ,...W ( d n ) } the multi-set rep-resenting its centroid centroid ( C ) is computed as in eq. 2. centroid  X  ( C ) = [ f ( C  X  ,h ) | h  X  ]
Where hf ( h,C ) is the number of occurrences of hash h in the join of all the documents of the cluster C , and f ( C is a function that for a hash h returns a multi-set composed of h repeated so many times as ( hf ( h,C ) n ) / X  .
In order to asses the outcomes of clustering based on win-nowing fingerprints, evaluation of the efficiency and effec-tiveness was carried out. The comparison was made between the use of the whole documents with different representa-tions: term frequency ( TF ) and mutual information ( MI ); n-fingerprints ( NFP ) with n=1 and winnowing fingerprints ( WFP ) with w = 25, n=5 and  X  = 0 . 3.
From Reuters-21578 V.12 collection, which is divided in 92 not disjointed classes, the 2745 documents that were as-signed at least to one topic, had the attribute  X  X EWISS-PLIT=TEST X  and had the BODY element were selected.
The effectiveness of the clustering algorithms was assessed using four different metrics. All the metrics are based on comparing the clustering outcomes with another manually done split (answer key that defines the classes) of the col-lection that is used as a judgement criteria. Tree edit was defined as in [3] and purity, F-measure and entropy were defined as in [5]. Table 1: Results over the Reuters Collection (K=92)
Attending to these results (see Table 1) the first fact to re-mark is that the results of using winnowing fingerprint are better than the results using n-fingerprint. With average-link for the tree edit distance the winnowing fingerprint even outperformed the term frequency representation and also with the k-means algorithm and with the F-measure. Com-paring winnowing fingerprint with mutual information rep-resentation we obtained that MI clearly outperforms WFP and also TF; this is explained by the fact that it uses more in-formation and collection statistics for its computation. This also produces that the computation of MI vectors is slower than TF and even more than WFP.
Based on the obtained results the use of this kind of tech-niques resulted acceptable in terms of trade-off between ef-fectiveness and efficiency. We have to perform further eval-uation over larger collections. We also want to test how the method can be applied to other document representations like summaries or snippets. Another objective is to evaluate indirectly this clustering approach is some of the mentioned task.

