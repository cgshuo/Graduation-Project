 Web-based social networks have attracted more and more research efforts in re-cent years. In particular, community det ection is one of the major directions in social network analysis where a community can be simply defined as a group of objects sharing some common properties. Nowadays, with the rapid devel-opment of positioning techniques (eg., GPS), one can easily collect and share his/her positions. Furthermore, with a large amount of shared positions or tra-jectories, individuals expect to form th eir social network based on positions. On the other hand, a social network, the graph of relationships and interac-tions within a group of individuals, plays a fundamental role as a medium for disseminating information, ideas, and influence among its members. Most peo-ple consider the problem of how to maxi mize influence propagation in social networks, by targeting certain influential individuals that have the potential to influence many others. This problem has attracted some recent attention due to potential applications in viral marketing, which is based on the idea of leveraging existing social structures for world-of-mouth advertising of products [4,9]. How-ever, here we consider a related problem of maximizing influence propagation in networks. We propose Info-Cluster, an i nnovative concept to describe how effec-tive the information originated from a location cluster propagate in or between communities. According to this concept, we propose a framework for identifying the Info-Cluster in social networks, which uses both location information and communities structure. Taking the location information into consideration, we first adopt the K-Means algorithm [10] to find location clusters. Next, we iden-tify the communities for the whole network data set. Given the location clusters and communities[3], we present the information propagation based Info-Cluster detection algorithm (IPBICD).

The paper is organized as follows. we give the related work in section 2. In section 3, we first present the data model with locations into consideration. Then we formulate the Info-Cluster detection problem and propose our framework. Section 4 details the main algorithms. Experiments on Renren data set are shown in section 5. Finally, we conclude the whole paper in section 6. The success of large-scale online social network sites, such as Facebook and Twit-ter, has attracted a large number of researchers. many of them are focusing on modeling the information diffusion patterns within social networks. Domingos and Richardson [4] are the first ones to study the information influence in social networks. They used probabilistic theory to maximize the influence in social net-work. However, Kempe, Kleinberg and Tardos [8] are the first group to formulate the problem as a discrete optimization p roblem. They proposed namely the in-dependent cascade model, the weight cascade model, and the linear threshold model. Chen et al. [2] collected the blog d ataset to identify five features (namely the number of friends, popularity of participants, number of participants, time elapsed since the genesis of the cascade, and citing factor of the blog) that may play important role in predicting blog cascade affinity, so as to identify most easily influenced bloggers. However, sin ce the influence cascade models are dif-ferent, they do not directly address the efficiency issue of the greedy algorithms for the cascade models studied in [1].

With the growth of the web and social network, communities mining (com-munity detection) are of gre at importance recently. In social network graph, the community is with high concentrations of edges within special groups of vertices, and low concentrations between these g roups [6]. Therefore, Galstyan and Mu-soyan [5] show that simple strategies that work well for homogenous networks can be overly sub-optimal, and suggest simple modification for improving the performance, by taking into account the community structure.

Spatial clustering is the process of grouping a set of objects into classes or clusters so that objects within a cluster are close to each other, but are far away to objects in other clusters. As a branch of statistics, spatial clustering algo-rithms has been studied extensively for many years. According to Han et al. [7], those algorithms can be categorized into four categories: density-based algo-rithms, algorithms for hierarchical clustering, grid-based algorithms, partitioning algorithms. As we all know, individuals have spatial location in social networks. Therefore, we present an innovative con cept to describe the information propa-gation in social networks, by taking into account the individual location and the community structure in social network. A large volume of work has been done on community discovery as discussed above. Most of them, however, ignored the location information of individuals. The location information often plays a very important role in the community formulation and evolution. Therefore, it should be paid attention to. In this paper, we take the location of individuals into consideration to guide us detecting the Info-Clusters of communities. In this section, we first give our model for the social networks with location information. And then we present the problem formulation. The frameworks of our solutions are described in section 3.3. 3.1 Modeling the Social Network Data Taking the location into consideration, we model the social network data as an undirected graph (see Fig. 1), denoted by G =( V, E v ,L,E l ), where: each individual.

E v : is the set of edges that represent the interactions between individuals. We use solid lines to re present edges.
 use square to represent each location.

E l : is the set of links which refer to the associations of the individuals and his/her locations. One location often corresponds to many individuals, which means these individuals belong to the same location. We use dotted lines to represent them. 3.2 Problem Formulation In this part, we first give some definitions to formulate the problem. And then, we present four key steps for regional influence analysis.
 is a cluster of locations resulted from a spatial clustering algorithm, and LC i  X  LC j =  X  ( i, j =1 , 2 , ...k, i = j ).
 Definition 2. Communities-Set ( S com ): S com = { Com 1 ,Com 2 , ..., Com p } , where Com i is a community identified by community detection method, and Com i  X  Com j =  X  ( i, j =1 , 2 , ...k, i = j ). where L ( v j ) denotes the location of v j .
 S S inf luence represents the set of individuals who learn the information from active individuals and are activated. Meanwhile, the information are created or obtained by the individuals of S i capital who are active individuals initially. where k denotes the number of location clusters, and S i know represents the set of individuals who learn the information from active individuals from S i inf luence but are inactive.
 where k is represent the number of location clusters, and S i IC = S i capital  X  S Definition 7. Covering Rate ( CR ) and Average Covering Rate( ACR ):
CR ( LC i )= S i IC | V | and ACR = 1 K According to the above definitions, we present the main works about the regional influence analysis as follows:  X  Location clustering: It aims to find the clusters ( S lc ) of locations through  X  Community detection: Community detection in social network aims to find  X  Info-Cluster identification: This process focuses on the identification of Info- X  Regional influence analysis: Analyzing Covering Rate ( CR ), Average Cover-3.3 Framework of Our Solutions In this part we present the framework of our method. The whole process for Info-Cluster detection includes four steps: 1. Data Preparation: We store the data to be processed in some kind of 2. Preprocessing: With a proper pre-processing approach, it is possible to 3. Algorithm Design: It is the main part of the framework. And it consists 4. Result Visualization: This step aims to view and analyze the results. In this section, we describe two main algorithms which aim to solve clustering and Info-Cluster detection based on influe nce propagation. Firstly, the K-Means clustering algorithm is used to cluster locations, and community detection algo-rithm based on modularity maximization is used to cluster individuals. Secondly, influence propagation based Info-Cluster detection (IPBICD) algorithm is pre-sented in section 4.2. 4.1 Clustering K-Means[10] is one of the simplest unsupervised learning algorithms. It is often employed to solve the clustering problem. In this paper, we adopt K-Means method to cluster the locations of the social networks. What should be paid attention to is that, other clustering methods can also be used for our location clustering. We adopt K-Means method here, only to show the feasibility of our algorithms. The K-Means algorithm requires us to specify the parameter K , which means the number of clusters. As to the location clustering, K often reflects the scale of the locations. The larger K means the finer scale. That is, if we set K = 10, each cluster for the location m ay accurate into province/city. With increasing K , each cluster may represent a street.

Modularity [3], is used to evaluate the quality of a particular partition for dividing network into communities. It motivates various kinds of methods for detecting communities, which aims to maximize the modularity function. The modularity is defined as follow: where  X  v , w are vertices within V ;  X  i represent the i th community;  X  c v is the community to which vertex v is assigned;  X  A vw is an element of the adjacency matrix corresponding to the G =( V, E v );  X  m = 1 2  X  k v =  X   X  ( x, y )= We start off with each vertex being a community which contains only one mem-ber. Then the process includes finding the changes of Q , choosing the largest of them, and performing the merge of communities. 4.2 Info-Cluster Detection Before our Info-Cluster detection, we sh ow the data after being processed by the K-Means and community detection. We use L ( v i )torepresentthelocationofthe assigned from the result of the K-Means algorithm. Similarly, we use Com ( v i )to community detection algorithm. Table 1 shows an example of location clusters and communities computed by K-Means and community detection methods.
For the social network G =( V, E v ,L,E l ), represented by an undirected graph, an idea or innovation can be spreaded from some source individuals to others. Here we consider each individual has two states: active and inactive. If the indi-vidual accept or adopt the idea/innovation, we say this individual is activated. Otherwise, it is inactive. According to Kempe [8], each individual X  X  tendency to become active increases monotonically as more of its neighbors become active. During the activation process, a passive individual (inactive) will be activated depending on the comparison between the threshold and probability that de-pends on the state of its neighbor individuals. If the probability is larger than the threshold, the individual will be activated (in our paper,we put it into the set S Influence ). If the probability is smaller than the threshold, the individuals will be not activated (In our paper, if the probability is larger than zero, we put it into S know . Otherwise, we send it into S nothing ).
 We firstly define the threshold  X  , which is related to the  X  1 , X  2 , X  1 and  X  2 . The equation is as follows: where (1)  X  1 : is the influence probability from v i to v j ,where v i  X  S p capital and Com ( v i )= Com ( v j ); S p capital are the active individuals initially. (2)  X  2 : is the influence probability from v i to v j ,where v i /  X  S p capital and Com ( v i )= Com ( v j ); (3)  X  1 : is the influence probability from v i to v j ,where v i  X  S p capital and Com ( v i ) = Com ( v j ); (4)  X  2 : is the influence probability from v i to v j ,where v i /  X  S p capital and Com ( v i ) = Com ( v j ); (5)  X  : is a regulation parameter. Generally  X  = 1. If the network is super-interactive between the individuals, we can set  X &lt; 1. Otherwise, we set  X &gt; 1. In this paper, we fix the  X  =1.

Fig. 2 shows examples about the  X  1 ,  X  2 ,  X  1 and  X  2 . Table 2 shows the range of the  X  1 , X  2 , X  1 and  X  2 and gives three examples about the  X  .

In this paper, the activated individuals are known at first based on the active location cluster, which is different to other papers.

Secondly, we show the individuals activate probability that depends on the state of its neighborhood individuals. In Watt X  X  original model [11] this prob-ability is defined by the number of active neighbors, the total number of the neighboring individuals and the activation threshold.

However, in our framework we have four types of probability (  X  1 ,  X  2 ,  X  1 and  X  ) between the individuals. We define the function Y ( z )tobe z -th individ-ual X  X  probability to be activated that depends on its neighbor individuals. The function Y ( z ) is defined as follows: where:  X  N ( z ): The z -th individual X  X  neighborhood individuals set.  X  Num ( N ( z )): The number of the neighbors X  individuals of z -th individuals.  X  Active num ( N ( z )): The number of active individuals in neighbors X  individuals network graph. Specifically, for each location cluster, we first set all individu-als from one location cluster to be active, and add those individuals into group then add it into Nothing group . At last, merge Capital group ( S i capital ) indi-viduals, Influence group ( S i inf luence ) individuals and Know group( S i know )in-dividuals into one Info-Cluster and repeat the next location cluster. The process of the Info-Cluster detection is shown in Algorithm 1. In order to test the performance of our algorithm, we conduct an experiment on real social networks. We first obtain the information of 5000 individuals from the Algorithm 1. Influence Propagation Base Info-Cluster Detection (IPBICD) Input : G =( V, E v ,L,E l ); 1: Calculate  X  according to equation 2 and S lc , S com according to section 4.1; 2: for each C from Q lc do 3: Active v i if LC ( v i )== C ,andmake v i .label = Capital , v i .value =1 4: Compute all the nodes values according to Equation 3 for graph G based 5: for each node v from G do 6: if ( v.values &gt;  X  ) then 7: v.label = Influence ; 8: end if 9: if (0 &lt;v.values&lt; X  ) then 10: v.label = Know ; 11: end if 12: if ( v.values == 0) then 13: v.label = Nothing ; 14: end if 15: end for 16: Build Info-Cluster( S i Info  X  Cluster )if v.label == Capital v.label == 18: end for Renren friend network by crawling the Renren online web site (www.renren.com, which is similar as the web site of Facebook). After preprocessing, there are 2314 circle vertices, 1400 square vertices and 56456 edges in final Renren data sets. Each circle vertex denotes an individual registered in Renren web site, while the square vertex represents the location of the corresponding individual. And each edge between circle vertices denotes the friendship of two individuals. Then we do experiments on Renren data sets. In the experiment, we set three kinds of influence probabilities which are shown in Table 2.

Fig. 3 illustrates the changing of Average Covering Rate (ACR) with differ-ent K . From this figure, we can see that the Average Covering Rate decreases with the increasing of K macroscopically. One main reason may lie in that the higher K value often leads to less people in each location cluster. That is, the information propagates from less sources.

In order to study the relations between covering rate and the number of sources, we rando mly select some K values and then analyze the experiments results microscopically. Suppose that all the locations are grouped into 50 clus-ters ( K = 50). Then we can get 50 capitals denoted by S i capital ,i =1 , 2 ,...,K as described in Definition 3. After the experiment, we get 50 Info-Clusters, each of which is composed of capital individuals, influence individuals and know indi-viduals. Fig.4 shows the change of Covering Rate with the number of individuals of 50 capitals. According to the Fig. 4, we find that more people as sources may result in higher covering rate as a whole. But it is not absolutely true. With the third parameter settings, the covering rate of 30 individuals is higher than that of 100 individuals. For other two kinds of parameter settings, the covering rate of 50 individuals is nearly equal to that of 150 individuals. That implies the former individuals have stronger influential power than the latter ones. Even to the same number of individuals, the covering rates are often different. One such example is when the number of individuals is 20. From Fig. 4, we can see that there are two capitals composed of 20 individuals. And each cluster reaches different covering rates even with the same parameter settings.
To better understand the scope of information propagation from different clusters, we depict the covering rate of each Info-Cluster on Chinese map, which is shown in Fig. 5. The sub-figures (Fig. 5(a),Fig. 5(b) and Fig. 5(c)) correspond to three kinds of parameter settings respectively. For each of them, we adopt five representative colors to differentiate different covering rates. The corresponding values are labeled at the right bottom o f each sub-figure. For the Info-Cluster whose covering rate is between two of our selected values, we paint it with the transitional color. And the darkness of the transitional color is determined by value of the covering rate. According to the Fig. 5, we find that the information of eastern Info-Cluster spreads more widely than that of west. Particularly, the region of Beijing has the highest covering rate. This may attribute to the higher density of its population.

The influence power for each capital set is shown in Fig. 6. From this figure, we find that the last cluster (clusterid=50) achieves the highest influential power at which contains those individuals, is an influential region. On the contrary, the 15th cluster (clusterid=15) represents the lowest influential power. That means the region which contains those individuals, is weak influential region. In this paper, we propose an innovative concept Info-Cluster. And then, based on the information propagation, we present the framework of identifying Info-Cluster, which uses both community and location information. With the social network data set, we first adopt the K-Means algorithm to find location clusters. Next, we identify the communities for the whole network. Given the location clusters and communities, we present the information propagation based Info-Cluster detection algorithm (IPBICD) . Experiments on Renren data sets show that the Info-Clusters have many characteristics. The Info-Clusters identified have many potential applications, such as analyzing and predicting the influential range of the information or advertisement from a certain location.
