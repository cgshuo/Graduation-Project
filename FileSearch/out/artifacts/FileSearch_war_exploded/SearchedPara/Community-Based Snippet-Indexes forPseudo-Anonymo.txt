 We describe and evaluate an approach to personalizing Web search that involves post-processing the results returned by some underlying search engine so that they reflect the inter-ests of a community of like-minded searchers. To do this we leverage the search experiences of the community by mining the title and snippet texts of results that have been selected by community members in response to their queries. Our approach seeks to build a community-based snippet index that reflects the evolving interests of a group of searchers. This index is then used to re-rank the results returned by the underlying search engine by boosting the ranking of key results that have been frequently selected for similar queries by community members in the past.
 Categories and Subject Descriptors: H.3.3 Information Search and Retrieval: search process, selection process General Terms: Human Factors, Design Keywords: personalization, Web search, community
Dealing with the type of vague queries that are common-place in Web search is an important and challenging prob-lem. It has been well documented that typical Web queries contain an average of only 2-3 terms [1], for example, and queries like  X  X ordan pictures X  offer no clues about whether the searcher is likely to be looking for images of the rac-ing team, the middle eastern state, the basketball star, or the celebrity. Approaches which attempt to personalize the selection and ranking of search results offer a solution [2]. By learning about the personal preferences of the searcher and/or the context of their search it may be possible to pri-oritise certain results that are more likely to be relevant.
The work described in this paper has been inspired by pre-vious research on Collaborative Web Search (CWS) [3] which highlighted the high degree of query repetition and result selection regularity that naturally exists within community-based search scenarios. For reasons of space it is not pos-sible to discuss in detail the origins of such communities of searchers although the interested reader is referred to the work of [3] for a more complete treatment of this issue. Suf-
This material is based on works supported byScience Foun-dation Ireland under Grant No. 03/IN.3/I361.
 fice to say that such communities can be readily identified, whether they are a formal community of users (e.g., the employees of a company operating in a specific business sec-tor) or an ad-hoc group of searchers (e.g., the visitors to a Web site specialising in wildlife and endangered species). CWS maintains a community search profile by recording the queries submitted and the results selected by commu-nity members. When faced with a new target query, CWS promotes results that have consistently been selected for this and similar queries by the community in the past. However, a major limitation of using community profiles based solely on queries and previously-selected results is that results in a community X  X  history which are relevant to a new target query can only be identified as such if there are overlapping terms between the target and previous relevant queries.
The work presented here proposes a more elaborate com-munity model to improve promotion quality by maintaining a community-based snippet index as a way to drive promo-tions. Thus, instead of simply storing the queries and the URLs of the pages selected, we produce a local index based on the terms that are contained in the title and (query-sensitive) snippets for selected results.

The use of snippets for document indexing in IR was sug-gested as early as 1958 [4], and more recently work by [5] has looked at generating an alternative index using generic doc-ument summaries which can then be queried in parallel to a full content index or used as a source for pseudo-relevance feedback. Our approach is different in that we use query-sensitive document snippets which summarise a document for a particular community of searchers.

Thework of[6] on document transformation suggests mod-ifying indexed document content according to previous se-lection behaviour in order to bring documents closer to the queries that led to their selection. Again our approach is different in that we create a new personalized index for a specific community without altering the existing full text index, and this enables our approach to be applied as a per-sonalized meta search engine on top of existing Web search engines. We also use query-sensitive snippets which provide a far richer set of terms than the query terms alone. Consider some user u , a member of some community C . A new target query q T from u is initially answered by a traditional meta-search engine to produce a result-list, R In parallel, q T is used to query a local document index that has been constructed from the title and snippet texts of results that have been selected by the community in the past. This produces a new list of results, R C , that are more closely aligned with community interests and R M and R C are combined and returned to the user as R T .

We use ( C, u, q T ) to denote a search for query q T by user in community C . Consider a result r selected in response to such a search. We can reasonably assume that the snippet for this result s ( r ) must contain terms which are of special interest to the user in relation to their query. Therefore, s ( r, q T ) can be used to represent the document correspond-ing to r for ( C, u, q T ). In this sense s ( r, q T )isa surrogate for r in the context of ( C, u, q T ) and thus we propose that can be indexed by using the terms contained within s ( r ).
Accordingly, our approach to collaborative Web search involves constructing a community-based index by index-ing each selected result document by its snippet terms. In general then, given that a result r might actually be se-lected for a number of different queries, q 1 , ..., q n , it will come to be indexed under a number of different snippets, s ( r, q 1 ) ,...,s ( r, q n ). Thus, for agiven communityof searchers each document will come to be represented by its surrogate, S C ( r ) as shown in Equation 1
Documents that are broadly relevant to a community X  X  in-terests are likely to be retrieved for a wide variety of queries and are likely to be selected for many of these queries. As a result the document surrogate will covera significant portion of the document X  X  contents and the snippet index will reflect this by associating the document with a broad set of index terms. In contrast, we might consider other documents that are only relevant to a community through some small part of their contents. These are more likely to be retrieved for a much more restricted set of query terms and their snippets will also be drawn from a limited subset of their content, and so their index terms will also be very limited.
In the current implementation we use Lucene 1 to perform the basic indexing and retrieval on the community-based snippet index. At retrieval time, Lucene queries the snippet index for C using q T to produce R C , which is ranked using a function based on each result X  X  TF-IDF score boosted by relative hits count and query similarity according to Equa-tion 2. r j is a result in R C and q 1 ,...,q n are the queries for which r j was previously selected. Rel ( r j ,q i )istherela-tive hits count, which is the number of times r j was pre-viously selected for q i compared to the total hits for q QuerySim ( q T ,q i )) is a simple term-based query similarity metric based on Jaccard X  X  coefficient.

In our current implementation, the final result list re-turned to the searcher, R T , is the union of R C and R M with the R C results returned before the R M results. Thus http://lucene.apache.org the precision of the R C results is critical and for this reason we use two techniques to filter the R C results to enhance their precision; that is, in addition to standard stop-word removal and stemming during indexing and retrieval. First, we threshold the proportion of query terms that must be present in the document surrogate for that document to be retrieved as part of R C . This effectively eliminates results that match on only a few of the query terms and can help to eliminate superficial results from being retrieved. By de-fault we set this threshold to allow for the retrieval of results that match at least 50% of the query terms. Second, we also limit the total number of results returned in R C to ensure that community promotions do not over-power the tradi-tional meta-search results. Normally we set this limit at 5-10 promotions.
Wehavedescribedan approachtopersonalizing Websearch at thelevel of communities of like-minded searchers. The ap-proach works by using the search behaviour of community members X  X heir search queries, the results they select and their snippets and titles X  X o populate a local index. Each selected result document is represented by a surrogate that is made up of the various snippet texts that have been as-sociated with each of its selections. These surrogates re-flect a biased view of the document in terms of the com-munity X  X  implicit preferences. When responding to a new search query, previous community selections retrieved from the local index are used to complement the results returned by a standard meta-search. The former are promoted based on their overlap with the target search query and their rele-vance to the community estimated from their selection his-tories. Preliminary results from a live user trial show that using a community-based snippet index provides search re-sults with a higher precision than both the original CWS system and standard Web search.

Finally, it is worth remarking on the privacy benefits of our approach to personalized Web search. Within any par-ticular community, the search patterns of an individual can-not be identified and so their identity can remain anony-mous. At the same time, personalized recommendations can still be made to the benefit of the individual searcher. Of course, whether users in general will perceive this as a rea-sonable privacy-personalization trade-off in practice remains to be seen.
