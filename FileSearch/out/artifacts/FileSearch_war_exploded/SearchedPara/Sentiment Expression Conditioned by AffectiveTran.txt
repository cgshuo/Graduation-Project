 Human emotional states are not independent but rather pro-ceed along systematic paths governed by both internal, cog-nitive factors and external, social ones. For example, anx-iety often transitions to disappointment, which is likely to sink to depression before rising to happiness and relaxation, and these states are conditioned by the states of others in our communities. Modeling these complex dependencies can yield insights into human emotion and support more power-ful sentiment technologies.

We develop a theory of conditional dependencies between emotional states in which emotions are characterized not only by valence (polarity) and arousal (intensity) but also by the role they play in state transitions and social relation-ships. We implement this theory using conditional random fields (CRFs) that synthesize textual information with infor-mation about previous emotional states and the emotional states of others. To assess the power of affective transitions, we evaluate our model in a collection of  X  X ood X  updates from the Experience Project. To assess the power of social fac-tors, we use a corpus of product reviews from a website in which the community dynamics encourage reviewers to be influenced by each other. In both settings, our models yield improvements of statistical and practical significance over ones that classify each text independently of its emotional or social context.
 I.2.7 [ Natural Language Processing ]: Discourse; Text analysis multidimensional sentiment analysis; sentiment as social; sentiment transitions
Human emotional states are not independent, nor are they experienced in isolation. Rather, they proceed along system-atic paths and cohere into psychologically important groups. Anxiety often transitions to disappointment, which is likely to sink to depression, often a long-lasting state. Happi-ness amplifies to elation or settles down to contentment. States like anxiety, optimism, and worry are inherently tran-sitional; one X  X  optimism might be vindicated, leading to pos-itive states, or crushed, leading to disappointment. All these states are also conditioned by the states of others in our com-munities; complex social forces can push our emotions closer to those around us or pull them farther away.

Our goal is to show that modeling dependencies between emotional states can yield insights into human emotion and support more powerful sentiment technologies. In our first set of experiments (Section 3), we concentrate on the affec-tive transitions that individuals experience. Using a collec-tion of users X   X  X ood X  updates from the Experience Project, we develop a simple probability model for capturing the con-ditional dependencies between emotional states. The ideas are founded in dimensional models of emotion [10, 28, 29, 34] based in valence (polarity) and arousal (intensity), but we emphasize the role that emotions play in transitions between states. We implement this theory using conditional random fields (CRFs; [13, 32]) that synthesize textual information with information about temporally organized sequences of emotions, and we show that this delivers improvements of statistical and practical significance over models that clas-sify each text independently of its emotional or social con-text. The improvements are largest for transitional emo-tional states, which are often particularly important for in-dustry applications, since moments of emotional inflection often coincide with changing opinions or attitudes. We then extend our model to social influences (Section 4). Using a corpus of product reviews from a website with rich community interactions [8, 18, 19], we present evidence that the current reviewer for a product is influenced by the se-quence of reviews already posted about that product. Here, the sequences come, not from a specific individual, but rather from group-level actions and reactions. Once again, CRFs incorporating this sequence information out-perform simple classifiers by a large margin. This is an important coun-terpart to our moods study, not only because of its social dimension, but also because it highlights the value of transi-tion information for common polarity-based sentiment tasks. http://www.experienceproject.com
Our goal is to understand and make use of the depen-dencies between emotional states, which derive from both personal and social factors. Our work thus finds precedent in diverse areas of natural language processing, social net-work analysis, and cognitive psychology, including models of social influence and multidimensional sentiment expres-sion. This section provides a high-level summary of these connections with the existing literature.

Our view of sentiment is a dimensional one [10, 28, 29, 34], in which emotions are characterized by a small number of more basic dimensions, usually valence and arousal but sometimes much more abstract ones (e.g., [15]). Valence roughly corresponds to polarity (like/dislike, pleasure/pain, pleasant/unpleasant), and arousal corresponds to intensity of experience, mirroring the amount of energy exhibited, spent, or available during a given emotional state. For ex-ample, ecstatic and serene are both emotions of positive va-lence but opposite arousal levels, just as angry and sad are both negative valence emotions of opposite arousal levels. Our own model can be seen as having valence and arousal as its foundation, but we focus on the patterns found in the transition dynamics between emotions through time.

Our moods data take us well beyond the basic polarity classifications or scales that dominate in computational sen-timent analysis [11, 25, 26, 27, 30] and are thus more remi-niscent of the multidimensional categories of [2, 14, 16, 22, 31, 35]. Even our star-ratings-based experiments with prod-uct reviews (Section 4) highlight the importance of having a  X  X eutral X  category along the valence dimension [12], espe-cially in communities that might be polarized in their opin-ions but nonetheless seek cohesion, a social force that can push evaluations away from the extremes.

We also study the social factors that influence the atti-tudes and emotions of community members. This can be thought of as part of a growing literature that seeks to un-derstand online, user-provided metadata as both reflecting and shaping complex social processes concerning influence, group cohesion, individual assertion of identity, and senti-ment diffusion in networks [1, 5, 8, 20, 21, 38]. Our general approach is also influenced by [24], who use social variables together with textual ones to predict expressed preferences in political speeches. A related model is used by [33] to cap-ture the ways in which social relationships pattern with atti-tudes and evaluations. Our CRFs are conceptually different from the graph-based models in these papers, but they aim to capture similar insights about how sentiment predictions should be made partly on the basis of high-level emotional and contextual cues (see also [4]).

Our quantitative evaluations use conditional random fields (CRFs; [13, 32]), which are discriminative models in which it is possible to model complex dependencies not only between the input and output variables, as in typical classification problems, but also among the output variables themselves. General CRFs can model essentially any kind of graphi-cal structure, but we concentrate on the more tractable special case of a linear-chain CRF, in which the output variables are arranged in a linear sequence, creating a dis-criminative counterpart to the generative Hidden Markov Model. Linear-chain CRFs have been used for a wide va-riety of sequence-labeling phenomena relating to linguistic structure, and they have been successfully applied to more social and contextual tasks of the sort we study here, includ-ing opinion-source identification [6], sentiment transitions inside documents [17], and social network extraction [7].
We now address the personal, internal factors that shape the temporal flow of emotions people experience.
Our  X  X oods X  dataset is derived from community-member updates at the Experience Project (EP) social networking site. When logged in, EP members can post short texts describing their moods and also choose from a variety of different mood labels, which we use to classify the texts into emotional categories. Mood status updates are visible on member profiles. Table 1 gives an example of a sequence of three posts by the same user; the corpus contains additional metadata, but we use only the information in this table.
We work with a sample of about 2 million anonymized mood posts with unique author identifiers and 174 different mood labels for emotional, evaluative, and attitudinal states. Figure 1 summarizes the distribution of the top 20 moods by update frequency. This fragment of the full dataset shows that the corpus can be used to study sentiment analysis in the broadest terms, since individual pairs of labels or clusters of labels can be used to develop familiar polarity models [27], polarity models with different levels of intensity [3, 35, 36], models of sentiment based in social emotions like sympathy and solidarity [16, 31], and many others. For our purposes, the mix of valence and arousal with transitional emotions like anxiety and optimism is the most important aspect of the data set. In the next section, we study the entire dis-tribution, seeking to motivate a high-level classification of the moods into distinct categories based on their transition relationships with other moods. Figure 1: Top 20 mood labels by frequency, account-ing for about 40% of the updates in our sample.
One X  X  current emotional state will be heavily influenced by one X  X  previous emotional state. The state before that will also exert an influence on the present, but less so. More gen-erally, we expect previous states to influence current ones, with the influences weakening (becoming less direct) the far-ther back in time we go. the emotions b with largest CTP ( a,b ) , as defined in equation 2.
To capture this pattern of influences, we first define emo-tional transition probabilities in a way that encompasses the full set of historical relationship between emotions. Let E be the full set of emotions, and let C ( a,t,b ) be the number of times a user posted emotion a  X  E and then posted emotion b  X  E exactly t days later. Crucially, these transitions are counted whether or not there is an update between a and b . Then the conditional probability of b given a after t days is given by equation 1.
 Using these values, we then define the compressed transition probability between emotions a and b as follows: Here, c is a dampening constant that gives a higher weight to recent transitions. In practice, c can range between 1 . 5 to 2 . 5 without significantly changing CTP values; in this paper, we use c = 2. We choose an exponential decay function so that distant transitions affect the CTP value without outweighing more recent transitions. Other dampening functions can also be used; the exact method seems not to matter as long as recent transitions are preferentially weighted and distant transitions are allowed to exert some influence.
 The CTP measure has a second noteworthy advantage. There is significant diversity in the way EP members inter-act with the moods update feature. Some users post updates at roughly regular intervals, whereas others do so in less predictable patterns. In taking into account the temporal distance between updates, the CTP captures the way influ-ence varies with time, making it more robust to this kind of behavioral variation than interval-blind methods are.
Figure 2 depicts a sample of CTP ( a,b ) values. The con-ditioning emotions a are given along the top. For each, the emotions b with highest CTP to them are given in rank or-der, according to the log CTP ( a,b ) values, normalized by the frequency of b to correct for differing usage levels. Self-transitions generally have dramatically larger CTP values than do other emotions, so those are not depicted. Fre-quency normalization and the log-scale of the y-axis are intended to make the plot more readable and to facilitate comparisons within and across columns.

The patterns in Figure 2 are intuitive, highlighting va-lence, arousal, and transition as important ingredients. For instance, the likely next states after a simple positive state like  X  X appy X  have the same polarity, differing largely in in-tensity (and other social components). In contrast, the transition state  X  X opeful X , while positive in its own right, has a much more mixed set of later states associated with it, reflecting the uncertainty of this emotion. The emo-tions  X  X ad X  and  X  X nxious X  are rough negative duals of these:  X  X ad X  emerges as a fairly standard negative valence category, whereas  X  X nxiety X  is itself negative but transitions to both positive and negative outcomes. There are numerous other patterns like these in the data, reflecting not only emotional but also interactional and real-world factors (e.g.,  X  X ored X  to  X  X itchy X ;  X  X ired X  to  X  X ore X ;  X  X tressed X  to  X  X usy X ).
To try to get a comprehensive, high-level view of how emotions relate to each other, we can also represent our entire data set as a directed graph based on the full matrix of CTP values, as in Figure 3. For any two emotions a and b , the edge from a to b has weight CTP ( a,b ). The resulting graph represents the flow between emotional states of the mood updates population, thereby describing the affective space as a dynamic system. This abstraction is helpful for revealing the dynamic structure of the space. In particular, it is possible to use this graph to identify clusters of emotions that are densely connected with each other.

In order to cluster the emotions into disjoint partitions, we employ a variant of weighted label propagation [37] that is tailored specifically for highly dense graphs (by taking the average edge weight from each cluster instead of its sum). The main idea underpinning the algorithm is to iden-tify groups of emotions with a higher than expected within-group transition probability. Unlike other weighted label propagation algorithms, our variant predetermines the num-ber of clusters, and each emotion is iteratively assigned to the cluster from which the average CTP to it is the high-est (as opposed to obtaining the label of the single heaviest incoming edge). The algorithm works as follows: 1. Initialize n clusters C i randomly. 2. For each cluster C i and each emotion e j , compute the 3. Repeat 2 until the cluster assignments stabilize. Self-transitions are dampened by multiplying them by a small constant s (here, 0 . 005) and normalizing accordingly. In our experience, large values of s (e.g., 0 . 01) generally lead to faster and more reliable convergence, but the result-ing clusters are less compelling, whereas smaller values of s deliver substantially more plausible clusters but sometimes lead to non-convergence due to cyclic label assignments. We ran the algorithm 100 times using the parameters from Fig-ure 3 ( s = 0 . 005, 5 clusters) and it converged 67% of the time, with convergent runs taking an average of 25.40 itera-tions. Given that our primary goal is to explore the structure of the data set, these rates are more than acceptable.
Figure 3 uses color to represent a clustering of the mood space into five cells. Node sizes are scaled by a node X  X  PageRank, which correlates with frequency but reduces the effect of self-transitions. Given the way in which the al-gorithm is defined, clusters have a higher than expected within-cluster transition probability. Thus, they can be in-terpreted as enduring emotional states. If we label them based on their prominent members (by PageRank), we get clusters  X  X ired/bored X  (orange),  X  X orny X  (yellow),  X  X ad/calm X  (purple),  X  X appy X  (green), and  X  X lah X  (red), which is an in-tuitive set of groups based primarily on valence but further structured by other social and emotional factors. By varying the number of clusters, we achieve different levels of resolu-tion. For example, with three clusters, the partitions show a near perfect division between negative, neutral/mixed, and positive valence emotions. With ten clusters, rarefied clus-ters emerge relating to erotic states, lack of energy ( X  X ethar-gic X ,  X  X xhausted X ), high-valence positive emotions ( X  X cstatic X ,  X  X elighted X ,  X  X lissful X ), and so forth.

The directed nature of the graph also highlights the role emotions play in affective transitions. At a high level, we see the densest pathways between  X  X ad/calm X  and  X  X lah X  (purple, red), between  X  X lah X  and  X  X ired/bored X  (red, orange), and between  X  X appy X  and  X  X orny X  (green, yellow). The pathways are more asymmetrical between  X  X orny X  and  X  X ired/bored X , typically running from the first to the second rather than the other way around. Some pairwise paths are extremely unlikely in either direction. For instance, direct  X  X appy X  to  X  X ad/calm X  (green to purple) transitions are rare; emotional paths that begin with  X  X appy X  and end with  X  X ad/calm X  are likely to travel through other emotional states along the way. These patterns match well with our intuitions about human experiences, and they further support our contention that emotions are defined as much by their transitions as they are by their inherent properties.
We apply CRFs as a modeling technique to capture emo-tion structure of the sort we just identified in our moods data. Specifically, we use linear-chain CRF models, as they efficiently represent temporal relationships among emotion labels as well as the mapping from text features of a docu-ment to its emotion label. Formally, we have a collection of document sequences D , where each document sequence d  X  D is a sequence of tuples, d = [( x 1 ,e 1 ) , ( x 2 ,e 2 Each tuple ( x t ,e t ) is a vector of document features x with the associated emotion label e t . The sequence length T can vary for each sequence.

We construct a linear-chain CRF with potential functions  X  j,k ( x t ,e t ) between an input feature x t,j and possible emo-tion e t,k . Each  X  j,k is a binary indicator function, with  X  j,k ( x t ,e t ) = 1 when both feature j and label k are present in a document and 0 otherwise. This type of potential func-tion is equivalent to the binary presence feature functions of-ten used in sentiment classification [27]. However, the CRF goes beyond relationships between a single document X  X  text features and its label. A second set of potential functions  X  l,k ( e t  X  1 ,e t ) serve as binary indicators for whether emotion l was present in the previous document at time t  X  1 and emotion k is present in the current document at time t .
We use a standard log-linear parameterization, which makes the learning problem convex. Having defined our potential functions and chosen a log-linear CRF approach, our model derivation exactly follows those of other linear chain CRF models in the literature [13, 32]. We do not restate the likeli-hood and learning problem here; see [32] for the full details.
To evaluate the effect of modeling temporal emotion la-bel relationships, we compare our CRF approach to a time-independent classification approach. This model treats each tuple ( x t ,e t ) as independent from other documents in the sequence and estimates the emotion label probability P ( e x ). To estimate this probability we use a maximum en-tropy (MaxEnt) classifier. The MaxEnt model is a standard choice for classification tasks in sentiment analysis and other NLP tasks. Furthermore, the MaxEnt model is a special case of our linear chain CRF approach where we remove the potential functions  X  l,k ( e t  X  1 ,e t ). In removing these poten-tial functions from our CRF, we are left with only potential functions relating the current text features x t to the emotion label e t . Comparing these two models allows us to identify the value in including sequence information.

We use the CRFsuite software package for both the CRF and MaxEnt models [23]. For both models, we use ` 2 reg-ularization. We choose the regularization penalty by cross-validating over possible values and evaluating development set performance. We then run 20 trials in which we ran-domly split the data 80%/20% into training and testing sets and evaluate performance for both models. We use the non-parametric Wilcoxon rank-sums test to measure the signif-icance of the difference between CRF and baseline perfor-mance. In order to focus on the effects of sequence structure, we restrict our textual features to simple unigrams.
We conducted experiments on two different subsets of our moods data: a simple valence/polarity subset and a multi-dimensional subset involving valence/polarity, arousal, and affective transitions. The polarity experiments are relatively easy to interpret and permit general comparisons with more familiar sentiment tasks, while the multidimensional exper-iments highlight the nuances of our moods data and reveal more of the power of affective transitions.

We built a polarity label set by clustering high-volume moods with unambiguous valence, drawn from the green and purple clusters in Figure 3: Figure 4 summarizes the transition structure of the polarity data set. Each square depicts the probability of seeing a sequence consisting of the row polarity and then the column polarity. The overall structure of the polarity transitions is clear: polarity states are generally enduring, with a slight trend towards positivity. One concern one might raise is that this trend could reflect, not affective transitions, but rather an overall tendency for individuals to be consistently positive or consistently negative. With Figure 4(b), we seek to address this by limiting attention just to high-variance sequences, defined as the top 20% of polarity sequences by label diversity. Thus, these sequences definitely come from users with variable emotional states. The same structure is evident here, though with the additional finding that, for these variable individuals, transitions from  X  X egative X  to  X  X ositive X  are more likely than the other way around. As another point of comparison, we include, in Figure 4(c), a version of these heatmaps in which the mood sequences have been randomly shuffled. This destroys all transition struc-ture, revealing instead only the percentages of  X  X ositive X  and  X  X egative X  items in the data set.

For our multidimensional experiments, we would ideally study the entire set of moods, since Figure 3 suggests that they have intricate internal structure. However, the result-ing models would be intractable to analyze and impracti-cal to report on. Thus, we hand-selected six moods, with the goal of capturing valence, arousal, and the transitional characteristics of emotions, thereby preserving many of the rich inter-emotion dynamics of the full set. The moods we chose for this are  X  X heerful X ,  X  X atisfied X ,  X  X opeful X ,  X  X nxious X ,  X  X tressed X , and  X  X epressed X .

Although we focus only on a subset of the moods pre-sented in Figure 2, this visualization provides insights into the transition structure we hypothesize that our CRF can leverage. Overall, since some emotions are more common than others, the label distribution for the multidimensional sentiment classification experiments are not uniform. The emotions  X  X epressed X ,  X  X opeful X , and  X  X tressed X  are the most common, and  X  X atisfied X ,  X  X nxious X , and  X  X heerful X  are the least common. These differing relative frequencies proba-bly reflect deeper underlying facts about the frequency or duration of these experiences.

In Section 3.2, we argued that one X  X  current emotion is affected by one X  X  previous emotions, with influences dimin-ishing rapidly over time. The structure of our CRF model forces us to make a simplifying Markov assumption that only the previous state influences the current one. Since this dis-cretizes the time element, we impose an additional restric-tion that any two consecutive mood posts in mood sequences can be no more than 24 hours apart, to ensure that we model true affective transitions rather than individuals X  general be-havior on the site (e.g., users who log on infrequently and only when anxious). After enforcing this restriction, our polarity data set consists of 30,000 sequences containing ap-proximately 70,000 posts, and our multidimensional mood * * * * dataset consists of approximately 20,000 sequences contain-ing 60,000 posts overall.
The polarity and multidimensional CRF models achieve absolute micro-average F1 gains of 2% over the MaxEnt baselines, and performance on individual labels improves across the board. All gains are statistically significant ( p &lt; 0 . 001) according to a Wilcoxon rank-sums test. Figure 5 summarizes polarity results, and Figure 6 summarizes mul-tidimensional moods results. The results are presented with bootstrapped 95% confidence intervals [9], often very small because of the large amount of data and consistent model performance.

Since the multidimensional moods model must navigate a decision space of six labels, its overall performance is lower than that of the two-label polarity model, and inter-label performance disparities are greater. The advantage of the multidimensional moods model, however, is its ability to identify granular emotions that are richer indications of a person X  X  current and future affective states than the non-specific classes  X  X ositive X  and  X  X egative X . For example,  X  X nx-ious X  and  X  X epressed X  are both negative valence mood states, but they have different implications for a user X  X  future state:  X  X nxious X  is a transitory mood state that tends towards res-olution, either positive or negative, whereas  X  X epressed X  is a more enduring affective state with more limited possible future states. In many applications, these distinctions are particularly relevant. In the customer experience industry, for example, it is often most valuable not to characterize a user X  X  valence but rather to identify moments of emotional inflection, which mark the points of volatility when a user is in the process of changing opinions or attitudes.

One measure of a mood X  X  volatility is the entropy of the probability distributions over previous and subsequent mood states, referred to as H ( prev ) and H ( next ), respectively. Moods with high H ( prev ) and H ( next ) are crossroads, in that they arise from and transition to diverse sets of other mood states. Because such moods are transitory, they are relatively infrequent and therefore systematically harder to model. For instance, a mood X  X  H ( prev ) is inversely related to its volume (linear regression; R 2 = 0 . 80, p &lt; 0 . 05), and a mood X  X  volume is inversely related to its F1 score (linear re-gression; R 2 = 0 . 86, p &lt; 0 . 01). Nonetheless, the CRF mod-els are notably better at identifying them than the MaxEnt models are, especially in terms of recall (linear regression; R 2 = 0 . 71, p &lt; 0 . 05).

For example,  X  X nxious X  is the most high-entropy mood state of the six we model, and it is the second most in-frequent. Confusion matrices show that the MaxEnt base-line frequently misclassifies  X  X nxious X  posts: given sparse or ambiguous  X  X nxious X  documents, the contextually-unaware MaxEnt baseline tends toward the more frequent classes  X  X tressed X  and  X  X epressed X . Our CRF, however, is less suscep-tible to this mistake because it incorporates knowledge of the particular transition characteristics of  X  X nxious X . CRF gains in recall for  X  X nxious X  are above average, and, conversely, precision gains for  X  X tressed X  and  X  X epressed X  are also higher than average.

Overall, these experiments validate that a CRF model can incorporate the affective transition structure described in Section 3.2 to improve performance on both the more con-ventional polarity prediction task and the more complicated multidimensional prediction task. The strong performance gains on infrequent labels, which are often of particular in-terest, is reflected by the macro-average F1 score, which shows greater CRF gains over the baseline than the micro-average F1 score.
We now extend the above model of affective transitions to a social setting in which the evidence suggests that current sentiment evaluations are influenced by previous ones.
We develop our basic model of social influences on senti-ment evaluations using the RateBeer corpus, a collection of 2.9 million user-supplied beer reviews. 2 With respect to its structure, this corpus is like most corpora of user-supplied product reviews. The review texts are typically just a few sentences long and have associated with them a number of different kinds of rating, including aspects of the beer (e.g., aroma, palate, taste) and an overall rating. (For discussion of these multi-aspect ratings, see [19].) The overall ratings are on the scale 1 X 20, which we rescale into a more familiar space of 5 star ratings (with fractions of a star possible).
The RateBeer corpus reflects complex social phenomena that make it especially useful for our purposes. First, indi-vidual community members often write many reviews (4,798 wrote more than 50; [8]). Second, we know from [18] that reviewers themselves vary greatly in their level of expertise about beers. Third, we know from [8] that the commu-nity dynamics of the site are complex, with specific kinds of users influencing the evaluative and communicative norms in complex ways that find many counterparts in off-line com-munities. These factors lead us to expect reviewers to be influenced by each other when making rating choices. For instance, if the current reviewer is new to the site, she might shift her judgments towards those of more expert members who already posted reviews. Conversely, experts might feel the need to push back against overly positive or negative reviews by newcomers. We do not at present have a deep understanding of the social forces at work, but we require only that forces like these be active.

Figure 8 provides additional information about the rating distribution and how we construe it. For the purposes of our classification experiments,  X  X ositive X  reviews are those with ratings 4 or above,  X  X egative X  reviews are those with ratings 2.5 or below, and  X  X eutral X  ones fall in the middle, as indicated in the figure. These boundaries were chosen with the underlying rating distribution in mind. The dis-tribution is noteworthy for being much more skewed to the middle of the rating scale than is typical for corpora of user-supplied reviews, which are usually dominated by positive reviews ([26], p. 74). We think that this too reflects the un-derlying social dynamics of the site: extreme evaluations (at either end of the scale) are socially riskier; for example, one doesn X  X  want to appear too glowing about a beer that is per-ceived as mundane, nor too critical of one that is perceived as requiring expertise.

Figure 7 provides a high-level picture of the extent of these influences, using the label categories indicated in Figure 8. http://snap.stanford.edu/data/web-RateBeer.html Figure 8: RateBeer ratings and label categories.
 Each square depicts the probability of seeing a sequence con-sisting of the row evaluation and then the column evalu-ation, using the probability model from our moods study (Section 3.2). The overall picture is easily characterized: self-transitions are most likely for all three categories, po-larity reversing sequences are least-likely, and  X  X eutral X -to- X  X ositive X  sequences are more likely than  X  X eutral X -to- X  X ega-tive X . This pattern makes sense if we assume that there are generally social costs to disagreeing with others. Im-portantly, Figure 7(b) shows that the general pattern holds even when we restrict attention to products with extremely highly variable ratings, defined as those with rating stan-dard deviation in the third quartile for those values. This suggests that the patterns are not merely a consequence of overall community agreement. Indeed, the higher-variance reviews seem to reflect the ways in which disagreements are negotiated. Figure 7(c) shows that the pattern disappears when we randomize the sequences; the only remaining pat-tern is fully explained by the overall label distribution.
The CRF model is the same as it was for the moods data (see Section 3.3), except label sequence features are now product-level rating sequences. Once again, we compare the CRFs to MaxEnt classifiers with the same textual features. For both, regularization parameters are optimized indepen-dently using cross-validation on development sets.
To study the gains achieved by incorporating social influ-ences into our model, we run 20 classification trials. In each trial, we randomly sample sequences such that the data set consists of roughly 500,000 reviews. We train on 80% of the sampled sequences and test on the remaining 20%.
The CRF model achieves an absolute micro-average F1 gain of 1% over the MaxEnt baseline, which translates to roughly 1,000 additional correct classifications over the base-line. Figure 9 summarizes by-label performance for both the MaxEnt and CRF models.

Although performance improves for all labels, we observe stronger performance gains for  X  X ositive X  and  X  X egative X  doc-uments than  X  X eutral X  ones. This trend is reflective of the sequence structures described in Figure 7: the probability distributions of states that transition to and arise from  X  X osi-tive X  and  X  X egative X  states are more discriminating than those for  X  X eutral X  states.  X  X egative X  reviews are highly unlikely to follow  X  X ositive X  ones and vice versa, and  X  X eutral X  is often the intermediate step in sequences that do transition from one polarity to the other. As a result, given an ambiguous or sparse review that the MaxEnt baseline may, for example, predict to be  X  X eutral X  or  X  X egative X  with equal likelihood, the CRF model can use the previous review X  X  predicted class to help discriminate. In this example, if the previous review is predicted to be  X  X ositive X , the CRF will be particularly unlikely to decide that the ambiguous review in question is  X  X egative X .
Many sentiment models and technologies make the sim-plifying assumption that each sentiment expression (emo-tion, evaluation, perspective) was produced independently of all others. Our central observation is that this simplify-ing assumption ignores information that is psychologically and socially important, particularly for inherently transi-tional emotions like hope and anxiety. Using linear-chain CRFs, we showed furthermore that this information has sig-nificant predictive value, not only for multidimensional sen-timent data, but also in more traditional polarity tasks. To highlight the independent value of internal, cognitive fac-tors and external, social ones, we kept these two kinds of influence apart in our models, but the CRF approach is flexi-ble enough to accommodate the complex graphical structure needed to bring these two kinds of influence together into a single predictive model. We look forward to future experi-ments that combine personal affective transitions and social forces to further improve sentiment prediction.
 We thank Experience Project for providing us with the sam-ple of moods data and for being encouraging about our re-search. This work was supported in part by ONR grant N00014-13-1-0287 and NSF grant IIS-1016909.
 [1] A. Aji and E. Agichtein. The  X  X ays X  have it: Exploring [2] C. O. Alm, D. Roth, and R. Sproat. Emotions from [3] S. Blair-Goldensohn, K. Hannan, R. McDonald, [4] J. Blitzer, M. Dredze, and F. Pereira. Biographies, [5] A. Chmiel, J. Sienkiewicz, M. Thelwall, G. Paltoglou, [6] Y. Choi, C. Cardie, E. Riloff, and S. Patwardhan. [7] A. Culotta, R. Bekkerman, and A. McCallum.
 [8] C. Danescu-Niculescu-Mizil, R. West, D. Jurafsky, [9] B. Efron and R. Tibshirani. Bootstrap methods for [10] L. Feldman Barrett and J. A. Russell. Independence [11] A. B. Goldberg and J. Zhu. Seeing stars when there [12] M. Koppel and J. Schler. The importance of neutral [13] J. Lafferty, A. McCallum, and F. Pereira. Conditional [14] H. Liu, H. Lieberman, and T. Selker. A model of [15] H. L  X  ovheim. A new three-dimensional model for [16] A. Maas, A. Ng, and C. Potts. Multi-dimensional [17] Y. Mao and G. Lebanon. Isotonic conditional random [18] J. McAuley and J. Leskovec. From amateurs to [19] J. McAuley, J. Leskovec, and D. Jurafsky. Learning [20] M. Miller, C. Sathi, D. Wiesenthal, J. Leskovec, and [21] L. Muchnik, S. Aral, and S. J. Taylor. Social influence [22] A. Neviarouskaya, H. Prendinger, and M. Ishizuka. [23] N. Okazaki. Crfsuite: a fast implementation of [24] B. Pang and L. Lee. A sentimental education: [25] B. Pang and L. Lee. Seeing stars: Exploiting class [26] B. Pang and L. Lee. Opinion mining and sentiment [27] B. Pang, L. Lee, and S. Vaithyanathan. Thumbs up? [28] D. C. Rubin and J. M. Talerico. A comparison of [29] J. A. Russell. A circumplex model of affect. Journal [30] B. Snyder and R. Barzilay. Multiple aspect ranking [31] R. Socher, J. Pennington, E. H. Huang, A. Y. Ng, and [32] C. Sutton and A. McCallum. An introduction to [33] C. Tan, L. Lee, J. Tang, L. Jiang, M. Zhou, and P. Li. [34] D. Watson and A. Tellegen. Toward a consensual [35] J. Wiebe, T. Wilson, and C. Cardie. Annotating [36] T. Wilson, J. Wiebe, and R. Hwa. Just how mad are [37] Y. Yang, C. Chen, and S. Pang. WLPA: A novel [38] R. Zafarani, W. Cole, and H. Liu. Sentiment
