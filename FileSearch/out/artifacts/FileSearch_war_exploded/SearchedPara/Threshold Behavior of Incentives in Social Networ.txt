 The advent of large scale online social networks has resulted in a spurt of studies on the user participation in the net-works. We consider a query incentive model on social net-works, where user X  X  queries are answered through her friend-ship network and there are  X  X ewards X  or  X  X ncentives X  in the system to answer the queries utilizing ones community. We model the friendship network as a random graph with power-law degree distribution, and show that the reward function exhibits a theoretic threshold behavior on the scaling ex-ponent  X  , a network parameter. Specifically, there exists a threshold on  X  above which the reward is exponential in the average path length in the network and below the threshold, the reward is proportional to the average path length. We demonstrate this finding on simulated power-law networks and real world data gathered from online social media such as Flickr, Digg, YouTube and Yahoo! Answers.
 J.4 [ Social and Behavioral Science ]: Economics, Sociol-ogy Economics, Theory, Experimentation Query incentive networks, social networks, threshold phe-nomenon
Social networks have found a host of useful applications in the online world. Social media sites exploit the underlying friendship network for better ranking of Internet search re-sults. Friendship networks are also being used to locate and share authorized content and knowledge[11]. A similar mo-tivating applications arise in peer-to-peer networks, where users seek information such as a movie from their peer, or their peer X  X  peer and so on. Such a behaviour of harnessing a friend X  X  connectivity is also found in sites such as Yahoo! answers, LinkedIn, Visible Path, which connect the informa-tion seekers with the domain experts.

Due to the  X  X ree-rider X  problem in networks, where users join the network looking only to acquire the information without sharing any of their own, it might not be in the best interest for friends of friends to answer the questions. One way to avoid this problem is to monetize the direct friends if they have an answer to the query. However, if direct friends cannot answer the question, they act as mid-dlemen taking a small reward, seeking to acquire an answer by their friends, offering them an appropriately reduced re-ward. In such a setting, one can consider users involved in the system as buyers and sellers of information, who act strategically to maximize their profit. Kleinberg and Ragha-van [9] model the users strategy in query incentive networks as a non-cooperative game among the nodes in a network of branching process with binomial degree distribution, and show that this game has a natural Nash equilibrium. Ar-caute et al. [5] extend this work on a branching process with any arbitrary degree distribution.

Although the network models considered in these works are preliminary, the incentive mechanism itself is practically significant in real world settings such as Yahoo! Answers, Orkut X  X  Ask Friends, LinkedIn, etc., which enable a user to get an answer from his friendship network. These systems reward only the answerer and do not consider rewarding the middlemen. Though sites such as Yahoo! answers allow middlemen to  X  X tar X  or tag a question to be answered by their network, there are no explicit incentive to do so. Also, there have been studies on the structure of friendship networks from Flickr, LiveJournal, Orkut, MySpace and YouTube [11, 3] which show that the online social networks exhibit a lot of topological characteristics. But there has been no work which tries to exploit such special structures and study the effects of middlemen monetization in social networks.
Our contributions in this paper are as follows. We study the query incentive model on a friendship network modeled as a power-law network and show that the reward function in power-law networks exhibits a threshold behavior, that depends on the network parameter, namely, scaling expo-nent  X  . We specifically show that there exists an exponent  X  1 (2 &lt;  X  1 &lt; 3) such that when  X  &gt;  X  1 , the required reward is n  X (1) and when  X  &lt;  X  1 , the required reward is O (log n ) where, rarity n is the average number of nodes that has to be queried for an answer. We analyze the query incentive model on simulated power-law networks and friendship net-works gathered from online social networks: Digg, Flickr, YouTube and Yahoo! Answers. Simulation results validate our theoretical findings on threshold behavior in power-law networks. We bring out the structural characteristics in real-world friendship networks, that makes the network to be query efficient.

The rest of the paper is organized as follows: Query incen-tive model is briefly reviewed in Section 2. Reward structure in power-law networks is studied in Section 3. Experimental details of reward function behavior in synthetic power-law networks and real world friendship networks are provided in Section 4. Related work is reviewed in Section 5.
In this section, for a better understanding of the paper, we review query incentive networks from [9, 5].
 Query Propagation process consists of three steps: (1) A node v  X  issues queries on its friendship network with a reward. Nodes not having an answer forward the query to its neighbors with a smaller reward. Query propagation stops when the reward is zero or a node having an answer is reached. (2) If an answer is found, identities of the path with node holding the answer are propagated to v  X  . (3) A single answerer a is chosen, and reward is paid to the nodes that are on the chosen path to the answerer a .

Network Model Setup X  Branching process, trees with  X  X ctive X  number of children distributed according binomial, and any arbitrary distribution were considered in [9] and [5] respectively. These networks are characterized by branching factor b , expected number of children of a node. Assume that every node has an answer to the query independently with probability 1  X  p = 1 /n , and that the root node would like to acquire an answer with probability at least  X   X  (0 , 1). Here n is the rarity, the expected number of nodes to be queried to obtain an answer.

Nash Equilibrium of the Underlying Game X  Let g denote the set of all reward functions. Define  X  v ( g,x ) to be the probability that the subtree below v yields an answer, given that v does not possess the answer and offers reward x to its neighbors. Define Nash equilibrium g inductively; By definition g v (1) = 0 for all nodes v , where g v ( . ) is the reward function at node v . Assume that g v ( x ) is defined for all v and all x &lt; r . If v does not possess the answer, and it offers a reward of x to its children for an answer. If an answer emerges from the subtree below v (with probability  X  ( g,x ) ), and if a node in its subtree is selected by the root for the reward, v will retain a reward of r  X  x , minus a cost of 1 for its effort in establishing the connection to the root. Then, g v ( r ) = arg max x ( r  X  x  X  1)  X  v ( g,x ). Note that by this construction, all functions g v are the same; and we denote this common function by g .

Theorem 1 ([9]). The set of functions g is a Nash equilibrium.
 Behavior of nodes under Nash equilibrium is studied using breakpoint structure of the rewards and their relationship with failure probability.

The Breakpoint Structure of Rewards X  Let  X   X  j be the probability that, no node in the first j levels of the tree (excluding the root) has the answer, which can be defined for (arbitrary) branching process accordingly. The results from [9, 5], rely on the intuition and the fact that the amount of reward the root needs to offer is tightly connected to the rate of decay of the  X   X  j . Nodes being rational, g ( r ) is non-decreasing. Let  X  ( r ) be the maximum number of levels that the query can propagate into, if root offers reward r . We define u j to be the minimum r such that  X  ( r ) is at least j . Let  X  j = u j  X  u j  X  1 , and an inequality on growth of rewards (for  X  j +1  X  2) from [9, 5], given by:
Results on the Reward Function X  A classical result in the theory of branching processes is that, when b &gt; 1 a giant component emerges in the network with the average path length being O (log n ). However when incentives are in-corporated into the model, there is a surprising second phase transition at b = 2 in the reward that the root has to offer to receive an answer with probability  X   X  . Specifically when b &gt; 2, reward needed is within a constant factor of average path length of O (log n ), and is exponential in the distance when 1 &lt; b &lt; 2. Thus, there is a difference between net-works that support efficient answering of queries and those that support in presence of incentives.
In this section, we analyze the query incentive model in power-law networks and show that the reward function ex-hibits a threshold behavior that depends on the scaling ex-ponent of the power-law degree distribution.

Power-law Networks X  Let c i be the probability that a node has i neighbors. Degree distribution in a power-law network is given by, with the constant C = [ Li  X  ( e  X  1 / X  )]  X  1 , where Li P quirement of normalization T (1) = 1 (defined later).  X  &gt; 1 is the scaling exponent. An exponential cutoff  X  is observed in many of the real world networks, and also it makes the distribution normalizable for all  X  . We use the generating functions to analyze the reward function behavior similar to that described in [5]. The generating function for the distribution (2) is given by:
T ( x ) = In the limit  X   X  X  X  , this simplifies to T ( x ) = Li  X  ( x )  X  ( x ) = P  X  i =1 i  X  x is the Riemann zeta function.
Structural Characteristics X  Many of the online social networks are power-law networks with exponent  X  1 (  X  1 &lt; 3) [11, 3]. Aiello et al. [4] showed that, random graph models of power-law networks observe a phase transition in the giant component. For 2 &lt;  X  &lt;  X  0 = 3 . 4785, there is a giant component of size  X ( N ) and for  X  &gt;  X  0 , the graph almost surely has no giant component. Chung et al. [6] showed that there exists a phase transition in the average distance at  X  = 3, and is of the order log N when  X  &gt; 3, and of order log log N when 2 &lt;  X  &lt; 3, and of order log N log log N Specifically when 2 &lt;  X  &lt; 3, these graphs contain a dense subgraph, called the core .
Failure Probability X  Let each node in the network have an answer with probability 1  X  p = 1 /n . Consider a node u in the power-law network. Define the function, t ( x ) = T ( px ) = P probability of getting an answer by querying a single layer of the tree. Recall that  X   X  j is the probability that no node in the first j levels of the tree (excluding node u ) has an answer. So  X   X  j can be defined by the following recurrence: where t j (1) is the value obtained by iterating the function t at value x a total of j times.
First we sketch the proof of an existence of Nash equilib-rium and nodes strategy in a directed acyclic graph and then argue that the cycles are overhead in query propagation, and do not affect a node X  X  strategy.

In directed acyclic graphs, a node v may be offered re-wards by multiple parents. Hence the expected payoff at node v can be written as sum of expected payoffs from all the parents (or in-links) and each payoff is a boolean com-binations of C, query reaches v ; B, that answer is found in v  X  X  friendship network (including v); D, v has the answer; A, reward is propagated down to v as denoted in [9]. Now the node v has control over each of the independent payoff component, P i = ( r i  X  x i  X  1) . (1  X   X   X   X  ( x i ) ), where r ward from parent i , x i = g ( r i ) is the reward given out when incoming reward was r i ,  X  ( x i ) is the level that the query can be passed with reward x i and  X   X   X  ( x i ) is the failure probability of answer (defined recursively in Equation 3), in first  X  ( x levels of the graph. Note that, we defined g such that it maximizes P i . So any deviation from g will not maximize the individual payoff component and hence the overall pay-off. Thus the function g is a Nash equilibrium. But its not clear that which parent the node passes the answer when it has an answer from its friendship network. Hence we have the following lemma.

Lemma 2 ([1]). A pure strategy Nash equilibrium ex-ists, in which every node propagates the answer to the parent which offers the highest reward.
 For cycles in a graph, incoming reward at a node (visited once already on a cyclic path), would always be lesser than the offered reward before in the cyclic path and also the payoff. Hence, cycles are overhead in the propagation pro-cess, as answers are always passed to parents which provide higher reward.
We analyze the reward required at the asker node for a success probability  X  , as a function of rarity of answers n .
Our Approach X  Using inequality (1), we bound the re-ward required by the decay rate of  X   X  j  X  X . Let x =  X   X  for some y  X  [ x, 1] by the Mean Value Theorem. We bound t (1) and t 0 ( y ) to derive the bounds for the reward required at the asker node.

Lemma 4 ([1]). Let 1 &gt; &gt;  X  (  X   X  1) 3 n X  (  X  ) and x  X  [1  X  , 1] ,
Lemma 5 ([9]). Suppose p, X , are such that p  X  (  X   X  1)  X  (  X  ) 4  X  ) &gt; 1 and let 0 &lt;  X  0 &lt;  X  1  X  . Let N (  X  0 number of iterations of the function t ( . ) needed to reduce the failure probability from 1  X   X  0 to at most 1  X   X  N (  X  0 , X  1 ) =  X (log(  X  1 / X  0 ))
Theorem 6 ([1]). Let  X   X  1  X  1 /n . There exists an exponent  X  1 , 2 &lt;  X  1 &lt; 3 , such that when  X  &gt;  X  quired reward is n  X (1) and when  X  &lt;  X  1 , the required reward is O (log n ) .
In this section, we provide details on simulations of query incentive model on random graph models of power-law net-work, and real-world friendship graphs.
 Datasets X  We use Acceptance/Rejection method from Newman et. al. [12] to generate synthetic power-law net-works. Once the network is generated, the largest connected component of reachable nodes is extracted. For real world friendship networks, we consider social graph of users from Digg, Flickr, YouTube, and Yahoo! Answers, where the links are based on some shared interests. These are directed graphs with an edge from u to v mean that, u is a fan of v or v is a friend of u , and u has access to the information shared by v .

We extracted the largest weakly connected component of social graph of users from Digg and Yahoo! Answers in May 2008 and Jan 2010 respectively, by following both the out and in links. We cannot reveal the number of nodes and edges in Yahoo! Answers graph due to reasons of confi-dentiality. Flickr and YouTube friendship network datasets are due to Mislove et. al. [11], and is a crawl of the large weakly connected component conducted on January 2007. Using the methods from [7], we estimated outdegree and indegree exponents. Both out-degrees and in-degrees in Ya-hoo! Answers follow a power-law distribution with an expo-nent 2 . 09 and 2 . 16 respectively. Network characteristics of these datasets are summarized in Table 1.

Experimentation Setup X  Given a network, we choose a node v  X  having a question of rarity n . Let the desired success probability at v  X  be  X  = 1  X  1 /n and v  X  forwards the query to its neighbours with a reward r . Initialize r = 2, since we know that it can propagate up to two levels, g (2) = 1 and g (1) = 0. We apply the query propagation process and estimate the success probability that can be achieved with r according to (3). Our goal is to estimate r , such that the success probability is at least  X  . We repeat the experiment with a number of questions of different rarities at different nodes v  X  . We generated synthetic power-law random graphs of 10K nodes with scale parameter  X  (1.8 to 3.0), each 100 times. In each of these realization, for 100 different rarity values (100 to 2000, with step increment of 20 nodes), we asked 1000 questions each. Hence the simulation configuration space was sufficiently large: 13  X  100  X  1000  X  Figure 1: Reward function behavior in (a) synthetic power-law networks, (b) real world friendship net-works 100. For each of real-world networks Digg, Flickr, YouTube, and Yahoo! answers, we simulated a total of 100K pairs of question and answer with 200 different rarity values (1.1K to 220K, with step increment of 1000 nodes), by randomly choosing the asker, answerer from the network.

Results X  For each scaling exponent  X  of the synthetically generated power-law networks, we took the average reward required over 1000 questions per rarity n . Red (first) and Cyan (second) box-plots in Figure 1 (a) respectively, shows the spread of average reward required determined experi-mentally and theoretically, over 100 such values of rarity n per exponent. Clearly the reward required shows a threshold behavior at scaling exponent  X   X  2 . 4, where the theoretical bound of log ( n ) crosses over the experimentally found val-ues. In case of real world friendship networks, we took the average reward over 500 questions in each of the 200 different rarities. Required reward on all the four datasets along with the upper bound of log ( n ) and lower bound of log ( log ( n )) are shown in Figure 1 (b). Lower bound of log ( log ( n )) is due to  X  X ore X  in these networks, that the average path length be-tween any two nodes is of the order  X (log log n ). Since there is a transportation cost of 1 attached to each link, minimum reward needed is greater or equal to  X (log log n ). From Fig-ure 1 (b), we observe that the reward needed in case of the real world friendship networks are within the theoretical bounds and are consistent with the results from synthetic power-law networks. Its interesting to see that the reward needed to elicit an answer was consistently higher in case of Yahoo! answers compared to Digg, Flickr and YouTube (in the decreasing order). This is due to the out-degree expo-nent, where we see a larger skew in the out-degrees in case of YouTube compared to Answers as seen from Table 1, and a higher symmetry of links due to which a high in-degree node also tend to be a high out-degree node [11].

Discussion X  The model so far assumes a uniform distri-bution on the user expertise, with each node has an answer with probability 1  X  p . In another setting of Yahoo! An-swers, where we have a snapshot of users X  social graph and a large corpus of user activities on questions and answers among various question categories, we map the questions and answers by users onto the nodes in the graph and study the incentive model with heterogeneous expertise modeled at each of the nodes. Results from this study with role of queries and expertise on the reward required are beyond the scope of this paper and are discussed in [1].
A simulation of different social search strategies are eval-uated on enron email dataset in [14], referral networks are studied in [13] to find authoritative target nodes. Small world experiments on Club nexus dataset, a network of friends by stanford students was studied in [2]. A lot of work have been done in the peer-to-peer communities to address the incentive issues. [8] provide a representative list of them. The overall theme in all of these works is that, proper de-sign of incentives is essential to induce cooperative behavior among the rational peers. Peer discovery via distributed message relaying and a simple incentive mechanism to avoid free-rider problem was proposed in [10]. In contrast to these works, we study the effects of network structure on reward required for a query under a game-theoretic setting. [1] N. Kota and Y. Narahari. Incentivizing Intermediaries [2] L. A. Adamic and E. Adar. How to search a social [3] Y.-Y. Ahn, S. Han, H. Kwak, S. Moon, and H. Jeong. [4] W. Aiello, F. Chung, and L. Lu. A random graph [5] E. Arcaute, A. Kirsch, R. Kumar, D. Liben-Nowell, [6] F. R. K. Chung and L. Lu. The average distance in a [7] A. Clauset, C. R. Shalizi, and M. E. J. Newman. [8] M. Feldman, K. Lai, I. Stoica, and J. Chuang. Robust [9] J. Kleinberg and P. Raghavan. Query incentive [10] C. Li, B. Yu, and K. Sycara. An incentive mechanism [11] A. Mislove, M. Marcon, K. P. Gummadi, P. Druschel, [12] M. E. Newman, S. H. Strogatz, and D. J. Watts. [13] B. Yu and M. P. Singh. Searching social networks. In [14] J. Zhang and M. S. Ackerman. Searching for expertise
