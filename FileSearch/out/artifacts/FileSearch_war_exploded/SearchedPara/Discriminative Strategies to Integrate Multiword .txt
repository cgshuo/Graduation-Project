 The integration of Multiword Expressions (MWE) in real-life applications is crucial because such ex-pressions have the particularity of having a certain level of idiomaticity. They form complex lexical units which, if they are considered, should signifi-cantly help parsing.

From a theoretical point of view, the integra-tion of multiword expressions in the parsing pro-cedure has been studied for different formalisms: Head-Driven Phrase Structure Grammar (Copestake et al. , 2002), Tree Adjoining Grammars (Schuler and Joshi, 2011), etc. From an empirical point of view, their incorporation has also been considered such as in (Nivre and Nilsson, 2004) for depen-dency parsing and in (Arun and Keller, 2005) in con-stituency parsing. Although experiments always re-lied on a corpus where the MWEs were perfectly pre-identified, they showed that pre-grouping such expressions could significantly improve parsing ac-curacy. Recently, Green et al. (2011) proposed in-tegrating the multiword expressions directly in the grammar without pre-recognizing them. The gram-mar was trained with a reference treebank where MWEs were annotated with a specific non-terminal node.

Our proposal is to evaluate two discriminative strategies in a real constituency parsing context: (a) pre-grouping MWE before parsing; this would be done with a state-of-the-art recognizer based on Conditional Random Fields; (b) parsing with a grammar including MWE identification and then reranking the output parses thanks to a Maxi-mum Entropy model integrating MWE-dedicated features. (a) is the direct realistic implementation of the standard approach that was shown to reach the best results (Arun and Keller, 2005). We will evalu-ate if real MWE recognition (MWER) still positively impacts parsing, i.e., whether incorrect MWER does not negatively impact the overall parsing system. (b) is a more innovative approach to MWER (de-spite not being new in parsing): we select the final MWE segmentation after parsing in order to explore as many parses as possible (as opposed to method (a)). The experiments were carried out on the French Treebank (Abeill  X  e et al. , 2003) where MWEs are an-notated.
The paper is organized as follows: section 2 is an overview of the multiword expressions and their identification in texts; section 3 presents the two dif-ferent strategies and their associated models; sec-tion 4 describes the resources used for our exper-iments (the corpus and the lexical resources); sec-tion 5 details the features that are incorporated in the models; section 6 reports on the results obtained. 2.1 Overview Multiword expressions are lexical items made up of multiple lexemes that undergo idiosyncratic con-straints and therefore offer a certain degree of id-iomaticity. They cover a wide range of linguistic phenomena: fixed and semi-fixed expressions, light verb constructions, phrasal verbs, named entities, etc. They may be contiguous (e.g. traffic light ) or discontinuous (e.g. John took your argument into account ). They are often divided into two main classes: multiword expressions defined through lin-guistic idiomaticity criteria ( lexicalized phrases in the terminology of Sag et al. (2002)) and those de-fined by statistical ones (i.e. simple collocations). Most linguistic criteria used to determine whether a combination of words is a MWE are based on syn-tactic and semantic tests such as the ones described in (Gross, 1986). For instance, the utterance at night is a MWE because it does display a strict lexical restriction ( *at day , *at afternoon ) and it does not accept any inserting material ( *at cold night , *at present night ). Such linguistically defined expres-sions may overlap with collocations which are the combinations of two or more words that cooccur more often than by chance. Collocations are usu-ally identified through statistical association mea-sures. A detailed description of MWEs can be found in (Baldwin and Nam, 2010).

In this paper, we focus on contiguous MWEs that form a lexical unit which can be marked by a part-of-speech tag (e.g. at night is an adverb, because of is a preposition). They can undergo limited morphologi-cal and lexical variations  X  e.g. traffic (light+lights) , (apple+orange+...) juice  X  and usually do not al-low syntactic variations 1 such as inserts (e.g. *at cold night ). Such expressions can be analyzed at the lexical level. In what follows, we use the term com-pounds to denote such expressions. 2.2 Identification The idiomaticity property of MWEs makes them both crucial for Natural Language Processing appli-cations and difficult to predict. Their actual iden-tification in texts is therefore fundamental. There are different ways for achieving this objective. The simpler approach is lexicon-driven and consists in looking the MWEs up in an existing lexicon, such as in (Silberztein, 2000). The main drawback is that this procedure entirely relies on a lexicon and is unable to discover unknown MWEs. The use of collocation statistics is therefore useful. For in-stance, for each candidate in the text, Watrin and Franc  X ois (2011) compute on the fly its association score from an external ngram base learnt from a large raw corpus, and tag it as MWE if the associa-tion score is greater than a threshold. They reach ex-cellent scores in the framework of a keyword extrac-tion task. Within a validation framework (i.e. with the use of a reference corpus annotated in MWEs), Ramisch et al. (2010) developped a Support Vector Machine classifier integrating features correspond-ing to different collocation association measures. The results were rather low on the Genia corpus and Green et al. (2011) confirmed these bad results on the French Treebank. This can be explained by the fact that such a method does not make any dis-tinctions between the different types of MWEs and the reference corpora are usually limited to certain types of MWEs. Furthermore, the lexicon-driven and collocation-driven approaches do not take the context into account, and therefore cannot discard some of the incorrect candidates. A recent trend is to couple MWE recognition with a linguistic ana-lyzer: a POS tagger (Constant and Sigogne, 2011) or a parser (Green et al. , 2011). Constant and Si-gogne (2011) trained a unified Conditional Random Fields model integrating different standard tagging features and features based on external lexical re-sources. They show a general tagging accuracy of 94% on the French Treebank. In terms of Multi-word expression recognition, the accuracy was not clearly evaluated, but seemed to reach around 70-80% F-score. Green et al. (2011) proposed to in-clude the MWER in the grammar of the parser. To do so, the MWEs in the training treebank were anno-tated with specific non-terminal nodes. They used a Tree Substitution Grammar instead of a Probabilis-tic Context-free Grammar (PCFG) with latent anno-tations in order to capture lexicalized rules as well as general rules. They showed that this formalism was more relevant to MWER than PCFG (71% F-score vs. 69.5%). Both methods have the advantage of being able to discover new MWEs on the basis of lexical and syntactic contexts. In this paper, we will take advantage of the methods described in this section by integrating them as features of a MWER model. 3.1 Pre-grouping Multiword Expressions MWER can be seen as a sequence labelling task (like chunking) by using an IOB-like annotation scheme (Ramshaw and Marcus, 1995). This implies a theoretical limitation: recognized MWEs must be contiguous. The proposed annotation scheme is therefore theoretically weaker than the one proposed by Green et al. (2011) that integrates the MWER in the grammar and allows for discontinuous MWEs. Nevertheless, in practice, the compounds we are dealing with are very rarely discontinuous and if so, they solely contain a single word insert that can be easily integrated in the MWE sequence. Constant and Sigogne (2011) proposed to combine MWE seg-mentation and part-of-speech tagging into a single sequence labelling task by assigning to each token a tag of the form TAG+X where TAG is the part-of-speech (POS) of the lexical unit the token belongs to and X is either B (i.e. the token is at the beginning of the lexical unit) or I (i.e. for the remaining posi-tions): John/N+B hates/V+B traffic/N+B jams/N+I . In this paper, as our task consists in jointly locating and tagging MWEs, we limited the POS tagging to MWEs only (TAG+B/TAG+I), simple words being tagged by O (outside): John/O hates/O traffic/N+B jams/N+I .
 For such a task, we used Linear chain Conditional Ramdom Fields (CRF) that are discriminative prob-abilistic models introduced by Lafferty et al. (2001) for sequential labelling. Given an input sequence of tokens x = ( x 1 ,x 2 ,...,x N ) and an output sequence of labels y = ( y 1 ,y 2 ,...,y N ) , the model is defined as follows:
P  X  ( y | x ) = where Z ( x ) is a normalization factor depending on x . It is based on K features each of them be-ing defined by a binary function f k depending on the current position t in x , the current label y t , the preceding one y t  X  1 and the whole input sequence x . The tokens x i of x integrate the lexical value of this token but can also integrate basic properties which are computable from this value (for example: whether it begins with an upper case, it contains a number, its tags in an external lexicon, etc.). The feature is activated if a given configuration between t , y t , y t  X  1 and x is satisfied (i.e. f k ( t,y t ,y 1 ). Each feature f k is associated with a weight  X  k . The weights are the parameters of the model, to be estimated. The features used for MWER will be de-scribed in section 5. 3.2 Reranking Discriminative reranking consists in reranking the n-best parses of a baseline parser with a discriminative model, hence integrating features associated with each node of the candidate parses. Charniak and Johnson (2005) introduced different features that showed significant improvement in general parsing accuracy (e.g. around +1 point in English). For-mally, given a sentence s , the reranker selects the best candidate parse p among a set of candidates P ( s ) with respect to a scoring function V  X  : The set of candidates P ( s ) corresponds to the n-best parses generated by the baseline parser. The scor-ing function V  X  is the scalar product of a parameter vector  X  and a feature vector f : where f j ( p ) corresponds to the number of occur-rences of the feature f j in the parse p . According to Charniak and Johnson (2005), the first feature f 1 is the probability of p provided by the baseline parser. The vector  X  is estimated during the training stage from a reference treebank and the baseline parser ouputs.

In this paper, we slightly deviate from the original reranker usage, by focusing on improving MWER in the context of parsing. Given the n-best parses, we want to select the one with the best MWE seg-mentation by keeping the overall parsing accuracy as high as possible. We therefore used MWE-dedicated features that we describe in section 5. The training stage was performed by using a Maximum entropy algorithm as in (Charniak and Johnson, 2005). 4.1 Corpus The French Treebank 2 [FTB] (Abeill  X  e et al. , 2003) is a syntactically annotated corpus made up of jour-nalistic articles from Le Monde newspaper. We used the latest edition of the corpus (June 2010) that we preprocessed with the Stanford Parser pre-processing tools (Green et al. , 2011). It contains 473,904 tokens and 15,917 sentences. One benefit of this corpus is that its compounds are marked. Their annotation was driven by linguistic criteria such as the ones in (Gross, 1986). Compounds are identified with a specific non-terminal symbol  X  X WX X  where X is the part-of-speech of the expression. They have a flat structure made of the part-of-speech of their components as shown in figure 1.

The French Treebank is composed of 435,860 lex-ical units (34,178 types). Among them, 5.3% are compounds (20.8% for types). In addition, 12.9% of the tokens belong to a MWE, which, on average, has 2.7 tokens. The non-terminal tagset is composed of 14 part-of-speech labels and 24 phrasal ones (in-cluding 11 MWE labels). The train/dev/test split is the same as in (Green et al. , 2011): 1,235 sentences for test, 1,235 for development and 13,347 for train-ing. The development and test sections are the same as those generally used for experiments in French, e.g. (Candito and Crabb  X  e, 2009). 4.2 Lexical resources French is a resource-rich language as attested by the existing morphological dictionaries which in-clude compounds. In this paper, we use two large-coverage general-purpose dictionaries: Dela (Cour-tois, 1990; Courtois et al. , 1997) and Lefff (Sagot, 2010). The Dela was manually developed in the 90 X  X  by a team of linguists. We used the distribution freely available in the platform Unitex 3 (Paumier, 2011). It is composed of 840,813 lexical entries in-cluding 104,350 multiword ones (91,030 multiword nouns). The compounds present in the resources re-spect the linguistic criteria defined in (Gross, 1986). The lefff is a freely available dictionary 4 that has been automatically compiled by drawing from dif-ferent sources and that has been manually validated. We used a version with 553,138 lexical entries in-cluding 26,311 multiword ones (22,673 multiword nouns). Their different modes of acquisition makes those two resources complementary. In both, lexical entries are composed of a inflected form, a lemma, a part-of-speech and morphological features. The Dela has an additional feature for most of the mul-tiword entries: their syntactic surface form. For in-stance, eau de vie (brandy) has the feature NDN be-cause it has the internal flat structure noun  X  prepo-sition de  X  noun.

In order to compare compounds in these lexical resources with the ones in the French Treebank, we applied on the development corpus the dictionar-ies and the lexicon extracted from the training cor-pus. By a simple look-up, we obtained a prelimi-nary lexicon-based MWE segmentation. The results are provided in table 1. They show that the use of external resources may improve recall, but they lead to a decrease in precision as numerous MWEs in the dictionaries are not encoded as such in the reference corpus; in addition, the FTB suffers from some in-consistency in the MWE annotations.
 In terms of statistical collocations, Watrin and Franc  X ois (2011) described a system that lists all the potential nominal collocations of a given sentence along with their association measure. The authors provided us with a list of 17,315 candidate nominal collocations occurring in the French treebank with their log-likelihood and their internal flat structure. The two discriminative models described in sec-tion 3 require MWE-dedicated features. In order to make these models comparable, we use two compa-rable sets of feature templates: one adapted to se-quence labelling (CRF-based MWER) and the other one adapted to reranking (MaxEnt-based reranker). The MWER templates are instantiated at each posi-tion of the input sequence. The reranker templates are instantiated only for the nodes of the candidate parse tree, which are leaves dominated by a MWE node (i.e. the node has a MWE ancestor). We define a template T as follows:  X  MWER: for each position n in the input se- X  RERANKER: for each leaf (in position n ) where f is a function to be defined; y n is the out-put label at position n ; label ( m ) is the label of node m and pos ( p,n ) indicates the position of the word corresponding to n in the MWE sequence: B (start-ing position), I (remaining positions). 5.1 Endogenous Features Endogenous features are features directly extracted from properties of the words themselves or from a tool learnt from the training corpus (e.g. a tagger). Word n-grams . We use word unigrams and bigrams in order to capture multiwords present in the training section and to extract lexical cues to discover new MWEs. For instance, the bigram coup de is often the prefix of compounds such as coup de pied (kick), coup de foudre (love at first sight), coup de main (help).
 POS n-grams . We use part-of-speech unigrams and bigrams in order to capture MWEs with irreg-ular syntactic structures that might indicate the id-iomacity of a word sequence. For instance, the POS sequence preposition  X  adverb associated with the compound depuis peu (recently) is very unusual in French. We also integrated mixed bigrams made up of a word and a part-of-speech.
 Specific features . Due to their different use, each model integrates some specific features. In order to deal with unknown words and special tokens, we in-corporate standard tagging features in the CRF: low-ercase forms of the words, word prefixes of length 1 to 4, word suffice of length 1 to 4, whether the word is capitalized, whether the token has a digit, whether it is an hyphen. We also add label bigrams. The reranker models integrate features associated with each MWE node, the value of which is the com-pound itself. 5.2 Exogenous Features Exogenous features are features that are not entirely derived from the (reference) corpus itself. They are computed from external data (in our case, our lexical resources). The lexical resources might be useful to discover new expressions: usually, expressions that have standard syntax like nominal compounds and are difficult to predict from the endogenous features. The resources are applied to the corpus through a lexical analysis that generates, for each sentence, a finite-state automaton TFSA which represents all the possible analyses. The features are computed from the automaton TFSA.
 Lexicon-based features . We associate each word with its part-of-speech tags found in our external morphological lexicon. All tags of a word constitute an ambiguity class ac . If the word belongs to a com-pound, the compound tag is also incorporated in the ambiguity class. For instance, the word night (either a simple noun or a simple adjective) in the context at night , is associated with the class adj noun adv+I as it is located inside a compound adverb. This feature is directly computed from TFSA. The lexical anal-ysis can lead to a preliminary MWE segmentation by using a shortest path algorithm that gives priority to compound analyses. This segmentation is also a source of features: a word belonging to a compound segment is assigned different properties such as the segment part-of-speech mwt and its syntactic struc-ture mws encoded in the lexical resource, its relative position mwpos in the segment ( X  X  X  or  X  X  X ).
 Collocation-based features . In our collocation re-source, each candidate collocation of the French treebank is associated with its internal syntactic structure and its association score (log-likelihood). We divided these candidates into two classes: those whose score is greater than a threshold and the other ones. Therefore, a given word in the corpus can be associated with different properties whether it be-longs to a potential collocation: the class c and the internal structure cs of the collocation it belongs to, its position cpos in the collocation (B: beginning; I: remaining positions; O: outside). We manually set the threshold to 150 after some tuning on the devel-opment corpus.
 All feature templates are given in table 2.
 6.1 Experiment Setup We carried out 3 different experiments. We first tested a standalone MWE recognizer based on CRF. We then combined MWE pregrouping based on this recognizer and the Berkeley parser 5 (Petrov et al. , 2006) trained on the FTB where the com-pounds were concatenated (BKYc). Finally, we combined the Berkeley parser trained on the FTB where the compounds are annotated with specific non-terminals (BKY), and the reranker. In all exper-iments, we varied the set of features: endo are all en-dogenous features; coll and lex include all endoge-nous features plus collocation-based features and lexicon-based ones, respectively; all is composed of both endogenous and exogenous features. The CRF recognizer relies on the software Wapiti 6 (Lavergne et al. , 2010) to train and apply the model, and on the software Unitex (Paumier, 2011) to apply lexical resources. The part-of-speech tagger used to extract POS features was lgtagger 7 (Constant and Sigogne, 2011). To train the reranker, we used a MaxEnt al-gorithm 8 as in (Charniak and Johnson, 2005).
Results are reported using several standard mea-sures, the F 1 score , unlabeled attachment and Leaf Ancestor scores. The labeled F 1 score [F1] 9 , de-fined by the standard protocol called PARSEVAL (Black et al. , 1991), takes into account the brack-eting and labeling of nodes. The unlabeled attache-ment score [UAS] evaluates the quality of unlabeled dependencies between words of the sentence 10 . And finally, the Leaf-Ancestor score [LA] 11 (Sampson, 2003) computes the similarity between all paths (se-quence of nodes) from each terminal node to the root node of the tree. The global score of a generated parse is equal to the average score of all terminal nodes. Punctuation tokens are ignored in all met-rics. The quality of MWE identification was evalu-ated by computing the F 1 score on MWE nodes. We also evaluated the MWE segmentation by using the unlabeled F 1 score (U). In order to compare both ap-proaches, parse trees generated by BKYc were auto-matically transformed in trees with the same MWE annotation scheme as the trees generated by BKY.
In order to establish the statistical significance of results between two parsing experiments in terms of F 1 and UAS, we used a unidirectional t-test for two independent samples 12 . The statistical significance between two MWE identification experiments was established by using the McNemar-s test (Gillick and Cox, 1989). The results of the two experiments are considered statistically significant with the com-puted value p &lt; 0 . 01 . 6.2 Standalone Multiword recognition The results of the standalone MWE recognizer are given in table 3. They show that the lexicon-based system ( lex ) reaches the best score. Accuracy is im-proved by an absolute gain of +6.7 points as com-pared with BKY parser. The strictly endogenous system has a +4.9 point absolute gain, +5.4 points when collocations are added. That shows that most of the work is done by fully automatically acquired features (as opposed to features coming from a man-ually constructed lexicon). As expected, lexicon-based features lead to a 5.3 point recall improve-ment (with respect to non-lexicon based features) whereas precision is stable. The more precise sys-tem is the base one because it almost solely detects compounds present in the training corpus; neverthe-less, it is unable to capture new MWEs (it has the lowest recall). BKY parser has the best recall among the non lexicon-based systems, i.e. it is the best one to discover new compounds as it is able to precisely detect irregular syntactic structures that are likely to be MWEs. Nevertheless, as it does not have a lex-icalized strategy, it is not able to filter out incorrect candidates; the precision is therefore very low (the worst).
 6.3 Combination of Multiword Expression We tested and compared the two proposed dis-criminative strategies by varying the sets of MWE-dedicated features. The results are reported in ta-ble 4. Table 5 compares the parsing systems, by showing the score differences between each of the tested system and the BKY parser.

Firstly, we note that the accuracy of the best re-alistic parsers is much lower than that of a parser with a golden MWE segmentation 13 (-2.65 and -5.92 respectively in terms of F-score and UAS), which shows the importance of not neglecting MWE recog-nition in the framework of parsing. Furthermore, pre-grouping has no statistically significant impact on the F-score 14 , whereas reranking leads to a sta-tistically significant improvement (except for col-locations). Both strategies also lead to a statisti-cally significant UAS increase. Whereas both strate-gies improve the MWE recognition, pre-grouping is much more accurate (+2-4%); this might be due to the fact that an unlexicalized parser is limited in terms of compound identification, even within n -best analyses (cf. Oracle in table 6). The benefits of lexicon-based features are confirmed in this experi-ment, whereas the use of collocations in the rerank-ing strategy seems to be rejected.
Table 7 shows the results by category. It indi-cates that both discriminative strategies are of in-terest in locating multiword adjectives, determiners and prepositions; the pre-grouping method appears to be particularly relevant for multiword nouns and adverbs. However, it performs very poorly in multi-word verb recognition. In terms of standard parsing accuracy, the pre-grouping approach has a very het-erogeneous impact: Adverbial and Adjective Modi-fier phrases tend to be more accurate; verbal kernels and higher level constituents such as relative and subordinate clauses see their accuracy level drop, which shows that pre-recognition of MWE can have a negative impact on general parsing accuracy as MWE errors propagate to higher level constituents. In this paper, we evaluated two discriminative strate-gies to integrate Multiword Expression Recognition in probabilistic parsing: (a) pre-grouping MWEs with a state-of-the-art recognizer and (b) MWE identification with a reranker after parsing. We showed that MWE pre-grouping significantly im-proves compound recognition and unlabeled depen-dency annotation, which implies that this strategy could be useful for dependency parsing. The rerank-ing procedure evenly improves all evaluation scores. Future work could consist in combining both strate-gies: pre-grouping could suggest a set of potential MWE segmentations in order to make it more flexi-ble for a parser; final decisions would then be made by the reranker. The authors are very grateful to Spence Green for his useful help on the treebank, and to Jennifer Thewis-sen for her careful proof-reading.

