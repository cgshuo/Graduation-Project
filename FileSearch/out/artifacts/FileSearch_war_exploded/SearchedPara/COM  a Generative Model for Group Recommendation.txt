 With the rapid development of online social networks, a growing number of people are willing to share their group activities, e.g., having dinners with colleagues, and watching movies with spouses. This motivates the studies on group recommendation, which aims to recommend items for a group of users. Group recommendation is a challenging problem because di ff erent group members have dif-ferent preferences, and how to make a trade-o ff among their pref-erences for recommendation is still an open problem.

In this paper, we propose a probabilistic model named COM (COnsensus Model) to model the generative process of group ac-tivities, and make group recommendations. Intuitively, users in a group may have di ff erent influences, and those who are expert in topics relevant to the group are usually more influential. In addi-tion, users in a group may behave di ff erently as group members from as individuals. COM is designed based on these intuitions, and is able to incorporate both users X  selection history and personal considerations of content factors. When making recommendations, COM estimates the preference of a group to an item by aggregat-ing the preferences of the group members with di ff erent weights. We conduct extensive experiments on four datasets, and the results show that the proposed model is e ff ective in making group recom-mendations, and outperforms baseline methods significantly. H.3.3 [ Information Search and Retrieval ]: Information Filtering Group Recommendation; Collaborative Filtering; Topic Models
Recommender systems (RS) aim to suggest items for users based on their preferences, and they have been widely deployed to as-sist users to select items in various fields, such as movies (Net-flix), products (Amazon), restaurants (Yelp), etc. A number of rec-ommendation techniques have been proposed, such as user / based collaborative filtering (CF) [17,21], clustering CF [24], ma-trix factorization [11], etc., and most of them focus on producing recommendations for individual users. However, people often par-ticipate in activities together with others, e.g., having dinners with colleagues, watching movies with spouses, and having picnics with friends. This calls for recommendation techniques for a group. Un-fortunately, recommender systems designed for individuals are not e ff ective in making recommendations for a group of people. Fur-thermore, an increasing number of group event records are becom-ing available on the web, since users often share their group activi-ties on social networks, such as Facebook, Meetup, and Foursquare. For example, the Foursquare check-in in Figure 1 shows that user Angele D. , together with her husband, visited the Outback steak-house. The availability of group event data promotes the research interest on how to make e ff ective recommendations for a group of users [3, 4, 6, 8, 13, 26], which not only facilitates groups making decisions, but also helps web services improve user engagement.
However, making accurate recommendations for groups is not an easy task, because a group consists of multiple users who have di ff erent preferences. How to make a trade-o ff among their pref-erences to recommend items for a group is challenging. Previous solutions to group recommendation can be divided into two types: memory-based and model-based approaches. Memory-based ap-proaches further fall in two categories based on the aggregation strategy: preference aggregation strategy first aggregates the pro-files of group members into a new profile, and then employs recom-mendation techniques designed for individuals to make group rec-ommendations [15, 28]; score aggregation strategy first calculates a recommendation list for each group member, and then aggregates these lists for group recommendation [4, 7, 14, 18, 20]. However, both strategies overlook the interactions between group members, and use trivial methods to aggregate members X  preferences. Di ent from memory-based approaches, model-based methods exploit the interactions among members by modeling the generative pro-cess of a group [13, 26]. However, as to be detailed in Section 2, the assumptions of these models may not hold in real life.
To achieve better accuracy, we propose a latent Dirichlet alloca-tion (LDA) [5] based generative model, named COnsensus Model (COM), to make group recommendations. COM is novel since it is built based on the following three considerations that have not been exploited by previous work: 1. Each group is relevant to several topics, e.g., a picnic group 2. Users in a group may behave di ff erently as group members 3. Di ff erent users have di ff erent influences in making decisions
Based on the three considerations, we model the generative pro-cess of a group as follows: each group has a multinomial distribu-tion over latent topics, and these topics attract a set of users to join. The item selection of a user is influenced by both the group topic that attracted her, and her personal considerations of content fac-tors (Consideration 1). Note that it is the topic of the group, instead of the user X  X , that account for her item selection (Consideration 2). The final decision of a group is made by aggregating the selections of all users in the group: if a user is an expert in the relevant topics of the group, her selections will have a larger weight (Consideration 3). Based on the generative model, we propose a recommendation method to suggest items for a target group.

In summary, the contributions of this paper are three-fold:
The rest of this paper is organized as follows. In Section 2, we re-view related work. Section 3 introduces the proposed COM model and the recommendation method. We present experimental results in Section 4. Finally, Section 5 concludes this paper.
We first briefly review recommendation systems in general, and then focus on techniques for group recommendation.
Recommender systems can be classified into three categories: content-based, collaborative filtering (CF), and hybrid recommen-dation approaches [1]. The content-based approaches make rec-ommendations based on the content features of users ( e.g., age, gender, etc.) and items ( e.g., price, category, etc.), but do not ex-ploit users X  rating / selection history. Thus, when content features are not su ffi cient, the content-based techniques will fail to pro-duce accurate recommendations. In contrast, CF approaches rely on rating / selection history, but do not make use of content fea-tures. Consequently, they su ff er from the sparsity problem, i.e., when the number of users X  ratings is not enough for finding similar users, the performance of CF techniques will be bad. The hybrid approaches combine the content-based and CF methods to avoid their limitations. Our proposed model exploits both users X  selec-tion history and content information, and thus it belongs to the hy-brid approaches. In addition, when the content information is not available, our model will be reduced as a CF model that makes rec-ommendations based on users X  selection history only.

CF approaches have been extensively studied and can be fur-ther divided into two categories, namely, memory-based CF and model-based CF [23]. Memory-based CF approaches employ rat-ing / selection history to find similar users of the target user, and then compute a recommendation score for a candidate item by a weighted combination of historical ratings on the item from these similar users. In contrast, model-based CF builds recommendation models using data mining techniques, such as clustering [19], ma-trix factorization [11], probabilistic topic model [2, 25], etc. Our model exploits users X  selection history in the model-based manner.
Group recommendation techniques have been proposed for var-ious domains, such as web / news pages [20], tourism [16], restau-rants [14], music [7], TV programs [28], and movies [18]. Group recommendation methods in the earlier studies fall into two cate-gories [3]: the preference aggregation approaches first aggregate the profiles of the group members into one profile, and makes rec-ommendations based on the aggregated profile [15,28]. The score aggregation approaches, in contrast, first produce recommenda-tions for each group member respectively, and then aggregate their recommendation results for the group [4,7,14,18,20].

Compared with preference aggregation, score aggregation typi-cally enjoys better flexibility [3,10,18], and thus receives more re-search attention. The score aggregation approaches usually employ either average (AVG) or least misery (LM) strategy to aggregate the recommendations of individuals. The AVG strategy averages the recommendation scores of all group members as the final score, aiming to maximize the overall satisfactions of a group [15, 28]; the LM strategy takes the smallest recommendation score of group members as the final score, and tries to make everyone happy [4]. For LM, the recommendation score of an item is largely influenced by the user who dislikes it most, even if all the others like it very much. For AVG, an item X  X  relevance to di ff erent users might be diverse, and the recommendation results might be unfair to some users. Baltrunas et al. [4] compare di ff erent aggregation approaches, and find that there is no clear winner, and the e ff ectiveness of an ap-proach depends on the group size and inner group similarity. Amer-Yahia et al. [3] go one step further, and argue that an item is a good recommendation for a group if the group members have small dis-agreements on the item, where the disagreement is defined as the di ff erence among relevance of the item to di ff erent group members. Recently, several model-based approaches have been proposed. Seko et al. [22] develop a content-based group recommendation method based on the assumption that the choice made by a group is influenced by item genres. However, this approach can be only ap-plied to pre-defined groups, e.g., couples, while in real-life, groups are often ad-hoc. Carvalho et al. [6] introduce game theory into group recommendation by treating a group event as a noncooper-ative game among members, and transform the recommendation problem into finding the Nash equilibrium. However, this method cannot suggest a specific item, since the equilibrium contains a set of items.

The model-based approaches proposed in [8, 13, 26] adopt the same setting as ours. Ye et al. [26] assume that when selecting items, a group member will follow her friends X  opinions. They propose a probabilistic generative model to produce group recom-mendations by aggregating the preferences of pairwise friends in the group, where one influences the other. However, the strong assumption of pairwise influence in a group may not be true, espe-cially when the group is large. In addition, a group does not always consist of friends. Liu et al. [13] propose a topic model approach based on the assumption that the influential users will become the representatives of all groups to make item selections, irrespective of the group topics and the influential users X  expertise. However, users X  influences should be topic-dependent: a user may be influ-ential in a group because of her expertise on the group X  X  topics, but may not be in another group. Gorla et al. [8] assume that the recom-mendation score for an item depends on its relevance to each group member and its relevance to the group as a whole. They propose an information-matching based framework to make group recom-mendations. However, this framework has a high time complexity, which is O ( | U | 2 | I | 2 ) for each target group, where sizes of user and item sets, respectively. We implemented and ran this method, but it could not finish on our datasets after 5 days and we stopped it. It can only finish on very small data we tried.
In our experiments, we will report comparison results with the approaches in the three proposals [3,13,26]. In the existing studies, these approaches have not been empirically compared with each other.

Finally note that the  X  X roup recommendation X  defined in [31] concentrate on personalized recommendation of event-based groups to a user, which is a totally di ff erent task.
We first define the group recommendation problem in Section 3.1, and then introduce the proposed COnsensus Model (COM) in Sec-tion 3.2. After that, the inference algorithm and the recommen-dation method are presented in Section 3.3 and 3.4, respectively. Finally, we present how to incorporate content information into the model in Section 3.5. All the notations used in this paper are listed in Table 1.
Let U , I , G be the user, item and group sets, respectively. A group g  X  G consists of a set of users (group members) u g { u i.e., the number of users in g . In addition, a group g is associ-ated with an item i g  X  I ,if i g is selected by group g . We define a members as a whole. For example, the members of a picnic group selecting a venue for picnic is a group event, and a family selecting a movie to watch is also a group event.

Then, given a target group g t , the problem of group recommen-dation is defined as recommending a list of items that users in g may be interested in.
We model the generative process of a group event based on the following intuitions: Symbol Description U , I , G user set, item set, group set K the number of latent topics
N the size of recommendation list g , | g | the group g , the size of group g u g the members in group g i g the item selected by group g u user u  X  U z j , c j the topic and switch of the user-item pair j i  X  ) the set of items that are generated when c = (  X  )  X  g distribution of topics specific to group g  X  z distribution of users specific to topic z  X  z distribution of items specific to topic z  X  u distribution of items specific to user u  X  u the parameter of Bernoulli distribution specific to  X  ,  X  ,  X  ,  X  Dirichlet prior vector for  X  ,  X  ZU ,  X  UI and  X  Beta prior for  X  , where  X  = {  X  ,  X  t } g , z ,  X  j number of times topic z is assigned to group g ,ex-z , u ,  X  j number of times user u is drawn from topic z ,ex-z , i ,  X  j number of times item i is drawn from topic z ,ex-u , i ,  X  j number of times item i is drawn from user u ,ex-u , c ,  X  j number of times switch c is drawn for user u ,ex-
Specifically, we use a multinomial distribution  X  g over latent top-ics to model the topic preferences of group g ( Intuition 1 ). In ad-dition, each latent topic z has a multinomial distribution user set, which represents the relevance of users to the topic z , and a multinomial distribution  X  ZI z over item set, which represents the Intuition 1 that users join a group because of di ff erent topics, for each member in group g , a latent topic z is sampled from its topic distribution  X  g , and then a user u is drawn according to
A user in a group selects items either based on the group topics that attracted her to join the group, or her personal considerations of content factors ( Intuition 2 ). We use a switch c to decide which one accounts for the item selection of a user, i.e., if c is sampled based on the topic-specific multinomial distribution over items  X  ZI ;if c = 0, the item is drawn from the user-specific multi-nomial distribution of items  X  UI . Since di ff erent users will make di ff erent trade-o ff s between group topics and personal considera-tions of content factors ( Intuition 2 ), in our model, the switch c is drawn from a user-specific Bernoulli distribution with parameter  X  . In other words, user u is influenced by group topics with prob-ability  X  u , and is influenced by her personal considerations with probability 1  X   X  u . Note that the Bernoulli distribution for Beta prior  X  = {  X  ,  X  t } .

Next we illustrate the model using an example. Suppose a pic-nic group is more relevant to both hiking and dining topics than body-building topic. The three topics are sampled from the topic distribution of the picnic group, which attract users u 1 respectively. Then, these three users determine which venue to visit based on the group topics and their personal considerations of con-tent factors such as traveling distance. Suppose u 1 does not mind traveling, and the topic  X  X iking X  has a more significant influence to his selection. Then she may select a distant venue that matches the hiking topic best. Thus, the switch c for u 1 is more likely to be 1. u and u 3 will also make trade-o ff s between group topics and their personal considerations to select the venue for picnic.
Di ff erent from COM, previous topic model based approaches [13, 26] assume that when selecting items, a group member only con-siders her own topic preference. The assumption may not hold, because users in a group may behave di ff erently as group members from that when they make choices as individuals ( Intuition 3 ). For example, suppose u 1 is interested in both hiking and movie topics. In previous approaches, u 1 may select a theater for the picnic group because of her interest in movie topic. In contrast, in our model, u join the picnic group because of the hiking topic, and thus her selection will be related to hiking rather than movie.

In summary, the generative process of a collection of group events is as follows: The graphical model is shown in Figure 2.

Note that di ff erent users in a group will sample di ff erent items in the model, which is in accordance with our experience: users may have di ff erent preferences over items, and thus are likely to make di ff erent choices. In fact, the item selection of a group is often made by two steps: group members express their own opinions on item selections first, and then these selections are weighted and a consensus is reached. As to be detailed in Section 3.4, we propose a recommendation method that can aggregate the selections of group members based on their topic-dependent influences, and produce a single recommendation for the target group.

We remark that the aforementioned generative process is also applicable to the groups with pre-defined members, since these groups also have topic distributions. Consider some students plan to form a club group and the topics of the group are dining, hiking, etc. The group is formed because its topics attract the members. If someone is not interested in any of the group topics, she will not join the group. Thus, the generative process of the club can also be explained by the proposed model, where the group members are sampled from the students. The total likelihood of the group event corpus is: = P ( c |  X  ) P (  X  |  X  ,  X  t ) d  X   X  P ( z |  X  ) P (  X  |  X 
We employ collapsed Gibbs sampling to obtain samples of the hidden variable assignment, and to estimate the unknown parame-together with the item i selected by u as a user-item pair j where the user of j is u  X  U , and the item of j is i  X  I .
Since there are two latent variables in the model, namely z and c , we employ two-step Gibbs sampling method. We first sample topics z j for all user-item pairs j , and then sample switches c all j . For each latent variable ( e.g., z j ), a Gibbs sampling method computes the full conditional probability for the assignment of the variable conditioned on all the other assignments ( e.g., ever, it is challenging to get the full conditional probability because of the complex interdependencies between user u , topic z , switch c and item i : u is sampled based on z , which influences the sampling of c , while i is sampled based on either z or u depending on c .
To solve this problem, we separate the items generated based on topics, and the items generated based on users X  personal considera-tions of content factors. Then, the last part of Equation 1 becomes: = P ( i (0) | u , c ,  X  UI ) P (  X  UI |  X  ) d  X  UI  X  sonal considerations of content factors ( i.e., c = 0), and set of items that are sampled based on topics ( i.e., c =
Based on the new equation of total likelihood, we can derive the full conditional distribution of topic z j and switch c j for each user-item pair j . If the item of j is drawn based on topics, i.e., c j = 1, we sample z j according to the following probability: = P (  X  where g j is the group of j . If the item of j is drawn based on user X  X  personal considerations of content factors, i.e., c j = 0, we have:
After sampling topics for all user-item pairs, we draw a switch c for each j according to the following posterior probability. When c = 1, we have: = P ( Note that since c j = 1, the second term in the right hand side of Equation 5 is 1. Thus, we cancel this part, and get:
Similarly, we calculate the sampling probability for c j =
After sampling a su ffi cient number of iterations, we calculate the parameters  X  ZU ,  X  UI ,  X  ZI and  X  as follows:
When making recommendations for a target group g t , we first discover its topic distribution based on the group members The distribution, denoted by  X  g t , can be learnt by performing Gibbs sampling on u g t according to the following equation:
Since the recommendations should match the topic distribution  X  , based on the generative model, we define the recommendation score for candidate item i as follows:
P ( i | u g t ,  X  g t )
Equation 13 embeds Intuition 4 (when selecting items, di ff users in a group have di ff erent influence scores, and the influence scores are topic dependent) as follows: if the topic z is more rel-evant to group g t , and a user u is an expert in z , then u will be more influential in item selection. Recall that the expertise of a user u on topic z is modeled by  X  ZU z , u . In Equation 13, is the influence score of user u in group g t for a given topic z , and  X  topic z . We margin out the topics, and get the overall preference of u to i . Then the preferences of all members to i are multiplied as the group preference to i . The rationale is three-fold: 1) the preference of a group to an item depends on the preferences of all individuals; 2) ranking an item based on the product of preferences is equal to the geometric mean of these individuals X  preferences. Compared with the traditional strategies that calculate the arithmetic mean of preferences (averaging) or concentrate on the smallest preference (least-misery), the aggregated preference score by geometric mean is less sensitive to extreme values; 3) this definition matches the proposed model well.
The Dirichlet prior  X  to  X  UI u allows us to incorporate di content information into the model. We illustrate the incorporation using two recommendation tasks, namely, venue recommendation and movie recommendation.
 Venue recommendation for groups : People often visit venues to-gether with others for shopping, dining, etc. Venue recommen-dation for a group aims to recommend the venues that the group members are interested in. For venue recommendation, geograph-ical distance is an important factor to consider [27, 30]. Previous studies reported that users tend to visit nearby venues, and the will-ingness of visiting a venue decreases with the increase of distance from their current locations. Here, we adopt a power-law function of distance to model the willingness of a user moving from one venue to another as [29] does. More specifically, the willingness of a user to visit a d -km far away venue is defined by Equation 14. where  X  and  X  are parameters of the power law function, which can be learned by maximum likelihood estimation.

Then, given a user u , the set of venues that she has visited I calculate P ( i | I u ) for each candidate venue i according to the geo-graphical distance, and use this value for  X  u , i . Based on the Bayes rule, P ( i | I u ) is calculated as follows: in which d is the distance between venues i and i .
 Movie recommendation for groups : When selecting a movie to watch, a user may consider several factors, such as genre, cast, etc. We take the cast as an example to illustrate how to exploit content information. Intuitively, users tend to watch the movies stared by their favorite actors or actresses. We incorporate user u  X  X  cast-based considerations to a movie i by modifying the prior  X  u , i where s is a movie star, and S i is the cast list of movie i . P ( s estimated based on the occurrences of s in u  X  X  watching history.
Note that the | U | X | I | dimensional matrix  X  UI requires a large amount of space, in which each value of  X  UI u , i is determined by both the values of most items in  X  UI are 0 ( n UI u , i = 0 and use sparse matrix to store  X  UI to reduce the space complexity.
We first introduce the setup of the experiments in Section 4.1, and then present the experimental results in Section 4.2, in which we compare the recommendation accuracy of our model with five baselines on four datasets. After that, we analyze which factor in-fluences group members X  choices more significantly in Section 4.3. In the end, we show some sample topics discovered by the proposed model to examine their semantics in Section 4.4.
Four real-world datasets are used in our experiments. The first dataset is used in previous work [12], which is collected from Plan-#Group Events 13,885 23,621 3,000 3,000 Avg. Group Size 20.30 4.68 5 5
Avg. #Records
Avg. #Friends
Avg. #Records can follow others X  calendars, and join di ff erent events. An event involves a group of members, and is held at a venue. A venue is associated with a geographical coordinate. We treat an event as a group, where the users involved in the event are the group mem-bers, and the venue of the event is the item selected by them. based social network (LBSN). As shown in Figure 1, LBSNs allow users to share their geographical information by check-ins, where a check-in has a user, time and venue, indicating the user visited the venue at that time. Each a venue in Jiepang is associated with its geographical coordinate. However, Jiepang does not contain ex-plicit group information, and we extract implicit group check-ins as follows: we assume if a set of friends visit the same venue at the same time, they are the members of a group. Specifically, the set of individual check-ins made by friends within 0.5 hour is regarded as a group check-in. For both Jiepang and Plancast datasets, we aim to recommend venues for given groups.
 by following the approach in [4]. MovieLens allows users to rate the movies they have watched by stars ranging from 0 to 5. Two kinds of groups are considered in the experiments: similar and ran-dom, denoted by MovieLens-Simi and MovieLens-Rand, respec-tively. Groups in MovieLens-Simi have larger inner similarities between members, while groups in MovieLens-Rand are randomly formed. The two datasets simulate two kinds of groups in real-life: the groups formed by people who have similar preferences, and the groups that happen to be formed by a set of people. For each dataset, we randomly select 3000 groups with 5-members. We also evaluated groups of size 3 and 8, and obtained similar results. The details for generating the datasets can be found in [4]. Given a group, if every member gives 4 stars or above to a movie, we as-sume that the movie is adopted by the group. We also collect the
The information of the four datasets is shown in Table 2. For each dataset, we randomly mark o ff 20% of group events as the test set to evaluate the recommendation accuracy of di ff erent methods.
Following previous work [3,4,8,13], we evaluate the accuracy of di ff erent methods with three metrics, namely average precision @ N ( Pre @ N ), average recall @ N ( Rec @ N ) and normalized discounted cumulative gain ( nDCG ), where N is the number of recommenda-tions. We consider three values of N ( i.e., 5, 10, 20), where 5 is the default value.

Precision @ N is the fraction of the top N recommendations that are adopted by a group, while recall @ N is the fraction of items adopted by a group (true items) that are contained in the top N recommendations. Formally, given a group, the precision @ N and recall @ N are calculated as: precision @ N =
We average the precision @ N and recall @ N of all testing groups as the Pre @ N and Rec @ N , respectively. Note that the average number of true items of a group in Plancast and Jiepang is close to 1 (Table 2). In this case, Pre @ N is proportional to Rec @ N , since | {top N recommendations} | is N times greater than | {true items} Thus, to save space, we only report Rec @5 for the two datasets. nDCG measures how well a method can rank the true item higher in the recommendation list. It is calculated as follows: where rel i = 1 if the i th item in the recommendation list is adopted by the group, and rel i = 0 otherwise. IDCG is the maximum possi-ble discounted cumulative gain ( DCG ) with optimal top N recom-mendations. We average the nDCG values of all groups as the final result. In the experiments, N is fixed at 10.

For all metrics, larger value indicates better recommendation performance. We evaluate 7 methods in our experiments, namely CF-AVG, CF-LM, CF-RD [3], SIG [26], PIT [13], and the proposed methods COMP and COM. To the best of our knowledge, these state-of-the-art group recommendation methods have not been compared with each other in previous work, and our evaluation is the first experimental studies on them.
 User-based CF with averaging strategy (CF-AVG) : Given a can-didate item i , CF-AVG first estimates the recommendation score of each user in the target group by user-based CF, and then uses the average of these scores as the recommendation score for the group. User-based CF with least-misery strategy (CF-LM) : Given a candidate item i , CF-LM first estimates the recommendation score of each user in the target group by user-based CF, and then uses the smallest score as the recommendation score for the group. User-based CF with relevance and disagreement (CF-RD) [3]: This model calculates the recommendation score for a candidate item i based on the relevance and disagreement of the group, where the relevance is calculated based on either CF-AVG or CF-LM, and the disagreement can be either the average di ff erence of recom-mendation scores of pair-wise group members, or the variance of members X  recommendation scores.
 Social influence based group recommendation (SIG) [26]: SIG is a topic model based approach, which has been introduced in Sec-tion 2. Since the MovieLens-Simi and MovieLens-Rand datasets have no friendship information, we do not report the results of SIG for them.
 Personal impact topic model (PIT) [13]: PIT model assumes that di ff erent users have di ff erent impact scores, and in a group, the user who has a larger impact score is more likely to be selected as the representative. Given a group of users u g t , PIT model first samples a representative user r from u g t based on users X  impact scores, and then r selects a topic based on her topic preference, and finally the topic generates an item for the group.
 COnsensus Model Plain (COMP) : To make a fair comparison with these baselines which do not exploit users X  considerations of content factors, we use a symmetric Dirichlet prior for  X  regard the e ff ect of content information.
 COnsensus Model (COM) : The proposed model incorporated with users X  considerations of content factors.

All baselines are evaluated under the optimal settings. For the hyperparameters in COMP and COM, we take fixed values (  X  = 50 / K ,  X  =  X  = 0 . 01,  X  =  X  t = 0 . 5 and  X  = 0 . 01 for COMP). The prior  X  in COM encodes the content-based knowledge, and needs to be set empirically. Previous work fixes its value as 0 thus the sum of the prior is 0 . 01  X | I | . In this paper, we normalize the value of  X  of each user to a fix value 0 . 01  X  p  X | I parameter p is used to tune the confidence in the prior knowledge. Precision and Recall Under Di ff erent N
We first fix the number of topics K at 250, and vary the number of recommendations N . The Pre @ N and Rec @ N values on the four datasets are plotted in Figure 3. Please note that the MovieLens-Simi / Rand datasets do not contain social relations, and thus the baseline SIG cannot be applied to them. (c) Pre @ N -MovieLens-Simi (e) Pre @ N -MovieLens-Rand
From Figure 3(a) and 3(b), we can see that the CF-based ap-proaches, namely, CF-AVG, CF-LM and CF-RD, do not perform well on the Plancast and Jiepang datasets. This is because the three methods exploit neither the di ff erence of individuals, nor the inter-actions among group members. They assume that users in a group make choices independently, and aggregate their choices for rec-ommendations. The performance of SIG is not satisfactory, either. The reason is that SIG makes group recommendations based on the social relations between users in a group, and it requires tags of candidate items. However, in the groups of Plancast, only several or even none of the members are friends to each other, and neither of the two datasets has tag information. The lack of social relations and tags brings down its recommendation accuracy.

In contrast, PIT performs better than the CF based approaches on the Plancast and Jiepang datasets because PIT utilizes the in-teractions in a group by di ff erentiating influences of users, and as-sumes that a user with a larger impact score will be influential in every group of the user. However, PIT ignores the fact that the influence of a user will be di ff erent across di ff erent topics. The performance of PIT on the two MovieLens datasets is not as good as on the Plancast and Jiepang datasets. This is because groups in the two datasets are loosely organized, and users select movie in-dependently. Since no representative member exists to make item selections for a group, the basic assumption of PIT does not hold any more, which results in its bad recommendation accuracy.
Compared with the five baselines, our proposed method COMP always archives superior recommendation accuracy. For example, it outperforms CF-AVG, CF-LM, CF-RD, SIG and PIT by 84%, 34%, 76%, 43% and 19%, respectively, for Rec @5 on Plancast. The reasons are two-fold: on the one hand, COMP considers the behavior changes of users in a group; on the other hand, it estimates the topic-dependent influences of users in a group. Compared with COMP, COM further improves Rec @5 by more than 15% on Plan-cast, Jiepang and MovieLens-Rand, showing that COM is e ff in incorporating the content information (geographical distance for Plancast and Jiepang, and cast list for MovieLens-Rand). The im-provement on MovieLens-Simi is marginal, since its user-item se-lection matrix has a high density (about 4%). As a result, COMP, which only utilizes users X  selection history, already achieves very good accuracy( e.g., Rec @5 is 67.3%), and thus the value of relative improvement is small.
 Precision and Recall Under Di ff erent K
We fix the number of recommendations at 5, and vary the number of topics K from 50 to 400. The Pre @5 and Rec @5 values on the four datasets are plotted in Figure 4. Since CF-AVG, CF-LM and CF-RD do not involve topics, their Pre @5 and Rec @5 values do not vary with K .

For the topic model based approaches, namely, SIG, PIT, COMP and COM, their Pre @5 and Rec @5 values do not change much with varying the number of topics. In addition, we notice that SIG performs worse than CF-AVG, CF-LM and CF-RD on Plan-cast, but better than these CF-based approaches on Jiepang when K  X  250. This is because the group events of Jiepang are extracted based on friendships, and thus they fit well with the assumption of the SIG. PIT X  X  Rec @5 value is the best among the baselines on the Plancast and Jiepang datasets, but is worse than that of CF-AVG, CF-LM and CF-RD on MovieLens-Simi and MovieLens-Rand. Potential reason is the generative process of groups in the MovieLens datasets is di ff erent from that of PIT model. Our pro-posed method COMP outperforms the best baselines by about 20% on the four datasets. After incorporating users X  personal consider-ations of content factors, COM further improve the Rec @5 values by more than 15% on the Plancast, Jiepang and MovieLens-Rand datasets, demonstrating the e ff ectiveness of the proposed model. nDCG Under Di ff erent K
Next, we vary the number of topics K , and examine the nDCG results of di ff erent approaches to see how well they can rank the (c) Pre @5 -MovieLens-Simi (e) Pre @5 -MovieLens-Rand true items higher. The results are plotted in Figure 5. We can see that the results display a similar trend with the previous experi-mental results based on Pre @5 and Rec @5: PIT performs the best among the baseline methods on Plancast and Jiepang, but the worst on MovieLens-Simi and MovieLens-Rand. However, our method COMP consistently outperforms the best baseline under di ff number of topics by more than 15% on the four datasets. COM achieves the best results, which are at least 16% greater than that of COMP on Plancast, Jiepang and MovieLens-Rand.
 E ff ect of p
We next examine the e ff ect of p on the recommendation accu-racy of COM. Recall that after incorporating the users X  personal considerations of content factors into the prior, we normalize the e ff ect of the prior, i.e., larger p implies that the distribution more influenced by the content information. We examine the rec-ommendation accuracy of COM under di ff erent value of p ranging from 0.001 to 1000. The Rec @5 and nDCG on four datasets are plotted in Figure 6. We can see that the recommendation perfor-mance remains relatively stable when varying the value of p . The Pre @5 follows a similar trend with Rec @5, and we omit it due to the space limitation.
 Performance for Di ff erent Size of Groups
This set of experiments is to study the performance of each rec-ommendation method for groups of di ff erent sizes. We group the Plancast groups into bins based on group size, and plot the Rec @5 and nDCG curves of each method in Figure 7. The number of top-ics is fixed at 250. Due to the space limitation, the results on the other datasets are not given here. Figure 7 shows that the proposed methods COMP and COM outperform the baselines for groups of di ff erent sizes. Among the baselines, CF-AVG, CF-LM and CF-RD perform the worst, followed by SIG and PIT. Compared with that of other methods, the performance of CF-based approaches is (c) nDCG -MovieLens -Simi better for groups of small size, because their group organizations are simple, and thus these simple aggregating strategies are good for making recommendations.
In this section, we study the weight of topics in users X  item se-lections by investigating parameter  X  u , the probability that a user selects an item according to group topics.

We first study the e ff ect of the number of topics K on the value of  X  users as a function of K . The curves of COMP and COM on the four datasets are shown in Figure 8. We can see that for COMP which does not exploit the content information, the average almost not a ff ected by the value of K , and its value is between 0.75 to 0.9. The results reveal that most of items are selected according to topics, but there is still a set of items that are selected based on users X  personal considerations of content factors. Compared with the average  X  u of COMP, that of COM is much smaller, since ad-ditional content information is incorporated. The value of Plancast (around 0.5) is larger than that on Jiepang (around 0.2) for COM, indicating that topics have larger weight in venue selec-tions of Plancast users. In addition, the  X  u values of both COMP and COM on MovieLens-Simi are larger than those on MovieLens-Rand, because groups in MovieLens-Simi consist of people with high similarities, and thus topic is a very important consideration.
Then, we fix the number of topics at 250, and plot the distribution of  X  datasets, the  X  u value of the majority of users is smaller than 0.4, showing that the personal considerations of content information is important for most of people. In addition, we see that the curve (c)  X  u vs K -MovieLens-Simi of Plancast has a long tail, indicating that a considerable portion of users treat topics important. In addition,  X  u on MovieLens-Simi reaches another peak at  X  u = 1, showing that in a group with high inner-similarity, a considerable portion of people select items based on topics.
We first investigate the venue distribution of each topic generated by COM on Plancast and Jiepang datasets, where the number of topics is set to 250. For each topic z , we rank the venues i based on datasets are plotted in Figure 10. We observe that for each topic, the top ranked venues are close to each other. This is because topics are estimated based on users X  group participation history. Since users tend to join groups held at their nearby venues due to the spatial constraint, the venues visited by each user fall in a small geographical region, and thus the top ranked venues of each topic are close to each other.

Then, we examine the movie distributions of topics of COM on the MovieLens-Rand dataset. Specifically, we set the number of topics at 50 for COM, and randomly select 5 topics. For each topic of the 5 topics are listed in Table 3. The name of each topic is gen-erated from the top 10 movies X  genres in IMDB by majority vote. We can find that the discovered topics are semantically meaningful.
Recommender systems have been studied for decades, but most of them are designed for individuals. How to make accurate rec-ommendations for groups is still an open problem. In this paper, we propose a probabilistic model COM to simulate the generative process of group events and make recommendations for a group of users. Since users X  item selections are not only influenced by top-ics, but also by users X  personal considerations of content factors, we incorporate the content information into the model. In addition, the proposed model considers the change of users X  behaviors in a group from as individuals, and di ff erentiates the influences of users in a group according to topics. Experimental results on four real-world datasets show that the proposed method outperforms five baselines significantly.

For the future work, it would be interesting to exploit social re-lations to make group recommendations, since the friendships in a group may influence the group X  X  choices. In addition, several con-tent factors are di ffi cult to be incorporated into the our model, e.g., time. We will investigate how to model such content factors.
This work is supported in part by a grant awarded by a Sin-gapore MOE AcRF Tier 2 Grant (ARC30 / 12), a Singapore MOE AcRF Tier 1 Grant (RG66 / 12), and a grant awarded by Microsoft Research Asia. Quan Yuan would like to acknowledge the Ph.D. grant from the Institute for Media Innovation, Nanyang Technolog-ical University, Singapore.
