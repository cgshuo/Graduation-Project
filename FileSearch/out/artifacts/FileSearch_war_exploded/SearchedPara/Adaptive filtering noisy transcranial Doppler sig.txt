 1. Introduction ment of blood flow velocity with the aim of diagnosing vascular diseases. The Doppler shifts from red blood cells are used for computing blood velocity. In the computing of blood velocity, the
Doppler-shift frequency and Doppl er angle are used by the instru-ment. The Doppler signal displays a time-varying random character spatial distribution ( Evans, 1989 ). Doppler indices such as the computed from various points on the spectrum which are computed time Fourier transform (STFT) method has been found to be suitable indices are determined from the m aximum frequency waveform of the Doppler spectrogram ( Haykin, 2002 ; Krusienski and Jenkins, 2005 ). The estimation resolution of the maximum frequency wave-form is affected by the inner or outer noise in the system causing denoising of the Doppler ultrasound signal for further processing ( Liu et al., 1997 , 1999 ).

When the system parameters or signal conditions change, adaptive filters are generally used and they are to be adjusted to balance this change ( Behbahani, 2007 ). It is known that all adaptive filters capable of adapting at real-time rates experience losses in performance because their adjustments are based on statistical averages taken with limited sample sizes ( Widrow, which were evaluated a few moments before are used to auto-matically tune the parameters of the filter which are determined at the present moment, to adapt to the changing situation due to the achievement of the optimal filtering ( He et al., 2008 ). The adaptive filter has the most important properties, because it can be effectively applied in unpredictable situations and the input signal the characteristics of which vary with time, may be tracked by using it. The adaptive filter has been applied mainly in signal processing, control, communications and many other systems for noise cancellation. The gradient based algorithms move in the negative gradient direction. So, they aim to obtain the global minimum on the error surface. However, the filter design approaches which are based on the gradient algorithms may lead to suboptimal IIR filter designs when the error surface is multi-Karaboga and Cetinkaya, 2011 ; Karaboga, 2009 ).

The artificial bee colony (ABC) algorithm is a relatively new swarm intelligence based algorithm which can be used to find optimal or near optimal solutions to numerical and discrete problems. The ABC algorithm was first introduced by Karaboga in 2005, inspired by the foraging behavior of honeybees optimization algorithm which can be easily implemented in widely used programming languages and has proven to be both novel approach based on the ABC algorithm is proposed to denoise the Doppler signal by using adaptive IIR filter structures and also, its performance is compared to the popular algorithms such as particle swarm optimization (PSO) and differential evolu-tion (DE), and conventional wavelet transform techniques. The paper is organized as follows. Section 2 describes the proposed artificial bee colony based adaptive noise cancellation system. Section 3 presents the application of the proposed method to the noise cancellation problem. The simulation study is outlined in Section 4 and the simulation results are discussed in Section 5 . 2. Proposed adaptive noise cancellation system
Widrow and Glover proposed adaptive noise cancellation in 1975 ( Widrow and Glover, 1975 ). Noise cancellation is a key reference noise signal is achieved. In many applications, e.g. speech processing, echo cancellation and enhancement, antenna array processing, biomedical signal and image processing, the noise cancellation technique has been used ( Widrow and Walach, In standard noise elimination methods, only one primary signal is used ( Widrow and Walach, 1996 ). However, especially in biome-dical signal processing, several primary signals can be measured. Usually this advantage can be used to improve the performance of the noise elimination process. To allow doctors to view the best signal that can be obtained, we need to develop an adaptive filter to remove the contaminating signal in order to better obtain and interpret the transcranial Doppler signal ( Behbahani, 2007 ). inate noise from the noisy signal, the reference sensors remove e  X  n  X  converges by stages to the noiseless signal s ( n ) of the approximate signal. The adaptive filter can be adapted to the environmental set by these signals using this method.
An adaptive IIR filter can be formulated in the transfer function equation. It is denoted as Hz  X  X  X  where b i and a i represent the zeros and poles of the transfer cients are presented in the following vector form: w  X  X  b 0 b 1 ::: b M a 1 a 2 ::: a N T  X  2  X  To guarantee the stability condition of the designed adaptive filter. In the simulation, a noise signal is chosen as an additive white Gaussian noise (AWGN) due to the specification of the power spectrum. AWGN is an uncorrelated noise with constant power spectral density. In theoretical study, it has an infinite power which lies in the infinite frequency range.

The error signal e( n ) is calculated by the difference between signal is re-entered into the adaptation algorithm, then the function is minimized. The cost function used is the Mean Squared Error (MSE) which is defined as Jw  X  X  X  1 N iteratively minimizing the MSE between the primary and the evaluated by fit w  X  X  X  1 1  X  J scheme is employed by using a block of N samples. After each cycle, the block is moved by one sample. 3. Artificial bee colony algorithm
Swarm intelligence is a popular area in the field of optimiza-tion and researchers have developed various algorithms by modeling the behaviors of different swarms of animals and insects such as ants, termites, bees, birds and fish ( Karaboga and Akay, 2009 ). Some classical kinds of swarms include a colony of ants; a bee colony swarming around their hive; a swarm of cells is an immune system, a crowd which is a swarm of people; and a flock of birds.

The artificial bee colony algorithm was introduced by Kara-boga for numerical optimization problems in 2005; the perfor-mance of ABC was also compared by Basturk and Karaboga with that of other algorithms such as Particle Swarm Optimization 2008 ). In the ABC algorithm, there are three types of bees in the supposed that the number of employed bees is also equal to the number of food sources in the colony. There is only one employed bee for each food source. Therefore, the number of employed bees is equal to the number of food sources. In the ABC algorithm, the stage. Basic steps of the ABC are presented below. 3.1. Initialization 3.1.1. Repeat
Step 1: Locate the employed bees on their food sources and
Step 2: Forward the onlookers to their food sources and determine their nectar amounts
Step 3: Place the scouts on the randomly produced food sources 3.1.2. Until
A food source corresponds to a possible solution of the problem is randomly generated and the control parameter values of the algorithm are determined. The nectar quantity of food sources bee is forwarded for determine a new food source within the neighborhood of her present source, and then its nectar amount is bee forgets the old source and memorizes the new one. After the employed bees complete the search process, they come back to the hive and start to share their information about the nectar amounts of their sources with the onlooker bees waiting in the hive. All onlookers successively choose their food sources according to the value of probability calculated using their nectar amounts. Each onlooker defines the source of the neighbor around the source just selected and evaluates its nectar.

If a solution cannot be improved by a pre-specified number of trials, the employed bee of this food source becomes a scout bee and her food source is changed with a randomly generated food
The probability can be defined as p  X  0 0.2 0.4 0.6 0.8 1 Amplitude 0 10 20 30 40 50 60 70 80 -2 -1 0 1 2 3
Amplitude where the number of food sources is denoted by the symbol s (number of solutions in the population) and it is assumed that the number of employed bees is also equal to the number of food selected by the onlooker is w i . The neighboring food source position of w i may be determined as the following: w c  X  1  X  X  X  w i  X  c  X  X  f i w i  X  c  X  X  w k  X  c  X  X  X  6  X  where f i is a randomly generated number in the interval [ 1,  X  1] and k is the randomly produced index different from i . 4. Simulation study
In this study, simulated Doppler signals were obtained using the method introduced by Wang and Fish ( Wang and Fish, 1996 ). The proposed method supposes that the Doppler signal is a by additive white Gaussian noise (AWGN), the output of that filter will be a Gaussian random process. That is why the Doppler signal from the transcranial arteries can be generated by AWGN input The time domain Doppler signal ( x Dopp ( n ) ) can be defined as x where n is the length of the simulated Doppler signal, f s sampling rate and f m ( k ) is a given mean frequency waveform of variable obtained from time-varying filtering of white noise. r gauss ( n ) is defined as r n  X  X  X 
In this equation, the desired precision of the simulated data is presented as the symbol k . Because the power spectral density varying rms spectral width s f  X  n  X  , the filter impulse response theoretical PSD S ( f,n )of r Gauss ( n ) is formulated as
Sf , n  X  X  X  p  X  n  X  ffiffiffiffiffiffi hj , n  X  X  X  const : where f represents the frequency, p ( n ) describes the Doppler n  X  X  X  1 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45
MSE -0.4 -0.2 0 0.2 0.4 0.6 0.8 1 1.2
Amplitude obtained when the mean frequency waveform (MFW), base band spectrum and power variation are determined. The MFW for simulating the blood flow from a transcranial artery is shown in Fig. 2 .
 the sampling rate was set at 12.8 kHz. The duration of the simulated signal was 1280 ms for two heart rate beats. In the study, simulated Doppler signals with a Gaussian shape spectrum were analyzed using short time fast Fourier transform (STFT) with a 10 ms Hanning window and overlapping of half the window as seen in Fig. 3 ( Wang and Fish, 1996 ).

SNR  X  10log 10 S N  X  12  X  where S and N represent the standard deviation of the simulated white Gaussian noise was added to the original simulated signal to generate highly noisy signals. The SNR of the Doppler signal was calculated before and after the denoising process to define the SNR improvement of the proposed method. When the original simulated transcranial Doppler ultrasound signal was obtained, signals with an SNR of 2, 5, and 10 dB were generated by adding the Gaussian white noise into the original simulated signal. 5. Results and discussion lated transcranial Doppler (TCD) signal. The clinical TCD signals were sampled at 44,100 Hz with a linear ultrasound probe of 5 MHz. These samples were fed into the adaptive noise canceler used. The corrupted TCD signal was the primary input into the filter. The adaptive filter was implemented as IIR structures with one and five coefficients. In other words, the order of filters is 1 and 5. The coefficients were adjusted by using the ABC algorithm. For the 1st order filter, the length of block ( N ) was 100 and 1000 and for the 5th order filter it was 100 and 1000. The sets were obtained and then these coefficients were used to form the filters for processing the signals.
 noise signals are presented together and separately. In the study, 1st and 5th order IIR filters are designed to investigate the performance of the proposed method.
 have a significant effect on its performance. In this work, the control parameter values suggested in the literature were employed for ABC, PSO and DE ( Karaboga and Cetinkaya, 2011 ; Akay and Karaboga, 2009 ). These values are demonstrated in of the filter coefficients, respectively.

In order to show the performance of the filters designed by the proposed approach, highly corrupted signals are used in the simulation. The value of SNR is taken as 2 dB in this section, we present two filter examples designed by the ABC approach for sonogram image noise cancellation by using 100 and 1000.
Simulations were conducted on a Intel Core 2 Duo CPU E7400, 2.80 GHz, 1 GB RAM computer.
 Example 1. 1st order adaptive IIR filter design:
IIR filters of which the coefficients are given in Table 2 , are demonstrated in Fig. 6 .

From Fig. 6 , it is seen that using a larger window size produces the proposed approach was also compared in terms of the evolution speed of the filter design as demonstrated in Fig. 7 .
The convergence speed of ABC varies depending on the window size. While an optimal 1st order filter is designed at around 50 cycles (for a large window size 1000), for the narrow window size (100) an optimal filter can be designed at about 1000 cycles. Moreover, simulated sonogram images are filtered by the designed 1st order IIR filters. The results obtained for different window sizes are presented in Fig. 8 .

From Fig. 8 it is very clear that the best filtered sonogram is obtained by using the window size of 1000 and it is seen that the filtering process gets worse as the size of the window decreases.
The noisy sonogram image obtained from real clinical TCD signals is presented in Fig. 9 .

The sonogram images filtered by the 1st order filters are shown in Fig. 10 .
 on the performance of the filtering process for sonogram image. In the case of the simulated sonogram images, the performance of the 1st order filter seems sufficient when the window size is taken as 1000. However, in the case of the real sonogram image, large (1000) window size is used.
 Example 2. 5th order adaptive IIR filter design:
The coefficients obtained for the 5th degree IIR filters are presented in Table 3 .

The Doppler signals filtered by the 5th order IIR filters are demonstrated in Fig. 11 .

As seen from Fig. 11 , as the size of window increases the filter performance improves and it filters the corrupted signal much of the filter design for both window sizes is demonstrated in convergence stability.

The simulated sonogram images are filtered by the designed 5th order IIR filters. The results obtained for both window sizes is filtered by using the window size of 1000 very efficiently.
The filtered real sonogram images by the 5th order filters are sufficient when the window size is taken as 100 or 1000. By using -0.4 -0.2 0 0.2 0.4 0.6 0.8 1 1.2
Amplitude the real noisy image cannot be filtered very well ( Fig. 10 ).
However, as seen from Figs. 13 and 14 , both simulated and real sonogram images can be filtered efficiently by using 5th order filter and taking window size to be 1000. This means that the 5th order IIR filter should be preferred for denoising the TDC signal, efficiently.
 on ABC is compared to the popular evolutionary algorithms and conventional methods. Conventional methods considered include discrete wavelet transform (DWT) and discrete wavelet frame (DWF) methods ( Zhang et al., 2001 ). Evolutionary algorithms taken into consideration are PSO and DE algorithms. Moreover, the proposed adaptive filtering performance is also compared to the non-adaptive filtering cases by employing ABC, PSO and DE algorithms. The simulation studies were carried out for both 1st and 5th order filters.

In order to evaluate the performance of a filtering method, three different SNR values (2, 5 and 10 dB) are usually considered in the literature. In Table 4 , the mean, standard deviation and after denoising SNR  X  % values obtained by using both adaptive and non-adaptive filters designed with ABC, PSO and DE algorithms are demonstrated when the window size is taken as 1000. Algorithms were run for 50 times with different initial populations.
 For both adaptive and non-adaptive filtering cases, in terms of SNR  X  %, ABC produces best performance for highest noisy cases (2 and 5 dB values). DE generates the best performance only for SNR of 10 dB in the case of adaptive filtering. Among three algorithms PSO demonstrates the worst performance. In term of run time ABC and DE show similar performance.

In Table 5 , the results belonging to the proposed method are compared to DWT, DWF, PSO and DE algorithms for the 1st order filter. The results of DWT and DWF are taken from the literature ( Zhang et al., 2001 ). The proposed method produces better performance than other methods for the highest noisy case (SNR of 2 dB). For other SNR values, it shows better or similar performances to the considered methods.

In Table 6 , the results produced by the proposed method are compared to PSO and DE for the 5th order filter. DE is best only when adaptive filtering is employed for the SNR of 10 dB. For all other cases when adaptive or non-adaptive filtering is used, ABC shows the best performance. 6. Conclusion
An adaptive IIR filter design method based on ABC algorithm was described for the elimination of noise on the transcranial Doppler signal. The performance of the proposed method was also compared to the conventional wavelet transform based methods and popular evolutionary algorithms. The simulation results obtained showed that an adaptive IIR filter can be efficiently designed by the proposed method using a window size of 1000 samples for denoising the disturbed transcranial Doppler signal. Consequently, the proposed method was able to improve the disturbed transcranial Doppler signal and make it acceptable for further analysis. Hence, spectrogram indexes which are widely used in clinical applications can be obtained accurately from maximum frequency curves.
 References
