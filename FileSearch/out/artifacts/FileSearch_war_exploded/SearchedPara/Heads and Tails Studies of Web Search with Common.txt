 A large fraction of queries submitted to Web search en-gines occur very infrequently. We describe search log stud-ies aimed at elucidating behaviors associated with rare and common queries. We present several analyses and discuss research directions.
 H.3.3 [ Information Storage and Retrieval ]: Information Search and Retrieval Algorithms, Experimentation, Measurement Web search, Zipf distribution, Probabilistic Latent Semantic Analysis
Queries submitted to Web search engines follow a heavy-tailed Zipf distribution, in which a large fraction of queries are issued infrequently [4]. Yet much regarding this well-known long-tail of rare queries remains unexplored. Do users behave differently on rare queries than on common ones? What portion of rare queries represent rare informational goals, versus atypical means of specifying common goals? How might answers to such questions guide research toward enhancing Web search experiences? We present experiments motivated by these questions. First, we compare search behavior on rare queries with be-havior on common queries. We present evidence suggest-ing that current search engines perform less well on rare queries. Then, we explore transitions among rare and com-mon queries during sessions. Lastly, we present methods for predicting query reformulations and discuss how the predic-tions might be used to improve performance on rare queries.
We first investigate whether the behavior of users follow-ing the input of rare queries differs from behavior following common queries. We compiled a case library of Web brows-ing activity from a sample of over 250,000 users, collected via opt-in, client-side instrumentation as part of the Windows Live Toolbar download. We identified users X  queries and re-sult clicks on three popular search engines over a period of three weeks. The resulting dataset contained approximately 10 million query events.

Of the rare queries, we distinguish one-occurrence queries, which are executed only once, from one-user queries, which are executed by a single user (potentially multiple times). For this analysis, a return to the results page or a request for the next page of results was recorded as a repeat of the original query. Figure 1 shows how the fraction of singleton queries (one-user or one-occurrence queries) decreases with the number of days of observation in the dataset. The graph shows that queries executed by a single user make up a sig-nificant fraction of total query executions, whereas queries executed only once make up a smaller fraction. The curves appear to asymptote near the end of the 22-day aggregation period, suggesting that the fraction of singleton queries is likely to converge on a large number as the observation pe-riod is extended in time or over a larger user base. Figure 1 also shows that the fraction of singleton queries of either type decreases when we consider only those queries that gen-erated a result click at least once in the dataset ( X  X licked X ). If we take clicks as an indication of the success of a search engine in satisfying a user X  X  information needs, it is clear that many singleton queries are not satisfied.

We next compare users X  search activities following rare and common queries. For this analysis, we measure user Table 1: Behavior following tail and non-tail queries. Table 2: Probabilities of transitioning between tail and non-tail queries. behavior in the second week of our dataset, and define tail queries to be those queries that did not appear in the first week of the dataset. This definition allows tail queries to be identified at query time, unlike the more global notion of singleton queries used in Figure 1.

Table 1 shows the probability distribution over the users X  next actions (Click, Re-Query, End Session) following tail and non-tail queries. Users click less often following a tail query, suggesting that the results returned by search en-gines are not as valuable for tail queries. Searchers are also less likely to end their search session following a tail query than after a non-tail query. Users issuing tail queries more frequently issue a reformulation of their previous query.
Table 2 summarizes the nature of searchers X  reformula-tions. We consider cases where users reformulated their orig-inal query into a new query, without clicking on a result from the original query. Users often reformulate non-tail queries into tail queries, and less often reformulate tail queries into non-tail queries. This finding is consistent with previous results showing that specializations are more common than generalizations [3]. The off-diagonal transitions also suggest an important distinction between a query X  X  frequency and the commonality of the information need it serves: users of-ten enter both rare and common queries in pursuit of the same goal. Distinguishing rare information needs from rare queries, based on clues like reformulations and destination URLs, is an intriguing direction for future work.
The data suggests that search engines are less effective on tail queries than on non-tail queries in that users are less likely to click results and more likely to reformulate, and that such reformulations are common. Predictive models of this reformulation behavior could improve search engine ef-fectiveness, particularly on rare queries. Anticipating refor-mulations in advance could be used to support suggestions for query reformulations or improved ranking.

We constructed and evaluated a model that predicts query reformulations, given a current query and user. Using an approach based on Probabilistic Latent Semantic Analysis (PLSA) [2], we model each pair of consecutive queries that a user composes as generated by a single latent  X  X opic X  vari-able ( z ). The topic variable is generated from a multinomial specific to each user. Formally, the probability of a second query q 2 given an initial query q 1 and user U is: where  X  is a normalization constant, and the number of topics T is a parameter (set to 200 in our experiments). We learned each of the multinomial distributions in Equation 1 using a training set of query transitions, and tested the model on held-out data. We examined two simpler clus-tering models: a PLSA model without the user informa-tion ( qq-PLSA ) and an PLSA model without query transi-tion information ( qu-PLSA ). We also evaluated two non-clustering baseline models. The Query baseline predicts P ( q 2 | q 1 ) =  X P train ( q 2 ) + (1  X   X  ) P train ( q indicates maximum likelihood distributions learned from the training set, and  X  is a learned parameter. The Marginal baseline simply predicts P ( q 2 | q 1 ) = P train ( q 2 ).
To avoid assumptions about out-of-vocabulary terms, we evaluated our methods on only those test cases for which q 1 and q 2 appeared at least once in the training set. Be-cause the output space of the models is large, we measured performance in terms of the perplexity measure commonly used in language modeling. A lower perplexity score in-dicates better performance. Table 3 shows that the PLSA-based techniques substantially outperform the Marginal and Query baselines, and the full PLSA model outperforms its simpler versions.

Although query clustering for reformulation suggestions has been investigated in prior research ( e.g. , [1]), to our knowledge this is the first experiment on predicting specific reformulations. An advantage of the PLSA approach over previous techniques is that it can be readily augmented to incorporate new sources of information. In addition to the user and previous queries, the model can also include result URLs, individual query terms or phrases, or important re-latedness indicators like the temporal delay between queries [3]. We are interested in exploring additional information sources in future work.

Marginal Query qq-PLSA qu-PLSA Full PLSA Table 3: Performance of predicting query reformu-lations, measured by test set perplexity (in 000s).
We investigated several aspects of rare queries, including comparisons of search behavior following the input of com-mon and rare queries. We identified differences suggesting that search engines perform less well on rare queries. We also studied transitions between rare and common queries during search sessions, highlighting the difference between the frequency of queries and information needs. Finally, we constructed and tested a probabilistic model to predict query reformulations given the preceding query and user. [1] D. Beeferman and A. Berger. Agglomerative clustering [2] T. Hofmann. Probabilistic latent semantic analysis. In [3] T. Lau and E. Horvitz. Patterns of search: Analyzing [4] C. Silverstein, M. Henzinger, H. Marais, and
