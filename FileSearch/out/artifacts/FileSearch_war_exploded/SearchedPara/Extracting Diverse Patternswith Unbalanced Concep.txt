 In the field of data mining, the process of frequent pattern mining has been widely studied [1]. The related concepts of frequent pattern mining are as follows [2]. Let I = { i 1 ,i 2 ,  X  X  X  ,i n } be the set of n items and D be the database of m transactions. Each transaction is identified with unique identifier and contains n items. Let X  X  I be a set of items, referred to as an item set or a pattern . A pattern that contains k items is a k -item pattern. A transaction T is said to contain X if and only if X  X  T .The frequency or support of a pattern X in D , denoted as f ( X ), is the number of transactions in D containing X . The support The pattern X is frequent if its support is not less than the user-defined minimum support threshold, i.e., S ( X )  X  minSup .

The techniques to enumerate frequent p atterns generates large number of patterns which could be uninteresting to the user. Research efforts are on to discover interesting frequent patterns b ased on constraints and/or user-interest by using various interestingness measures such as closed [3], maximal [4], top-k [5], pattern-length [6] and cost (utility) [7].

Normally, in a given domain, a set of items can be grouped into a category and a pattern may contain the items which belong to multiple categories. In several applications, it may be useful to distinguish between the pattern having items belonging to multiple categories and the pattern having items belonging to the one or a few categories. The existing frequent pattern extraction approaches do not distinguish the patterns based on the diversity. The notion of diversity captures the extent of items in the pattern belong to multiple categories. The items and the categories form concept hierarchy. In [8], an effort has been made to rank the patterns based on diversity by considering balanced concept hierarchy. However, in real life scenarios, the concept hierarchies are unbalanced. In this paper, we have proposed an approach to assign the diverse rank, called drank ,to patterns by considering unbalanced concept hierarchy. The proposed approach is a general approach which can be applied to calculate drank value by considering both balanced and unbalanced concept h ierarchies. Experiments on the real-world data set show that patterns ordered based on drank are different from the patterns ordered based on support , and the proposed approach could assign the drank to different kinds of unbalanced patterns.

In the literature, the concept hierarchi es have been used to discover the gener-alized association rules in [9] and multiple-level association rules in [10]. In [11], a keyword suggestion approach based on the concept hierarchy has been proposed to facilitate the user X  X  web search. The notion of diversity has been widely ex-ploited in the literature to assess the interestingness of summaries [12],[13],[14]. In [15], an effort has been made to extend the diversity-based measures to assess the interestingness of the data sets using the diverse association rules. The diver-sity is defined as the variation in the items X  frequencies. Such a method cannot be directly applied to rank the patterns based on the diversity. Moreover, the work in [15] has focused on comparing the data sets using diverse association rules. In this paper, we developed a framework to compute the diversity of patterns by analyzing the categories of items.

The rest of the paper is organized as follows. In the next section, we explain about concept hierarchy and diversity of pattern. In section 3, we explain the approach to computing the drank of a pattern by considering balanced concept hierarchy. In section 4, we present the p roposed approach. In section 5, we present experimental results. The last section contains summary and conclusions. The notion of concept hierarchy plays the main role in assigning the rank to a pattern based on the diversity. In this section, we explain about concept hierarchy and the basic idea employed in the proposed approach to calculate the diversity. 2.1 Concept Hierarchy A pattern contains data items. A concept hierarchy is a tree in which the data items are organized in an hierarchical manner. In this tree, all the leaf nodes represent the items , the internal nodes represent the categories and the top node represents the root .The root could be a virtual node. Let C be a concept hierarchy. A node in C may be an item, category or root. The height of roo tnodeis0.Let n be a node in C . The height of n , is denoted as h ( n ), is equal to the number of edges on the path from root to n .
Figure 1 represents a concept hierarchy. In this, the items orange , apple and cherry are mapped to the category fruits . Similarly, the categories drinks and fruits are mapped to the category fresh food . Finally, the categories fresh food and house hold are mapped to root .

The concept hierarchy having height h has the same number of levels. The items at the given height are said to be at the same level. In C , all the lower-level nodes, except the root , are mapped to the immediate higher level nodes. In this Level 0 Level 1 Level 2 Level 3
Level 4 paper, we consider the concept hierarchi es in which a lower level node is mapped to only one higher level node.

The concept hierarchies can b e balanced or unbalanced.  X  Balanced concept hierarchy: In balanced concept hierarchy, the height  X  Unbalanced concept hierarchy: In an unbalanced concept hierarchy, the 2.2 Diversity of Patterns The diversity of a pattern is based on the category of the items within it. If the items of a pattern are mapped to the same/f ew categories in a concept hierarchy, we consider that the pattern has low diversity. Relatively, if the items are mapped to multiple categories, we consider that the pattern has more diversity. We have developedanapproachtoassignthediversityforagivenpatternbasedonthe merging behavior in the corresponding concept hierarchy. If the pattern merges into few higher level categories quickly, it has low diversity. Otherwise, if the pattern merges into one or a few high level categories slowly, it has relatively high diversity value.

As an example, consider the concept h ierarchy in Figure 1. For the pattern { tea, juice } , the items tea and juice are mapped to the next level category drinks . In this case, the merging occurs quickly. For the pattern { coffee, orange } ,the items coffee is mapped to category drinks and item orange maps to the category fruits . Further, both the categories drinks and fruits are mapped to the category fresh food , and the category fresh food in turn maps to root . We say that the pattern { coffee, orange } is more diverse than the pattern { tea, juice } as the merging is relatively slow in case of { coffee, orange } as compared to { tea, juice } . Consider the pattern { milk, battery } which is relatively more diverse than the pattern { coffee, orange } as both items merge at the root . The merging of { milk, battery } occurs slowly as compared to { coffee, orange } . In this section, we explain the process of calculating diverse rank of the pattern, called drank , proposed in [8]. We also introduce the concepts balanced pattern and projection of a pattern which are useful in presenting the proposed approach in the next section.
 Definition 1. Balanced Pattern (BP) : Consider a pattern Y = { i 1 ,i 2 ,  X  X  X  , i } with  X  n  X  items and a concept hierarchy of height  X  h  X . The pattern Y is called balanced pattern, if the height of all the items in Y is equal to  X  h  X . Definition 2. Projection of Balanced Concept Hierarchy for Y ( P ( Y/C )) : Let Y be BP and C be balanced concept hierarchy. The P ( Y/C ) is the projection of C for Y which contains the portion of C . All the nodes and edges exists in the pathsoftheitemsof Y to the root , along with the items and the root, are included in P ( Y/C ) . The projection P(Y/C) is a tree which represents a concept hierarchy concerning to the pattern Y.

Given two patterns of the same length, different merging behavior can be realized, if we observe how the items in the pattern are mapped to higher level nodes. That is, one pattern may quickly merge to few higher level items within few levels and the other pattern may mer ge to few higher level items by crossing more number of levels. By capturing the process of merging, we define the notion of diverse rank ( drank ). So, drank ( Y ) is calculated by capturing how the items are merged from leaf-level to root in P ( Y/C ). It can be observed that a given pattern maps from the leaf level to the root level through a merging process by crossing intermediate levels. At a given lev el, several lower level items/categories are merged into the corresponding higher level categories.

Two notions are employed to compute the diversity of a BP: Merging Factor (MF) and Level Factor (LF) .
 We explain about MF after presenting the notion of generalized pattern. Definition 3. Generalized Pattern (GP(Y, l, P(Y/C))) :Let Y be a pat-tern,  X  h  X  be the height of P(Y/C) and  X  l  X  X eaninteger.The GP ( Y,l,P ( Y/C )) in-dicates the GP of Y at level  X  l  X  in P(Y/C). Assume that the GP ( Y,l +1 ,P ( Y/C )) is given. The GP ( Y,l,P ( Y/C )) is calculated based on the GP of Y at level ( l +1) . The GP ( Y,l,P ( Y/C )) is obtained by replacing every item at level ( l +1) in GP ( Y,l +1 ,P ( Y/C )) with its corresponding parent at the level  X  l  X  X ithdupli-cates removed, if any.
 The notion of merging factor at level l is defined as follows.
 Merging factor (MF(Y, l, P(Y/C))): Let Y be BP and l be the height. The merging factor indicates how the items of a pattern merge from the level l +1to the level l (0  X  l&lt;h ). If there is no change, the MF(Y,l) is 1. If all items merges to one node, the MF(Y,l) value equals to 0. So, the MF value at the level l is denoted by MF(Y,l, P(Y/C)) which is equal to the ratio of the number of nodes in (GP(Y, l, P(Y/C)-1) to the number of nodes in (GP(Y, l+1, P(Y/C)-1).
We now define the notion of level factor to determine the contribution of nodes at the given level.
 Level Factor (LF(l,P(Y/C)): For a given P(Y/C), h be the height of P ( Y/C ) = { 0 , 1 } .Let l be such that 1  X  l  X  ( h  X  1). The LF value of P(Y/C) height l indicates the contribution of nodes at l to drank . We can assign equal, linear or exponential weights to each level. Here, we provide a formula which assigns the weight to the level such that the weight is in proportion the level number. Diverse rank of a pattern Y :The drank of BF Y for a given C , is calculated by summing up the product of MF and LF from the leaf level to the root of P ( Y/C ). The formula is as follows. where, Y is BP, h is height of P(Y/C). In this section, we explain the approach to assign the drank to unbalanced pat-tern. The term unbalanced pattern is defined as follows.
 Definition 4. Unbalanced Pattern (UP) : Consider a pattern Y and an un-balanced concept hierarchy U of height  X  h  X . A pattern is called unbalanced pattern, if the height of at least one of the item in Y is less than  X  h  X .

The notion of unbalanced-ness depends on how the heights of the nodes in the concept hierarchy are distributed. It can be noted that we consider a pattern as unbalanced pattern, if the height of at least one item is less than the height of unbalanced concept hierarchy. Suppose, all the items of a pattern are at the height, say k . The pattern X is unbalanced, if k is less than the height of concept hierarchy.

The basic idea to compute drank of UP is as follows. We first convert the unbalanced concept hierarchy to balan ced concept hierarchy called,  X  X xtended unbalanced concept hierarchy X  by adding dummy nodes and edges. We calculate the drank of UP with Equation 3 by considering the  X  X xtended unbalanced concept hierarchy X . Next, we reduce the drank in accordance with the number of dummy nodes and edges. So, the drank of UP is relative to the drank of the same pattern computed by considering all of its items are at the leaf level of the extended unbalanced concept hierarchy.

Given UP and the corresponding unbalanced concept hierarchy U , the follow-ing steps should be followed to calculate the drank of UP. (i) Convert the U to the corresponding extended U . (ii) Compute the effect of the dummy nodes and edges. (iii) Compute the drank .
 (i) Convert the Unbalanced Concept Hierarchy to Extended Unbal-anced Concept Hierarchy We define the extended unbalanced concept hierarchy as follows.
 Definition 5. Extended Unbalanced Concept Hierarchy (E) : For a given unbalanced concept hierarchy U with height  X  h  X , we convert U into extended U , say E , by adding dummy nodes and edges such that the height of each leaf level item is equal to  X  h  X .
 Figure 3 shows the extended unbalanced concept hierarchy of Figure 2. In Figure 3,  X   X   X  indicates the dummy node and dotted line indicates the dummy edge.

We define the projection of extended u nbalanced concept hierarchy for Y as follows.
 Definition 6. Projection of Extended Unbalanced Concept Hierarchy of Y (P(Y/E)) :Let Y be UP, U be unbalanced concept hierarchy, and E be the corresponding extended unbalanced concept hierarchy of U. The projection of E for the unbalanced pattern Y is P ( Y/E ) .The P ( Y/E ) contains the portion of U which includes all the paths of the items of Y from the root.

It can be noted that, in addition to real nodes/edges, P ( Y/E )maycontain dummy nodes/edges.

As an example, consider the unbalanced concept hierarchy shown in Figure 4(i). In this figure, the items a, b, c, and d are located at different levels. We find the longest path root,l,k,a in the unbalanced concept hierarchy. The ad-ditional dummy nodes and edges are added such that all the items are at the height h . This extended unbalanced concept hierarchy is shown in Figure 4(ii). The projections of the patterns { a, b } , { b, c } , { b, d } ,and { c, d } are shown in Figures 4(iii), 4(iv), 4(v), and 4(vi) respectively. (ii) Compute the Effect of the Dummy Nodes and Edges
We define the notion of adjustment factor to compute the effect of the dummy nodes and edges.
 Adjustment factor (AF): We define the AF at the given level. The Ad-justment Factor (AF) at level l helps in reducing the drank by measuring the contribution of dummy edges/nodes relative to the original edges/nodes at the level l .The AF for a pattern Y at a level l should depend on the ratio of num-ber of real edges formed with the children of the real nodes in P ( Y/E )versus total number of edges formed with the children of real and dummy nodes at l in P ( Y/E ). The value of AF at a given height should lie between 0 and 1. If the number of real edges is equals to zero, AF is zero. If the pattern at the given level does not contain dummy nodes/edges, the value of AF becomes 1. Note that the AF value is not defined at the leaf level nodes as children do not exist. The AF for Y at height l is denoted as AF ( Y,l,P ( Y/E )) and is calculated by the following formula.
 where numerator is the number of edges formed with the children of the real nodes and denominator is the number of edges formed with the children of both real and dummy nodes at the level l in P ( Y/E ).

Consider the frequent pattern Y = { whole milk, pepsi, coke, shampoo } in Fig-ure 3. The level of the item whole milk is 4. As l is between (0 ,h ), we calculate the number of edges at level 3. At the level 3, the number of real edges in P ( Y/E )is1 and the total number edges including real and dummy edges in P ( Y/E ) is 4, i.e., AF ( Y, 4 ,P ( Y/U )) = 1 4 =0 . 25. Similarly, the AF value at level 2, level 1, level and 0.75, 1, and 1 respectively. (iii) Computing the drank of UP The drank of UP is a function of MF , AF and LF .
 Definition 7. Diverse rank of a frequent pattern Y (drank(Y)): Let Y be the pattern and U be the unbalanced concept hierarchy of height  X  h  X . The drank of Y , denoted by drank ( Y ) , is given by the following equation. drank ( Y,U )= where, h is the height of the P ( P/E ), E is the extended unbalanced concept hierarchy, MF ( Y,l,P ( Y/E )) is the MF of Y at level l , LF ( l,P ( Y/E )) is the LF at level l and AF ( Y,l,P ( Y/E )) is the AF of Y at level l .

It can be noted that Equation 5 can be used for computing drank of the patterns with both balanced and unbalanced concept hierarchy as the values of AF becomes 1 at all levels in case of balanced concept hierarchy. For conducting experiments, we have considered the groceries data set which con-tains 30 days of point-of-sale transaction data from a typical local grocery outlet. The data set contains 9,835 transactions and 168 items. The average transaction size in the data set is 4 . 4. The maximum and minimum transaction size is 32 and 1 respectively. To generate a concept hiera rchy for the items, a web based Grocery API provided by Tesco [20] (a United Ki ngdom Grocery Chain Store) is used. Some of the items of the transactional data that were not listed in the concept hi-erarchy of Tesco are added manually by consulting the domain experts. There are 220 items (excluding internal nodes) available in the concept hierarchy of Tesco. We have removed the items which do not exist in the transactional data. The dis-tribution of remaining 168 items at differ ent levels in the concept hierarchy are shown in Table 1.
 Top Diverse Patterns: In Table 3, we present the list of the top 3-item patterns ordered by drank . In this table, the first column shows the pattern, the second column shows the support of the pattern, the third column shows the drank of UP, the fourth column shows the drank of UP with extended concept hierarchy (E), and the final column shows the difference from drank of UP and the drank of UP with E.
 Top Frequent Patterns: Table 4 contains the list of top 3-item patterns or-dered by support value.
From these two tables, we can observe that there are no common patterns between them. The results show that the pattern having the highest drank value may not be the patterns with the highest support . Similarly, the patterns with the highest support may not have the highest value of drank . So, the patterns ordered by drank indicates a different kind of knowledge which could not be extracted by support .

The drank value of UP is obtained after reducing the effect of dummy nodes/ edges from E. It can be noted that the drank of UP with E indicates the value of diversity without considering AF . So, the value in the final column of Table 3 and Table 4 indicates the degree of unbalanced-ness. If the value is low, the UP is less imbalanced and if the value is high, the UP is highly imbalanced. However, in Table 3 and Table 4, the values in the last column are very low. This is due to the fact that the concept hierarchy is relatively more balanced. Influence of Adjustment Factor : In this experiment, we change the concept hierarchy such that it becomes very unbal anced. For this, we increase the level of some items. A random number from the list { 1, 2, 4, 4, 6, 8, 8 } is chosen to add the number of edges to increase the height of the items. The height of the simulated concept hierarchy is 12 and the distribution of items are shown in the Table 2.

Table 5 provides the details of drank of UP by considering the simulated concept hierarchy. In this table, the first column shows the pattern, the second column shows the drank of UP, the third column shows the drank of UP with E, and the last column shows difference between the drank of UP and the drank of UP with E. The values in the last column show that the notion of AF ,alongwith MF and LF , helps in computing the drank for all kinds of patterns including less unbalanced patterns to high unbalanced patterns.
 Finding interesting patterns is one of the issues in frequent pattern mining. Several interestingness measures have been proposed to extract the subset of frequent patterns according to the application X  X  requirements. In this paper, we have proposed a new interestingness measure to rank the patterns based on diversity. We have proposed a general approach to assign the drank to the pat-terns by considering unbalanced concept hierarchy. For computing the drank of a pattern, the unbalanced concept hiera rchy is being converted into balanced concept hierarchy by adding dummy nodes and edges. The notion of adjustment factor is proposed to remove the effect of the dummy nodes and edges. The drank is calculated using the notions of merging factor , level factor and adjust-ment factor . The experiments on the real world data set show that the patterns with high drank are different from the patterns with high support . Also, the proposed approach could assign the drank to patterns having different degrees of unbalanced-ness.

As a part of future work, we are planning to refine the approach by considering all types of unbalanced hierarchies. We are also planning to investigate how the notion of diversity influences the performance of frequent pattern based clustering, classification and recommendation algorithms.

