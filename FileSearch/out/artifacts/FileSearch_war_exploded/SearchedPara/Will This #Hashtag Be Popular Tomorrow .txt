 Hashtags are widely used in Twitter to define a shared context for events or topics. In this paper, we aim to predict hashtag popularity in near future ( i.e., next day). Given a hashtag that has the poten-tial to be popular in the next day, we construct a hashtag profile using the tweets containing the hashtag, and extract both content and context features for hashtag popularity prediction. We model this prediction problem as a classification problem and evaluate the e ff ectiveness of the extracted features and classification models. H.3.3 [ Information Storage and Retrieval ]: Information Search and Retrieval X  Information filtering Twitter, Hashtag, Popularity prediction, Hashtag clarity
Micro-blogging services represented by Twitter are changing our way of accessing and disseminating information online. Because of the fast information disseminating rate, various topics emerge within a very short time period, particularly some public relations crises. This calls for e ff ective prediction on what topics would emerge into significant ones in near future. As an important fea-ture in Twitter, hastags (keywords prefixed with # symbols) are widely used to define a shared context for specific events, topics, or meme [1]. We therefore propose to predict hashtag popularity in near future, which could identify topics / events that might be critical for relevant organizations to response earlier.

Hashtag has attracted significant research interest. In [2], the au-thors analyze hashtags in eight categories ( e.g., politics , celebrity ) for the di ff erences in the mechanics of information di ff evolution of hashtag popularity over time ( e.g., usage patterns be-fore and after bursty peaks) is analyzed in [1]. Di ff erent from both studies which perform retrospective analysis of hashtags using his-torical data, we aim to predict hashtag popularity for newly appear-ing hashtags in a Twitter stream in the next day.

Most germane to this work is the recent paper on predicting hash-tag popularity in weekly basis [3]. Our work is significantly di ent. First, we predict the number of users who adopt a hashtag, but not the number of tweets annotated by the hashtag in [3]. We there-fore derive 8 features from the virtual community formed by users who adopt a hashtag; these context features are not used in [3]. Sec-ond, our content features are derived from the content of the tweets annotated by a hashtag whereas almost all content features in [3] are derived from the hashtag itself ( e.g., number of characters in a hashtag). Third, we target on time critical applications to predict hashtag popularity on daily basis rather than weekly basis, because most bursty hashtags are popular for a few days only [1].
To the best of our knowledge, we are the first to predict hashtag popularity in daily basis, using both content and context features. Additionally, we are the first to utilize clarity and topic modeling as content features for hashtag analysis. Problem Definition . In our problem setting, all tweets received from a Twitter stream are partitioned into consecutive fixed time-intervals by their time-stamps. The time-interval could be an hour, a few hours, or a day, depending on the number of tweets received as well as the time criticalness of the prediction. We define the popularity degree of a hashtag h in time-interval t , denoted by to be the number of users who post at least one tweet annotated by h within time-interval t . Given the collection of tweets published in t and a hashtag h of interest, our task is to predict  X 
Note that predicting the exact value of  X  h t + 1 is extremely hard and is often not necessary. Therefore we relax the problem and predict the range of popularity degree. We define 5 ranges: [0 [ lar , marginally popular , popular , very popular , and extremely pop-ular , respectively. Note that the ranges are defined following an exponential order and  X  is application-dependent.

Let T h t be the collection of tweets annotated by hashtag h in time-interval t . T h t is also known as hashtag profile . Next, we detail the content and context features extracted from a hashtag profile. Content Features . The 6 content features extracted from T h listed in Table 1. We elaborate hashtag clarity and hashtag topic vector features in more detail. Hashtag clarity quantifies topical cohesiveness of all tweets in T h t . It is computed as the Kullback-Leibler (KL) divergence between the uni-gram language model in-ferred from T h t and the background language model from the entire tweet collection T . If a hashtag refers to a specific topic, then the high probabilities of a few topic-relevant words distinguish its tweets from the background.

Hashtags in a similar topic ( e.g., political , music ) may follow similar popularity trends [1]. We use Latent Dirichlet Allocation (LDA) to identify the topic distribution of a hashtag. Each hashtag profile T h t is considered as a document and 20 topics are inferred from all such documents in our data. A 20-dimension topic vector is then assigned to each hashtag profile with the entries quantifying the likelihood of the hashtag belonging to the corresponding topic. Context Features . We first construct a directed weighted graph G = U , E to model user relations in the data collection. In user u  X  U is a node and a directed edge e ( u p , u q )  X  is weighted by the number of times u p mentions u q in her tweets, similar to that in [2]. The authority scores of users are computed in this global user graph using PageRank algorithm.

We consider all users who post at least one tweet in hashtag pro-file T h t form a virtual community. By extracting their relations from the global user graph, we form a community graph G h t = U h From G h t , 8 context features (see Table 1) are derived to capture the current popularity of h , the influential power of its users, the connectivity among these users, and the distribution of the users exposed to h . We elaborate the last two features in Table 1.
Based on the global graph, border users are those each has at least one edge from users in G h t but has not adopted hashtag h , i.e., { u q | X  e ( u p , u q ) , u p  X  U h t , u q U h t } depicts border user distribution in a more detailed manner: P ( k ) (1  X  k  X  15) is the ratio of border users who have k edges from users in G h t . A border user with more exposure to a hashtag is expected to be more likely to adopt the hashtag. Experimental Setting . We used tweets published by Singapore-based users from Jan to Aug 2011. The dataset consists of more than 31M tweets from over 2M users. The global user graph con-structed based on mention relation consists of 214K users and 680K edges. Note that, only users participated in mentions are included in this graph. In our experiments, we set the time-interval to be a day and set  X  = 25. That is, a hashtag used by fewer than 25 users in a day is considered not popular.

A key issue in the experiments is that, among all hashtags ap-peared at least once in a day, which hastags should be selected for popularity prediction. Figure 1(a) plots the number of popular tags (
 X  serve that a large number of tags are popular for only a day. In fact, a much larger number of tags has never been popular. In our experiments, we therefore choose to predict the popularity degree of newly appearing hashtags that are at least marginally popular ,  X  popularity in the past 7 days. Note that, the same hashtag may gain popularity in di ff erent time periods for di ff erent reasons. For example, #apple may gain popularity at di ff erent time periods for releasing di ff erent products.

We conducted experiments using five commonly used classifica-tion methods: Na X ve Bayes (NB), Decision Tree (C4.5), k-Nearest Neighbor (KNN), Support Vector Machine (SVM) and Maximum Entropy (MaxEnt). Their prediction accuracies are compared with three baseline methods, which do not use any extracted features. (a) Popular tag vs popular duration Figure 1: Popular tag vs duration; and distribution of instances Table 2: Hashtag popularity prediction accuracy by 8 methods The baseline methods are Random (predicts the popularity range of  X  ), and PriorDist (predicts the range of  X  h t + 1 randomly following a prior probability distribution in the 5 ranges).
 Results . We conducted 10-fold cross validation and evaluated pre-diction accuracy using Micro-F 1 , Macro-Pr ecision, Macro-Re call and Macro-F 1 . Note that, because each instance has exactly one correct label, Micro-Pr ecision / Re call is the same as Micro-F
Table 2 reports the prediction accuracies by the 8 methods, in increasing order of Micro-F 1 . All baseline methods perform the worst. Observe that MaxEnt achieves the best Micro-F 1 of 0.591 which is triple of Random and 54% of increment over the best baseline PriorDist. SVM is the second best performing method by Micro-F 1 ; MaxEnt also achieves the best Macro-Pr followed by KNN. Surprisingly, Lazy prediction yields the best Macro-Re . The main reason is the skewed distribution of our categories (see Fig-ure 1(b)). Because of the small number of instances in very popular and extremely popular ranges, most classifiers fail to learn e patterns for accurate prediction. Lazy prediction enjoys high accu-racy mainly in these two ranges. By Macro-F 1 KNN is the best performing method.

Our analysis on features reveals that context features are rela-tively more e ff ective than content features (detailed results not re-ported due to page limit). The top-5 most e ff ective features are: (1) number of users, (2) number of border users, (3) number of tweets, (4) hashtag clarity, and (5) fraction of users forming triangles.
In this paper, we propose to predict hashtag popularity to identify fast emerging topics attracting collective attention. Our preliminary results demonstrate the e ff ectiveness of both content and context features. In our future work, we will continue to investigate other possible features, and more importantly to investigate e ff diction models specifically for hashtag popularity prediction.
