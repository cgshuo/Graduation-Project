 Search result diversification (SRD) aims to select diverse documents from the search results in order to cover as many search intents as possible. A prerequisite is that the search results contain diverse documents. For this purpose, we investigate a new approach to SRD by diversifying the query. Expansion terms are selected from ConceptNet so as to cover as diverse aspects as possible. The experimental results on several TREC data sets show that our method can outperform the existing state-of -the-art approaches that do not diversify the query . H.3.3 [ Information Storage and Retrieval ]: Information Search and Retrieval  X  query formulation, search process Search Result Diversification; Query Expansion; ConceptNet Queries in Web search are usually short (2.3 terms in average per query [18] ). They are very often ambiguous ( e.g.  X  X ava X  ) and underspecified [1] . Even if a query does not contain ambiguous words, it may still express multiple search intents. For example, the query  X  C++ programming  X  does not involve ambiguous terms, but it can be used to retrieve books , discussion forums , online courses (tutorials) , software , etc. As it is difficult to  X  X uess X  the exact intent of the user, one chooses to diversify the results, i.e. to include results covering various meanings and aspects in the top results, hoping that the user can find some relevant ones from them. 
A large number of studies have been devoted to search result diversification (SRD) (see for example, [1] [9] [12] 0[21] ). The common principle is to select as diverse results as possible from a given set of retrieved documents. The final ranking list is much dependent on the initial retrieval results, which should have a good coverage of the different aspects of the query. Query expansion (QE) and pseudo-relevance feedback (PRF) are common techniques used to improve recall in IR. Such a technique has been used in SRD. However, when a query is expanded using pseudo feedback documents, the new retrieval results are likely to have an even larger coverage of the dominant aspect of the query, to the detriment of less popular aspects. To solve this problem, Vargas et al. [23] recently proposed a new method of pseudo-relevance feedback for SRD . In this approach, the search results are first distinguished into different aspects and PRF is applied for each aspect separately. Compared to a unique query expansion, the aspect-dependent expansion can keep a better balance between aspects in the final retrieval results. However, this approach is still much dependent on the retrieval results with the initial query. In the case where some aspects are not well covered in the initial retrieval results, this method will be unable to cover them well. For a difficult query in particular, the retrieval results are mostly irrelevant [2] . PRF will bring more noise rather than useful terms into the query. 
An alternative approach to query expansion is to use external resources rather than the retrieval results. For example, one may use a general thesaurus such as WordNet or ConceptNet to expand queries [14] [15] . Query expansion will be less dependent on the initial retrieval results. This may provide a better coverage of the different aspects of the query and a reasonable approach to deal with difficult queries. However, for the purpose of SRD, it is inappropriate to perform a unique expansion for the whole query. Rather, one should try to expand different aspects of the query, o r to perform a diversified expansion. In this paper, we will examine such an approach for SRD. Our approach is based on a similar principle to MMR (Maximal Marginal Relevance) [4] , which tries to select documents that are both relevant to the query and different from the documents already selected. In our case, we select expansion terms that are related to the initial query, and different from the previously selected expansion terms. We will call the approach MMRE  X  MMR -based Expansion . 
A critical aspect of query expansion based on external resources is the coverage of the latter. An external resource should cover as much as possible all the aspects and meanings of the query terms. In this study, we choose to use ConceptNet [22] , which is one of the largest common-sense knowledge base that covers semantic relationships between real-world concepts. It has been proven to be an effective resource that could help improve retrieval performance, especially for difficult queries [13] [14] [15] [16] . 
We tested our approach using TREC 2009, 2010 and 2011 Web tracks [6] [7] [8] . The experimental results show that our method can produce substantial improvements compared to the state-of -the-art SRD approaches. In particular, we show that MMRE is able to select effective expansion terms that cover different quer y aspects, which makes the SRD more effective. 
The contributions of this work are twofold: We propose a query diversification approach to SRD and we exploit a general knowledge base for it. To the best of our knowledge, this is the first time that diversified query expansion based on ConceptNet is used for SRD. The remainder of this paper is organized as follows. Section 2 provides a survey of the related work on SRD and the uses of ConceptNet in QE. Section 3 presents our proposed method (MMRE). Section 4 describes our experimental results. In section 5, we present our conclusions and possible future work. Existing SRD methods could be classified into two categories: implicit SRD and explicit SRD 0[20] [21] . While implicit SRD promotes dissimilar documents through the relations among documents ( [4] [12] [25] ), explicit SRD tries to cover the identified subtopics of the query through document X  X  relation to the subtopics ( [1] 0[21] [23] [24] ). The Maximal Marginal Relevance (MMR) [4] method is a representative implicit SRD method. It attempts to select documents by maximizing relevance and reducing redundancy to higher ranked documents. Several studies extended MMR [20] [1] and applied it in different domains [5] 0[11] . In contrast, an explicit SRD approach attempts to cover as much as possible the different subtopics of the query. A representative method is xQuAD (explicit Query Aspect Diversification framework) 0[21] . Recently, Vargas et al. [23] observed that the retrieval results from which documents are selected could be improved through query expansion. They adopted xQuAD to select diverse expansion terms extracted from documents related to different query aspects . This work is very close to ours: both try to diversify the expansion of a query. However, an important difference is that the method of Vargas et al. [23] requires identifying a set of sub-queries with respect to an original query, which is usually a difficult problem on its own. Our work does not require determining such sub-queries. Instead, we only try to select different expansion terms using ConceptNet according to the principle of MMR. 
ConceptNet has been used in query expansion. Hsu et al. [13] [14] [15] compared the effectiveness of ConceptNet and WordNet for QE using Spreading Activation (SA). They conclude that WordNet can select high discriminative terms, while ConceptNet ensures high diversity. This result suggests that ConceptNet is more appropriate for diversifying search results. Recently, Kotov and Zhai [16] proposed methods that leverage ConceptNet for QE, and demonstrate that ConceptNet is an effective resource to improve search results when pseudo-relevance feedback becomes ineffective. However, no previous research tried to diversify expansion terms using ConceptNet as we propose in this paper. In this section, we first motivate the proposed approach by an example in TREC, and then present the method in detail. To investigate the behavior of standard QE techniques in term of diversity, we consider the query #8 from the TREC 2009 Web track [6] : Q =  X  X ppraisals X  . This query is ambiguous and has four different subtopics (see Table 1). Q is difficult because only a few relevant documents can be retrieved using a traditional model (MAP=0.0058 with KL retrieval method on ClueWeb09B dataset). Based on document feedback, it is difficult to extract relevant terms for expansion . Alternatively, we can use ConceptNet to expand queries.  X  X preading Activation X  (SA) [14] [15] has been shown as an effective QE method with ConceptNet . The traditional QE identifies a set of expansion terms that are the most related to the original query terms (or have the highest activation scores). Table 2 shows the top 10 expansion terms determined in this way. We tag each expansion term with their corresponding subtopic numbers listed in Table 1. The character  X  - X  means that the corresponding expansion term does not clearly correspond to any specific subtopic of Q , or may correspond to all possible subtopics of Q . 
From Table 2, we observe that the expansion terms only correspond to one aspect (aspect 2) and they do not promote the diversity of search results. This result can be explained by the fact that the query is expanded globally in a unique way, leading to the expansion of the dominant aspect (meaning) of the query. Using such an expanded query, one may expect that the search results are not much diversified. In the next section, we propose a new method that aims to select diverse expansion terms ensuring a good coverage of the different query aspects. Diversifying query expansion has a very similar goal to result diversification. On the one hand, we want the expansion terms to be closely related to the initial query. On the other hand, we want the expansion terms to be diverse, or non-redundant. A similar approach to MMR can naturally be used. 
MMR (Maximal Marginal Relevance) [4] is a method of SRD trying to select documents that are dissimilar from the ones already selected. The following formula is used : where D i is a candidate document from a collection, and S is the set of documents already selected so far . The parameter  X  controls the tradeoff between relevance and novelty. rel and sim determine respectively the relevance score of the candidate document to the query and its similarity to a selected document. In each step, MMR selects the document with the highest MMR score. 
We adapt the MMR principle for selecting expansion terms. Our method is called MMRE ( MMR -based Expansion ). Given a query Q = q 1 q 2 ...q n formed by n terms (after removing stopwords), we iteratively select the top N expansion terms having the highest MMRE scores. The MMRE score is computed as follows: where c i is a candidate concept in ConceptNet (a node) from  X  : the set of concepts that are related to Q , S is the set of terms already selected , and Q is the query under consideration. sim ( c determines the similarity between c i and Q , and sim ( c determines the similarity between two concepts c i and c
In this paper, we use the following similarity function sim ( c where (resp. ) is the set of nodes from the graph of ConceptNet that are related to the node of the concept c The more common node c i and node c j share, the more they are considered to be (semantically) similar. sim ( c i ,Q ) (where Q is considered as a bag of words) could be defined in a similar way by replacing in the above formula by , which is the set of nodes that are simultaneously connected to all the terms in Q . However, it is often the case that no node in ConceptNet is connected to all the terms in Q . We therefore define a modified sim ( c i ,Q ) that considers the proportion of the terms in Q that are related to nodes in ConceptNet as follows: where q is a subset of Q and | q | is its size. The idea is to allow a concept c i to match part of the query Q , but its similarity is proportional to the number of terms in Q it matches. Our algorithm (see Figure 1) uses any of the subsets of terms in Q as a possible candidate q .

Another parameter that we use in the algorithm of MMRE is the radius ( r ), which refers to the depth ( i.e. number of edges) that we consider for the construction of the graph. r =1 means that we only consider the directly connected nodes , r =2 means that we consider nodes related through two edges, etc. In Section 4, we will test MMRE with r =1, r =2 and r =3. 3. while (| S |  X  N ) 
The result of applying MMRE (with r =2 and  X  0.6 ) to the example query Q given earlier in Section 3.1 can be found in Table 3. From Table 3, we can observe that MMRE performs well for the selection of expansion terms related to more query aspects than a traditional expansion approach, despite the fact that some subtopic (the subtopic 3) is still missing from the top 10 selected expansion terms. In this section, we present the evaluation results that we obtained by applying our proposed framework (MMRE). We conduct experiments on the ClueWeb09 (category B) dataset which contains 50,220,423 documents (1.5 TB), and use the test queries from TREC 2009, 2010 and 2011 Web tracks. Indri used as the basic retrieval system. Table 4 shows some of the statistics for the query sets, we exclude queries 95 and 100 from the TREC 2010 query set because no relevance judgments are available for them. Our baseline is a query generative language model using Dirichlet smoothing ( X =2000), with Krovetz stemmer [17] and stopword removal . 
The evaluation results in the diversity task of the TREC 2009, 2010 and 2011 Web tracks are reported based on five official measures: MAP and nDCG for adhoc performance [3] ,  X  -nDCG [9] (in our experiments, we set  X  to 0.5) and ERR -IA [5] for diversity measurement, and we also use S-recall [25] to measur e the ratio of covered subtopics for a given query. W e empirically set  X  to 0.6 for both MMR and MMRE, which is optimal for both methods . We conduct our experiments using several models, in order to assess the usability of ConceptNet as a resource, as well as the impact of MMRE in terms of adhoc retrieval and diversity. We denote BL as our baseline. We also compare Spreading Activation framework (SA) [14] [15] . Alternatively, we collect the results of using MMR on the set of documents in order to compare its effect on document ranking and on QE . Finally, we study the role of MMRE and assess if our proposed model indeed improves the (MMRE-1), r =2 (MMRE-2) and r =3 (MMRE-3). 
We expand an original query using MMRE by adding N terms (in our experiments, we set N to 10). Each selected expansion term is also weighted using its score calculated by our method MMRE. Using Indri, we retrieve the set of documents corresponding to the new expanded query. Therefore, we assess the diversity of the obtained results. Notice that the retrieved results are not processed by any additional document selection process for further diversification, although this is possible. The goal of this work is to compare our query diversification approach with the traditional result diversification approaches. We will combine both approaches in our future work. Table 5 reports our results for the 3 query sets. The best performance of diversified results were obtained using MMRE on the three query sets (with r =1 for TREC 2009, and r =2 for TREC 2010 and 2011). The difference on r could be explained by the fact that the topics of TREC 2010 and TREC 2011 are known to be harder than the topics of TREC 2009 (based on the MAP values). Hence, for TREC 2010 and 2011, we need to traverse the graph of ConceptNet deeper to extract good terms for expansion. However, for TREC 2009, a depth of 1 is sufficient to gather meaningful terms that can cover the different query subtopics. Note that the value of r =3 leads to a decrease of the performance. This result was expected because whenever we go farther in the graph, the expansion is likely to bring in more noisy terms. By observing the results using SA, we can see that QE based on ConceptNet also improves adhoc retrieval performance. MMR can also improve the performance, but only marginally, compared to BL. We also observe that applying MMRE to a non-diversified query generates a set of results that are more relevant and diversified than those given by MMR when this latter is applied to the same query. This comparison confirms that it is necessary to diversify the query to be able to retrieve diverse documents. This is a more effective approach than trying to select diverse documents from the results of a non-diversified query. 
Since the work of Vargas et al. [23] is very close to ours, we also compare the effectiveness of MMRE with the results obtained in [23] using xQuAD 0[21] . To do this, we use the same subset of 116 topics as in [23] . The results are reported in Table 6. As shown in this table, MMRE with r =2 outperforms xQuAD on all the measures. This shows that our method can better diversif y search results than xQuAD. In addition, as our method does not require performing two retrieval operations (for PRF), it is more efficient. In this paper, we proposed an approach to diversify query expansion in order to retrieve diversified results. We investigated the use of ConceptNet to diversify query expansion. Our method MMRE is based on a similar principle as MMR, which selects expansion terms that are as diverse as possible. Experimental results on TREC data show the effectiveness of MMRE, which outperforms the state-of -the-art existing SRD methods. 
MMRE selects effective terms for expansion based on an external resource. Although we showed that this outperforms a query diversification approach based on pseudo-relevance feedback, it is not contradictory to the latter. Indeed, these two methods could be combined to produce even better expansion terms. We will investigate such a combination in our future work. 
